/*! For license information please see main.45a28883.js.LICENSE.txt */
(()=>{"use strict";var e={49(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=_.prototype=new y;w.constructor=_,m(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,C=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},119(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340(e,t,n){e.exports=n(761)},345(e,t,n){var r=n(950),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case C:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,xe=null,Ee=null;function Te(e){if(e=_i(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),Ce(e.stateNode,e.type,t))}}function ke(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Se(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ee)&&(Ne(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,l){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Ct,xt,Et,Tt,kt=!1,St=[],It=null,Nt=null,Pt=null,At=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){kt=!1,null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Pt&&jt(Pt)&&(Pt=null),At.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Pt&&zt(Pt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,qt.transition=s}}function Kt(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&bt(s),null===(s=Qt(e,t,n,r))&&Wr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),wn=sn(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return En}var kn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(kn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(An),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){jr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Er={};function Tr(e){if(xr[e])return xr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var kr=Tr("animationend"),Sr=Tr("animationiteration"),Ir=Tr("animationstart"),Nr=Tr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Sr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=s,i=be(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Sr:case Ir:l=vn;break;case Nr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==h&&Yr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,_)).length&&(_=new wn(_,e,null,n,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Re(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var Ci=[],xi=-1;function Ei(e){return{current:e}}function Ti(e){0>xi||(e.current=Ci[xi],Ci[xi]=null,xi--)}function ki(e,t){xi++,Ci[xi]=e.current,e.current=t}var Si={},Ii=Ei(Si),Ni=Ei(!1),Pi=Si;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(Ii)}function Di(e,t,n){if(Ii.current!==Si)throw Error(s(168));ki(Ii,t),ki(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Pi=Ii.current,ki(Ii,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ii),ki(Ii,e)):Ti(Ni),ki(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{_t=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case C:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===x){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===x?((s=Dc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case C:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Lc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=_s(!0),bs=_s(!1),Cs=Ei(null),xs=null,Es=null,Ts=null;function ks(){Ts=Es=xs=null}function Ss(e){var t=Cs.current;Ti(Cs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){xs=e,Ts=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===xs)throw Error(s(308));Es=e,xs.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var As=null;function Rs(e){null===As?As=[e]:As.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Sl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Hs=Ei(Ws),Ks=Ei(Ws),Gs=Ei(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Qs(e,t){switch(ki(Gs,t),ki(Ks,e),ki(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Hs),ki(Hs,t)}function Xs(){Ti(Hs),Ti(Ks),Ti(Gs)}function $s(e){Ys(Gs.current);var t=Ys(Hs.current),n=le(t,e.type);t!==n&&(ki(Ks,e),ki(Hs,n))}function Js(e){Ks.current===e&&(Ti(Hs),Ti(Ks))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function Eo(e,t){var n=oo,r=_o(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Lo(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,ko.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&No(e)}function So(e,t,n){return n(function(){Io(t)&&No(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ds(e,1);null!==t&&tc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return _o().memoizedState}function Oo(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ao(t,n,s,r))}oo.flags|=e,i.memoizedState=Ao(1|t,n,s,r)}function Mo(e,t){return Oo(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function jo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ho(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function Ko(){return _o().memoizedState}function Go(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=Os(e,t,n,r))){tc(n,e,r,Zl()),$o(n,t,r)}}function Yo(e,t,n){var r=ec(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(tc(n,e,r,i=Zl()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:zo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(So.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Il.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:bo,useRef:Ro,useState:function(){return bo(wo)},useDebugValue:zo,useDeferredValue:function(e){return Wo(_o(),ao.memoizedState,e)},useTransition:function(){return[bo(wo)[0],_o().memoizedState]},useMutableSource:xo,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:Co,useRef:Ro,useState:function(){return Co(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[Co(wo)[0],_o().memoizedState]},useMutableSource:xo,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(tc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(tc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(tc(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Ri(t)?Pi:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Ri(t)?Pi:Ii.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,_a=!1;function wa(e,t,n,r){t.child=null===e?bs(t,null,n,r):ws(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||_a?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return ka(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Al),Al|=r;return wa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Ri(n)?Pi:Ii.current;return s=Ai(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||_a?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Sa(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ba(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ai(t,c=Ri(n)?Pi:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ms=!1;var d=t.memoizedState;o.state=d,Bs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ms?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ms||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ai(t,l=Ri(n)?Pi:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ms=!1,d=t.memoizedState,o.state=d,Bs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ms?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ms||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qa(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Aa,Ra,Oa,Da={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Dc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Da,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Dc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Da,o);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,ja(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),tc(r,e,i,-1))}return pc(),ja(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Dc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ha(t),null;case 3:return r=t.stateNode,Xs(),Ti(Ni),Ti(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Ha(t),null;case 5:Js(t);var i=Ys(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=Ys(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Aa(e,t),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Oa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(sc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Xs(),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return Ss(t.type._context),Ha(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ti(Ni),Ti(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Xs(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,$a=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){xc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Za(t,n,s)}i=i.next}while(i!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Ja(n,t);case 6:var r=cl,i=ul;cl=null,hl(e,t,n),ul=i,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=ul,cl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),cl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&Za(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Ja(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach(function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));dl(o,a,i),cl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){xc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,pl(t,e),Qa=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Ja(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,$a=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ll(e,ol(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;al(e,ol(e),o);break;default:throw Error(s(161))}}catch(Lh){xc(e,e.return,Lh)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$a=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=o,(Qa=l)&&!c)for($a=i;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?bl(i):null!==l?(l.return=o,$a=l):bl(i);for(;null!==s;)$a=s,yl(s,t,n),s=s.sibling;$a=i,Ya=a,Qa=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$a=s):_l(e)}}function _l(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Qa||512&t.flags&&rl(t)}catch(f){xc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function wl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function bl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(Lh){xc(t,n,Lh)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Lh){xc(t,i,Lh)}}var s=t.return;try{rl(t)}catch(Lh){xc(t,s,Lh)}break;case 5:var o=t.return;try{rl(t)}catch(Lh){xc(t,o,Lh)}}}catch(Lh){xc(t,t.return,Lh)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Cl,xl=Math.ceil,El=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,Sl=0,Il=null,Nl=null,Pl=0,Al=0,Rl=Ei(0),Ol=0,Dl=null,Ml=0,Ll=0,Fl=0,jl=null,Ul=null,Vl=0,zl=1/0,Bl=null,ql=!1,Wl=null,Hl=null,Kl=!1,Gl=null,Yl=0,Ql=0,Xl=null,$l=-1,Jl=0;function Zl(){return 0!==(6&Sl)?$e():-1!==$l?$l:$l=$e()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function tc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Sl)&&e===Il||(e===Il&&(0===(2&Sl)&&(Ll|=n),4===Ol&&oc(e,Pl)),nc(e,r),1===n&&0===Sl&&0===(1&t.mode)&&(zl=$e()+500,Ui&&Bi()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Il?Pl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ac.bind(null,e)):zi(ac.bind(null,e)),oi(function(){0===(6&Sl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($l=-1,Jl=0,0!==(6&Sl))throw Error(s(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=dt(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Sl;Sl|=2;var o=fc();for(Il===e&&Pl===t||(Bl=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){dc(e,l)}ks(),El.current=o,Sl=i,null!==Nl?t=0:(Il=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,r),nc(e,$e()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Dl,hc(e,0),oc(e,r),nc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,Bl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,Bl),t);break}wc(e,Ul,Bl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,Bl),r);break}wc(e,Ul,Bl);break;default:throw Error(s(329))}}}return nc(e,$e()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(0!==(6&Sl))throw Error(s(327));bc();var t=dt(e,0);if(0===(1&t))return nc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),nc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Bl),nc(e,$e()),null}function lc(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(zl=$e()+500,Ui&&Bi())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Sl)&&bc();var t=Sl;Sl|=1;var n=kl.transition,r=_t;try{if(kl.transition=null,_t=1,e)return e()}finally{_t=r,kl.transition=n,0===(6&(Sl=t))&&Bi()}}function uc(){Al=Rl.current,Ti(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xs(),Ti(Ni),Ti(Ii),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:Ti(Zs);break;case 10:Ss(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Il=e,Nl=e=Rc(e.current,null),Pl=Al=t,Ol=0,Dl=null,Fl=Ll=Ml=0,Ul=jl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return e}function dc(e,t){for(;;){var n=Nl;try{if(ks(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Ol=1,Dl=t,Nl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),pc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ol&&(Ol=2),null===jl?jl=[o]:jl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fa(0,c,t));break e;case 1:l=c;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Hl||!Hl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=Jo,null===e?Jo:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Il||0===(268435455&Ml)&&0===(268435455&Ll)||oc(Il,Pl)}function mc(e,t){var n=Sl;Sl|=2;var r=fc();for(Il===e&&Pl===t||(Bl=null,hc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(ks(),Sl=n,El.current=r,null!==Nl)throw Error(s(261));return Il=null,Pl=0,Ol}function gc(){for(;null!==Nl;)yc(Nl)}function vc(){for(;null!==Nl&&!Qe();)yc(Nl)}function yc(e){var t=Cl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?_c(e):Nl=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Al)))return void(Nl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ol=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=_t,i=kl.transition;try{kl.transition=null,_t=1,function(e,t,n,r){do{bc()}while(null!==Gl);if(0!==(6&Sl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Il&&(Nl=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,function(){return bc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var a=_t;_t=1;var l=Sl;Sl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(ih){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(ih){xc(t,t.return,ih)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=el,el=!1}(e,n),ml(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Sl=l,_t=a,kl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Yl=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&bc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Bi()}(e,t,n,r)}finally{kl.transition=i,_t=r}return null}function bc(){if(null!==Gl){var e=wt(Yl),t=kl.transition,n=_t;try{if(kl.transition=null,_t=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Sl))throw Error(s(331));var i=Sl;for(Sl|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:tl(8,h,o)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(il(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break e}$a=o.return}}var _=e.current;for($a=_;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=_;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(C){xc(l,l.return,C)}if(l===a){$a=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$a=b;break e}$a=l.return}}if(Sl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{_t=n,kl.transition=t}}return!1}function Cc(e,t,n){e=Us(e,t=fa(0,t=ca(n,t),1),1),t=Zl(),null!==e&&(vt(e,1,t),nc(e,t))}function xc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Us(t,e=pa(t,e=ca(n,e),1),1),e=Zl(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>$e()-Vl?hc(e,0):Fl|=n),nc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Ds(e,t))&&(vt(e,t,n),nc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Ic(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ac(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Dc(n.children,i,o,t);case E:a=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Pc(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case S:a=9;break e;case I:a=11;break e;case A:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,o,a,l){return e=new jc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Vc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,s,o,a,l){return(e=Uc(n,r,!0,e,0,s,0,a,l)).context=Vc(null),n=e.current,(s=js(r=Zl(),i=ec(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),nc(e,r),e}function Bc(e,t,n,r){var i=t.current,s=Zl(),o=ec(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(tc(e,i,o,s),Vs(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:$s(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Cs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(ki(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return qa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ba(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Sa(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return La(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(Cs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=js(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Ps(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ca(e,t,r,i=na(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ba(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Jc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qc(o);a.call(e)}}Bc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),cc(function(){Bc(t,l,n,r)}),l}(n,t,e,i,r);return qc(o)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Bc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,$e()),0===(6&Sl)&&(zl=$e()+500,Bi()))}break;case 13:cc(function(){var t=Ds(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Hc(e,1)}},Ct=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=ec(e),n=Ds(e,t);if(null!==n)tc(n,e,t,Zl());Hc(e,t)}},Et=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ce=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ne=cc;var Zc={usingClientEntryPoint:!1,Events:[_i,wi,bi,ke,Se,lc]},eu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{it=nu.inject(tu),st=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352(e,t,n){var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414(e,t,n){e.exports=n(654)},654(e,t,n){var r=n(950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},761(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(C);else{var t=r(u);null!==t&&D(b,t.startTime-e)}}function C(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,T=null,k=-1,S=5,I=-1;function N(){return!(t.unstable_now()-I<S)}function P(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?x():(E=!1,T=null)}}else E=!1}if("function"===typeof _)x=function(){_(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=P,x=function(){R.postMessage(null)}}else x=function(){v(P,0)};function O(e){T=e,E||(E=!0,x())}function D(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,D(b,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(C))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){e.exports=n(49)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(950),i=n(352);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=!1,h=!1,d="${JSCORE_VERSION}",f=function(e,t){if(!e)throw p(t)},p=function(e){return new Error("Firebase Database ("+d+") INTERNAL ASSERT FAILED: "+e)},m=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(m(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new v;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(e){const t=m(e);return g.encodeByteArray(t,!0)},_=function(e){return y(e).replace(/\./g,"")},w=function(e){try{return g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function b(e){return C(void 0,e)}function C(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&x(n)&&(e[n]=C(e[n],t[n]));return e}function x(e){return"__proto__"!==e}function E(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const T=()=>{try{return E().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&w(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},k=e=>{var t;return null===(t=T())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},S=()=>{var e;return null===(e=T())||void 0===e?void 0:e.config},I=e=>{var t;return null===(t=T())||void 0===t?void 0:t["_".concat(e)]};class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function P(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function A(e){return(await fetch(e,{credentials:"include"})).ok}const R={};let O=!1;function D(e,t){if("undefined"===typeof window||"undefined"===typeof document||!P(window.location.host)||R[e]===t||R[e]||O)return;function n(e){return"__firebase__banner__".concat(e)}R[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(R))R[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{O=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function M(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function L(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(M())}function F(){var e;const t=null===(e=T())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function U(){return!0===u||!0===h}function V(){return!F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"===typeof indexedDB}catch(e){return!1}}class B extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(W,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new B(n,s,t)}}const W=/\{\$([^}]+)}/g;function H(e){return JSON.parse(e)}function K(e){return JSON.stringify(e)}const G=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=H(w(s[0])||""),n=H(w(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function X(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function J(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Z(n)&&Z(s)){if(!J(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z(e){return null!==e&&"object"===typeof e}function ee(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function te(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ne(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class re{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ie{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=se),void 0===r.error&&(r.error=se),void 0===r.complete&&(r.complete=se);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function se(){}function oe(e,t){return"".concat(e," failed: ").concat(t," argument ")}const ae=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function le(e){return e&&e._delegate?e._delegate:e}class ce{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ue="[DEFAULT]";class he{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new N;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ue?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.component?this.component.multipleInstances?e:ue:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new he(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fe=[];var pe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pe||(pe={}));const me={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ge=pe.INFO,ve={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ye=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ve[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class _e{constructor(e){this.name=e,this._logLevel=ge,this._logHandler=ye,this._userLogHandler=null,fe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?me[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}let we,be;const Ce=new WeakMap,xe=new WeakMap,Ee=new WeakMap,Te=new WeakMap,ke=new WeakMap;let Se={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ee.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ie(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ae(this),n),Pe(Ce.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pe(e.apply(Ae(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ae(this),t,...r);return Ee.set(s,t.sort?t.sort():[t]),Pe(s)}}function Ne(e){return"function"===typeof e?Ie(e):(e instanceof IDBTransaction&&function(e){if(xe.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});xe.set(e,t)}(e),t=e,(we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Se):e);var t}function Pe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Pe(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Ce.set(t,e)}).catch(()=>{}),ke.set(t,e),t}(e);if(Te.has(e))return Te.get(e);const t=Ne(e);return t!==e&&(Te.set(e,t),ke.set(t,e)),t}const Ae=e=>ke.get(e);const Re=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],De=new Map;function Me(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(De.get(t))return De.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Oe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Re.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return De.set(t,s),s}Se=(e=>c(c({},e),{},{get:(t,n,r)=>Me(t,n)||e.get(t,n,r),has:(t,n)=>!!Me(t,n)||e.has(t,n)}))(Se);class Le{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Fe="@firebase/app",je="0.14.6",Ue=new _e("@firebase/app"),Ve="@firebase/app-compat",ze="@firebase/analytics-compat",Be="@firebase/analytics",qe="@firebase/app-check-compat",We="@firebase/app-check",He="@firebase/auth",Ke="@firebase/auth-compat",Ge="@firebase/database",Ye="@firebase/data-connect",Qe="@firebase/database-compat",Xe="@firebase/functions",$e="@firebase/functions-compat",Je="@firebase/installations",Ze="@firebase/installations-compat",et="@firebase/messaging",tt="@firebase/messaging-compat",nt="@firebase/performance",rt="@firebase/performance-compat",it="@firebase/remote-config",st="@firebase/remote-config-compat",ot="@firebase/storage",at="@firebase/storage-compat",lt="@firebase/firestore",ct="@firebase/ai",ut="@firebase/firestore-compat",ht="firebase",dt="[DEFAULT]",ft={[Fe]:"fire-core",[Ve]:"fire-core-compat",[Be]:"fire-analytics",[ze]:"fire-analytics-compat",[We]:"fire-app-check",[qe]:"fire-app-check-compat",[He]:"fire-auth",[Ke]:"fire-auth-compat",[Ge]:"fire-rtdb",[Ye]:"fire-data-connect",[Qe]:"fire-rtdb-compat",[Xe]:"fire-fn",[$e]:"fire-fn-compat",[Je]:"fire-iid",[Ze]:"fire-iid-compat",[et]:"fire-fcm",[tt]:"fire-fcm-compat",[nt]:"fire-perf",[rt]:"fire-perf-compat",[it]:"fire-rc",[st]:"fire-rc-compat",[ot]:"fire-gcs",[at]:"fire-gcs-compat",[lt]:"fire-fst",[ut]:"fire-fst-compat",[ct]:"fire-vertex","fire-js":"fire-js",[ht]:"fire-js-all"},pt=new Map,mt=new Map,gt=new Map;function vt(e,t){try{e.container.addComponent(t)}catch(n){Ue.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yt(e){const t=e.name;if(gt.has(t))return Ue.debug("There were multiple attempts to register component ".concat(t,".")),!1;gt.set(t,e);for(const n of pt.values())vt(n,e);for(const n of mt.values())vt(n,e);return!0}function _t(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const bt=new q("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ct{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ce("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const xt="12.6.0";function Et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:dt,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw bt.create("bad-app-name",{appName:String(i)});if(n||(n=S()),!n)throw bt.create("no-options");const s=pt.get(i);if(s){if(J(n,s.options)&&J(r,s.config))return s;throw bt.create("duplicate-app",{appName:i})}const o=new de(i);for(const l of gt.values())o.addComponent(l);const a=new Ct(n,r,o);return pt.set(i,a),a}function Tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;const t=pt.get(e);if(!t&&e===dt&&S())return Et();if(!t)throw bt.create("no-app",{appName:e});return t}function kt(e,t,n){var r;let i=null!==(r=ft[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ue.warn(e.join(" "))}yt(new ce("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const St="firebase-heartbeat-store";let It=null;function Nt(){return It||(It=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Pe(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Pe(o.result),e.oldVersion,e.newVersion,Pe(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(St)}catch(n){console.warn(n)}}}).catch(e=>{throw bt.create("idb-open",{originalErrorMessage:e.message})})),It}async function Pt(e,t){try{const n=(await Nt()).transaction(St,"readwrite"),r=n.objectStore(St);await r.put(t,At(e)),await n.done}catch(n){if(n instanceof B)Ue.warn(n.message);else{const e=bt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ue.warn(e.message)}}}function At(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ot();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ue.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ot(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Mt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ue.warn(t),""}}}function Ot(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!z()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Ps){t(Ps)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Nt()).transaction(St),n=await t.objectStore(St).get(At(e));return await t.done,n}catch(t){if(t instanceof B)Ue.warn(t.message);else{const e=bt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ue.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Pt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Pt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Mt(e){return _(JSON.stringify({version:2,heartbeats:e})).length}var Lt;Lt="",yt(new ce("platform-logger",e=>new Le(e),"PRIVATE")),yt(new ce("heartbeat",e=>new Rt(e),"PRIVATE")),kt(Fe,je,Lt),kt(Fe,je,"esm2020"),kt("fire-js","");function Ft(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}kt("firebase","12.7.0","app");const jt=["providerId"],Ut=["uid","auth","stsTokenManager"],Vt=["providerId","signInMethod"];function zt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bt=zt,qt=new q("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wt=new _e("@firebase/auth");function Ht(e){if(Wt.logLevel<=pe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wt.error("Auth (".concat(xt,"): ").concat(e),...n)}}function Kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $t(e,...n)}function Gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $t(e,...n)}function Yt(e,t,n){const r=c(c({},Bt()),{},{[t]:n});return new q("auth","Firebase",r).create(t,{appName:e.name})}function Qt(e){return Yt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Kt(e,"argument-error"),Yt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qt.create(e,...n)}function Jt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $t(t,...r)}}function Zt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ht(t),new Error(t)}function en(e,t){e||Zt(t)}function tn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nn(){return"http:"===rn()||"https:"===rn()}function rn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function sn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class on{constructor(e,t){this.shortDelay=e,this.longDelay=t,en(t>e,"Short delay should be less than long delay!"),this.isMobile=L()||j()}get(){return sn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function an(e,t){en(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ln{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},un=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hn=new on(3e4,6e4);function dn(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function fn(e,t,n,r){return pn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=ee(c({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&P(e.emulatorConfig.host)&&(l.credentials="include"),ln.fetch()(await gn(e,e.config.apiHost,n,o),l)})}async function pn(e,t,n){e._canInitEmulator=!1;const r=c(c({},cn),t);try{const t=new yn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw _n(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _n(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw _n(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw _n(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Yt(e,a,o);Kt(e,a)}}catch(i){if(i instanceof B)throw i;Kt(e,"network-request-failed",{message:String(i)})}}async function mn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await fn(e,t,n,r,i);return"mfaPendingCredential"in s&&Kt(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function gn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?an(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(un.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function vn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Gt(this.auth,"network-request-failed")),hn.get())})}}function _n(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gt(e,t,r);return i.customData._tokenResponse=n,i}function wn(e){return void 0!==e&&void 0!==e.enterprise}class bn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cn(e,t){return fn(e,"GET","/v2/recaptchaConfig",dn(e,t))}async function xn(e,t){return fn(e,"POST","/v1/accounts:lookup",t)}function En(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Tn(e){return 1e3*Number(e)}function kn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ht("JWT malformed, contained fewer than 3 sections"),null;try{const e=w(n);return e?JSON.parse(e):(Ht("Failed to decode base64 JWT payload"),null)}catch(i){return Ht("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Sn(e){const t=kn(e);return Jt(t,"internal-error"),Jt("undefined"!==typeof t.exp,"internal-error"),Jt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function In(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof B&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Nn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Pn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function An(e){var t;const n=e.auth,r=await e.getIdToken(),i=await In(e,xn(n,{idToken:r}));Jt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?Rn(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Rn(e){return e.map(e=>{let{providerId:t}=e,n=Ft(e,jt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class On{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jt(e.idToken,"internal-error"),Jt("undefined"!==typeof e.idToken,"internal-error"),Jt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Sn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Jt(0!==e.length,"internal-error");const t=Sn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await pn(e,{},async()=>{const n=ee({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await gn(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&P(e.emulatorConfig.host)&&(a.credentials="include"),ln.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new On;return n&&(Jt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Jt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Jt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new On,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function Dn(e,t){Jt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Mn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=Ft(e,Ut);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await In(this,this.stsTokenManager.getToken(this.auth,e));return Jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=le(e),r=await n.getIdToken(t),i=kn(r);Jt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:En(Tn(i.auth_time)),issuedAtTime:En(Tn(i.iat)),expirationTime:En(Tn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=le(e);await An(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mn(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await An(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wt(this.auth.app))return Promise.reject(Qt(this.auth));const e=await this.getIdToken();return await In(this,async function(e,t){return fn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:C,stsTokenManager:x}=t;Jt(_&&x,e,"internal-error");const E=On.fromJSON(this.name,x);Jt("string"===typeof _,e,"internal-error"),Dn(h,e.name),Dn(d,e.name),Jt("boolean"===typeof w,e,"internal-error"),Jt("boolean"===typeof b,e,"internal-error"),Dn(f,e.name),Dn(p,e.name),Dn(m,e.name),Dn(g,e.name),Dn(v,e.name),Dn(y,e.name);const T=new Mn({uid:_,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return C&&Array.isArray(C)&&(T.providerData=C.map(e=>c({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new On;r.updateFromServerResponse(t);const i=new Mn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await An(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Jt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Rn(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new On;o.updateFromIdToken(n);const a=new Mn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Pn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const Ln=new Map;function Fn(e){en(e instanceof Function,"Expected a class definition");let t=Ln.get(e);return t?(en(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ln.set(e,t),t)}class jn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jn.type="NONE";const Un=jn;function Vn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class zn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Vn(this.userKey,r.apiKey,i),this.fullPersistenceKey=Vn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await xn(this.auth,{idToken:e}).catch(()=>{});return t?Mn._fromGetAccountInfoResponse(this.auth,t,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new zn(Fn(Un),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Fn(Un);const s=Vn(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await xn(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Mn._fromGetAccountInfoResponse(e,r,t)}else n=Mn._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new zn(i,e,n)):new zn(i,e,n)}}function Bn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yn(t))return"Blackberry";if(Qn(t))return"Webos";if(Wn(t))return"Safari";if((t.includes("chrome/")||Hn(t))&&!t.includes("edge/"))return"Chrome";if(Gn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/firefox\//i.test(e)}function Wn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:M()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/crios\//i.test(e)}function Kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/iemobile/i.test(e)}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/android/i.test(e)}function Yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/blackberry/i.test(e)}function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/webos/i.test(e)}function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $n(){return function(){const e=M();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return Xn(e)||Gn(e)||Qn(e)||Yn(e)||/windows phone/i.test(e)||Kn(e)}function Zn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Bn(M());break;case"Worker":t="".concat(Bn(M()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xt,"/").concat(r)}class er{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class tr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class nr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ir(this),this.idTokenSubscription=new ir(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await zn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await xn(this,{idToken:e}),n=await Mn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await An(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wt(this.app))return Promise.reject(Qt(this));const t=e?le(e):null;return t&&Jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wt(this.app)?Promise.reject(Qt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wt(this.app)?Promise.reject(Qt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return fn(e,"GET","/v2/passwordPolicy",dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new tr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new q("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return fn(e,"POST","/v2/accounts:revokeToken",dn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fn(e)||this._popupRedirectResolver;Jt(t,this,"argument-error"),this.redirectPersistenceManager=await zn.create(this,[Fn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Wt.logLevel<=pe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wt.warn("Auth (".concat(xt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function rr(e){return le(e)}class ir{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ie(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function or(e){return sr.loadJS(e)}function ar(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class lr{constructor(){this.enterprise=new cr}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cr{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ur="NO_RECAPTCHA";class hr{constructor(e){this.type="recaptcha-enterprise",this.auth=rr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;wn(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ur)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new lr).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Cn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new bn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&wn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=sr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),or(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function dr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new hr(e);let o;if(i)o=ur;else try{o=await s.verify(n)}catch(Ps){o=await s.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fr(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await dr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await dr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await dr(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await dr(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await dr(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function pr(e){const t=rr(e),n=await Cn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new bn(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new hr(t).verify()}}function mr(e,t,n){const r=rr(e);Jt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=gr(t),{host:o,port:a}=function(e){const t=gr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:vr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:vr(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Jt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Jt(J(c,r.config.emulator)&&J(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,P(o)?(A("".concat(s,"//").concat(o).concat(l)),D("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function gr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class yr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zt("not implemented")}_getIdTokenResponse(e){return Zt("not implemented")}_linkToIdToken(e,t){return Zt("not implemented")}_getReauthenticationResolver(e){return Zt("not implemented")}}async function _r(e,t){return fn(e,"POST","/v1/accounts:signUp",t)}async function wr(e,t){return mn(e,"POST","/v1/accounts:signInWithPassword",dn(e,t))}class br extends yr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new br(e,t,"password")}static _fromEmailAndCode(e,t){return new br(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",wr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return mn(e,"POST","/v1/accounts:signInWithEmailLink",dn(e,t))}(e,{email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_r,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return mn(e,"POST","/v1/accounts:signInWithEmailLink",dn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Cr(e,t){return mn(e,"POST","/v1/accounts:signInWithIdp",dn(e,t))}class xr extends yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ft(t,Vt);if(!n||!r)return null;const s=new xr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Cr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Cr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ee(t)}return e}}async function Er(e,t){return fn(e,"POST","/v1/accounts:sendVerificationCode",dn(e,t))}const Tr={USER_NOT_FOUND:"user-not-found"};class kr extends yr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new kr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new kr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return mn(e,"POST","/v1/accounts:signInWithPhoneNumber",dn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await mn(e,"POST","/v1/accounts:signInWithPhoneNumber",dn(e,t));if(n.temporaryProof)throw _n(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return mn(e,"POST","/v1/accounts:signInWithPhoneNumber",dn(e,c(c({},t),{},{operation:"REAUTH"})),Tr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new kr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Sr{constructor(e){var t,n,r,i,s,o;const a=te(ne(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Jt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=te(ne(e)).link,n=t?te(ne(t)).deep_link_id:null,r=te(ne(e)).deep_link_id;return(r?te(ne(r)).link:null)||r||n||t||e}(e);try{return new Sr(t)}catch(n){return null}}}class Ir{constructor(){this.providerId=Ir.PROVIDER_ID}static credential(e,t){return br._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sr.parseLink(t);return Jt(n,"argument-error"),br._fromEmailAndCode(e,n.code,n.tenantId)}}Ir.PROVIDER_ID="password",Ir.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ir.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Nr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pr extends Nr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar extends Pr{constructor(){super("facebook.com")}static credential(e){return xr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch(n){return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ar.PROVIDER_ID="facebook.com";class Rr extends Pr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch(i){return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com",Rr.PROVIDER_ID="google.com";class Or extends Pr{constructor(){super("github.com")}static credential(e){return xr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch(n){return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com",Or.PROVIDER_ID="github.com";class Dr extends Pr{constructor(){super("twitter.com")}static credential(e,t){return xr._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Dr.credential(n,r)}catch(i){return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com",Dr.PROVIDER_ID="twitter.com";class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Mn._fromIdTokenResponse(e,n,r),s=Lr(n);return new Mr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Lr(n);return new Mr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Lr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Fr extends B{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Fr(e,t,n,r)}}function jr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fr._fromErrorAndOperation(e,n,t,r);throw n})}async function Ur(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await In(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Mr._forOperation(e,"link",r)}async function Vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(wt(r.app))return Promise.reject(Qt(r));const i="reauthenticate";try{const s=await In(e,jr(r,i,t,e),n);Jt(s.idToken,r,"internal-error");const o=kn(s.idToken);Jt(o,r,"internal-error");const{sub:a}=o;return Jt(e.uid===a,r,"user-mismatch"),Mr._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Kt(r,"user-mismatch"),s}}async function zr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wt(e.app))return Promise.reject(Qt(e));const r="signIn",i=await jr(e,r,t),s=await Mr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Br(e){return le(e).signOut()}function qr(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:start",dn(e,t))}new WeakMap;const Wr="__sak";class Hr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wr,"1"),this.storage.removeItem(Wr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Kr extends Hr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);$n()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kr.type="LOCAL";const Gr=Kr;function Yr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Qr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Xr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Qr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Yr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Qr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Qr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Yr(n);const i=setInterval(()=>{const e=Yr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Xr.type="COOKIE";class $r extends Hr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$r.type="SESSION";const Jr=$r;class Zr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zr.receivers=[];class ti{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=ei("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ni(){return window}function ri(){return"undefined"!==typeof ni().WorkerGlobalScope&&"function"===typeof ni().importScripts}const ii="firebaseLocalStorageDb",si="firebaseLocalStorage",oi="fbase_key";class ai{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function li(e,t){return e.transaction([si],t?"readwrite":"readonly").objectStore(si)}function ci(){const e=indexedDB.open(ii,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(si,{keyPath:oi})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(si)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ii);return new ai(e).toPromise()}(),t(await ci()))})})}async function ui(e,t,n){const r=li(e,!0).put({[oi]:t,value:n});return new ai(r).toPromise()}function hi(e,t){const n=li(e,!0).delete(t);return new ai(n).toPromise()}class di{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ci()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ri()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zr._getInstance(ri()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ti(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ci();return await ui(e,Wr,"1"),await hi(e,Wr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ui(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=li(e,!1).get(t),r=await new ai(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=li(e,!1).getAll();return new ai(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}di.type="LOCAL";const fi=di;function pi(e,t){return fn(e,"POST","/v2/accounts/mfaSignIn:start",dn(e,t))}ar("rcb"),new on(3e4,6e4);const mi="recaptcha";async function gi(e,t,n){if(!e._getRecaptchaConfig())try{await pr(e)}catch(Ps){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Jt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=fr(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ur){Jt((null===n||void 0===n?void 0:n.type)===mi,e,"argument-error");return qr(e,await vi(e,t,n))}return qr(e,t)},"PHONE_PROVIDER"),o=await s.catch(e=>Promise.reject(e));return o.phoneSessionInfo.sessionInfo}{var r;Jt("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Jt(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=fr(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ur){Jt((null===n||void 0===n?void 0:n.type)===mi,e,"argument-error");return pi(e,await vi(e,t,n))}return pi(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=fr(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ur){Jt((null===n||void 0===n?void 0:n.type)===mi,e,"argument-error");return Er(e,await vi(e,t,n))}return Er(e,t)},"PHONE_PROVIDER"),s=await r.catch(e=>Promise.reject(e));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function vi(e,t,n){Jt(n.type===mi,e,"argument-error");const r=await n.verify();Jt("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class yi{constructor(e){this.providerId=yi.PROVIDER_ID,this.auth=rr(e)}verifyPhoneNumber(e,t){return gi(this.auth,e,le(t))}static credential(e,t){return kr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return yi.credentialFromTaggedObject(t)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?kr._fromTokenResponse(n,r):null}}function _i(e,t){return t?Fn(t):(Jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}yi.PROVIDER_ID="phone",yi.PHONE_SIGN_IN_METHOD="phone";class wi extends yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bi(e){return zr(e.auth,new wi(e),e.bypassAuthState)}function Ci(e){const{auth:t,user:n}=e;return Jt(n,t,"internal-error"),Vr(n,new wi(e),e.bypassAuthState)}async function xi(e){const{auth:t,user:n}=e;return Jt(n,t,"internal-error"),Ur(n,new wi(e),e.bypassAuthState)}class Ei{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bi;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return Ci;default:Kt(this.auth,"internal-error")}}resolve(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ti=new on(2e3,1e4);async function ki(e,t,n){if(wt(e.app))return Promise.reject(Gt(e,"operation-not-supported-in-this-environment"));const r=rr(e);Xt(e,t,Nr);const i=_i(r,n);return new Si(r,"signInViaPopup",t,i).executeNotNull()}class Si extends Ei{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Si.currentPopupAction&&Si.currentPopupAction.cancel(),Si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jt(e,this.auth,"internal-error"),e}async onExecution(){en(1===this.filter.length,"Popup operations only handle one event");const e=ei();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ti.get())};e()}}Si.currentPopupAction=null;const Ii=new Map;class Ni extends Ei{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ii.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ri(t),r=Ai(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ii.set(this.auth._key(),e)}return this.bypassAuthState||Ii.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Pi(e,t){Ii.set(e._key(),t)}function Ai(e){return Fn(e._redirectPersistence)}function Ri(e){return Vn("pendingRedirect",e.config.apiKey,e.name)}async function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wt(e.app))return Promise.reject(Qt(e));const r=rr(e),i=_i(r,t),s=new Ni(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Di{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Li(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Li(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Gt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mi(e))}saveEventToCache(e){this.cachedEventUids.add(Mi(e)),this.lastProcessedEventTime=Date.now()}}function Mi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Li(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Fi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ji=/^https?/;async function Ui(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return fn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Vi(r))return}catch(n){}Kt(e,"unauthorized-domain")}function Vi(e){const t=tn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ji.test(n))return!1;if(Fi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zi=new on(3e4,6e4);function Bi(){const e=ni().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function qi(e){return new Promise((t,n)=>{var r,i;function s(){Bi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bi(),n(Gt(e,"network-request-failed"))},timeout:zi.get()})}if(null!==(r=ni().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=ni().gapi)||void 0===i||!i.load){const t=ar("iframefcb");return ni()[t]=()=>{gapi.load?s():n(Gt(e,"network-request-failed"))},or("".concat(sr.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Wi=null,e})}let Wi=null;const Hi=new on(5e3,15e3),Ki={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yi(e){const t=e.config;Jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?an(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xt},i=Gi.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ee(r).slice(1))}async function Qi(e){const t=await function(e){return Wi=Wi||qi(e),Wi}(e),n=ni().gapi;return Jt(n,e,"internal-error"),t.open({where:document.body,url:Yi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ki,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Gt(e,"network-request-failed"),s=ni().setTimeout(()=>{r(i)},Hi.get());function o(){ni().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Xi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $i{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ji(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Xi),{},{width:r.toString(),height:i.toString(),top:s,left:o}),u=M().toLowerCase();n&&(a=Hn(u)?"_blank":n),qn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Xn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:M())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new $i(null);const d=window.open(t||"",a,h);Jt(d,e,"popup-blocked");try{d.focus()}catch(f){}return new $i(d)}const Zi="__/auth/handler",es="emulator/auth/handler",ts=encodeURIComponent("fac");async function ns(e,t,n,r,i,s){Jt(e.config.authDomain,e,"auth-domain-config-required"),Jt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xt,eventId:i};if(t instanceof Nr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",X(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Pr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ts,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zi);return an(t,es)}(e),"?").concat(ee(a).slice(1)).concat(c)}const rs="webStorageSupport";const is=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=Oi,this._overrideRedirectResult=Pi}async _openPopup(e,t,n,r){var i;en(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ji(e,await ns(e,t,n,tn(),r),ei())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ni().location.href=e}(await ns(e,t,n,tn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(en(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Qi(e),n=new Di(e);return t.register("authEvent",t=>{Jt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rs,{type:rs},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[rs];void 0!==i&&t(!!i),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ui(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Jn()||Wn()||Xn()}};var ss="@firebase/auth",os="1.12.0";class as{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ls=I("authIdTokenMaxAge")||300;let cs=null;var us,hs;us={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Gt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},sr=us,hs="Browser",yt(new ce("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Jt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:hs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zn(hs)},c=new nr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),yt(new ce("auth-internal",e=>(e=>new as(e))(rr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),kt(ss,os,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(hs)),kt(ss,os,"esm2020");const ds="@firebase/database",fs="1.1.0";let ps="";function ms(e){ps=e}class gs{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),K(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:H(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class vs{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Y(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ys=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gs(t)}}catch(t){}return new vs},_s=ys("localStorage"),ws=ys("sessionStorage"),bs=new _e("@firebase/database"),Cs=function(){let e=1;return function(){return e++}}(),xs=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,f(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new re;n.update(t);const r=n.digest();return g.encodeByteArray(r)},Es=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Es.apply(null,n):e+="object"===typeof n?K(n):n,e+=" "}return e};let Ts=null,ks=!0;const Ss=function(e,t){f(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bs.logLevel=pe.VERBOSE,Ts=bs.log.bind(bs),t&&ws.set("logging_enabled",!0)):"function"===typeof e?Ts=e:(Ts=null,ws.remove("logging_enabled"))},Is=function(){if(!0===ks&&(ks=!1,null===Ts&&!0===ws.get("logging_enabled")&&Ss(!0)),Ts){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Es.apply(null,t);Ts(r)}},Ns=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Is(e,...n)}},Ps=function(){const e="FIREBASE INTERNAL ERROR: "+Es(...arguments);bs.error(e)},As=function(){const e="FIREBASE FATAL ERROR: ".concat(Es(...arguments));throw bs.error(e),new Error(e)},Rs=function(){const e="FIREBASE WARNING: "+Es(...arguments);bs.warn(e)},Os=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ds="[MIN_NAME]",Ms="[MAX_NAME]",Ls=function(e,t){if(e===t)return 0;if(e===Ds||t===Ms)return-1;if(t===Ds||e===Ms)return 1;{const n=Ws(e),r=Ws(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Fs=function(e,t){return e===t?0:e<t?-1:1},js=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+K(t))},Us=function(e){if("object"!==typeof e||null===e)return K(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=K(t[r]),n+=":",n+=Us(e[t[r]]);return n+="}",n},Vs=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function zs(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Bs=function(e){f(!Os(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const qs=new RegExp("^-?(0*)\\d{1,10}$"),Ws=function(e){if(qs.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Hs=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Rs("Exception was thrown by user callback.",e),t},Math.floor(0))}},Ks=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Gs{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,wt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Rs('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Ys{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Is("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rs(e)}}class Qs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qs.OWNER="owner";const Xs="5",$s=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Js="ac",Zs="websocket",eo="long_polling";class to{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_s.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function no(e,t,n){let r;if(f("string"===typeof t,"typeof type must == string"),f("object"===typeof n,"typeof params must == object"),t===Zs)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==eo)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return zs(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class ro{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Y(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return b(this.counters_)}}const io={},so={};function oo(e){const t=e.toString();return io[t]||(io[t]=new ro),io[t]}class ao{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Hs(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const lo="start";class co{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ns(e),this.stats_=oo(t),this.urlFn=e=>(this.appCheckToken&&(e[Js]=this.appCheckToken),no(t,eo,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ao(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(U()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uo(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===lo)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[lo]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Xs,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Js]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&$s.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){co.forceAllow_=!0}static forceDisallow(){co.forceDisallow_=!0}static isAvailable(){return!U()&&(!!co.forceAllow_||!co.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=K(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=y(t),r=Vs(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(U())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=K(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class uo{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,U())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Cs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=uo.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Is("frame writing exception"),i.stack&&Is(i.stack),Is(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Is("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){U()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Is("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let ho=null;"undefined"!==typeof MozWebSocket?ho=MozWebSocket:"undefined"!==typeof WebSocket&&(ho=WebSocket);class fo{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ns(this.connId),this.stats_=oo(t),this.connURL=fo.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=Xs,!U()&&"undefined"!==typeof location&&location.hostname&&$s.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[Js]=r),i&&(s.p=i),no(e,Zs,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_s.set("previous_websocket_failure",!0);try{let e;if(U()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Xs,"/").concat(ps,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ho(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){fo.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ho&&!fo.forceDisallow_}static previouslyFailed(){return _s.isInMemoryStorage||!0===_s.get("previous_websocket_failure")}markConnectionHealthy(){_s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=H(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(f(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=K(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Vs(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fo.responsesRequiredToBeHealthy=2,fo.healthyTimeout=3e4;class po{static get ALL_TRANSPORTS(){return[co,fo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=fo&&fo.isAvailable();let n=t&&!fo.previouslyFailed();if(e.webSocketOnly&&(t||Rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[fo];else{const e=this.transports_=[];for(const t of po.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);po.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}po.globalTransportInitialized_=!1;class mo{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ns("c:"+this.id+":"),this.transportManager_=new po(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ks(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=js("t",e),n=js("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=js("t",e),n=js("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=js("t",e);if("d"in e){const n=e.d;if("h"===t){const e=c({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ps("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ps("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Xs!==n&&Rs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ks(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ks(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class go{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class vo{constructor(e){this.allowedEvents_=e,this.listeners_={},f(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){f(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class yo extends vo{static getInstance(){return new yo}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||L()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return f("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class _o{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function wo(){return new _o("")}function bo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Co(e){return e.pieces_.length-e.pieceNum_}function xo(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new _o(e.pieces_,t)}function Eo(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ko(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _o(t,0)}function So(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _o)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new _o(n,0)}function Io(e){return e.pieceNum_>=e.pieces_.length}function No(e,t){const n=bo(e),r=bo(t);if(null===n)return t;if(n===r)return No(xo(e),xo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Po(e,t){const n=To(e,0),r=To(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Ls(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Ao(e,t){if(Co(e)!==Co(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ro(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Co(e)>Co(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Oo{constructor(e,t){this.errorPrefix_=t,this.parts_=To(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=ae(this.parts_[n]);Do(this)}}function Do(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mo(e))}function Mo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Lo extends vo{static getInstance(){return new Lo}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return f("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Fo=1e3;class jo extends go{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=jo.nextPersistentConnectionId_++,this.log_=Ns("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!U())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lo.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&yo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(K(i)),f(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new N,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),f(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),f(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,o=i.s;jo.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Y(e,"w")){const n=Q(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Rs("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=G(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=G(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),f(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+K(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ps("Unrecognized action received from server: "+K(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){f(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fo),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+jo.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){f(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Is("getToken() completed but was canceled"):(Is("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new mo(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Rs(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(Ps){this.log_("Failed to get token: "+Ps),s||(this.repoInfo_.nodeAdmin&&Rs(Ps),a())}}}interrupt(e){Is("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Is("Resuming connection for reason: "+e),delete this.interruptReasons_[e],X(this.interruptReasons_)&&(this.reconnectDelay_=Fo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Us(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new _o(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Is("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Is("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";U()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ps.replace(/\./g,"-")]=1,L()?e["framework.cordova"]=1:j()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yo.getInstance().currentlyOnline();return X(this.interruptReasons_)&&e}}jo.nextPersistentConnectionId_=0,jo.nextConnectionId_=0;class Uo{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Uo(e,t)}}class Vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Uo(Ds,e),r=new Uo(Ds,t);return 0!==this.compare(n,r)}minPost(){return Uo.MIN}}let zo;class Bo extends Vo{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(e){zo=e}compare(e,t){return Ls(e.name,t.name)}isDefinedOn(e){throw p("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Uo.MIN}maxPost(){return new Uo(Ms,zo)}makePost(e,t){return f("string"===typeof e,"KeyIndex indexValue must always be a string."),new Uo(e,zo)}toString(){return".key"}}const qo=new Bo;class Wo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ho{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ho.RED,this.left=null!=r?r:Ko.EMPTY_NODE,this.right=null!=i?i:Ko.EMPTY_NODE}copy(e,t,n,r,i){return new Ho(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ko.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ko.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ho.RED=!0,Ho.BLACK=!1;class Ko{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ko.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ko(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ho.BLACK,null,null))}remove(e){return new Ko(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ho.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Wo(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Wo(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Wo(this.root_,null,this.comparator_,!0,e)}}function Go(e,t){return Ls(e.name,t.name)}function Yo(e,t){return Ls(e,t)}let Qo;Ko.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Ho(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xo=function(e){return"number"===typeof e?"number:"+Bs(e):"string:"+e},$o=function(e){if(e.isLeafNode()){const t=e.val();f("string"===typeof t||"number"===typeof t||"object"===typeof t&&Y(t,".sv"),"Priority must be a string or number.")}else f(e===Qo||e.isEmpty(),"priority of unexpected type.");f(e===Qo||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Jo,Zo,ea;class ta{static set __childrenNodeConstructor(e){Jo=e}static get __childrenNodeConstructor(){return Jo}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ta.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,f(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),$o(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ta(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ta.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Io(e)?this:".priority"===bo(e)?this.priorityNode_:ta.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ta.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=bo(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(f(".priority"!==n||1===Co(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ta.__childrenNodeConstructor.EMPTY_NODE.updateChild(xo(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xo(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Bs(this.value_):this.value_,this.lazyHash_=xs(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ta.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ta.__childrenNodeConstructor?-1:(f(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=ta.VALUE_TYPE_ORDER.indexOf(t),i=ta.VALUE_TYPE_ORDER.indexOf(n);return f(r>=0,"Unknown leaf type: "+t),f(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}ta.VALUE_TYPE_ORDER=["object","boolean","number","string"];const na=new class extends Vo{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ls(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Uo.MIN}maxPost(){return new Uo(Ms,new ta("[PRIORITY-POST]",ea))}makePost(e,t){const n=Zo(e);return new Uo(t,new ta("[PRIORITY-POST]",n))}toString(){return".priority"}},ra=Math.log(2);class ia{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ra,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sa=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ho(a,o.node,Ho.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new Ho(a,o.node,Ho.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new Ho(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Ho.BLACK):(a(r,Ho.BLACK),a(r,Ho.RED))}return s}(new ia(e.length));return new Ko(r||t,s)};let oa;const aa={};class la{static get Default(){return f(aa&&na,"ChildrenNode.ts has not been loaded"),oa=oa||new la({".priority":aa},{".priority":na}),oa}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Q(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ko?t:null}hasIndex(e){return Y(this.indexSet_,e.toString())}addIndex(e,t){f(e!==qo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Uo.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?sa(n,e.getCompare()):aa;const a=e.toString(),l=c({},this.indexSet_);l[a]=e;const u=c({},this.indexes_);return u[a]=s,new la(u,l)}addToIndexes(e,t){const n=$(this.indexes_,(n,r)=>{const i=Q(this.indexSet_,r);if(f(i,"Missing index implementation for "+r),n===aa){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Uo.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),sa(n,i.getCompare())}return aa}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Uo(e.name,r))),i.insert(e,e.node)}});return new la(n,this.indexSet_)}removeFromIndexes(e,t){const n=$(this.indexes_,n=>{if(n===aa)return n;{const r=t.get(e.name);return r?n.remove(new Uo(e.name,r)):n}});return new la(n,this.indexSet_)}}let ca;class ua{static get EMPTY_NODE(){return ca||(ca=new ua(new Ko(Yo),null,la.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$o(this.priorityNode_),this.children_.isEmpty()&&f(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ca}updatePriority(e){return this.children_.isEmpty()?this:new ua(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?ca:t}}getChild(e){const t=bo(e);return null===t?this:this.getImmediateChild(t).getChild(xo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(f(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Uo(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?ca:this.priorityNode_;return new ua(r,s,i)}}updateChild(e,t){const n=bo(e);if(null===n)return t;{f(".priority"!==bo(e)||1===Co(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(xo(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(na,(s,o)=>{t[s]=o.val(e),n++,i&&ua.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xo(this.getPriority().val())+":"),this.forEachChild(na,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":xs(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Uo(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Uo(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Uo(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Uo.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Uo.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ha?-1:0}withIndex(e){if(e===qo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ua(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===qo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(na),n=t.getIterator(na);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===qo?null:this.indexMap_.get(e.toString())}}ua.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const ha=new class extends ua{constructor(){super(new Ko(Yo),ua.EMPTY_NODE,la.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ua.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Uo,{MIN:{value:new Uo(Ds,ua.EMPTY_NODE)},MAX:{value:new Uo(Ms,ha)}}),Bo.__EMPTY_NODE=ua.EMPTY_NODE,ta.__childrenNodeConstructor=ua,Qo=ha,function(e){ea=e}(ha);function da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ua.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),f(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new ta(e,da(t))}if(e instanceof Array){let n=ua.EMPTY_NODE;return zs(e,(t,r)=>{if(Y(e,t)&&"."!==t.substring(0,1)){const e=da(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(da(t))}{const n=[];let r=!1;if(zs(e,(e,t)=>{if("."!==e.substring(0,1)){const i=da(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Uo(e,i)))}}),0===n.length)return ua.EMPTY_NODE;const i=sa(n,Go,e=>e.name,Yo);if(r){const e=sa(n,na.getCompare());return new ua(i,da(t),new la({".priority":e},{".priority":na}))}return new ua(i,da(t),la.Default)}}!function(e){Zo=e}(da);class fa extends Vo{constructor(e){super(),this.indexPath_=e,f(!Io(e)&&".priority"!==bo(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ls(e.name,t.name):i}makePost(e,t){const n=da(e),r=ua.EMPTY_NODE.updateChild(this.indexPath_,n);return new Uo(t,r)}maxPost(){const e=ua.EMPTY_NODE.updateChild(this.indexPath_,ha);return new Uo(Ms,e)}toString(){return To(this.indexPath_,0).join("/")}}const pa=new class extends Vo{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ls(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Uo.MIN}maxPost(){return Uo.MAX}makePost(e,t){const n=da(e);return new Uo(t,n)}toString(){return".value"}};function ma(e){return{type:"value",snapshotNode:e}}function ga(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function va(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ya(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class _a{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){f(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(va(t,o)):f(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(ga(t,n)):s.trackChildChange(ya(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(na,(e,r)=>{t.hasChild(e)||n.trackChildChange(va(e,r))}),t.isLeafNode()||t.forEachChild(na,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ya(t,r,i))}else n.trackChildChange(ga(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ua.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wa{constructor(e){this.indexedFilter_=new _a(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wa.getStartPost_(e),this.endPost_=wa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new Uo(t,n))||(n=ua.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ua.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ua.EMPTY_NODE);const i=this;return t.forEachChild(na,(e,t)=>{i.matches(new Uo(e,t))||(r=r.updateImmediateChild(e,ua.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ba{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new wa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new Uo(t,n))||(n=ua.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=ua.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=ua.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(ua.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,ua.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;f(o.numChildren()===this.limit_,"");const a=new Uo(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(ya(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(va(t,e));const n=o.updateImmediateChild(t,ua.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(ga(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(va(l.name,l.node)),i.trackChildChange(ga(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,ua.EMPTY_NODE)):e}}class Ca{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=na}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return f(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return f(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return f(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return f(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return f(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===na}copy(){const e=new Ca;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xa(e){const t={};if(e.isDefault())return t;let n;if(e.index_===na?n="$priority":e.index_===pa?n="$value":e.index_===qo?n="$key":(f(e.index_ instanceof fa,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=K(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=K(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+K(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=K(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+K(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ea(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==na&&(t.i=e.index_.toString()),t}class Ta extends go{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(f(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ns("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Ta.getListenId_(e,n),o={};this.listens_[s]=o;const a=xa(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Q(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Ta.getListenId_(e,t);delete this.listens_[n]}get(e){const t=xa(e._queryParams),n=e._path.toString(),r=new N;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ee(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=H(a.responseText)}catch(e){Rs("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Rs("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class ka{constructor(){this.rootNode_=ua.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Sa(){return{value:null,children:new Map}}function Ia(e,t,n){if(Io(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=bo(t);e.children.has(r)||e.children.set(r,Sa());Ia(e.children.get(r),t=xo(t),n)}}function Na(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Na(r,new _o(t.toString()+"/"+e),n)})}class Pa{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=c({},e);return this.last_&&zs(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Aa{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pa(e);const n=1e4+2e4*Math.random();Ks(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;zs(e,(e,r)=>{r>0&&Y(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Ks(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ra;function Oa(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ra||(Ra={}));class Da{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ra.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Io(this.path)){if(null!=this.affectedTree.value)return f(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new _o(e));return new Da(wo(),t,this.revert)}}return f(bo(this.path)===e,"operationForChild called for unrelated child."),new Da(xo(this.path),this.affectedTree,this.revert)}}class Ma{constructor(e,t){this.source=e,this.path=t,this.type=Ra.LISTEN_COMPLETE}operationForChild(e){return Io(this.path)?new Ma(this.source,wo()):new Ma(this.source,xo(this.path))}}class La{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ra.OVERWRITE}operationForChild(e){return Io(this.path)?new La(this.source,wo(),this.snap.getImmediateChild(e)):new La(this.source,xo(this.path),this.snap)}}class Fa{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ra.MERGE}operationForChild(e){if(Io(this.path)){const t=this.children.subtree(new _o(e));return t.isEmpty()?null:t.value?new La(this.source,wo(),t.value):new Fa(this.source,wo(),t)}return f(bo(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fa(this.source,xo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ja{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Io(e))return this.isFullyInitialized()&&!this.filtered_;const t=bo(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ua{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Va(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw p("Should only compare child_ events.");const r=new Uo(t.childName,t.snapshotNode),i=new Uo(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function za(e,t){return{eventCache:e,serverCache:t}}function Ba(e,t,n,r){return za(new ja(t,n,r),e.serverCache)}function qa(e,t,n,r){return za(e.eventCache,new ja(t,n,r))}function Wa(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ha(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ka;class Ga{static fromObject(e){let t=new Ga(null);return zs(e,(e,n)=>{t=t.set(new _o(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ka||(Ka=new Ko(Fs)),Ka);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:wo(),value:this.value};if(Io(e))return null;{const n=bo(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(xo(e),t);if(null!=i){return{path:So(new _o(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Io(e))return this;{const t=bo(e),n=this.children.get(t);return null!==n?n.subtree(xo(e)):new Ga(null)}}set(e,t){if(Io(e))return new Ga(t,this.children);{const n=bo(e),r=(this.children.get(n)||new Ga(null)).set(xo(e),t),i=this.children.insert(n,r);return new Ga(this.value,i)}}remove(e){if(Io(e))return this.children.isEmpty()?new Ga(null):new Ga(null,this.children);{const t=bo(e),n=this.children.get(t);if(n){const r=n.remove(xo(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Ga(null):new Ga(this.value,i)}return this}}get(e){if(Io(e))return this.value;{const t=bo(e),n=this.children.get(t);return n?n.get(xo(e)):null}}setTree(e,t){if(Io(e))return t;{const n=bo(e),r=(this.children.get(n)||new Ga(null)).setTree(xo(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ga(this.value,i)}}fold(e){return this.fold_(wo(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(So(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,wo(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Io(e))return null;{const r=bo(e),i=this.children.get(r);return i?i.findOnPath_(xo(e),So(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,wo(),t)}foreachOnPath_(e,t,n){if(Io(e))return this;{this.value&&n(t,this.value);const r=bo(e),i=this.children.get(r);return i?i.foreachOnPath_(xo(e),So(t,r),n):new Ga(null)}}foreach(e){this.foreach_(wo(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(So(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Ya{constructor(e){this.writeTree_=e}static empty(){return new Ya(new Ga(null))}}function Qa(e,t,n){if(Io(t))return new Ya(new Ga(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=No(i,t);return s=s.updateChild(o,n),new Ya(e.writeTree_.set(i,s))}{const r=new Ga(n),i=e.writeTree_.setTree(t,r);return new Ya(i)}}}function Xa(e,t,n){let r=e;return zs(n,(e,n)=>{r=Qa(r,So(t,e),n)}),r}function $a(e,t){if(Io(t))return Ya.empty();{const n=e.writeTree_.setTree(t,new Ga(null));return new Ya(n)}}function Ja(e,t){return null!=Za(e,t)}function Za(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(No(n.path,t)):null}function el(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(na,(e,n)=>{t.push(new Uo(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Uo(e,n.value))}),t}function tl(e,t){if(Io(t))return e;{const n=Za(e,t);return new Ya(null!=n?new Ga(n):e.writeTree_.subtree(t))}}function nl(e){return e.writeTree_.isEmpty()}function rl(e,t){return il(wo(),e.writeTree_,t)}function il(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(f(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=il(So(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(So(e,".priority"),r)),n}}function sl(e,t){return yl(t,e)}function ol(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);f(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&al(t,r.path)?i=!1:Ro(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=cl(e.allWrites,ll,wo()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=$a(e.visibleWrites,r.path);else{zs(r.children,t=>{e.visibleWrites=$a(e.visibleWrites,So(r.path,t))})}return!0}return!1}function al(e,t){if(e.snap)return Ro(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ro(So(e.path,n),t))return!0;return!1}function ll(e){return e.visible}function cl(e,t,n){let r=Ya.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Ro(n,e)?(t=No(n,e),r=Qa(r,t,s.snap)):Ro(e,n)&&(t=No(e,n),r=Qa(r,wo(),s.snap.getChild(t)));else{if(!s.children)throw p("WriteRecord should have .snap or .children");if(Ro(n,e))t=No(n,e),r=Xa(r,t,s.children);else if(Ro(e,n))if(t=No(e,n),Io(t))r=Xa(r,wo(),s.children);else{const e=Q(s.children,bo(t));if(e){const n=e.getChild(xo(t));r=Qa(r,wo(),n)}}}}}return r}function ul(e,t,n,r,i){if(r||i){const s=tl(e.visibleWrites,t);if(!i&&nl(s))return n;if(i||null!=n||Ja(s,wo())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ro(e.path,t)||Ro(t,e.path))};return rl(cl(e.allWrites,s,t),n||ua.EMPTY_NODE)}return null}{const r=Za(e.visibleWrites,t);if(null!=r)return r;{const r=tl(e.visibleWrites,t);if(nl(r))return n;if(null!=n||Ja(r,wo())){return rl(r,n||ua.EMPTY_NODE)}return null}}}function hl(e,t,n,r){return ul(e.writeTree,e.treePath,t,n,r)}function dl(e,t){return function(e,t,n){let r=ua.EMPTY_NODE;const i=Za(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(na,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=tl(e.visibleWrites,t);return n.forEachChild(na,(e,t)=>{const n=rl(tl(i,new _o(e)),t);r=r.updateImmediateChild(e,n)}),el(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return el(tl(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function fl(e,t,n,r){return function(e,t,n,r,i){f(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=So(t,n);if(Ja(e.visibleWrites,s))return null;{const t=tl(e.visibleWrites,s);return nl(t)?i.getChild(n):rl(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function pl(e,t){return function(e,t){return Za(e.visibleWrites,t)}(e.writeTree,So(e.treePath,t))}function ml(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=tl(e.visibleWrites,t),c=Za(l,wo());if(null!=c)a=c;else{if(null==n)return[];a=rl(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function gl(e,t,n){return function(e,t,n,r){const i=So(t,n),s=Za(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return rl(tl(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function vl(e,t){return yl(So(e.treePath,t),e.writeTree)}function yl(e,t){return{treePath:e,writeTree:t}}class _l{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;f("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),f(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ya(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,va(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ga(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw p("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ya(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const wl=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class bl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ja(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gl(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ha(this.viewCache_),i=ml(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Cl(e,t,n,r,i){const s=new _l;let o,a;if(n.type===Ra.OVERWRITE){const l=n;l.source.fromUser?o=Tl(e,t,l.path,l.snap,r,i,s):(f(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Io(l.path),o=El(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Ra.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=So(n,r);kl(t,bo(c))&&(a=Tl(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=So(n,r);kl(t,bo(c))||(a=Tl(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):(f(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Il(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Ra.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=pl(r,n))return t;{const a=new bl(r,t,i),l=t.eventCache.getNode();let c;if(Io(n)||".priority"===bo(n)){let n;if(t.serverCache.isFullyInitialized())n=hl(r,Ha(t));else{const e=t.serverCache.getNode();f(e instanceof ua,"serverChildren would be complete if leaf node"),n=dl(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=bo(n);let u=gl(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,xo(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,ua.EMPTY_NODE,xo(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=hl(r,Ha(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=pl(r,wo()),Ba(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=pl(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Io(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return El(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Io(n)){let r=new Ga(null);return l.getNode().forEachChild(qo,(e,t)=>{r=r.set(new _o(e),t)}),Il(e,t,n,r,i,s,a,o)}return t}{let c=new Ga(null);return r.foreach((e,t)=>{const r=So(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Il(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Ra.LISTEN_COMPLETE)throw p("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=qa(t,s.getNode(),s.isFullyInitialized()||Io(n),s.isFiltered());return xl(e,o,n,r,wl,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wa(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ma(Wa(t)))}}(t,o,l),{viewCache:o,changes:l}}function xl(e,t,n,r,i,s){const o=t.eventCache;if(null!=pl(r,n))return t;{let a,l;if(Io(n))if(f(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Ha(t),i=dl(r,n instanceof ua?n:ua.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=hl(r,Ha(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=bo(n);if(".priority"===c){f(1===Co(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=fl(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=xo(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=fl(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=gl(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return Ba(t,a,o.isFullyInitialized()||Io(n),e.filter.filtersNodes())}}function El(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Io(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=bo(n);if(!l.isCompleteForPath(n)&&Co(n)>1)return t;const i=xo(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,wl,null)}const h=qa(t,c,l.isFullyInitialized()||Io(n),u.filtersNodes());return xl(e,h,n,i,new bl(i,h,s),a)}function Tl(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new bl(i,t,s);if(Io(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Ba(t,c,!0,e.filter.filtersNodes());else{const i=bo(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ba(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=xo(n),c=a.getNode().getImmediateChild(i);let h;if(Io(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Eo(s)&&e.getChild(ko(s)).isEmpty()?e:e.updateChild(s,r):ua.EMPTY_NODE}if(c.equals(h))l=t;else{l=Ba(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function kl(e,t){return e.eventCache.isCompleteForChild(t)}function Sl(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Il(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Io(n)?r:new Ga(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Sl(0,t.serverCache.getNode().getImmediateChild(n),r);c=El(e,c,new _o(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Sl(0,t.serverCache.getNode().getImmediateChild(n),r);c=El(e,c,new _o(n),l,i,s,o,a)}}),c}class Nl{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new _a(n.getIndex()),i=(s=n).loadsAllData()?new _a(s.getIndex()):s.hasLimit()?new ba(s):new wa(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(ua.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(ua.EMPTY_NODE,a.getNode(),null),u=new ja(l,o.isFullyInitialized(),r.filtersNodes()),h=new ja(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=za(h,u),this.eventGenerator_=new Ua(this.query_)}get query(){return this.query_}}function Pl(e,t){const n=Ha(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Io(t)&&!n.getImmediateChild(bo(t)).isEmpty())?n.getChild(t):null}function Al(e){return 0===e.eventRegistrations_.length}function Rl(e,t,n){const r=[];if(n){f(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Ol(e,t,n,r){t.type===Ra.MERGE&&null!==t.source.queryId&&(f(Ha(e.viewCache_),"We should always have a full cache before handling merges"),f(Wa(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Cl(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,f(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),f(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),f(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Dl(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Dl(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Va(e,i,"child_removed",t,r,n),Va(e,i,"child_added",t,r,n),Va(e,i,"child_moved",s,r,n),Va(e,i,"child_changed",t,r,n),Va(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Ml,Ll;class Fl{constructor(){this.views=new Map}}function jl(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return f(null!=s,"SyncTree gave us an op for an invalid query."),Ol(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Ol(s,t,n,r));return i}}function Ul(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=hl(n,i?r:null),s=!1;e?s=!0:r instanceof ua?(e=dl(n,r),s=!1):(e=ua.EMPTY_NODE,s=!1);const o=za(new ja(e,s,!1),new ja(r,i,!1));return new Nl(t,o)}return o}function Vl(e,t,n,r,i,s){const o=Ul(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(na,(e,t)=>{r.push(ga(e,t))});return n.isFullyInitialized()&&r.push(ma(n.getNode())),Dl(e,r,n.getNode(),t)}(o,n)}function zl(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=Kl(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(Rl(c,n,r)),Al(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(Rl(t,n,r)),Al(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!Kl(e)&&s.push(new(f(Ml,"Reference.ts has not been loaded"),Ml)(t._repo,t._path)),{removed:s,events:o}}function Bl(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ql(e,t){let n=null;for(const r of e.views.values())n=n||Pl(r,t);return n}function Wl(e,t){if(t._queryParams.loadsAllData())return Gl(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Hl(e,t){return null!=Wl(e,t)}function Kl(e){return null!=Gl(e)}function Gl(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Yl=1;class Ql{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ga(null),this.pendingWriteTree_={visibleWrites:Ya.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Xl(e,t,n,r,i){return function(e,t,n,r,i){f(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Qa(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ic(e,new La({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $l(e,t,n,r){!function(e,t,n,r){f(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Xa(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Ga.fromObject(n);return ic(e,new Fa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Jl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ol(e.pendingWriteTree_,t)){let t=new Ga(null);return null!=r.snap?t=t.set(wo(),!0):zs(r.children,e=>{t=t.set(new _o(e),!0)}),ic(e,new Da(r.path,t,n))}return[]}function Zl(e,t,n){return ic(e,new La({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ec(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||Hl(o,t))){const l=zl(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>Kl(t));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Kl(t)){return[Gl(t)]}{let e=[];return t&&(e=Bl(t)),zs(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=ac(e,r);e.listenProvider_.startListening(fc(i),lc(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(fc(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(cc(t));e.listenProvider_.stopListening(fc(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=cc(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function tc(e,t,n,r){const i=uc(e,r);if(null!=i){const r=hc(i),s=r.path,o=r.queryId,a=No(s,t);return dc(e,s,new La(Oa(o),a,n))}return[]}function nc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=No(e,i);s=s||ql(t,n),o=o||Kl(t)});let a,l=e.syncPointTree_.get(i);if(l?(o=o||Kl(l),s=s||ql(l,wo())):(l=new Fl,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=ua.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=ql(t,wo());n&&(s=s.updateImmediateChild(e,n))})}const c=Hl(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=cc(t);f(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Yl++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Vl(l,t,n,sl(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=Wl(l,t);u=u.concat(function(e,t,n){const r=t._path,i=lc(e,t),s=ac(e,n),o=e.listenProvider_.startListening(fc(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)f(!Kl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Io(e)&&t&&Kl(t))return[Gl(t).query];{let e=[];return t&&(e=e.concat(Bl(t).map(e=>e.query))),zs(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(fc(r),lc(e,r))}}return o}(e,t,n))}return u}function rc(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=ql(n,No(e,t));if(r)return r});return ul(r,t,i,n,!0)}function ic(e,t){return sc(t,e.syncPointTree_,null,sl(e.pendingWriteTree_,wo()))}function sc(e,t,n,r){if(Io(e.path))return oc(e,t,n,r);{const i=t.get(wo());null==n&&null!=i&&(n=ql(i,wo()));let s=[];const o=bo(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=vl(r,o);s=s.concat(sc(a,l,e,t))}return i&&(s=s.concat(jl(i,e,r,n))),s}}function oc(e,t,n,r){const i=t.get(wo());null==n&&null!=i&&(n=ql(i,wo()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=vl(r,t),l=e.operationForChild(t);l&&(s=s.concat(oc(l,i,o,a)))}),i&&(s=s.concat(jl(i,e,r,n))),s}function ac(e,t){const n=t.query,r=lc(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ua.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=uc(e,n);if(r){const n=hc(r),i=n.path,s=n.queryId,o=No(i,t);return dc(e,i,new Ma(Oa(s),o))}return[]}(e,n._path,r):function(e,t){return ic(e,new Ma({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ec(e,n,null,r)}}}}function lc(e,t){const n=cc(t);return e.queryToTagMap.get(n)}function cc(e){return e._path.toString()+"$"+e._queryIdentifier}function uc(e,t){return e.tagToQueryMap.get(t)}function hc(e){const t=e.indexOf("$");return f(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _o(e.substr(0,t))}}function dc(e,t,n){const r=e.syncPointTree_.get(t);f(r,"Missing sync point for query tag that we're tracking");return jl(r,n,sl(e.pendingWriteTree_,t),null)}function fc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(f(Ll,"Reference.ts has not been loaded"),Ll)(e._repo,e._path):e}class pc{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new pc(t)}node(){return this.node_}}class mc{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=So(this.path_,e);return new mc(this.syncTree_,t)}node(){return rc(this.syncTree_,this.path_)}}const gc=function(e,t,n){return e&&"object"===typeof e?(f(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?vc(e[".sv"],t,n):"object"===typeof e[".sv"]?yc(e[".sv"],t):void f(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vc=function(e,t,n){if("timestamp"===e)return n.timestamp;f(!1,"Unexpected server value: "+e)},yc=function(e,t,n){e.hasOwnProperty("increment")||f(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&f(!1,"Unexpected increment value: "+r);const i=t.node();if(f(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},_c=function(e,t,n,r){return bc(t,new mc(n,e),r)},wc=function(e,t,n){return bc(e,new pc(t),n)};function bc(e,t,n){const r=e.getPriority().val(),i=gc(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=gc(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new ta(s,da(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new ta(i))),r.forEachChild(na,(e,r)=>{const i=bc(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Cc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function xc(e,t){let n=t instanceof _o?t:new _o(t),r=e,i=bo(n);for(;null!==i;){const e=Q(r.node.children,i)||{children:{},childCount:0};r=new Cc(i,r,e),n=xo(n),i=bo(n)}return r}function Ec(e){return e.node.value}function Tc(e,t){e.node.value=t,Pc(e)}function kc(e){return e.node.childCount>0}function Sc(e,t){zs(e.node.children,(n,r)=>{t(new Cc(n,e,r))})}function Ic(e,t,n,r){n&&!r&&t(e),Sc(e,e=>{Ic(e,t,!0,r)}),n&&r&&t(e)}function Nc(e){return new _o(null===e.parent?e.name:Nc(e.parent)+"/"+e.name)}function Pc(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ec(e)&&!kc(e)}(n),i=Y(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Pc(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Pc(e))}(e.parent,e.name,e)}const Ac=/[\[\].#$\/\u0000-\u001F\u007F]/,Rc=/[\[\].#$\u0000-\u001F\u007F]/,Oc=10485760,Dc=function(e){return"string"===typeof e&&0!==e.length&&!Ac.test(e)},Mc=function(e){return"string"===typeof e&&0!==e.length&&!Rc.test(e)},Lc=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Os(e)||e&&"object"===typeof e&&Y(e,".sv")},Fc=function(e,t,n,r){r&&void 0===t||jc(oe(e,"value"),t,n)},jc=function(e,t,n){const r=n instanceof _o?new Oo(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Mo(r));if("function"===typeof t)throw new Error(e+"contains a function "+Mo(r)+" with contents = "+t.toString());if(Os(t))throw new Error(e+"contains "+t.toString()+" "+Mo(r));if("string"===typeof t&&t.length>Oc/3&&ae(t)>Oc)throw new Error(e+"contains a string greater than "+Oc+" utf8 bytes "+Mo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(zs(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Dc(t)))throw new Error(e+" contains an invalid key ("+t+") "+Mo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ae(t),Do(e)}(r,t),jc(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=ae(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Mo(r)+" in addition to actual children.")}},Uc=function(e,t,n,r){if(r&&void 0===t)return;const i=oe(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];zs(t,(e,t)=>{const r=new _o(e);if(jc(i,t,So(n,r)),".priority"===Eo(r)&&!Lc(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=To(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Dc(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Po);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Ro(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},Vc=function(e,t,n,r){if((!r||void 0!==n)&&!Mc(n))throw new Error(oe(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zc=function(e,t){if(".info"===bo(t))throw new Error(e+" failed = Can't modify data under /.info/")},Bc=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Dc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Mc(e)}(n))throw new Error(oe(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Ao(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Hc(e,t,n){Wc(e,n),Gc(e,e=>Ao(e,t))}function Kc(e,t,n){Wc(e,n),Gc(e,e=>Ro(e,t)||Ro(t,e))}function Gc(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Yc(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Yc(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ts&&Is("event: "+n.toString()),Hs(r)}}}const Qc="repo_interrupt";class Xc{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sa(),this.transactionQueueTree_=new Cc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $c(e,t,n){if(e.stats_=oo(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ta(e.repoInfo_,(t,n,r,i)=>{eu(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>tu(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{K(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new jo(e.repoInfo_,t,(t,n,r,i)=>{eu(e,t,n,r,i)},t=>{tu(e,t)},t=>{!function(e,t){zs(t,(t,n)=>{nu(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return so[n]||(so[n]=t()),so[n]}(e.repoInfo_,()=>new Aa(e.stats_,e.server_)),e.infoData_=new ka,e.infoSyncTree_=new Ql({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Zl(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),nu(e,"connected",!1),e.serverSyncTree_=new Ql({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);Kc(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Jc(e){const t=e.infoData_.getNode(new _o(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Zc(e){return(t=(t={timestamp:Jc(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function eu(e,t,n,r,i){e.dataUpdateCount++;const s=new _o(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=$(n,e=>da(e));o=function(e,t,n,r){const i=uc(e,r);if(i){const r=hc(i),s=r.path,o=r.queryId,a=No(s,t),l=Ga.fromObject(n);return dc(e,s,new Fa(Oa(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=da(n);o=tc(e.serverSyncTree_,s,t,i)}else if(r){const t=$(n,e=>da(e));o=function(e,t,n){const r=Ga.fromObject(n);return ic(e,new Fa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=da(n);o=Zl(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=hu(e,s)),Kc(e.eventQueue_,a,o)}function tu(e,t){nu(e,"connected",t),!1===t&&function(e){au(e,"onDisconnectEvents");const t=Zc(e),n=Sa();Na(e.onDisconnect_,wo(),(r,i)=>{const s=_c(r,i,e.serverSyncTree_,t);Ia(n,r,s)});let r=[];Na(n,wo(),(t,n)=>{r=r.concat(Zl(e.serverSyncTree_,t,n));const i=gu(e,t);hu(e,i)}),e.onDisconnect_=Sa(),Kc(e.eventQueue_,wo(),r)}(e)}function nu(e,t,n){const r=new _o("/.info/"+t),i=da(n);e.infoData_.updateSnapshot(r,i);const s=Zl(e.infoSyncTree_,r,i);Kc(e.eventQueue_,r,s)}function ru(e){return e.nextWriteId_++}function iu(e,t,n,r,i){au(e,"set",{path:t.toString(),value:n,priority:r});const s=Zc(e),o=da(n,r),a=rc(e.serverSyncTree_,t),l=wc(o,a,s),c=ru(e),u=Xl(e.serverSyncTree_,t,l,c,!0);Wc(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||Rs("set at "+t+" failed: "+n);const o=Jl(e.serverSyncTree_,c,!s);Kc(e.eventQueue_,t,o),lu(e,i,n,r)});const h=gu(e,t);hu(e,h),Kc(e.eventQueue_,h,[])}function su(e,t,n){let r;r=".info"===bo(t._path)?ec(e.infoSyncTree_,t,n):ec(e.serverSyncTree_,t,n),Hc(e.eventQueue_,t._path,r)}function ou(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qc)}function au(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Is(t,...r)}function lu(e,t,n,r){t&&Hs(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function cu(e,t,n){return rc(e.serverSyncTree_,t,n)||ua.EMPTY_NODE}function uu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||mu(e,t),Ec(t)){const n=fu(e,t);f(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=cu(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];f(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=No(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{au(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Jl(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();mu(e,xc(e.transactionQueueTree_,t)),uu(e,e.transactionQueueTree_),Kc(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Hs(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Rs("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}hu(e,t)}},o)}(e,Nc(t),n)}else kc(t)&&Sc(t,t=>{uu(e,t)})}function hu(e,t){const n=du(e,t),r=Nc(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const s=t[a],l=No(n,s.path);let c,u=!1;if(f(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(Jl(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(Jl(e.serverSyncTree_,s.currentWriteId,!0));else{const n=cu(e,s.path,o);s.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){jc("transaction failed: Data returned ",r,s.path);let t=da(r);"object"===typeof r&&null!=r&&Y(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=Zc(e),c=wc(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=ru(e),o.splice(o.indexOf(a),1),i=i.concat(Xl(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(Jl(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(Jl(e.serverSyncTree_,s.currentWriteId,!0))}Kc(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}mu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Hs(r[a]);uu(e,e.transactionQueueTree_)}(e,fu(e,n),r),r}function du(e,t){let n,r=e.transactionQueueTree_;for(n=bo(t);null!==n&&void 0===Ec(r);)r=xc(r,n),n=bo(t=xo(t));return r}function fu(e,t){const n=[];return pu(e,t,n),n.sort((e,t)=>e.order-t.order),n}function pu(e,t,n){const r=Ec(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sc(t,t=>{pu(e,t,n)})}function mu(e,t){const n=Ec(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Tc(t,n.length>0?n:void 0)}Sc(t,t=>{mu(e,t)})}function gu(e,t){const n=Nc(du(e,t)),r=xc(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{vu(e,t)}),vu(e,r),Ic(r,t=>{vu(e,t)}),n}function vu(e,t){const n=Ec(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(f(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(f(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Jl(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Tc(t,void 0):n.length=s+1,Kc(e.eventQueue_,Nc(t),i);for(let e=0;e<r.length;e++)Hs(r[e])}}const yu=function(e,t){const n=_u(e),r=n.namespace;"firebase.com"===n.domain&&As(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||As("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new to(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new _o(n.pathString)}},_u=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rs("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},wu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bu=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=wu.charAt(n%64),n=Math.floor(n/64);f(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=wu.charAt(t[i]);return f(20===o.length,"nextPushId: Length should be 20."),o}}();class Cu{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+K(this.snapshot.exportVal())}}class xu{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Eu{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return f(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Tu{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Io(this._path)?null:Eo(this._path)}get ref(){return new ku(this._repo,this._path)}get _queryIdentifier(){const e=Ea(this._queryParams),t=Us(e);return"{}"===t?"default":t}get _queryObject(){return Ea(this._queryParams)}isEqual(e){if(!((e=le(e))instanceof Tu))return!1;const t=this._repo===e._repo,n=Ao(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class ku extends Tu{constructor(e,t){super(e,t,new Ca,!1)}get parent(){const e=ko(this._path);return null===e?null:new ku(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Su{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new _o(e),n=Nu(this.ref,e);return new Su(this._node.getChild(t),n,na)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Su(n,Nu(this.ref,t),na)))}hasChild(e){const t=new _o(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Iu(e,t){return(e=le(e))._checkNotDeleted("ref"),void 0!==t?Nu(e._root,t):e._root}function Nu(e,t){var n,r,i,s;return null===bo((e=le(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vc(n,r,i,s)):Vc("child","path",t,!1),new ku(e._repo,So(e._path,t))}function Pu(e,t){e=le(e),zc("push",e._path),Fc("push",t,e._path,!0);const n=Jc(e._repo),r=bu(n),i=Nu(e,r),s=Nu(e,r);let o;return o=null!=t?Au(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Au(e,t){e=le(e),zc("set",e._path),Fc("set",t,e._path,!1);const n=new N;return iu(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ru(e,t){Uc("update",t,e._path,!1);const n=new N;return function(e,t,n,r){au(e,"update",{path:t.toString(),value:n});let i=!0;const s=Zc(e),o={};if(zs(n,(n,r)=>{i=!1,o[n]=_c(So(t,n),da(r),e.serverSyncTree_,s)}),i)Is("update() called with empty data.  Don't do anything."),lu(0,r,"ok",void 0);else{const i=ru(e),s=$l(e.serverSyncTree_,t,o,i);Wc(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||Rs("update at "+t+" failed: "+n);const a=Jl(e.serverSyncTree_,i,!o),l=a.length>0?hu(e,t):t;Kc(e.eventQueue_,l,a),lu(0,r,n,s)}),zs(n,n=>{const r=gu(e,So(t,n));hu(e,r)}),Kc(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Ou{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Cu("value",this,new Su(e.snapshotNode,new ku(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new xu(this,e,t):null}matches(e){return e instanceof Ou&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Du{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new xu(this,e,t):null}createEvent(e,t){f(null!=e.childName,"Child events should have a childName.");const n=Nu(new ku(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Cu(e.type,this,new Su(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Du&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Mu(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{su(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Eu(n,s||void 0),a="value"===t?new Ou(o):new Du(t,o);return function(e,t,n){let r;r=".info"===bo(t._path)?nc(e.infoSyncTree_,t,n):nc(e.serverSyncTree_,t,n),Hc(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>su(e._repo,e,a)}function Lu(e,t,n,r){return Mu(e,"value",t,n,r)}!function(e){f(!Ml,"__referenceConstructor has already been defined"),Ml=e}(ku),function(e){f(!Ll,"__referenceConstructor has already been defined"),Ll=e}(ku);const Fu={};let ju=!1;function Uu(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||As("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Is("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=yu(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=yu(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new Qs(Qs.OWNER):new Ys(e.name,e.options,t);Bc("Invalid Firebase Database URL",l),Io(l.path)||As("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Fu[t.name];i||(i={},Fu[t.name]=i);let s=i[e.toURLString()];s&&As("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new Xc(e,ju,n,r),i[e.toURLString()]=s,s}(c,e,u,new Gs(e,n));return new Vu(h,e)}class Vu{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($c(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ku(this._repo,wo())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Fu[t];n&&n[e.key]===e||As("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ou(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&As("Cannot call "+e+" on a deleted database.")}}jo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},jo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ms(xt),yt(new ce("database",(e,t)=>{let{instanceIdentifier:n}=t;return Uu(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),kt(ds,fs,e),kt(ds,fs,"esm2020")}();const zu=Et({apiKey:"AIzaSyD8GWx4ry3hgM6jV0qtTMHBrT7JoWHQCAk",authDomain:"desarollogit-68916509-89c54.firebaseapp.com",databaseURL:"https://desarollogit-68916509-89c54-default-rtdb.europe-west1.firebasedatabase.app",projectId:"desarollogit-68916509-89c54",storageBucket:"desarollogit-68916509-89c54.firebasestorage.app",messagingSenderId:"464708937070",appId:"1:464708937070:web:41e91b162694b2bb7c8d7f"}),Bu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();const t=_t(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=_t(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(J(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Kt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:is,persistence:[fi,Gr,Jr]}),r=I("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ls)return;const r=null===t||void 0===t?void 0:t.token;cs!==r&&(cs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){le(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){le(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=k("auth");return s&&mr(n,"http://".concat(s)),n}(zu),qu=new Rr,Wu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt(),t=arguments.length>1?arguments[1]:void 0;const n=_t(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=k(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=le(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&J(r,s.repoInfo_.emulatorOptions))return;As("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&As('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qs(Qs.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Qs(t)}P(t)&&(A(t),D("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),s=P(t.substring(0,i));e.repoInfo_=new to(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,i,r,o)}(n,...e)}return n}(zu);var Hu,Ku="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Gu={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||c.l(e)>0;)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Gu.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},Hu=Gu.Integer=r}).apply("undefined"!==typeof Ku?Ku:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Yu,Qu,Xu,$u,Ju,Zu,eh,th,nh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},rh={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof nh&&nh];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,_=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},b=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(C)}};function C(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function x(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function S(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(S,E),S.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&S.Z.h.call(this)},S.prototype.h=function(){S.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),N=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function O(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function j(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=j(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new P(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=X(n),e&&e[I]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=Y(e);if(l||(e[U]=l=new L(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[I]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[I]?(e=e.i,(s=String(t).toString())in e.g&&((n=j(t=e.g[s],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Y(e))&&(t=e.g[t.toString()],e=-1,t&&(e=j(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Y(t))?(F(n,e),0==n.h&&(n.src=null,t[U]=null)):A(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new S(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function Y(e){return(e=e[U])instanceof L?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function $(){x.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;M(t=new E(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&F(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,x),$.prototype[I]=!0,$.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){x.call(this),this.h=e,this.g={}}u(ne,x);var re=[];function ie(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){E.call(this,"d")}function de(){E.call(this,"c")}u(he,E),u(de,E);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function _e(e){const t=me();J(t,new ye(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function be(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(we,E),Ce.prototype.ua=function(){this.g=!1},Ce.prototype.info=function(){};var Ee,Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Se(){}function Ie(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Se,le),Se.prototype.g=function(){return new XMLHttpRequest},Ee=new Se;var Re={},Oe={};function De(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),je(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?O(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Oe:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?Oe:(t=t.slice(r,r+n),e.C=r+n,t))}function je(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=be(l(e.aa,e),t)}function Ve(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ye(n.h,e)))if(!e.L&&Ye(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),_e(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=be(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!k(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Qe(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var a=o,c=r.O;c&&(a.H=c),a.D&&(Ve(a),je(a)),r.g=o}else Qt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==jt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=jt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==jt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,_e(12),Be(this),ze(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==Oe){4==l&&(this.m=4,_e(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Re){this.m=4,_e(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),qe(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,_e(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,_e(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else xe(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,je(this)))}else(function(e){const t={};e=(e.g&&jt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),Be(this),ze(this)}}}catch(Lh){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),_e(17)),Be(this),this.m=2,ze(this)):Ue(this,this.T-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Ye(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=bt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=bt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(bt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function _t(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(bt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function bt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new ae}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function Tt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function kt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function St(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function At(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=bt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=bt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new Tt(this.i,this.h)},u(Tt,$),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,St(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?St(this):It(this),3==this.readyState&&kt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,St(this))},e.Na=function(e){this.g&&(this.response=e,St(this))},e.ga=function(){this.g&&St(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,$);var Rt=/^https?$/i,Ot=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Ft(e)}function Mt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==jt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==jt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Rt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=jt(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Mt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function jt(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Wt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),je(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Wt(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Ht(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||b(),_||(y(),_=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Yt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&R(e.H,function(e,n){it(t,n,e)}),e.l&&R({},function(e,n){it(t,n,e)})}function Yt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(sh){throw e.push(s+"type="+encodeURIComponent("_badmap")),sh}}catch(sh){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Qt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||b(),_||(y(),_=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=be(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Me(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Ye(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Ht(e)}else Qt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=be(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Ce;if(s.Image){const r=new Image;r.onload=c(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ct,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.I=0,e.l&&e.l.pa(t),rn(e),Wt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new Et({ab:n})):new At(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!k(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Dt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Ot,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Dt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return jt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let s=this.o;if(this.U&&(s?(s=O(s),M(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Yt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),s&&(this.R?t="headers="+Ie(Nt(s))+"&"+t:this.u&&Pt(n,this.u,s)),Qe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),_e(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,an),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,th=rh.createWebChannelTransport=function(){return new ln},eh=rh.getStatEventTarget=function(){return me()},Zu=rh.Event=fe,Ju=rh.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,$u=rh.ErrorCode=Te,ke.COMPLETE="complete",Xu=rh.EventType=ke,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Qu=rh.WebChannel=ce,rh.FetchXmlHttpFactory=Et,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,Yu=rh.XhrIo=At}).apply("undefined"!==typeof nh?nh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ih="@firebase/firestore",sh="4.9.3";class oh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oh.UNAUTHENTICATED=new oh(null),oh.GOOGLE_CREDENTIALS=new oh("google-credentials-uid"),oh.FIRST_PARTY=new oh("first-party-uid"),oh.MOCK_USER=new oh("mock-user");let ah="12.7.0";const lh=new _e("@firebase/firestore");function ch(){return lh.logLevel}function uh(e){if(lh.logLevel<=pe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fh);lh.debug("Firestore (".concat(ah,"): ").concat(e),...i)}}function hh(e){if(lh.logLevel<=pe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fh);lh.error("Firestore (".concat(ah,"): ").concat(e),...i)}}function dh(e){if(lh.logLevel<=pe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fh);lh.warn("Firestore (".concat(ah,"): ").concat(e),...i)}}function fh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ph(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,mh(e,r,n)}function mh(e,t,n){let r="FIRESTORE (".concat(ah,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw hh(r),new Error(r)}function gh(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||mh(t,i,r)}function vh(e,t){return e}const yh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _h extends B{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class wh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ch{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oh.UNAUTHENTICATED))}shutdown(){}}class xh{constructor(e){this.t=e,this.currentUser=oh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gh(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new wh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wh,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{uh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(uh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wh)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(uh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(gh("string"==typeof t.accessToken,31837,{l:t}),new bh(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gh(null===e||"string"==typeof e,2055,{h:e}),new oh(e)}}class Eh{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=oh.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Th{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Eh(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(oh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sh{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gh(void 0===this.o,3512);const n=e=>{null!=e.error&&uh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,uh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{uh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):uh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kh(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(gh("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new kh(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ih(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Nh{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ih(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ph(e,t){return e<t?-1:e>t?1:0}function Ah(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Dh(n)===Dh(i)?Ph(n,i):Dh(n)?1:-1}return Ph(e.length,t.length)}const Rh=55296,Oh=57343;function Dh(e){const t=e.charCodeAt(0);return t>=Rh&&t<=Oh}function Mh(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Lh="__name__";class Fh{constructor(e,t,n){void 0===t?t=0:t>e.length&&ph(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ph(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Fh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fh?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Fh.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ph(e.length,t.length)}static compareSegments(e,t){const n=Fh.isNumericId(e),r=Fh.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Fh.extractNumericId(e).compare(Fh.extractNumericId(t)):Ah(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hu.fromString(e.substring(4,e.length-2))}}class jh extends Fh{construct(e,t,n){return new jh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _h(yh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new jh(e)}static emptyPath(){return new jh([])}}const Uh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vh extends Fh{construct(e,t,n){return new Vh(e,t,n)}static isValidIdentifier(e){return Uh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Lh}static keyField(){return new Vh([Lh])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _h(yh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _h(yh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _h(yh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new _h(yh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vh(t)}static emptyPath(){return new Vh([])}}class zh{constructor(e){this.path=e}static fromPath(e){return new zh(jh.fromString(e))}static fromName(e){return new zh(jh.fromString(e).popFirst(5))}static empty(){return new zh(jh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zh(new jh(e.slice()))}}function Bh(e,t,n){if(!n)throw new _h(yh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qh(e){if(!zh.isDocumentKey(e))throw new _h(yh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wh(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Hh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ph(12329,{type:typeof e})}function Kh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _h(yh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(e);throw new _h(yh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Gh(e,t){const n={typeString:e};return t&&(n.value=t),n}function Yh(e,t){if(!Wh(e))throw new _h(yh.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new _h(yh.INVALID_ARGUMENT,n);return!0}const Qh=-62135596800,Xh=1e6;class $h{static now(){return $h.fromMillis(Date.now())}static fromDate(e){return $h.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Xh);return new $h(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _h(yh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _h(yh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qh)throw new _h(yh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _h(yh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xh}_compareTo(e){return this.seconds===e.seconds?Ph(this.nanoseconds,e.nanoseconds):Ph(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$h._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yh(e,$h._jsonSchema))return new $h(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$h._jsonSchemaVersion="firestore/timestamp/1.0",$h._jsonSchema={type:Gh("string",$h._jsonSchemaVersion),seconds:Gh("number"),nanoseconds:Gh("number")};class Jh{static fromTimestamp(e){return new Jh(e)}static min(){return new Jh(new $h(0,0))}static max(){return new Jh(new $h(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zh=-1;class ed{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ed.UNKNOWN_ID=-1;function td(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jh.fromTimestamp(1e9===r?new $h(n+1,0):new $h(n,r));return new rd(i,zh.empty(),t)}function nd(e){return new rd(e.readTime,e.key,Zh)}class rd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new rd(Jh.min(),zh.empty(),Zh)}static max(){return new rd(Jh.max(),zh.empty(),Zh)}}function id(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zh.comparator(e.documentKey,t.documentKey),0!==n?n:Ph(e.largestBatchId,t.largestBatchId))}const sd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class od{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ad(e){if(e.code!==yh.FAILED_PRECONDITION||e.message!==sd)throw e;uh("LocalStore","Unexpectedly lost primary lease")}class ld{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ph(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ld((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ld?t:ld.resolve(t)}catch(e){return ld.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ld.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ld.reject(t)}static resolve(e){return new ld((t,n)=>{t(e)})}static reject(e){return new ld((t,n)=>{n(e)})}static waitFor(e){return new ld((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ld.resolve(!1);for(const n of e)t=t.next(e=>e?ld.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ld((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ld((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function cd(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ud(e){return"IndexedDbTransactionError"===e.name}class hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;const dd=-1;function fd(e){return null==e}function pd(e){return 0===e&&1/e==-1/0}function md(e){return"number"==typeof e&&Number.isInteger(e)&&!pd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const gd="\x01";function vd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_d(t)),t=yd(e.get(n),t);return _d(t)}function yd(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case gd:n+="\x01\x11";break;default:n+=t}}return n}function _d(e){return e+gd+"\x01"}const wd="remoteDocuments",bd="owner",Cd="mutationQueues",xd="mutations";const Ed="documentMutations",Td="remoteDocumentsV14",kd="remoteDocumentGlobal",Sd="targets",Id="targetDocuments",Nd="targetGlobal",Pd="collectionParents",Ad="clientMetadata",Rd="bundles",Od="namedQueries",Dd="indexConfiguration",Md="indexState",Ld="indexEntries",Fd="documentOverlays",jd="globals",Ud=[Cd,xd,Ed,wd,Sd,bd,Nd,Id,Ad,kd,Pd,Rd,Od],Vd=[Cd,xd,Ed,Td,Sd,bd,Nd,Id,Ad,kd,Pd,Rd,Od,Fd],zd=Vd,Bd=[...zd,Dd,Md,Ld];function qd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Kd{constructor(e,t){this.comparator=e,this.root=t||Yd.EMPTY}insert(e,t){return new Kd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yd.BLACK,null,null))}remove(e){return new Kd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Yd.RED,this.left=null!=r?r:Yd.EMPTY,this.right=null!=i?i:Yd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Yd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ph(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ph(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ph(27949);return e+(this.isRed()?0:1)}}Yd.EMPTY=null,Yd.RED=!0,Yd.BLACK=!1,Yd.EMPTY=new class{constructor(){this.size=0}get key(){throw ph(57766)}get value(){throw ph(16141)}get color(){throw ph(16727)}get left(){throw ph(29726)}get right(){throw ph(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Yd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qd{constructor(e){this.comparator=e,this.data=new Kd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xd(this.data.getIterator())}getIteratorFrom(e){return new Xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Qd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qd(this.comparator);return t.data=e,t}}class Xd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $d{constructor(e){this.fields=e,e.sort(Vh.comparator)}static empty(){return new $d([])}unionWith(e){let t=new Qd(Vh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $d(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mh(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Jd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Jd("Invalid base64 string: "+e):e}}(e);return new Zd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Zd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ph(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zd.EMPTY_BYTE_STRING=new Zd("");const ef=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tf(e){if(gh(!!e,39018),"string"==typeof e){let t=0;const n=ef.exec(e);if(gh(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nf(e.seconds),nanos:nf(e.nanos)}}function nf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rf(e){return"string"==typeof e?Zd.fromBase64String(e):Zd.fromUint8Array(e)}const sf="server_timestamp",of="__type__",af="__previous_value__",lf="__local_write_time__";function cf(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[of])||void 0===t?void 0:t.stringValue)===sf}function uf(e){const t=e.mapValue.fields[af];return cf(t)?uf(t):t}function hf(e){const t=tf(e.mapValue.fields[lf].timestampValue);return new $h(t.seconds,t.nanos)}class df{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const ff="(default)";class pf{constructor(e,t){this.projectId=e,this.database=t||ff}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===ff}isEqual(e){return e instanceof pf&&e.projectId===this.projectId&&e.database===this.database}}const mf="__type__",gf="__max__",vf={mapValue:{fields:{__type__:{stringValue:gf}}}},yf="__vector__",_f="value";function wf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cf(e)?4:Df(e)?9007199254740991:Rf(e)?10:11:ph(28295,{value:e})}function bf(e,t){if(e===t)return!0;const n=wf(e);if(n!==wf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hf(e).isEqual(hf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=tf(e.timestampValue),r=tf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rf(e.bytesValue).isEqual(rf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return nf(e.geoPointValue.latitude)===nf(t.geoPointValue.latitude)&&nf(e.geoPointValue.longitude)===nf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return nf(e.integerValue)===nf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=nf(e.doubleValue),r=nf(t.doubleValue);return n===r?pd(n)===pd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Mh(e.arrayValue.values||[],t.arrayValue.values||[],bf);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qd(n)!==qd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bf(n[i],r[i])))return!1;return!0}(e,t);default:return ph(52216,{left:e})}}function Cf(e,t){return void 0!==(e.values||[]).find(e=>bf(e,t))}function xf(e,t){if(e===t)return 0;const n=wf(e),r=wf(t);if(n!==r)return Ph(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ph(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=nf(e.integerValue||e.doubleValue),r=nf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ef(e.timestampValue,t.timestampValue);case 4:return Ef(hf(e),hf(t));case 5:return Ah(e.stringValue,t.stringValue);case 6:return function(e,t){const n=rf(e),r=rf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ph(n[i],r[i]);if(0!==e)return e}return Ph(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ph(nf(e.latitude),nf(t.latitude));return 0!==n?n:Ph(nf(e.longitude),nf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Tf(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[_f])||void 0===n?void 0:n.arrayValue,c=null===(r=a[_f])||void 0===r?void 0:r.arrayValue,u=Ph((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Tf(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===vf.mapValue&&t===vf.mapValue)return 0;if(e===vf.mapValue)return 1;if(t===vf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ah(r[o],s[o]);if(0!==e)return e;const t=xf(n[r[o]],i[s[o]]);if(0!==t)return t}return Ph(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ph(23264,{he:n})}}function Ef(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ph(e,t);const n=tf(e),r=tf(t),i=Ph(n.seconds,r.seconds);return 0!==i?i:Ph(n.nanos,r.nanos)}function Tf(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xf(n[i],r[i]);if(e)return e}return Ph(n.length,r.length)}function kf(e){return Sf(e)}function Sf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=tf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return rf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return zh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Sf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Sf(e.fields[i]));return n+"}"}(e.mapValue):ph(61005,{value:e})}function If(e){switch(wf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uf(e);return t?16+If(t):16;case 5:return 2*e.stringValue.length;case 6:return rf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+If(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Wd(e.fields,(e,n)=>{t+=e.length+If(n)}),t}(e.mapValue);default:throw ph(13486,{value:e})}}function Nf(e){return!!e&&"integerValue"in e}function Pf(e){return!!e&&"arrayValue"in e}function Af(e){return!!e&&"mapValue"in e}function Rf(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[mf])||void 0===t?void 0:t.stringValue)===yf}function Of(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wd(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Of(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Of(e.arrayValue.values[n]);return t}return c({},e)}function Df(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===gf}class Mf{constructor(e){this.value=e}static empty(){return new Mf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Of(t)}setAll(e){let t=Vh.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Of(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Af(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Wd(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Mf(Of(this.value))}}function Lf(e){const t=[];return Wd(e.fields,(e,n)=>{const r=new Vh([e]);if(Af(n)){const e=Lf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new $d(t)}class Ff{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ff(e,0,Jh.min(),Jh.min(),Jh.min(),Mf.empty(),0)}static newFoundDocument(e,t,n,r){return new Ff(e,1,t,Jh.min(),n,r,0)}static newNoDocument(e,t){return new Ff(e,2,t,Jh.min(),Jh.min(),Mf.empty(),0)}static newUnknownDocument(e,t){return new Ff(e,3,t,Jh.min(),Jh.min(),Mf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ff&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ff(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class jf{constructor(e,t){this.position=e,this.inclusive=t}}function Uf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?zh.comparator(zh.fromName(o.referenceValue),n.key):xf(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Vf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bf(e.position[n],t.position[n]))return!1;return!0}class zf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Bf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qf{}class Wf extends qf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Jf(e,t,n):"array-contains"===t?new np(e,n):"in"===t?new rp(e,n):"not-in"===t?new ip(e,n):"array-contains-any"===t?new sp(e,n):new Wf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zf(e,n):new ep(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(xf(t,this.value)):null!==t&&wf(this.value)===wf(t)&&this.matchesComparison(xf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ph(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hf extends qf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Hf(e,t)}matches(e){return Kf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kf(e){return"and"===e.op}function Gf(e){return Yf(e)&&Kf(e)}function Yf(e){for(const t of e.filters)if(t instanceof Hf)return!1;return!0}function Qf(e){if(e instanceof Wf)return e.field.canonicalString()+e.op.toString()+kf(e.value);if(Gf(e))return e.filters.map(e=>Qf(e)).join(",");{const t=e.filters.map(e=>Qf(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Xf(e,t){return e instanceof Wf?function(e,t){return t instanceof Wf&&e.op===t.op&&e.field.isEqual(t.field)&&bf(e.value,t.value)}(e,t):e instanceof Hf?function(e,t){return t instanceof Hf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Xf(n,t.filters[r]),!0)}(e,t):void ph(19439)}function $f(e){return e instanceof Wf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(kf(e.value))}(e):e instanceof Hf?function(e){return e.op.toString()+" {"+e.getFilters().map($f).join(" ,")+"}"}(e):"Filter"}class Jf extends Wf{constructor(e,t,n){super(e,t,n),this.key=zh.fromName(n.referenceValue)}matches(e){const t=zh.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zf extends Wf{constructor(e,t){super(e,"in",t),this.keys=tp("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ep extends Wf{constructor(e,t){super(e,"not-in",t),this.keys=tp("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>zh.fromName(e.referenceValue))}class np extends Wf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pf(t)&&Cf(t.arrayValue,this.value)}}class rp extends Wf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cf(this.value.arrayValue,t)}}class ip extends Wf{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Cf(this.value.arrayValue,t)}}class sp extends Wf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Cf(this.value.arrayValue,e))}}class op{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function ap(e){return new op(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function lp(e){const t=vh(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Qf(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),fd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>kf(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>kf(e)).join(",")),t.Te=e}return t.Te}function cp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vf(e.startAt,t.startAt)&&Vf(e.endAt,t.endAt)}class up{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hp(e,t,n,r,i,s,o,a){return new up(e,t,n,r,i,s,o,a)}function dp(e){return new up(e)}function fp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pp(e){return null!==e.collectionGroup}function mp(e){const t=vh(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qd(Vh.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new zf(r,n))}),e.has(Vh.keyField().canonicalString())||t.Ie.push(new zf(Vh.keyField(),n))}return t.Ie}function gp(e){const t=vh(e);return t.Ee||(t.Ee=vp(t,mp(e))),t.Ee}function vp(e,t){if("F"===e.limitType)return ap(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new zf(e.field,t)});const n=e.endAt?new jf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jf(e.startAt.position,e.startAt.inclusive):null;return ap(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yp(e,t,n){return new up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _p(e,t){return cp(gp(e),gp(t))&&e.limitType===t.limitType}function wp(e){return"".concat(lp(gp(e)),"|lt:").concat(e.limitType)}function bp(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>$f(e)).join(", "),"]")),fd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>kf(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>kf(e)).join(",")),"Target(".concat(t,")")}(gp(e)),"; limitType=").concat(e.limitType,")")}function Cp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of mp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Uf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mp(e),t))&&!(e.endAt&&!function(e,t,n){const r=Uf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mp(e),t))}(e,t)}function xp(e){return(t,n)=>{let r=!1;for(const i of mp(e)){const e=Ep(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ep(e,t,n){const r=e.field.isKeyField()?zh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xf(r,i):ph(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ph(19790,{direction:e.dir})}}class Tp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wd(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Hd(this.inner)}size(){return this.innerSize}}const kp=new Kd(zh.comparator);function Sp(){return kp}const Ip=new Kd(zh.comparator);function Np(){let e=Ip;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Pp(e){let t=Ip;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ap(){return Op()}function Rp(){return Op()}function Op(){return new Tp(e=>e.toString(),(e,t)=>e.isEqual(t))}const Dp=new Kd(zh.comparator),Mp=new Qd(zh.comparator);function Lp(){let e=Mp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fp=new Qd(Ph);function jp(){return Fp}function Up(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(t)?"-0":t}}function Vp(e){return{integerValue:""+e}}function zp(e,t){return md(t)?Vp(t):Up(e,t)}class Bp{constructor(){this._=void 0}}function qp(e,t,n){return e instanceof Kp?function(e,t){const n={fields:{[of]:{stringValue:sf},[lf]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cf(t)&&(t=uf(t)),t&&(n.fields[af]=t),{mapValue:n}}(n,t):e instanceof Gp?Yp(e,t):e instanceof Qp?Xp(e,t):function(e,t){const n=Hp(e,t),r=Jp(n)+Jp(e.Ae);return Nf(n)&&Nf(e.Ae)?Vp(r):Up(e.serializer,r)}(e,t)}function Wp(e,t,n){return e instanceof Gp?Yp(e,t):e instanceof Qp?Xp(e,t):n}function Hp(e,t){return e instanceof $p?function(e){return Nf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Kp extends Bp{}class Gp extends Bp{constructor(e){super(),this.elements=e}}function Yp(e,t){const n=Zp(t);for(const r of e.elements)n.some(e=>bf(e,r))||n.push(r);return{arrayValue:{values:n}}}class Qp extends Bp{constructor(e){super(),this.elements=e}}function Xp(e,t){let n=Zp(t);for(const r of e.elements)n=n.filter(e=>!bf(e,r));return{arrayValue:{values:n}}}class $p extends Bp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Jp(e){return nf(e.integerValue||e.doubleValue)}function Zp(e){return Pf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class em{constructor(e,t){this.field=e,this.transform=t}}class tm{constructor(e,t){this.version=e,this.transformResults=t}}class nm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nm}static exists(e){return new nm(void 0,e)}static updateTime(e){return new nm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class im{}function sm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mm(e.key,nm.none()):new um(e.key,e.data,nm.none());{const n=e.data,r=Mf.empty();let i=new Qd(Vh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hm(e.key,r,new $d(i.toArray()),nm.none())}}function om(e,t,n){e instanceof um?function(e,t,n){const r=e.value.clone(),i=fm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hm?function(e,t,n){if(!rm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function am(e,t,n,r){return e instanceof um?function(e,t,n,r){if(!rm(e.precondition,t))return n;const i=e.value.clone(),s=pm(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hm?function(e,t,n,r){if(!rm(e.precondition,t))return n;const i=pm(e.fieldTransforms,r,t),s=t.data;return s.setAll(dm(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return rm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lm(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Hp(r.transform,e||null);null!=i&&(null===n&&(n=Mf.empty()),n.set(r.field,i))}return n||null}function cm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Mh(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gp&&t instanceof Gp||e instanceof Qp&&t instanceof Qp?Mh(e.elements,t.elements,bf):e instanceof $p&&t instanceof $p?bf(e.Ae,t.Ae):e instanceof Kp&&t instanceof Kp}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class um extends im{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hm extends im{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dm(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fm(e,t,n){const r=new Map;gh(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Wp(o,a,n[i]))}return r}function pm(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,qp(e,s,t))}return r}class mm extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gm extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&om(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=am(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=am(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Rp();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=sm(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Jh.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lp())}isEqual(e){return this.batchId===e.batchId&&Mh(this.mutations,e.mutations,(e,t)=>cm(e,t))&&Mh(this.baseMutations,e.baseMutations,(e,t)=>cm(e,t))}}class ym{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){gh(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Dp;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ym(e,t,n,r)}}class _m{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var wm,bm;function Cm(e){switch(e){case yh.OK:return ph(64938);case yh.CANCELLED:case yh.UNKNOWN:case yh.DEADLINE_EXCEEDED:case yh.RESOURCE_EXHAUSTED:case yh.INTERNAL:case yh.UNAVAILABLE:case yh.UNAUTHENTICATED:return!1;case yh.INVALID_ARGUMENT:case yh.NOT_FOUND:case yh.ALREADY_EXISTS:case yh.PERMISSION_DENIED:case yh.FAILED_PRECONDITION:case yh.ABORTED:case yh.OUT_OF_RANGE:case yh.UNIMPLEMENTED:case yh.DATA_LOSS:return!0;default:return ph(15467,{code:e})}}function xm(e){if(void 0===e)return hh("GRPC error has no .code"),yh.UNKNOWN;switch(e){case wm.OK:return yh.OK;case wm.CANCELLED:return yh.CANCELLED;case wm.UNKNOWN:return yh.UNKNOWN;case wm.DEADLINE_EXCEEDED:return yh.DEADLINE_EXCEEDED;case wm.RESOURCE_EXHAUSTED:return yh.RESOURCE_EXHAUSTED;case wm.INTERNAL:return yh.INTERNAL;case wm.UNAVAILABLE:return yh.UNAVAILABLE;case wm.UNAUTHENTICATED:return yh.UNAUTHENTICATED;case wm.INVALID_ARGUMENT:return yh.INVALID_ARGUMENT;case wm.NOT_FOUND:return yh.NOT_FOUND;case wm.ALREADY_EXISTS:return yh.ALREADY_EXISTS;case wm.PERMISSION_DENIED:return yh.PERMISSION_DENIED;case wm.FAILED_PRECONDITION:return yh.FAILED_PRECONDITION;case wm.ABORTED:return yh.ABORTED;case wm.OUT_OF_RANGE:return yh.OUT_OF_RANGE;case wm.UNIMPLEMENTED:return yh.UNIMPLEMENTED;case wm.DATA_LOSS:return yh.DATA_LOSS;default:return ph(39323,{code:e})}}(bm=wm||(wm={}))[bm.OK=0]="OK",bm[bm.CANCELLED=1]="CANCELLED",bm[bm.UNKNOWN=2]="UNKNOWN",bm[bm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bm[bm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bm[bm.NOT_FOUND=5]="NOT_FOUND",bm[bm.ALREADY_EXISTS=6]="ALREADY_EXISTS",bm[bm.PERMISSION_DENIED=7]="PERMISSION_DENIED",bm[bm.UNAUTHENTICATED=16]="UNAUTHENTICATED",bm[bm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bm[bm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bm[bm.ABORTED=10]="ABORTED",bm[bm.OUT_OF_RANGE=11]="OUT_OF_RANGE",bm[bm.UNIMPLEMENTED=12]="UNIMPLEMENTED",bm[bm.INTERNAL=13]="INTERNAL",bm[bm.UNAVAILABLE=14]="UNAVAILABLE",bm[bm.DATA_LOSS=15]="DATA_LOSS";new Hu([4294967295,4294967295],0);Error;class Em{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function km(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sm(e,t){return Tm(e,t.toTimestamp())}function Im(e){return gh(!!e,49232),Jh.fromTimestamp(function(e){const t=tf(e);return new $h(t.seconds,t.nanos)}(e))}function Nm(e,t){return Pm(e,t).canonicalString()}function Pm(e,t){const n=function(e){return new jh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Am(e){const t=jh.fromString(e);return gh(Bm(t),10190,{key:t.toString()}),t}function Rm(e,t){return Nm(e.databaseId,t.path)}function Om(e){const t=Am(e);return 4===t.length?jh.emptyPath():Mm(t)}function Dm(e){return new jh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mm(e){return gh(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Lm(e,t,n){return{name:Rm(e,t),fields:n.value.mapValue.fields}}function Fm(e,t){let n;if(t instanceof um)n={update:Lm(e,t.key,t.value)};else if(t instanceof mm)n={delete:Rm(e,t.key)};else if(t instanceof hm)n={update:Lm(e,t.key,t.data),updateMask:zm(t.fieldMask)};else{if(!(t instanceof gm))return ph(16599,{Vt:t.type});n={verify:Rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Kp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $p)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw ph(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ph(27497)}(e,t.precondition)),n}function jm(e){let t=Om(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gh(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Um(e);return t instanceof Hf&&Gf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new zf(Vm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,fd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new jf(n,t)}(n.endAt)),hp(t,i,o,s,a,"F",l,c)}function Um(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vm(e.unaryFilter.field);return Wf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vm(e.unaryFilter.field);return Wf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vm(e.unaryFilter.field);return Wf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vm(e.unaryFilter.field);return Wf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ph(61313);default:return ph(60726)}}(e):void 0!==e.fieldFilter?function(e){return Wf.create(Vm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ph(58110);default:return ph(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Hf.create(e.compositeFilter.filters.map(e=>Um(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ph(1026)}}(e.compositeFilter.op))}(e):ph(30097,{filter:e})}function Vm(e){return Vh.fromServerFormat(e.fieldPath)}function zm(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qm{constructor(e){this.yt=e}}function Wm(e){const t=jm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yp(t,t.limit,"L"):t}class Hm{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(nf(e.integerValue));else if("doubleValue"in e){const n=nf(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),pd(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=tf(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(rf(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Df(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Rf(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ph(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=_f,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(nf(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),zh.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Hm.Kt=new Hm;class Km{constructor(){this.Cn=new Gm}addToCollectionParentIndex(e,t){return this.Cn.add(t),ld.resolve()}getCollectionParents(e,t){return ld.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ld.resolve()}deleteFieldIndex(e,t){return ld.resolve()}deleteAllFieldIndexes(e){return ld.resolve()}createTargetIndexes(e,t){return ld.resolve()}getDocumentsMatchingTarget(e,t){return ld.resolve(null)}getIndexType(e,t){return ld.resolve(0)}getFieldIndexes(e,t){return ld.resolve([])}getNextCollectionGroupToUpdate(e){return ld.resolve(null)}getMinOffset(e,t){return ld.resolve(rd.min())}getMinOffsetFromCollectionGroup(e,t){return ld.resolve(rd.min())}updateCollectionGroup(e,t,n){return ld.resolve()}updateIndexEntries(e,t){return ld.resolve()}}class Gm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qd(jh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qd(jh.comparator)).toArray()}}new Uint8Array(0);const Ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qm=41943040;class Xm{static withCacheSize(e){return new Xm(e,Xm.DEFAULT_COLLECTION_PERCENTILE,Xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Xm.DEFAULT_COLLECTION_PERCENTILE=10,Xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xm.DEFAULT=new Xm(Qm,Xm.DEFAULT_COLLECTION_PERCENTILE,Xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xm.DISABLED=new Xm(-1,0,0);class $m{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $m(0)}static cr(){return new $m(-1)}}const Jm="LruGarbageCollector",Zm=1048576;function eg(e,t){let[n,r]=e,[i,s]=t;const o=Ph(n,i);return 0===o?Ph(r,s):o}class tg{constructor(e){this.Ir=e,this.buffer=new Qd(eg),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();eg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ng{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){uh(Jm,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ud(e)?uh(Jm,"Ignoring IndexedDB error during garbage collection: ",e):await ad(e)}await this.Vr(3e5)})}}class rg{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ld.resolve(hd.ce);const n=new tg(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(uh("LruGarbageCollector","Garbage collection skipped; disabled"),ld.resolve(Ym)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(uh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ym):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(uh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),ch()<=pe.DEBUG&&uh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ld.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function ig(e,t){return new rg(e,t)}class sg{constructor(){this.changes=new Tp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ff.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ld.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class og{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ag{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&am(n.mutation,e,$d.empty(),$h.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Lp()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lp();const r=Ap();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Np();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ap();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Lp()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Sp();const s=Op(),o=Op();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hm)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),am(o.mutation,t,o.mutation.getFieldMask(),$h.now())):s.set(t.key,$d.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new og(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Op();let r=new Kd((e,t)=>e-t),i=Lp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||$d.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Lp()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Rp();l.forEach(e=>{if(!i.has(e)){const r=sm(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ld.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return zh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ld.resolve(Ap());let o=Zh,a=i;return s.next(t=>ld.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ld.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Lp())).next(e=>({batchId:o,changes:Pp(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zh(t)).next(e=>{let t=Np();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Np();return this.indexManager.getCollectionParents(e,i).next(o=>ld.forEach(o,o=>{const a=function(e,t){return new up(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ff.newInvalidDocument(r)))});let n=Np();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&am(s.mutation,r,$d.empty(),$h.now()),Cp(t,r)&&(n=n.insert(e,r))}),n})}}class lg{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ld.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Im(e.createTime)}}(t)),ld.resolve()}getNamedQuery(e,t){return ld.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Wm(e.bundledQuery),readTime:Im(e.readTime)}}(t)),ld.resolve()}}class cg{constructor(){this.overlays=new Kd(zh.comparator),this.qr=new Map}getOverlay(e,t){return ld.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ap();return ld.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ld.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ld.resolve()}getOverlaysForCollection(e,t,n){const r=Ap(),i=t.length+1,s=new zh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ld.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Kd((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ap(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ap(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ld.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _m(t,n));let i=this.qr.get(t);void 0===i&&(i=Lp(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class ug{constructor(){this.sessionToken=Zd.EMPTY_BYTE_STRING}getSessionToken(e){return ld.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ld.resolve()}}class hg{constructor(){this.Qr=new Qd(dg.$r),this.Ur=new Qd(dg.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new dg(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new dg(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new zh(new jh([])),n=new dg(t,e),r=new dg(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new zh(new jh([])),n=new dg(t,e),r=new dg(t,e+1);let i=Lp();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new dg(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dg{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return zh.comparator(e.key,t.key)||Ph(e.Yr,t.Yr)}static Kr(e,t){return Ph(e.Yr,t.Yr)||zh.comparator(e.key,t.key)}}class fg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qd(dg.$r)}checkEmpty(e){return ld.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vm(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new dg(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ld.resolve(s)}lookupMutationBatch(e,t){return ld.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return ld.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ld.resolve(0===this.mutationQueue.length?dd:this.tr-1)}getAllMutationBatches(e){return ld.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dg(t,0),r=new dg(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),ld.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qd(Ph);return t.forEach(e=>{const t=new dg(e,0),r=new dg(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ld.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zh.isDocumentKey(i)||(i=i.child(""));const s=new dg(new zh(i),0);let o=new Qd(Ph);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),ld.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){gh(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ld.forEach(t.mutations,r=>{const i=new dg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new dg(t,0),r=this.Zr.firstAfterOrEqual(n);return ld.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ld.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pg{constructor(e){this.ri=e,this.docs=new Kd(zh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ld.resolve(n?n.document.mutableCopy():Ff.newInvalidDocument(t))}getEntries(e,t){let n=Sp();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ff.newInvalidDocument(e))}),ld.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Sp();const s=t.path,o=new zh(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||id(nd(o),n)<=0||(r.has(o.key)||Cp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ld.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ph(9500)}ii(e,t){return ld.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new mg(this)}getSize(e){return ld.resolve(this.size)}}class mg extends sg{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ld.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class gg{constructor(e){this.persistence=e,this.si=new Tp(e=>lp(e),cp),this.lastRemoteSnapshotVersion=Jh.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=$m.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ld.resolve()}getLastRemoteSnapshotVersion(e){return ld.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ld.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ld.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ld.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $m(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ld.resolve()}updateTargetData(e,t){return this.Pr(t),ld.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ld.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ld.waitFor(i).next(()=>r)}getTargetCount(e){return ld.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ld.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ld.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ld.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ld.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ld.resolve(n)}containsKey(e,t){return ld.resolve(this._i.containsKey(t))}}class vg{constructor(e,t){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new ug,this.referenceDelegate=e(this),this.Pi=new gg(this),this.indexManager=new Km,this.remoteDocumentCache=function(e){return new pg(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new qm(t),this.Ii=new lg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new fg(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){uh("MemoryPersistence","Starting transaction:",e);const r=new yg(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ld.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class yg extends od{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new hg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw ph(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ld.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ld.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ld.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ld.forEach(this.fi,n=>{const r=zh.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Jh.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ld.or([()=>ld.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wg{constructor(e,t){this.persistence=e,this.pi=new Tp(e=>vd(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ig(this,t)}static mi(e,t){return new wg(e,t)}Ei(){}di(e){return ld.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ld.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ld.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Jh.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ld.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ld.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ld.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ld.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=If(e.data.value)),t}br(e,t,n){return ld.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ld.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Lp(),r=Lp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new bg(e,t.fromCache,n,r)}}class Cg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xg{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=V()?8:cd(M())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Cg;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(ch()<=pe.DEBUG&&uh("QueryEngine","SDK will not create cache indexes for query:",bp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ld.resolve()):(ch()<=pe.DEBUG&&uh("QueryEngine","Query:",bp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(ch()<=pe.DEBUG&&uh("QueryEngine","The SDK decides to create cache indexes for query:",bp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gp(t))):ld.resolve())}ys(e,t){if(fp(t))return ld.resolve(null);let n=gp(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=yp(t,null,"F"),n=gp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Lp(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,yp(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return fp(t)||r.isEqual(Jh.min())?ld.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?ld.resolve(null):(ch()<=pe.DEBUG&&uh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bp(t)),this.vs(e,s,t,td(r,Zh)).next(e=>e))})}Ds(e,t){let n=new Qd(xp(e));return t.forEach((t,r)=>{Cp(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return ch()<=pe.DEBUG&&uh("QueryEngine","Using full collection scan to execute query:",bp(t)),this.ps.getDocumentsMatchingQuery(e,t,rd.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Eg="LocalStore";class Tg{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Kd(Ph),this.xs=new Tp(e=>lp(e),cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ag(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function kg(e,t,n,r){return new Tg(e,t,n,r)}async function Sg(e,t){const n=vh(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Lp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Ig(e){const t=vh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Ng(e,t){const n=vh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=dd),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}class Pg{constructor(){this.activeTargetIds=jp()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ag{constructor(){this.Mo=new Pg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rg{Oo(e){}shutdown(){}}const Og="ConnectivityMonitor";class Dg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){uh(Og,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){uh(Og,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mg=null;function Lg(){return null===Mg?Mg=268435456+Math.round(2147483648*Math.random()):Mg++,"0x"+Mg.toString(16)}const Fg="RestConnection",jg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ug{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ff?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Lg(),o=this.zo(e,t.toUriEncodedString());uh(Fg,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),c=P(l);return this.Jo(e,o,a,n,c).then(t=>(uh(Fg,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw dh(Fg,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ah,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=jg[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Vg{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const zg="WebChannelConnection";class Bg extends Ug{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Lg();return new Promise((i,o)=>{const a=new Yu;a.setWithCredentials(!0),a.listenOnce(Xu.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case $u.NO_ERROR:const n=a.getResponseJson();uh(zg,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case $u.TIMEOUT:uh(zg,"RPC '".concat(e,"' ").concat(s," timed out")),o(new _h(yh.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const r=a.getStatus();if(uh(zg,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yh).indexOf(t)>=0?t:yh.UNKNOWN}(n.status);o(new _h(e,n.message))}else o(new _h(yh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new _h(yh.UNAVAILABLE,"Connection failed."));break;default:ph(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{uh(zg,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);uh(zg,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Lg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=th(),o=eh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");uh(zg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let h=!1,d=!1;const f=new Vg({Yo:t=>{d?uh(zg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(uh(zg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),uh(zg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Qu.EventType.OPEN,()=>{d||(uh(zg,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Qu.EventType.CLOSE,()=>{d||(d=!0,uh(zg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Qu.EventType.ERROR,t=>{d||(d=!0,dh(zg,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new _h(yh.UNAVAILABLE,"The operation could not be completed")))}),p(u,Qu.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];gh(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){uh(zg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=wm[e];if(void 0!==t)return xm(t)}(t),i=o.message;void 0===n&&(n=yh.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new _h(n,i)),u.close()}else uh(zg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,Zu.STAT_EVENT,t=>{t.stat===Ju.PROXY?uh(zg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ju.NOPROXY&&uh(zg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function qg(){return"undefined"!=typeof document?document:null}function Wg(e){return new Em(e,!0)}class Hg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&uh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kg="PersistentStream";class Gg{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hg(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===yh.RESOURCE_EXHAUSTED?(hh(t.toString()),hh("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===yh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new _h(yh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return uh(Kg,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(uh(Kg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yg extends Gg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return gh(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gh(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){gh(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(gh(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Im(e.updateTime):Im(t);return n.isEqual(Jh.min())&&(n=Im(t)),new tm(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Im(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Dm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Fm(this.serializer,e))};this.q_(t)}}class Qg{}class Xg extends Qg{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _h(yh.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,Pm(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _h(yh.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,Pm(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _h(yh.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $g{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(hh(t),this.aa=!1):uh("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Jg="RemoteStore";class Zg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{nv(this)&&(uh(Jg,"Restarting streams for network reachability change."),await async function(e){const t=vh(e);t.Ea.add(4),await tv(t),t.Ra.set("Unknown"),t.Ea.delete(4),await ev(t)}(this))})}),this.Ra=new $g(n,r)}}async function ev(e){if(nv(e))for(const t of e.da)await t(!0)}async function tv(e){for(const t of e.da)await t(!1)}function nv(e){return 0===vh(e).Ea.size}async function rv(e,t,n){if(!ud(t))throw t;e.Ea.add(1),await tv(e),e.Ra.set("Offline"),n||(n=()=>Ig(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{uh(Jg,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ev(e)})}function iv(e,t){return t().catch(n=>rv(e,n,t))}async function sv(e){const t=vh(e),n=gv(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dd;for(;ov(t);)try{const e=await Ng(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,av(t,e)}catch(e){await rv(t,e)}lv(t)&&cv(t)}function ov(e){return nv(e)&&e.Ta.length<10}function av(e,t){e.Ta.push(t);const n=gv(e);n.O_()&&n.X_&&n.ea(t.mutations)}function lv(e){return nv(e)&&!gv(e).x_()&&e.Ta.length>0}function cv(e){gv(e).start()}async function uv(e){gv(e).ra()}async function hv(e){const t=gv(e);for(const n of e.Ta)t.ea(n.mutations)}async function dv(e,t,n){const r=e.Ta.shift(),i=ym.from(r,t,n);await iv(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sv(e)}async function fv(e,t){t&&gv(e).X_&&await async function(e,t){if(function(e){return Cm(e)&&e!==yh.ABORTED}(t.code)){const n=e.Ta.shift();gv(e).B_(),await iv(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sv(e)}}(e,t),lv(e)&&cv(e)}async function pv(e,t){const n=vh(e);n.asyncQueue.verifyOperationInProgress(),uh(Jg,"RemoteStore received new credentials");const r=nv(n);n.Ea.add(3),await tv(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ev(n)}async function mv(e,t){const n=vh(e);t?(n.Ea.delete(2),await ev(n)):t||(n.Ea.add(2),await tv(n),n.Ra.set("Unknown"))}function gv(e){return e.fa||(e.fa=function(e,t,n){const r=vh(e);return r.sa(),new Yg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:uv.bind(null,e),r_:fv.bind(null,e),ta:hv.bind(null,e),na:dv.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await sv(e)):(await e.fa.stop(),e.Ta.length>0&&(uh(Jg,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class vv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new vv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _h(yh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(e,t){if(hh("AsyncQueue","".concat(t,": ").concat(e)),ud(e))return new _h(yh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _v{constructor(){this.queries=wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=vh(e),r=n.queries;n.queries=wv(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new _h(yh.ABORTED,"Firestore shutting down"))}}function wv(){return new Tp(e=>wp(e),_p)}function bv(e){e.Ca.forEach(e=>{e.next()})}var Cv,xv;(xv=Cv||(Cv={})).Ma="default",xv.Cache="cache";const Ev="SyncEngine";class Tv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Tp(e=>wp(e),_p),this.Iu=new Map,this.Eu=new Set,this.du=new Kd(zh.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=$m.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function kv(e,t,n){const r=vh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=vh(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&bv(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sv(e,t){const n=vh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=vh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ld.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);gh(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Pv(n,r,null),Nv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Av(n,e)}catch(e){await ad(e)}}async function Iv(e,t,n){const r=vh(e);try{const e=await function(e,t){const n=vh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(gh(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Pv(r,t,n),Nv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Av(r,e)}catch(n){await ad(n)}}function Nv(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Pv(e,t,n){const r=vh(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}async function Av(e,t,n){const r=vh(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=bg.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=vh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ld.forEach(t,t=>ld.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ld.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ud(e))throw e;uh(Eg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Rv(e,t){const n=vh(e);if(!n.currentUser.isEqual(t)){uh(Ev,"User change. New user:",t.toKey());const e=await Sg(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new _h(yh.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Av(n,e.Ls)}}function Ov(e){const t=vh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Iv.bind(null,t),t}class Dv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kg(this.persistence,new xg,e.initialUser,this.serializer)}Cu(e){return new vg(_g.mi,this.serializer)}Du(e){return new Ag}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dv.provider={build:()=>new Dv};class Mv extends Dv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){gh(this.persistence.referenceDelegate instanceof wg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ng(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Xm.withCacheSize(this.cacheSizeBytes):Xm.DEFAULT;return new vg(e=>wg.mi(e,t),this.serializer)}}class Lv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>kv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rv.bind(null,this.syncEngine),await mv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _v}createDatastore(e){const t=Wg(e.databaseInfo.databaseId),n=function(e){return new Bg(e)}(e.databaseInfo);return function(e,t,n,r){return new Xg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Zg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>kv(this.syncEngine,e,0),Dg.v()?new Dg:new Rg)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Tv(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=vh(e);uh(Jg,"RemoteStore shutting down."),t.Ea.add(5),await tv(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Lv.provider={build:()=>new Lv};const Fv="FirestoreClient";class jv{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=oh.UNAUTHENTICATED,this.clientId=Nh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{uh(Fv,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(uh(Fv,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=yv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Uv(e,t){e.asyncQueue.verifyOperationInProgress(),uh(Fv,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Sg(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Vv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zv(e);uh(Fv,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>pv(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>pv(t.remoteStore,n)),e._onlineComponents=t}async function zv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){uh(Fv,"Using user provided OfflineComponentProvider");try{await Uv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===yh.FAILED_PRECONDITION||e.code===yh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;dh("Error using user provided cache. Falling back to memory cache: "+n),await Uv(e,new Dv)}}else uh(Fv,"Using default OfflineComponentProvider"),await Uv(e,new Mv(void 0));return e._offlineComponents}async function Bv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(uh(Fv,"Using user provided OnlineComponentProvider"),await Vv(e,e._uninitializedComponentsProvider._online)):(uh(Fv,"Using default OnlineComponentProvider"),await Vv(e,new Lv))),e._onlineComponents}function qv(e){return Bv(e).then(e=>e.syncEngine)}function Wv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Hv=new Map,Kv="firestore.googleapis.com",Gv=!0;class Yv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _h(yh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kv,this.ssl=Gv}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Gv;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Qm;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Zm)throw new _h(yh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _h(yh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _h(yh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _h(yh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _h(yh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _h(yh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _h(yh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ch;switch(e.type){case"firstParty":return new Th(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _h(yh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hv.get(e);t&&(uh("ComponentProvider","Removing Datastore"),Hv.delete(e),t.terminate())}(this),Promise.resolve()}}class Xv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xv(this.firestore,e,this._query)}}class $v{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $v(this.firestore,e,this._key)}toJSON(){return{type:$v._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Yh(t,$v._jsonSchema))return new $v(e,n||null,new zh(jh.fromString(t.referencePath)))}}$v._jsonSchemaVersion="firestore/documentReference/1.0",$v._jsonSchema={type:Gh("string",$v._jsonSchemaVersion),referencePath:Gh("string")};class Jv extends Xv{constructor(e,t,n){super(e,t,dp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $v(this.firestore,null,new zh(e))}withConverter(e){return new Jv(this.firestore,e,this._path)}}function Zv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=le(e),1===arguments.length&&(t=Nh.newId()),Bh("doc","path",t),e instanceof Qv){const n=jh.fromString(t,...r);return qh(n),new $v(e,null,new zh(n))}{if(!(e instanceof $v||e instanceof Jv))throw new _h(yh.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jh.fromString(t,...r));return qh(n),new $v(e.firestore,e instanceof Jv?e.converter:null,new zh(n))}}const ey="AsyncQueue";class ty{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hg(this,"async_queue_retry"),this._c=()=>{const e=qg();e&&uh(ey,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=qg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new wh;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ud(e))throw e;uh(ey,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,hh("INTERNAL UNHANDLED ERROR: ",ny(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=vv.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&ph(47125,{Pc:ny(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ny(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class ry extends Qv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ty,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ty(e),this._firestoreClient=void 0,await e}}}function iy(e){if(e._terminated)throw new _h(yh.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sy(e),e._firestoreClient}function sy(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new df(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Wv(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new jv(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class oy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oy(Zd.fromBase64String(e))}catch(e){throw new _h(yh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new oy(Zd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oy._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yh(e,oy._jsonSchema))return oy.fromBase64String(e.bytes)}}oy._jsonSchemaVersion="firestore/bytes/1.0",oy._jsonSchema={type:Gh("string",oy._jsonSchemaVersion),bytes:Gh("string")};class ay{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _h(yh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ly{constructor(e){this._methodName=e}}class cy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _h(yh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _h(yh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ph(this._lat,e._lat)||Ph(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cy._jsonSchemaVersion}}static fromJSON(e){if(Yh(e,cy._jsonSchema))return new cy(e.latitude,e.longitude)}}cy._jsonSchemaVersion="firestore/geoPoint/1.0",cy._jsonSchema={type:Gh("string",cy._jsonSchemaVersion),latitude:Gh("number"),longitude:Gh("number")};class uy{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:uy._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yh(e,uy._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new uy(e.vectorValues);throw new _h(yh.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uy._jsonSchemaVersion="firestore/vectorValue/1.0",uy._jsonSchema={type:Gh("string",uy._jsonSchemaVersion),vectorValues:Gh("object")};const hy=/^__.*__$/;class dy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new hm(e,this.data,this.fieldMask,t,this.fieldTransforms):new um(e,this.data,t,this.fieldTransforms)}}function fy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ph(40011,{Ac:e})}}class py{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new py(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ky(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(fy(this.Ac)&&hy.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class my{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wg(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new py({Ac:e,methodName:t,Dc:n,path:Vh.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gy(e){const t=e._freezeSettings(),n=Wg(e._databaseId);return new my(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Cy("Data must be an object, but it was:",o,r);const a=wy(r,o);let l,c;if(s.merge)l=new $d(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=xy(t,r,n);if(!o.contains(i))throw new _h(yh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Sy(e,i)||e.push(i)}l=new $d(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new dy(new Mf(a),l,c)}class yy extends ly{_toFieldTransform(e){return new em(e.path,new Kp)}isEqual(e){return e instanceof yy}}function _y(e,t){if(by(e=le(e)))return Cy("Unsupported field value:",t,e),wy(e,t);if(e instanceof ly)return function(e,t){if(!fy(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_y(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=le(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$h.fromDate(e);return{timestampValue:Tm(t.serializer,n)}}if(e instanceof $h){const n=new $h(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tm(t.serializer,n)}}if(e instanceof cy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oy)return{bytesValue:km(t.serializer,e._byteString)};if(e instanceof $v){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Nm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof uy)return function(e,t){return{mapValue:{fields:{[mf]:{stringValue:yf},[_f]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Up(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Hh(e)))}(e,t)}function wy(e,t){const n={};return Hd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wd(e,(e,r)=>{const i=_y(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function by(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $h||e instanceof cy||e instanceof oy||e instanceof $v||e instanceof ly||e instanceof uy)}function Cy(e,t,n){if(!by(n)||!Wh(n)){const r=Hh(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function xy(e,t,n){if((t=le(t))instanceof ay)return t._internalPath;if("string"==typeof t)return Ty(e,t);throw ky("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ey=new RegExp("[~\\*/\\[\\]]");function Ty(e,t,n){if(t.search(Ey)>=0)throw ky("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ay(...t.split("."))._internalPath}catch(r){throw ky("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ky(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new _h(yh.INVALID_ARGUMENT,a+e+l)}function Sy(e,t){return e.some(e=>e.isEqual(t))}class Iy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $v(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Py("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ny extends Iy{data(){return super.data()}}function Py(e,t){return"string"==typeof t?Ty(e,t):t instanceof ay?t._internalPath:t._delegate._internalPath}function Ay(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ry{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oy extends Iy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Dy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _h(yh.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oy._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Oy._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oy._jsonSchema={type:Gh("string",Oy._jsonSchemaVersion),bundleSource:Gh("string","DocumentSnapshot"),bundleName:Gh("string"),bundle:Gh("string")};class Dy extends Oy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class My{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ry(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Dy(this._firestore,this._userDataWriter,n.key,n,new Ry(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _h(yh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Dy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ry(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Dy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ry(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ly(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _h(yh.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=My._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ly(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ph(61501,{type:e})}}My._jsonSchemaVersion="firestore/querySnapshot/1.0",My._jsonSchema={type:Gh("string",My._jsonSchemaVersion),bundleSource:Gh("string","QuerySnapshot"),bundleName:Gh("string"),bundle:Gh("string")};function Fy(e,t){return function(e,t){const n=new wh;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ov(e);try{const e=await function(e,t){const n=vh(e),r=$h.now(),i=t.reduce((e,t)=>e.add(t.key),Lp());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Sp(),l=Lp();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=lm(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new hm(e.key,t,Lf(t.value.mapValue),nm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Pp(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Kd(Ph)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Av(r,e.changes),await sv(r.remoteStore)}catch(e){const t=yv(e,"Failed to persist write");n.reject(t)}}(await qv(e),t,n)),n.promise}(iy(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ah=e}(xt),yt(new ce("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ry(new xh(e.getProvider("auth-internal")),new Sh(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _h(yh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(e.options.projectId,t)}(s,r),s);return i=c({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),kt(ih,sh,e),kt(ih,sh,"esm2020")}();const jy=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=function(e,t,n,r){return le(e).onAuthStateChanged(t,n,r)}(Bu,e=>{t(e),i(!1)});return()=>e()},[]);const s=async e=>{if(!e)return;const t=Zv(Wu,"users",e.uid);await function(e,t,n){e=Kh(e,$v);const r=Kh(e.firestore,ry),i=Ay(e.converter,t,n);return Fy(r,[vy(gy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nm.none())])}(t,{displayName:e.displayName,email:e.email,photoURL:e.photoURL,lastLogin:new yy("serverTimestamp")},{merge:!0})};return{user:e,loading:n,signInWithGoogle:async()=>{i(!0);try{const e=new Rr,t=await ki(Bu,e);await s(t.user)}catch(Ps){console.error("Error durante el inicio de sesi\xf3n con Google:",Ps)}finally{i(!1)}},logOut:async()=>{try{await Br(Bu)}catch(Ps){console.error("Error al cerrar sesi\xf3n:",Ps)}}}};var Uy=n(414);const Vy=e=>{var t;let{user:n,onLogout:r,onAddSuitClick:i}=e;return(0,Uy.jsx)("header",{className:"fixed top-0 left-0 w-full z-50 transition-all duration-300",children:(0,Uy.jsxs)("nav",{className:"mx-auto flex max-w-7xl items-center justify-between p-4 md:px-6 lg:px-8 backdrop-blur-lg bg-surface/80 border-b border-outline/50",children:[(0,Uy.jsx)("div",{className:"flex lg:flex-1",children:(0,Uy.jsx)("a",{href:"#",className:"-m-1.5 p-1.5",children:(0,Uy.jsxs)("span",{className:"text-2xl font-bold tracking-tight text-on-surface",children:["Ready",(0,Uy.jsx)("span",{className:"text-primary",children:"2"}),"Wear"]})})}),n&&(0,Uy.jsxs)("div",{className:"flex items-center gap-x-2 sm:gap-x-4",children:[(0,Uy.jsx)("button",{onClick:i,className:"rounded-full bg-primary/10 px-4 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-primary/20 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"A\xf1adir"}),(0,Uy.jsxs)("span",{className:"text-sm text-on-surface-variant hidden sm:inline",children:["Hola, ",(null===(t=n.displayName)||void 0===t?void 0:t.split(" ")[0])||"Usuario"]}),(0,Uy.jsx)("button",{onClick:r,className:"rounded-full bg-primary px-4 py-2 text-sm font-semibold text-on-primary shadow-sm hover:scale-105 transition-transform duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Salir"})]})]})})},zy=()=>(0,Uy.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,Uy.jsx)("div",{className:"container mx-auto text-center",children:(0,Uy.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Ready2Wear. All rights reserved."]})})}),By=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Uy.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"})})),qy=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Uy.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})),Wy=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Uy.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})})),Hy=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Uy.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zM12 11L4 6h16l-8 5z"})})),Ky=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Uy.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})),Gy=e=>{let{icon:t,label:n,onClick:r,isActive:i}=e;return(0,Uy.jsxs)("button",{onClick:r,className:"flex flex-col items-center justify-center w-full h-full transition-colors duration-200 ".concat(i?"text-primary":"text-on-surface-variant"),children:[(0,Uy.jsx)(t,{className:"h-6 w-6"}),(0,Uy.jsx)("span",{className:"text-xs font-medium mt-1",children:n})]})},Yy=e=>{let{activeView:t,onNavClick:n,onAddClick:r}=e;return(0,Uy.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 h-16 bg-surface-container-low shadow-[0_-1px_3px_rgba(0,0,0,0.1)] flex z-50",children:[(0,Uy.jsx)(Gy,{icon:By,label:"Home",isActive:"home"===t,onClick:()=>n("home")}),(0,Uy.jsx)(Gy,{icon:qy,label:"Buscar",isActive:"search"===t,onClick:()=>n("search")}),(0,Uy.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,Uy.jsx)("button",{onClick:r,className:"-mt-6 bg-primary text-on-primary rounded-full h-16 w-16 flex items-center justify-center shadow-lg hover:bg-primary-dark transition-transform duration-200 hover:scale-105",children:(0,Uy.jsx)(Wy,{className:"h-8 w-8"})})}),(0,Uy.jsx)(Gy,{icon:Hy,label:"Mensajes",isActive:"messages"===t,onClick:()=>n("messages")}),(0,Uy.jsx)(Gy,{icon:Ky,label:"Perfil",isActive:"profile"===t,onClick:()=>n("profile")})]})},Qy=e=>{const[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[o,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const t=Lu(Iu(Wu,e),e=>{try{s(!0);const t=e.val();if(t){const e=Object.keys(t).map(e=>c({id:e},t[e]));n(e)}else n([]);a(null)}catch(t){console.error(t),a("Error al procesar los datos. Por favor, int\xe9ntelo de nuevo m\xe1s tarde.")}finally{s(!1)}},e=>{console.error(e),a("Error al acceder a los datos. Verifique su conexi\xf3n y los permisos de la base de datos."),s(!1)});return()=>t()},[e]),{docs:t,loading:i,error:o}};function Xy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Jy,Zy,e_,t_,n_,r_,i_,s_,o_,a_,l_,c_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},u_={duration:.5,overwrite:!1,delay:0},h_=1e8,d_=1e-8,f_=2*Math.PI,p_=f_/4,m_=0,g_=Math.sqrt,v_=Math.cos,y_=Math.sin,__=function(e){return"string"===typeof e},w_=function(e){return"function"===typeof e},b_=function(e){return"number"===typeof e},C_=function(e){return"undefined"===typeof e},x_=function(e){return"object"===typeof e},E_=function(e){return!1!==e},T_=function(){return"undefined"!==typeof window},k_=function(e){return w_(e)||__(e)},S_="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},I_=Array.isArray,N_=/random\([^)]+\)/g,P_=/,\s*/g,A_=/(?:-?\.?\d|\.)+/gi,R_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,O_=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,D_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,M_=/[+-]=-?[.\d]+/,L_=/[^,'"\[\]\s]+/gi,F_=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,j_={},U_={},V_=function(e){return(U_=gw(e,j_))&&vC},z_=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},B_=function(e,t){return!t&&console.warn(e)},q_=function(e,t){return e&&(j_[e]=t)&&U_&&(U_[e]=t)||j_},W_=function(){return 0},H_={suppressEvents:!0,isStart:!0,kill:!1},K_={suppressEvents:!0,kill:!1},G_={suppressEvents:!0},Y_={},Q_=[],X_={},$_={},J_={},Z_=30,ew=[],tw="",nw=function(e){var t,n,r=e[0];if(x_(r)||w_(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=ew.length;n--&&!ew[n].targetTest(r););t=ew[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ab(e[n],t)))||e.splice(n,1);return e},rw=function(e){return e._gsap||nw(Yw(e))[0]._gsap},iw=function(e,t,n){return(n=e[t])&&w_(n)?e[t]():C_(n)&&e.getAttribute&&e.getAttribute(t)||n},sw=function(e,t){return(e=e.split(",")).forEach(t)||e},ow=function(e){return Math.round(1e5*e)/1e5||0},aw=function(e){return Math.round(1e7*e)/1e7||0},lw=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},cw=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},uw=function(){var e,t,n=Q_.length,r=Q_.slice(0);for(X_={},Q_.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},hw=function(e){return!!(e._initted||e._startAt||e.add)},dw=function(e,t,n,r){Q_.length&&!Zy&&uw(),e.render(t,n,r||!!(Zy&&t<0&&hw(e))),Q_.length&&!Zy&&uw()},fw=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(L_).length<2?t:__(e)?e.trim():e},pw=function(e){return e},mw=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},gw=function(e,t){for(var n in t)e[n]=t[n];return e},vw=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=x_(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},yw=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},_w=function(e){var t,n=e.parent||t_,r=e.keyframes?(t=I_(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):mw;if(E_(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ww=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},bw=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Cw=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},xw=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Ew=function(e,t,n,r){return e._startAt&&(Zy?e._startAt.revert(K_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Tw=function e(t){return!t||t._ts&&e(t.parent)},kw=function(e){return e._repeat?Sw(e._tTime,e=e.duration()+e._rDelay)*e:0},Sw=function(e,t){var n=Math.floor(e=aw(e/t));return e&&n===e?n-1:n},Iw=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Nw=function(e){return e._end=aw(e._start+(e._tDur/Math.abs(e._ts||e._rts||d_)||0))},Pw=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=aw(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Nw(e),n._dirty||xw(n,e)),e},Aw=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Iw(e.rawTime(),t),(!t._dur||qw(0,t.totalDuration(),n)-t._tTime>d_)&&t.render(n,!0)),xw(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Rw=function(e,t,n,r){return t.parent&&Cw(t),t._start=aw((b_(n)?n:n||e!==t_?Vw(e,n,t):e._time)+t._delay),t._end=aw(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ww(e,t,"_first","_last",e._sort?"_start":0),Lw(t)||(e._recent=t),r||Aw(e,t),e._ts<0&&Pw(e,e._tTime),e},Ow=function(e,t){return(j_.ScrollTrigger||z_("scrollTrigger",t))&&j_.ScrollTrigger.create(t,e)},Dw=function(e,t,n,r,i){return Ub(e,t,i),e._initted?!n&&e._pt&&!Zy&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&o_!==yb.frame?(Q_.push(e),e._lazy=[i,r],1):void 0:1},Mw=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Lw=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Fw=function(e,t,n,r){var i=e._repeat,s=aw(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:aw(s*(i+1)+e._rDelay*i):s,o>0&&!r&&Pw(e,e._tTime=e._tDur*o),e.parent&&Nw(e),n||xw(e.parent,e),e},jw=function(e){return e instanceof Ob?xw(e):Fw(e,e._dur)},Uw={_start:0,endTime:W_,totalDuration:W_},Vw=function e(t,n,r){var i,s,o,a=t.labels,l=t._recent||Uw,c=t.duration()>=h_?l.endTime(!1):t._dur;return __(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(I_(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},zw=function(e,t,n){var r,i,s=b_(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=E_(i.vars.inherit)&&i.parent;a.immediateRender=E_(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new Wb(t[0],a,t[o+1])},Bw=function(e,t){return e||0===e?t(e):t},qw=function(e,t,n){return n<e?e:n>t?t:n},Ww=function(e,t){return __(e)&&(t=F_.exec(e))?t[1]:""},Hw=[].slice,Kw=function(e,t){return e&&x_(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&x_(e[0]))&&!e.nodeType&&e!==n_},Gw=function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return __(e)&&!t||Kw(e,1)?(r=n).push.apply(r,Yw(e)):n.push(e)})||n},Yw=function(e,t,n){return e_&&!t&&e_.selector?e_.selector(e):!__(e)||n||!r_&&_b()?I_(e)?Gw(e,n):Kw(e)?Hw.call(e,0):e?[e]:[]:Hw.call((t||i_).querySelectorAll(e),0)},Qw=function(e){return e=Yw(e)[0]||B_("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Yw(t,n.querySelectorAll?n:n===e?B_("Invalid scope")||i_.createElement("div"):e)}},Xw=function(e){return e.sort(function(){return.5-Math.random()})},$w=function(e){if(w_(e))return e;var t=x_(e)?e:{each:e},n=kb(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,c=r,u=r;return __(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(e,o,h){var d,f,p,m,g,v,y,_,w,b=(h||t).length,C=s[b];if(!C){if(!(w="auto"===t.grid?0:(t.grid||[1,h_])[1])){for(y=-h_;y<(y=h[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(C=s[b]=[],d=a?Math.min(w,b)*c-.5:r%w,f=w===h_?0:a?b*u/w-.5:r/w|0,y=0,_=h_,v=0;v<b;v++)p=v%w-d,m=f-(v/w|0),C[v]=g=l?Math.abs("y"===l?m:p):g_(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===r&&Xw(C),C.max=y-_,C.min=_,C.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(w>b?b-1:l?"y"===l?b/w:w:Math.max(w,b/w))||0)*("edges"===r?-1:1),C.b=b<0?i-b:i,C.u=Ww(t.amount||t.each)||0,n=n&&b<0?Eb(n):n}return b=(C[e]-C.min)/C.max||0,aw(C.b+(n?n(b):b)*C.v)+C.u}},Jw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=aw(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(b_(n)?0:Ww(n))}},Zw=function(e,t){var n,r,i=I_(e);return!i&&x_(e)&&(n=i=e.radius||h_,e.values?(e=Yw(e.values),(r=!b_(e[0]))&&(n*=n)):e=Jw(e.increment)),Bw(t,i?w_(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=h_,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(s=e[u].y-a)*s:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||b_(t)?c:c+Ww(t)}:Jw(e))},eb=function(e,t,n,r){return Bw(I_(e)?!t:!0===n?!!(n=0):!r,function(){return I_(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},tb=function(e,t,n){return Bw(n,function(n){return e[~~t(n)]})},nb=function(e){return e.replace(N_,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(P_);return eb(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},rb=function(e,t,n,r,i){var s=t-e,o=r-n;return Bw(i,function(t){return n+((t-e)/s*o||0)})},ib=function(e,t,n){var r,i,s,o=e.labels,a=h_;for(r in o)(i=o[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},sb=function(e,t,n){var r,i,s,o=e.vars,a=o[t],l=e_,c=e._ctx;if(a)return r=o[t+"Params"],i=o.callbackScope||e,n&&Q_.length&&uw(),c&&(e_=c),s=r?a.apply(i,r):a.call(i),e_=l,s},ob=function(e){return Cw(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Zy),e.progress()<1&&sb(e,"onInterrupt"),e},ab=[],lb=function(e){if(e)if(e=!e.name&&e.default||e,T_()||e.headless){var t=e.name,n=w_(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:W_,render:Zb,add:Fb,kill:tC,modifier:eC,rawVars:0},s={targetTest:0,get:0,getSetter:Qb,aliases:{},register:0};if(_b(),e!==r){if($_[t])return;mw(r,mw(yw(e,i),s)),gw(r.prototype,gw(i,yw(e,s))),$_[r.prop=t]=r,e.targetTest&&(ew.push(r),Y_[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}q_(t,r),e.register&&e.register(vC,r,iC)}else ab.push(e)},cb=255,ub={aqua:[0,cb,cb],lime:[0,cb,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,cb],navy:[0,0,128],white:[cb,cb,cb],olive:[128,128,0],yellow:[cb,cb,0],orange:[cb,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[cb,0,0],pink:[cb,192,203],cyan:[0,cb,cb],transparent:[cb,cb,cb,0]},hb=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*cb+.5|0},db=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f=e?b_(e)?[e>>16,e>>8&cb,e&cb]:0:ub.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),ub[e])f=ub[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&cb,f&cb,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&cb,e&cb]}else if("hsl"===e.substr(0,3))if(f=d=e.match(A_),t){if(~e.indexOf("="))return f=e.match(R_),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=hb(o+1/3,r,i),f[1]=hb(o,r,i),f[2]=hb(o-1/3,r,i);else f=e.match(A_)||ub.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/cb,i=f[1]/cb,s=f[2]/cb,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?o=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},fb=function(e){var t=[],n=[],r=-1;return e.split(mb).forEach(function(e){var i=e.match(O_)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},pb=function(e,t,n){var r,i,s,o,a="",l=(e+a).match(mb),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=db(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(s=fb(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(mb,"1").split(O_)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=e.split(mb)).length-1;u<o;u++)a+=i[u]+l[u];return a+i[o]},mb=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in ub)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),gb=/hsl[a]?\(/,vb=function(e){var t,n=e.join(" ");if(mb.lastIndex=0,mb.test(n))return t=gb.test(n),e[1]=pb(e[1],t),e[0]=pb(e[0],t,fb(e[1])),!0},yb=function(){var e,t,n,r,i,s,o=Date.now,a=500,l=33,c=o(),u=c,h=1e3/240,d=h,f=[],p=function n(p){var m,g,v,y,_=o()-u,w=!0===p;if((_>a||_<0)&&(c+=_-l),((m=(v=(u+=_)-c)-d)>0||w)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,d+=m+(m>=h?4:h-m),g=1),w||(e=t(n)),g)for(s=0;s<f.length;s++)f[s](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){s_&&(!r_&&T_()&&(n_=r_=window,i_=n_.document||{},j_.gsap=vC,(n_.gsapVersions||(n_.gsapVersions=[])).push(vC.version),V_(U_||n_.GreenSockGlobals||!n_.gsap&&n_||{}),ab.forEach(lb)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},l_=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),l_=0,t=W_},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,s,o){e(t,n,s,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),_b(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&s>=t&&s--},_listeners:f},r}(),_b=function(){return!l_&&yb.wake()},wb={},bb=/^[\d.\-M][\d.\-,\s]/,Cb=/["']/g,xb=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Cb,"").trim():+r,o=n.substr(t+1).trim();return i},Eb=function(e){return function(t){return 1-e(1-t)}},Tb=function e(t,n){for(var r,i=t._first;i;)i instanceof Ob?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},kb=function(e,t){return e&&(w_(e)?e:wb[e]||function(e){var t=(e+"").split("("),n=wb[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[xb(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(fw)):wb._CE&&bb.test(e)?wb._CE("",e):n}(e))||t},Sb=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return sw(e,function(e){for(var t in wb[e]=j_[e]=s,wb[i=e.toLowerCase()]=n,s)wb[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=wb[e+"."+t]=s[t]}),s},Ib=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Nb=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/f_*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*y_((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Ib(a);return s=f_/s,l.config=function(n,r){return e(t,n,r)},l},Pb=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Ib(r);return i.config=function(n){return e(t,n)},i};sw("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;Sb(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),wb.Linear.easeNone=wb.none=wb.Linear.easeIn,Sb("Elastic",Nb("in"),Nb("out"),Nb()),function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};Sb("Bounce",function(e){return 1-s(1-e)},s)}(7.5625,2.75),Sb("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),Sb("Circ",function(e){return-(g_(1-e*e)-1)}),Sb("Sine",function(e){return 1===e?1:1-v_(e*p_)}),Sb("Back",Pb("in"),Pb("out"),Pb()),wb.SteppedEase=wb.steps=j_.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*qw(0,.99999999,e)|0)+i)*n}}},u_.ease=wb["quad.out"],sw("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return tw+=e+","+e+"Params,"});var Ab=function(e,t){this.id=m_++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:iw,this.set=t?t.getSetter:Qb},Rb=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Fw(this,+e.duration,1,1),this.data=e.data,e_&&(this._ctx=e_,e_.data.push(this)),l_||yb.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Fw(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(_b(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Pw(this,e),!n._dp||n.parent||Aw(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Rw(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===d_||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),dw(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+kw(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+kw(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Sw(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Iw(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(qw(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),Nw(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_b(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==d_&&(this._tTime-=d_)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=aw(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Rw(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+(E_(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Iw(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=G_);var t=Zy;return Zy=e,hw(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Zy=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,jw(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,jw(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Vw(this,e),E_(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,E_(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-d_))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=w_(e)?e:pw,s=function(){var e=t.then;t.then=null,n&&n(),w_(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?s():t._prom=s})},t.kill=function(){ob(this)},e}();mw(Rb.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ob=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=E_(t.sortChildren),t_&&Rw(t.parent||t_,Xy(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Ow(Xy(r),t.scrollTrigger),r}$y(t,e);var n=t.prototype;return n.to=function(e,t,n){return zw(0,arguments,this),this},n.from=function(e,t,n){return zw(1,arguments,this),this},n.fromTo=function(e,t,n,r){return zw(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,_w(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Wb(e,t,Vw(this,n),1),this},n.call=function(e,t,n){return Rw(this,Wb.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new Wb(e,n,Vw(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,_w(n).immediateRender=E_(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},n.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,_w(r).immediateRender=E_(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:aw(e),_=this._zTime<0!==e<0&&(this._initted||!v);if(this!==t_&&y>g&&e>=0&&(y=g),y!==this._tTime||n||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(u=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=aw(y%a),y===g?(o=this._repeat,r=v):((o=~~(d=aw(y/a)))&&o===d&&(r=v,o--),r>v&&(r=v)),d=Sw(this._tTime,a),!m&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(r=v-r,p=1),o!==d&&!this._lock){var w=f&&1&d,b=w===(f&&1&o);if(o<d&&(w=!w),m=w?0:y%v?v:y,this._lock=1,this.render(m||(p?0:aw(o*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&sb(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,d=o),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,b&&(this._lock=2,m=w?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;Tb(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,aw(m),aw(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!d&&(sb(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,s&&(y+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var C=e<0?e:r;i;){if(s=i._prev,(i._act||C<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(C-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(C-i._start)*i._ts,t,n||Zy&&hw(i)),r!==this._time||!this._ts&&!l){c=0,s&&(y+=this._zTime=C?-1e-8:d_);break}}i=s}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,Nw(this),this.render(e,t,n);this._onUpdate&&!t&&sb(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&Cw(this,1),t||e<0&&!m||!y&&!m&&g||(sb(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(b_(t)||(t=Vw(this,t,e)),!(e instanceof Rb)){if(I_(e))return e.forEach(function(e){return n.add(e,t)}),this;if(__(e))return this.addLabel(e,t);if(!w_(e))return this;e=Wb.delayedCall(0,e)}return this!==e?Rw(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-h_);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Wb?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return __(e)?this.removeLabel(e):w_(e)?this.killTweensOf(e):(e.parent===this&&bw(this,e),e===this._recent&&(this._recent=this._last),xw(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=aw(yb.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Vw(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Wb.delayedCall(0,t||W_,n);return r.data="isPause",this._hasPause=1,Rw(this,r,Vw(this,e))},n.removePause=function(e){var t=this._first;for(e=Vw(this,e);t;)t._start===e&&"isPause"===t.data&&Cw(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Db!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Yw(e),s=this._first,o=b_(t);s;)s instanceof Wb?cw(s._targets,i)&&(o?(!Db||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Vw(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,c=s.immediateRender,u=Wb.to(r,mw({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||d_,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&Fw(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,mw({startAt:{time:Vw(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),ib(this,Vw(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),ib(this,Vw(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+d_)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,s=this.labels;for(e=aw(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return xw(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),xw(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,a=h_;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,Rw(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=aw(n/s._ts),s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=t;Fw(s,s===t_&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(t_._ts&&(dw(t_,Iw(e,t_)),o_=yb.frame),yb.frame>=Z_){Z_+=c_.autoSleep||120;var t=t_._first;if((!t||!t._ts)&&c_.autoSleep&&yb._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||yb.sleep()}}},t}(Rb);mw(Ob.prototype,{_lock:0,_hasPause:0,_forcing:0});var Db,Mb,Lb=function(e,t,n,r,i,s,o){var a,l,c,u,h,d,f,p,m=new iC(this._pt,e,t,0,1,Jb,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=nb(r)),s&&(s(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(D_)||[];a=D_.exec(r);)u=a[0],h=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?lw(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},g=D_.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(M_.test(r)||f)&&(m.e=0),this._pt=m,m},Fb=function(e,t,n,r,i,s,o,a,l,c){w_(r)&&(r=r(i||0,e,s));var u,h=e[t],d="get"!==n?n:w_(h)?l?e[t.indexOf("set")||!w_(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=w_(h)?l?Gb:Kb:Hb;if(__(r)&&(~r.indexOf("random(")&&(r=nb(r)),"="===r.charAt(1)&&((u=lw(d,r)+(Ww(d)||0))||0===u)&&(r=u)),!c||d!==r||Mb)return isNaN(d*r)||""===r?(!h&&!(t in e)&&z_(t,r),Lb.call(this,e,t,d,r,f,a||c_.stringFilter,l)):(u=new iC(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?$b:Xb,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},jb=function(e,t,n,r,i,s){var o,a,l,c;if($_[e]&&!1!==(o=new $_[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(w_(e)&&(e=zb(e,i,t,n,r)),!x_(e)||e.style&&e.nodeType||I_(e)||S_(e))return __(e)?zb(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=zb(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new iC(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==a_))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},Ub=function e(t,n,r){var i,s,o,a,l,c,u,h,d,f,p,m,g,v=t.vars,y=v.ease,_=v.startAt,w=v.immediateRender,b=v.lazy,C=v.onUpdate,x=v.runBackwards,E=v.yoyoEase,T=v.keyframes,k=v.autoRevert,S=t._dur,I=t._startAt,N=t._targets,P=t.parent,A=P&&"nested"===P.data?P.vars.targets:N,R="auto"===t._overwrite&&!Jy,O=t.timeline;if(O&&(!T||!y)&&(y="none"),t._ease=kb(y,u_.ease),t._yEase=E?Eb(kb(!0===E?y:E,u_.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!O&&!!v.runBackwards,!O||T&&!v.stagger){if(m=(h=N[0]?rw(N[0]).harness:0)&&v[h.prop],i=yw(v,Y_),I&&(I._zTime<0&&I.progress(1),n<0&&x&&w&&!k?I.render(-1,!0):I.revert(x&&S?K_:H_),I._lazy=0),_){if(Cw(t._startAt=Wb.set(N,mw({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!I&&E_(b),startAt:null,delay:0,onUpdate:C&&function(){return sb(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Zy||!w&&!k)&&t._startAt.revert(K_),w&&S&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(x&&S&&!I)if(n&&(w=!1),o=mw({overwrite:!1,data:"isFromStart",lazy:w&&!I&&E_(b),immediateRender:w,stagger:0,parent:P},i),m&&(o[h.prop]=m),Cw(t._startAt=Wb.set(N,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Zy?t._startAt.revert(K_):t._startAt.render(-1,!0)),t._zTime=n,w){if(!n)return}else e(t._startAt,d_,d_);for(t._pt=t._ptCache=0,b=S&&E_(b)||b&&!S,s=0;s<N.length;s++){if(u=(l=N[s])._gsap||nw(N)[s]._gsap,t._ptLookup[s]=f={},X_[u.id]&&Q_.length&&uw(),p=A===N?s:A.indexOf(l),h&&!1!==(d=new h).init(l,m||i,t,p,A)&&(t._pt=a=new iC(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(e){f[e]=a}),d.priority&&(c=1)),!h||m)for(o in i)$_[o]&&(d=jb(o,i,t,p,l,A))?d.priority&&(c=1):f[o]=a=Fb.call(t,l,o,"get",i[o],p,A,0,v.stringFilter);t._op&&t._op[s]&&t.kill(l,t._op[s]),R&&t._pt&&(Db=t,t_.killTweensOf(l,f,t.globalTime(n)),g=!t.parent,Db=0),t._pt&&b&&(X_[u.id]=1)}c&&rC(t),t._onInit&&t._onInit(t)}t._onUpdate=C,t._initted=(!t._op||t._pt)&&!g,T&&n<=0&&O.render(h_,!0,!0)},Vb=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(I_(t))s=n[e]||(n[e]=[]),t.forEach(function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})});else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},zb=function(e,t,n,r,i){return w_(e)?e.call(t,n,r,i):__(e)&&~e.indexOf("random(")?nb(e):e},Bb=tw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",qb={};sw(Bb+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return qb[e]=1});var Wb=function(e){function t(t,n,r,i){var s;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,a,l,c,u,h,d,f,p=(s=e.call(this,i?n:_w(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,w=p.keyframes,b=p.defaults,C=p.scrollTrigger,x=p.yoyoEase,E=n.parent||t_,T=(I_(t)||S_(t)?b_(t[0]):"length"in n)?[t]:Yw(t);if(s._targets=T.length?nw(T):B_("GSAP target "+t+" not found. https://gsap.com",!c_.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=_,w||y||k_(m)||k_(g)){if(n=s.vars,(o=s.timeline=new Ob({data:"nested",defaults:b||{},targets:E&&"nested"===E.data?E.vars.targets:T})).kill(),o.parent=o._dp=Xy(s),o._start=0,y||k_(m)||k_(g)){if(c=T.length,d=y&&$w(y),x_(y))for(u in y)~Bb.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(a=0;a<c;a++)(l=yw(n,qb)).stagger=0,x&&(l.yoyoEase=x),f&&gw(l,f),h=T[a],l.duration=+zb(m,Xy(s),a,h,T),l.delay=(+zb(g,Xy(s),a,h,T)||0)-s._delay,!y&&1===c&&l.delay&&(s._delay=g=l.delay,s._start+=g,l.delay=0),o.to(h,l,d?d(a,h,T):0),o._ease=wb.none;o.duration()?m=g=0:s.timeline=0}else if(w){_w(mw(o.vars.defaults,{ease:"none"})),o._ease=kb(w.ease||n.ease||"none");var k,S,I,N=0;if(I_(w))w.forEach(function(e){return o.to(T,e,">")}),o.duration();else{for(u in l={},w)"ease"===u||"easeEach"===u||Vb(u,w[u],l,w.easeEach);for(u in l)for(k=l[u].sort(function(e,t){return e.t-t.t}),N=0,a=0;a<k.length;a++)(I={ease:(S=k[a]).e,duration:(S.t-(a?k[a-1].t:0))/100*m})[u]=S.v,o.to(T,I,N),N+=I.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||s.duration(m=o.duration())}else s.timeline=0;return!0!==_||Jy||(Db=Xy(s),t_.killTweensOf(T),Db=0),Rw(E,Xy(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(v||!m&&!w&&s._start===aw(E._time)&&E_(v)&&Tw(Xy(s))&&"nested"!==E.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),C&&Ow(Xy(s),C),s}$y(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-d_&&!m?f:e<d_?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=aw(g%o),g===f?(s=this._repeat,r=p):(s=~~(a=aw(g/o)))&&s===a?(r=p,s--):r>p&&(r=p),(l=this._yoyo&&1&s)&&(h=this._yEase,r=p-r),a=Sw(this._tTime,o),r===d&&!n&&this._initted&&s===a)return this._tTime=g,this;s!==a&&(u&&this._yEase&&Tb(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==o&&this._initted&&(this._lock=n=1,this.render(aw(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(Dw(this,m?e:r,n,t,g))return this._tTime=0,this;if(d!==this._time&&(!n||!this.vars.repeatRefresh||s===a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!d&&g&&!t&&!a&&(sb(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Ew(this,e,0,n),sb(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!t&&this.parent&&sb(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Ew(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Cw(this,1),t||m&&!d||!(g||d||l)||(sb(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,o,a=e.ratio,l=t<0||!t&&(!e._start&&Mw(e)&&(e._initted||!Lw(e))||(e._ts<0||e._dp._ts<0)&&!Lw(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=qw(0,e._tDur,t),s=Sw(u,c),e._yoyo&&1&s&&(l=1-l),s!==Sw(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||Zy||r||e._zTime===d_||!t&&e._zTime){if(!e._initted&&Dw(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?d_:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&Ew(e,t,0,!0),e._onUpdate&&!n&&sb(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&sb(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Cw(e,1),n||Zy||(sb(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){l_||yb.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ub(this,s),function(e,t,n,r,i,s,o,a){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Mb=1,e.vars[t]="+=0",Ub(e,o),Mb=0,a?B_(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=ow(n)+Ww(c.e)),c.b&&(c.b=l.s+Ww(c.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(Pw(this,0),this.parent||ww(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?ob(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Zy),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Db&&!0!==Db.vars.overwrite)._first||ob(this),this.parent&&n!==this.timeline.totalDuration()&&Fw(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,a,l,c,u=this._targets,h=e?Yw(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),ob(this);for(r=this._op=this._op||[],"all"!==t&&(__(t)&&(a={},sw(t,function(e){return a[e]=1}),t=a),t=function(e,t){var n,r,i,s,o=e[0]?rw(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=gw({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=d[c],"all"===t?(r[c]=t,o=i,s={}):(s=r[c]=r[c]||{},o=t),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||bw(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&ob(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return zw(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return zw(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return t_.killTweensOf(e,t,n)},t}(Rb);mw(Wb.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),sw("staggerTo,staggerFrom,staggerFromTo",function(e){Wb[e]=function(){var t=new Ob,n=Hw.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var Hb=function(e,t,n){return e[t]=n},Kb=function(e,t,n){return e[t](n)},Gb=function(e,t,n,r){return e[t](r.fp,n)},Yb=function(e,t,n){return e.setAttribute(t,n)},Qb=function(e,t){return w_(e[t])?Kb:C_(e[t])&&e.setAttribute?Yb:Hb},Xb=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},$b=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Jb=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Zb=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},eC=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},tC=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?bw(this,r,"_pt"):r.dep||(t=1),r=n;return!t},nC=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},rC=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},iC=function(){function e(e,t,n,r,i,s,o,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||Xb,this.d=o||this,this.set=a||Hb,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=nC,this.m=e,this.mt=n,this.tween=t},e}();sw(tw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return Y_[e]=1}),j_.TweenMax=j_.TweenLite=Wb,j_.TimelineLite=j_.TimelineMax=Ob,t_=new Ob({sortChildren:!1,defaults:u_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),c_.stringFilter=vb;var sC=[],oC={},aC=[],lC=0,cC=0,uC=function(e){return(oC[e]||aC).map(function(e){return e()})},hC=function(){var e=Date.now(),t=[];e-lC>2&&(uC("matchMediaInit"),sC.forEach(function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=n_.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))}),uC("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),lC=e,uC("matchMedia"))},dC=function(){function e(e,t){this.selector=t&&Qw(t),this.data=[],this._r=[],this.isReverted=!1,this.id=cC++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){w_(e)&&(n=t,t=e,e=w_);var r=this,i=function(){var e,i=e_,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=Qw(n)),e_=r,e=t.apply(r,arguments),w_(e)&&r._r.push(e),e_=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===w_?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=e_;e_=null,e(this),e_=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Wb&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof Ob?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Wb)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=sC.length;r--;)sC[r].id===this.id&&sC.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),fC=function(){function e(e){this.contexts=[],this.scope=e,e_&&e_.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){x_(e)||(e={matches:e});var r,i,s,o=new dC(0,n||this.scope),a=o.conditions={};for(i in e_&&!o.selector&&(o.selector=e_.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?s=1:(r=n_.matchMedia(e[i]))&&(sC.indexOf(o)<0&&sC.push(o),(a[i]=r.matches)&&(s=1),r.addListener?r.addListener(hC):r.addEventListener("change",hC));return s&&t(o,function(e){return o.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),pC={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return lb(e)})},timeline:function(e){return new Ob(e)},getTweensOf:function(e,t){return t_.getTweensOf(e,t)},getProperty:function(e,t,n,r){__(e)&&(e=Yw(e)[0]);var i=rw(e||{}).get,s=n?pw:fw;return"native"===n&&(n=""),e?t?s(($_[t]&&$_[t].get||i)(e,t,n,r)):function(t,n,r){return s(($_[t]&&$_[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Yw(e)).length>1){var r=e.map(function(e){return vC.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=$_[t],o=rw(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;a_._pt=0,r.init(e,n?t+n:t,a_,0,[e]),r.render(1,r),a_._pt&&Zb(1,a_)}:o.set(e,a);return s?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=vC.to(e,mw(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return t_.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=kb(e.ease,u_.ease)),vw(u_,e||{})},config:function(e){return vw(c_,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!$_[e]&&!j_[e]&&B_(t+" effect requires "+e+" plugin.")}),J_[t]=function(e,t,r){return n(Yw(e),mw(t||{},i),r)},s&&(Ob.prototype[t]=function(e,n,r){return this.add(J_[t](e,x_(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){wb[e]=kb(t)},parseEase:function(e,t){return arguments.length?kb(e,t):wb},getById:function(e){return t_.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Ob(e);for(i.smoothChildTiming=E_(e.smoothChildTiming),t_.remove(i),i._dp=0,i._time=i._tTime=t_._time,n=t_._first;n;)r=n._next,!t&&!n._dur&&n instanceof Wb&&n.vars.onComplete===n._targets[0]||Rw(i,n,n._start-n._delay),n=r;return Rw(t_,i,0),i},context:function(e,t){return e?new dC(e,t):e_},matchMedia:function(e){return new fC(e)},matchMediaRefresh:function(){return sC.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||hC()},addEventListener:function(e,t){var n=oC[e]||(oC[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=oC[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return I_(t)?tb(t,e(0,t.length),n):Bw(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return I_(t)?tb(t,e(0,t.length-1),n):Bw(r,function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)})},distribute:$w,random:eb,snap:Zw,normalize:function(e,t,n){return rb(e,t,0,1,n)},getUnit:Ww,clamp:function(e,t,n){return Bw(n,function(n){return qw(e,t,n)})},splitColor:db,toArray:Yw,selector:Qw,mapRange:rb,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ww(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,l,c,u,h=__(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(I_(t)&&!I_(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,s=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=gw(I_(t)?[]:{},t));if(!l){for(o in n)Fb.call(d,t,o,"get",n[o]);s=function(e){return Zb(e,d)||(h?t.p:t)}}}return Bw(r,s)},shuffle:Xw},install:V_,effects:J_,ticker:yb,updateRoot:Ob.updateRoot,plugins:$_,globalTimeline:t_,core:{PropTween:iC,globals:q_,Tween:Wb,Timeline:Ob,Animation:Rb,getCache:rw,_removeLinkedListItem:bw,reverting:function(){return Zy},context:function(e){return e&&e_&&(e_.data.push(e),e._ctx=e_),e_},suppressOverwrites:function(e){return Jy=e}}};sw("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return pC[e]=Wb[e]}),yb.add(Ob.updateRoot),a_=pC.to({},{duration:0});var mC=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},gC=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(__(n)&&(r={},sw(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=mC(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},vC=pC.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)Zy?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},gC("roundProps",Jw),gC("modifiers"),gC("snap",Zw))||pC;Wb.version=Ob.version=vC.version="3.14.2",s_=1,T_()&&_b();wb.Power0,wb.Power1,wb.Power2,wb.Power3,wb.Power4,wb.Linear,wb.Quad,wb.Cubic,wb.Quart,wb.Quint,wb.Strong,wb.Elastic,wb.Back,wb.SteppedEase,wb.Bounce,wb.Sine,wb.Expo,wb.Circ;var yC,_C,wC,bC,CC,xC,EC,TC,kC={},SC=180/Math.PI,IC=Math.PI/180,NC=Math.atan2,PC=/([A-Z])/g,AC=/(left|right|width|margin|padding|x)/i,RC=/[\s,\(]\S/,OC={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},DC=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},MC=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},LC=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},FC=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},jC=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},UC=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},VC=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},zC=function(e,t,n){return e.style[t]=n},BC=function(e,t,n){return e.style.setProperty(t,n)},qC=function(e,t,n){return e._gsap[t]=n},WC=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},HC=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},KC=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},GC="transform",YC=GC+"Origin",QC=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in kC&&s){if(this.tfm=this.tfm||{},"transform"===t)return OC.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=OC[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=fx(i,e)}):this.tfm[t]=o.x?o[t]:fx(i,t),t===YC&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(GC)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(YC,n,"")),t=GC}(s||n)&&this.props.push(t,n,s[t])},XC=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},$C=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(PC,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=EC())&&e.isStart||i[GC]||(XC(i),s.zOrigin&&i[YC]&&(i[YC]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},JC=function(e,t){var n={target:e,props:[],revert:$C,save:QC};return e._gsap||vC.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},ZC=function(e,t){var n=_C.createElementNS?_C.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_C.createElement(e);return n&&n.style?n:_C.createElement(e)},ex=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(PC,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,nx(n)||n,1)||""},tx="O,Moz,ms,Ms,Webkit".split(","),nx=function(e,t,n){var r=(t||CC).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(tx[i]+e in r););return i<0?null:(3===i?"ms":i>=0?tx[i]:"")+e},rx=function(){"undefined"!==typeof window&&window.document&&(yC=window,_C=yC.document,wC=_C.documentElement,CC=ZC("div")||{style:{}},ZC("div"),GC=nx(GC),YC=GC+"Origin",CC.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",TC=!!nx("perspective"),EC=vC.core.reverting,bC=1)},ix=function(e){var t,n=e.ownerSVGElement,r=ZC("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),wC.appendChild(r);try{t=i.getBBox()}catch(s){}return r.removeChild(i),wC.removeChild(r),t},sx=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ox=function(e){var t,n;try{t=e.getBBox()}catch(Ps){t=ix(e),n=1}return t&&(t.width||t.height)||n||(t=ix(e)),!t||t.width||t.x||t.y?t:{x:+sx(e,["x","cx","x1"])||0,y:+sx(e,["y","cy","y1"])||0,width:0,height:0}},ax=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!ox(e))},lx=function(e,t){if(t){var n,r=e.style;t in kC&&t!==YC&&(t=GC),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(PC,"-$1").toLowerCase())):r.removeAttribute(t)}},cx=function(e,t,n,r,i,s){var o=new iC(e._pt,t,n,0,1,s?VC:UC);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},ux={deg:1,rad:1,turn:1},hx={grid:1,flex:1},dx=function e(t,n,r,i){var s,o,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=CC.style,d=AC.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||ux[i]||ux[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&ax(t),(v||"%"===u)&&(kC[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[p],ow(v?c/s*m:c/100*s);if(h[d?"width":"height"]=m+(g?u:i),o="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==_C&&o.appendChild||(o=_C.body),(a=o._gsap)&&v&&a.width&&d&&a.time===yb.time&&!a.uncache)return ow(c/a.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!hx[ex(o,"display")]&&(h.position=ex(t,"position")),o===t&&(h.position="static"),o.appendChild(CC),s=CC[p],o.removeChild(CC),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,s=t[p],y?t.style[n]=y:lx(t,n)}return d&&v&&((a=rw(o)).time=yb.time,a.width=o[p]),ow(g?s*c/m:s&&c?m/s*c:0)},fx=function(e,t,n,r){var i;return bC||rx(),t in OC&&"transform"!==t&&~(t=OC[t]).indexOf(",")&&(t=t.split(",")[0]),kC[t]&&"transform"!==t?(i=Tx(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:kx(ex(e,YC))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=yx[t]&&yx[t](e,t,n)||ex(e,t)||iw(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?dx(e,t,i,n)+n:i},px=function(e,t,n,r){if(!n||"none"===n){var i=nx(t,e,1),s=i&&ex(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=ex(e,"borderTopColor"))}var o,a,l,c,u,h,d,f,p,m,g,v=new iC(this._pt,e.style,t,0,1,Jb),y=0,_=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=ex(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(h=e.style[t],e.style[t]=r,r=ex(e,t)||r,h?e.style[t]=h:lx(e,t)),vb(o=[n,r]),r=o[1],l=(n=o[0]).match(O_)||[],(r.match(O_)||[]).length){for(;a=O_.exec(r);)d=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[_++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===d.charAt(1)&&(d=lw(c,d)+g),f=parseFloat(d),m=d.substr((f+"").length),y=O_.lastIndex-m.length,m||(m=m||c_.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=dx(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?VC:UC;return M_.test(r)&&(v.e=0),this._pt=v,v},mx={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},gx=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=mx[n]||n,t[1]=mx[r]||r,t.join(" ")},vx=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],kC[n]&&(r=1,n="transformOrigin"===n?YC:GC),lx(s,n);r&&(lx(s,GC),l&&(l.svg&&s.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",Tx(s,1),l.uncache=1,XC(o)))}},yx={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new iC(e._pt,t,n,0,0,vx);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},_x=[1,0,0,1,0,0],wx={},bx=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Cx=function(e){var t=ex(e,GC);return bx(t)?_x:t.substr(7).match(R_).map(ow)},xx=function(e,t){var n,r,i,s,o=e._gsap||rw(e),a=e.style,l=Cx(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?_x:l:(l!==_x||e.offsetParent||e===wC||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,r=e.nextElementSibling,wC.appendChild(e)),l=Cx(e),i?a.display=i:lx(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):wC.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Ex=function(e,t,n,r,i,s){var o,a,l,c=e._gsap,u=i||xx(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],_=u[4],w=u[5],b=t.split(" "),C=parseFloat(b[0])||0,x=parseFloat(b[1])||0;n?u!==_x&&(a=m*y-g*v)&&(l=C*(-g/a)+x*(m/a)-(m*w-g*_)/a,C=C*(y/a)+x*(-v/a)+(v*w-y*_)/a,x=l):(C=(o=ox(e)).x+(~b[0].indexOf("%")?C/100*o.width:C),x=o.y+(~(b[1]||b[0]).indexOf("%")?x/100*o.height:x)),r||!1!==r&&c.smooth?(_=C-h,w=x-d,c.xOffset=f+(_*m+w*v)-_,c.yOffset=p+(_*g+w*y)-w):c.xOffset=c.yOffset=0,c.xOrigin=C,c.yOrigin=x,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[YC]="0px 0px",s&&(cx(s,c,"xOrigin",h,C),cx(s,c,"yOrigin",d,x),cx(s,c,"xOffset",f,c.xOffset),cx(s,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",C+" "+x)},Tx=function(e,t){var n=e._gsap||new Ab(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,C,x,E,T,k,S,I,N,P,A,R,O,D,M=e.style,L=n.scaleX<0,F="px",j="deg",U=getComputedStyle(e),V=ex(e,YC)||"0";return r=i=s=l=c=u=h=d=f=0,o=a=1,n.svg=!(!e.getCTM||!ax(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(M[GC]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[GC]?U[GC]:"")),M.scale=M.rotate=M.translate="none"),g=xx(e,n.svg),n.svg&&(n.uncache?(S=e.getBBox(),V=n.xOrigin-S.x+"px "+(n.yOrigin-S.y)+"px",k=""):k=!t&&e.getAttribute("data-svg-origin"),Ex(e,k||V,!!k||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==_x&&(w=g[0],b=g[1],C=g[2],x=g[3],r=E=g[4],i=T=g[5],6===g.length?(o=Math.sqrt(w*w+b*b),a=Math.sqrt(x*x+C*C),l=w||b?NC(b,w)*SC:0,(h=C||x?NC(C,x)*SC+l:0)&&(a*=Math.abs(Math.cos(h*IC))),n.svg&&(r-=p-(p*w+m*C),i-=m-(p*b+m*x))):(D=g[6],R=g[7],N=g[8],P=g[9],A=g[10],O=g[11],r=g[12],i=g[13],s=g[14],c=(v=NC(D,A))*SC,v&&(k=E*(y=Math.cos(-v))+N*(_=Math.sin(-v)),S=T*y+P*_,I=D*y+A*_,N=E*-_+N*y,P=T*-_+P*y,A=D*-_+A*y,O=R*-_+O*y,E=k,T=S,D=I),u=(v=NC(-C,A))*SC,v&&(y=Math.cos(-v),O=x*(_=Math.sin(-v))+O*y,w=k=w*y-N*_,b=S=b*y-P*_,C=I=C*y-A*_),l=(v=NC(b,w))*SC,v&&(k=w*(y=Math.cos(v))+b*(_=Math.sin(v)),S=E*y+T*_,b=b*y-w*_,T=T*y-E*_,w=k,E=S),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=ow(Math.sqrt(w*w+b*b+C*C)),a=ow(Math.sqrt(T*T+D*D)),v=NC(E,T),h=Math.abs(v)>2e-4?v*SC:0,f=O?1/(O<0?-O:O):0),n.svg&&(k=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!bx(ex(e,GC)),k&&e.setAttribute("transform",k))),Math.abs(h)>90&&Math.abs(h)<270&&(L?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=s+F,n.scaleX=ow(o),n.scaleY=ow(a),n.rotation=ow(l)+j,n.rotationX=ow(c)+j,n.rotationY=ow(u)+j,n.skewX=h+j,n.skewY=d+j,n.transformPerspective=f+F,(n.zOrigin=parseFloat(V.split(" ")[2])||!t&&n.zOrigin||0)&&(M[YC]=kx(V)),n.xOffset=n.yOffset=0,n.force3D=c_.force3D,n.renderTransform=n.svg?Ox:TC?Rx:Ix,n.uncache=0,n},kx=function(e){return(e=e.split(" "))[0]+" "+e[1]},Sx=function(e,t,n){var r=Ww(t);return ow(parseFloat(t)+parseFloat(dx(e,"x",n+"px",r)))+r},Ix=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Rx(e,t)},Nx="0deg",Px="0px",Ax=") ",Rx=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",w="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==Nx||c!==Nx)){var b,C=parseFloat(c)*IC,x=Math.sin(C),E=Math.cos(C);C=parseFloat(u)*IC,b=Math.cos(C),s=Sx(v,s,x*b*-y),o=Sx(v,o,-Math.sin(C)*-y),a=Sx(v,a,E*b*-y+y)}m!==Px&&(_+="perspective("+m+Ax),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(w||s!==Px||o!==Px||a!==Px)&&(_+=a!==Px||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Ax),l!==Nx&&(_+="rotate("+l+Ax),c!==Nx&&(_+="rotateY("+c+Ax),u!==Nx&&(_+="rotateX("+u+Ax),h===Nx&&d===Nx||(_+="skew("+h+", "+d+Ax),1===f&&1===p||(_+="scale("+f+", "+p+Ax),v.style[GC]=_||"translate(0, 0)"},Ox=function(e,t){var n,r,i,s,o,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,w=a.xOffset,b=a.yOffset,C=a.forceCSS,x=parseFloat(u),E=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=IC,f*=IC,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-f)*-g,s=Math.cos(d-f)*g,f&&(p*=IC,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=ow(n),r=ow(r),i=ow(i),s=ow(s)):(n=m,s=g,r=i=0),(x&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(x=dx(v,"x",u,"px"),E=dx(v,"y",h,"px")),(y||_||w||b)&&(x=ow(x+y-(y*n+_*i)+w),E=ow(E+_-(y*r+_*s)+b)),(l||c)&&(o=v.getBBox(),x=ow(x+l/100*o.width),E=ow(E+c/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+x+","+E+")",v.setAttribute("transform",o),C&&(v.style[GC]=o)},Dx=function(e,t,n,r,i){var s,o,a=360,l=__(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?SC:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===s&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===s&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=o=new iC(e._pt,t,n,r,c,MC),o.e=u,o.u="deg",e._props.push(n),o},Mx=function(e,t){for(var n in t)e[n]=t[n];return e},Lx=function(e,t,n){var r,i,s,o,a,l,c,u=Mx({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[GC]=t,r=Tx(n,1),lx(n,GC),n.setAttribute("transform",s)):(s=getComputedStyle(n)[GC],h[GC]=t,r=Tx(n,1),h[GC]=s),kC)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Ww(s)!==(c=Ww(o))?dx(n,i,s,c):parseFloat(s),l=parseFloat(o),e._pt=new iC(e._pt,r,i,a,l-a,DC),e._pt.u=c||0,e._props.push(i));Mx(r,u)};sw("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(n){return t<2?e+n:"border"+n+e});yx[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map(function(t){return fx(e,t,n)}),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach(function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]}),e.init(t,a,i)}});var Fx={name:"css",register:rx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,C=this._props,x=e.style,E=n.vars.startAt;for(h in bC||rx(),this.styles=this.styles||JC(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!$_[h]||!jb(h,t,n,r,e,i)))if(c=typeof o,u=yx[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=nb(o)),u)u(this,e,h,o,n)&&(_=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",mb.lastIndex=0,mb.test(s)||(d=Ww(s),(f=Ww(o))?d!==f&&(s=dx(e,h,s,f)+f):d&&(o+=d)),this.add(x,"setProperty",s,o,r,i,0,0,h),C.push(h),w.push(h,0,x[h]);else if("undefined"!==c){if(E&&h in E?(s="function"===typeof E[h]?E[h].call(n,r,e,i):E[h],__(s)&&~s.indexOf("random(")&&(s=nb(s)),Ww(s+"")||"auto"===s||(s+=c_.units[h]||Ww(fx(e,h))||""),"="===(s+"").charAt(1)&&(s=fx(e,h))):s=fx(e,h),l=parseFloat(s),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in OC&&("autoAlpha"===h&&(1===l&&"hidden"===fx(e,"visibility")&&a&&(l=0),w.push("visibility",0,x.visibility),cx(this,x,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=OC[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in kC){if(this.styles.save(h),b=o,"string"===c&&"var(--"===o.substring(0,6)){if("calc("===(o=ex(e,o.substring(4,o.indexOf(")")))).substring(0,5)){var T=e.style.perspective;e.style.perspective=o,o=ex(e,"perspective"),T?e.style.perspective=T:lx(e,"perspective")}a=parseFloat(o)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||Tx(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new iC(this._pt,x,GC,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new iC(this._pt,v,"scaleY",v.scaleY,(p?lw(v.scaleY,p+a):a)-v.scaleY||0,DC),this._pt.u=0,C.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w.push(YC,0,x[YC]),o=gx(o),v.svg?Ex(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&cx(this,v,"zOrigin",v.zOrigin,f),cx(this,x,h,kx(s),kx(o)));continue}if("svgOrigin"===h){Ex(e,o,1,y,0,this);continue}if(h in wx){Dx(this,v,h,l,p?lw(l,p+o):o);continue}if("smoothOrigin"===h){cx(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){Lx(this,o,e);continue}}}else h in x||(h=nx(h)||h);if(m||(a||0===a)&&(l||0===l)&&!RC.test(o)&&h in x)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=Ww(o)||(h in c_.units?c_.units[h]:d))&&(l=dx(e,h,s,f)),this._pt=new iC(this._pt,m?v:x,h,l,(p?lw(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==h||!1===t.autoRound?DC:jC),this._pt.u=f||0,m&&b!==o?(this._pt.b=s,this._pt.e=b,this._pt.r=FC):d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=LC);else if(h in x)px.call(this,e,h,s,p?p+o:o);else if(h in e)this.add(e,h,s||e[h],p?p+o:o,r,i);else if("parseTransform"!==h){z_(h,o);continue}m||(h in x?w.push(h,0,x[h]):"function"===typeof e[h]?w.push(h,2,e[h]()):w.push(h,1,s||e[h])),C.push(h)}_&&rC(this)},render:function(e,t){if(t.tween._time||!EC())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:fx,aliases:OC,getSetter:function(e,t,n){var r=OC[t];return r&&r.indexOf(",")<0&&(t=r),t in kC&&t!==YC&&(e._gsap.x||fx(e,"x"))?n&&xC===n?"scale"===t?WC:qC:(xC=n||{})&&("scale"===t?HC:KC):e.style&&!C_(e.style[t])?zC:~t.indexOf("-")?BC:Qb(e,t)},core:{_removeProperty:lx,_getMatrix:xx}};vC.utils.checkPrefix=nx,vC.core.getStyleSaver=JC,function(e,t){var n=sw(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){kC[e]=1});sw(t,function(e){c_.units[e]="deg",wx[e]=1}),OC[n[13]]=e+","+t,sw("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");OC[t[1]]=n[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),sw("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){c_.units[e]="px"}),vC.registerPlugin(Fx);var jx=vC.registerPlugin(Fx)||vC;jx.core.Tween;let Ux="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,Vx=e=>e&&!Array.isArray(e)&&"object"===typeof e,zx=[],Bx={},qx=jx;const Wx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zx,n=Bx;Vx(e)?(n=e,e=null,t="dependencies"in n?n.dependencies:zx):Vx(t)&&(n=t,t="dependencies"in n?n.dependencies:zx),e&&"function"!==typeof e&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=n,o=(0,r.useRef)(!1),a=(0,r.useRef)(qx.context(()=>{},i)),l=(0,r.useRef)(e=>a.current.add(null,e)),c=t&&t.length&&!s;return c&&Ux(()=>(o.current=!0,()=>a.current.revert()),zx),Ux(()=>{if(e&&a.current.add(e,i),!c||!o.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:l.current}};function Hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Wx.register=e=>{qx=e},Wx.headless=!0;var Kx,Gx,Yx,Qx,Xx,$x,Jx,Zx,eE,tE,nE,rE,iE,sE=function(){return Kx||"undefined"!==typeof window&&(Kx=window.gsap)&&Kx.registerPlugin&&Kx},oE=1,aE=[],lE=[],cE=[],uE=Date.now,hE=function(e,t){return t},dE=function(e,t){return~cE.indexOf(e)&&cE[cE.indexOf(e)+1][t]},fE=function(e){return!!~tE.indexOf(e)},pE=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},mE=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},gE="scrollLeft",vE="scrollTop",yE=function(){return nE&&nE.isPressed||lE.cache++},_E=function(e,t){var n=function n(r){if(r||0===r){oE&&(Yx.history.scrollRestoration="manual");var i=nE&&nE.isPressed;r=n.v=Math.round(r)||(nE&&nE.iOS?1:0),e(r),n.cacheID=lE.cache,i&&hE("ss",r)}else(t||lE.cache!==n.cacheID||hE("ref"))&&(n.cacheID=lE.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},wE={s:gE,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_E(function(e){return arguments.length?Yx.scrollTo(e,bE.sc()):Yx.pageXOffset||Qx[gE]||Xx[gE]||$x[gE]||0})},bE={s:vE,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:wE,sc:_E(function(e){return arguments.length?Yx.scrollTo(wE.sc(),e):Yx.pageYOffset||Qx[vE]||Xx[vE]||$x[vE]||0})},CE=function(e,t){return(t&&t._ctx&&t._ctx.selector||Kx.utils.toArray)(e)[0]||("string"===typeof e&&!1!==Kx.config().nullTargetWarn?console.warn("Element not found:",e):null)},xE=function(e,t){var n=t.s,r=t.sc;fE(e)&&(e=Qx.scrollingElement||Xx);var i=lE.indexOf(e),s=r===bE.sc?1:2;!~i&&(i=lE.push(e)-1),lE[i+s]||pE(e,"scroll",yE);var o=lE[i+s],a=o||(lE[i+s]=_E(dE(e,n),!0)||(fE(e)?r:_E(function(t){return arguments.length?e[n]=t:e[n]})));return a.target=e,o||(a.smooth="smooth"===Kx.getProperty(e,"scrollBehavior")),a},EE=function(e,t,n){var r=e,i=e,s=uE(),o=s,a=t||50,l=Math.max(500,3*a),c=function(e,t){var l=uE();t||l-s>a?(i=r,r=e,o=s,s=l):n?r+=e:r=i+(e-i)/(l-o)*(s-o)};return{update:c,reset:function(){i=r=n?0:r,o=s=0},getVelocity:function(e){var t=o,a=i,u=uE();return(e||0===e)&&e!==r&&c(e),s===o||u-o>l?0:(r+(n?a:-a))/((n?u:s)-t)*1e3}}},TE=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},kE=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},SE=function(){(eE=Kx.core.globals().ScrollTrigger)&&eE.core&&function(){var e=eE.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,lE),r.push.apply(r,cE),lE=n,cE=r,hE=function(e,n){return t[e](n)}}()},IE=function(e){return Kx=e||sE(),!Gx&&Kx&&"undefined"!==typeof document&&document.body&&(Yx=window,Qx=document,Xx=Qx.documentElement,$x=Qx.body,tE=[Yx,Qx,Xx,$x],Kx.utils.clamp,iE=Kx.core.context||function(){},Zx="onpointerenter"in $x?"pointer":"mouse",Jx=NE.isTouch=Yx.matchMedia&&Yx.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Yx||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,rE=NE.eventTypes=("ontouchstart"in Xx?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Xx?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return oE=0},500),SE(),Gx=1),Gx};wE.op=bE,lE.cache=0;var NE=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){Gx||IE(Kx)||console.warn("Please gsap.registerPlugin(Observer)"),eE||SE();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,s=e.lineHeight,o=e.debounce,a=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,d=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,_=e.onLeft,w=e.onUp,b=e.onDown,C=e.onChangeX,x=e.onChangeY,E=e.onChange,T=e.onToggleX,k=e.onToggleY,S=e.onHover,I=e.onHoverEnd,N=e.onMove,P=e.ignoreCheck,A=e.isNormalizer,R=e.onGestureStart,O=e.onGestureEnd,D=e.onWheel,M=e.onEnable,L=e.onDisable,F=e.onClick,j=e.scrollSpeed,U=e.capture,V=e.allowClicks,z=e.lockAxis,B=e.onLockAxis;this.target=i=CE(i)||Xx,this.vars=e,u&&(u=Kx.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,j=j||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(Yx.getComputedStyle($x).lineHeight)||22);var q,W,H,K,G,Y,Q,X=this,$=0,J=0,Z=e.passive||!a&&!1!==e.passive,ee=xE(i,wE),te=xE(i,bE),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===rE[0],se=fE(i),oe=i.ownerDocument||Qx,ae=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=uE()},he=function(e,t){return(X.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||P&&P(e,t)},de=function(){var e=X.deltaX=kE(ae),n=X.deltaY=kE(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E(X,e,n,ae,le),r&&(y&&X.deltaX>0&&y(X),_&&X.deltaX<0&&_(X),C&&C(X),T&&X.deltaX<0!==$<0&&T(X),$=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(b&&X.deltaY>0&&b(X),w&&X.deltaY<0&&w(X),x&&x(X),k&&X.deltaY<0!==J<0&&k(X),J=X.deltaY,le[0]=le[1]=le[2]=0),(K||H)&&(N&&N(X),H&&(f&&1===H&&f(X),m&&m(X),H=0),K=!1),Y&&!(Y=!1)&&B&&B(X),G&&(D(X),G=!1),q=0},fe=function(e,t,n){ae[n]+=e,le[n]+=t,X._vx.update(e),X._vy.update(t),o?q||(q=requestAnimationFrame(de)):de()},pe=function(e,t){z&&!Q&&(X.axis=Q=Math.abs(e)>Math.abs(t)?"x":"y",Y=!0),"y"!==Q&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Q&&(le[2]+=t,X._vy.update(t,!0)),o?q||(q=requestAnimationFrame(de)):de()},me=function(e){if(!he(e,1)){var t=(e=TE(e,a)).clientX,r=e.clientY,i=t-X.x,s=r-X.y,o=X.isDragging;X.x=t,X.y=r,(o||(i||s)&&(Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n))&&(H||(H=o?2:1),o||(X.isDragging=!0),pe(i,s))}},ge=X.onPress=function(e){he(e,1)||e&&e.button||(X.axis=Q=null,W.pause(),X.isPressed=!0,e=TE(e),$=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),pE(A?i:oe,rE[1],me,Z,!0),X.deltaX=X.deltaY=0,g&&g(X))},ve=X.onRelease=function(e){if(!he(e,1)){mE(A?i:oe,rE[1],me,!0);var t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),s=TE(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&V&&Kx.delayedCall(.08,function(){if(uE()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){var t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,Yx,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),X.isDragging=X.isGesturing=X.isPressed=!1,l&&n&&!A&&W.restart(!0),H&&de(),p&&n&&p(X),v&&v(X,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&R(e,X.isDragging)},_e=function(){return(X.isGesturing=!1)||O(X)},we=function(e){if(!he(e)){var t=ee(),n=te();fe((t-ne)*j,(n-re)*j,1),ne=t,re=n,l&&W.restart(!0)}},be=function(e){if(!he(e)){e=TE(e,a),D&&(G=!0);var t=(1===e.deltaMode?s:2===e.deltaMode?Yx.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),l&&!A&&W.restart(!0)}},Ce=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,K=!0,l&&W.restart(!0),(r||i)&&pe(r,i)}},xe=function(e){X.event=e,S(X)},Ee=function(e){X.event=e,I(X)},Te=function(e){return he(e)||TE(e,a)&&F(X)};W=X._dc=Kx.delayedCall(c||.25,function(){X._vx.reset(),X._vy.reset(),W.pause(),l&&l(X)}).pause(),X.deltaX=X.deltaY=0,X._vx=EE(0,50,!0),X._vy=EE(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,iE(this),X.enable=function(e){return X.isEnabled||(pE(se?oe:i,"scroll",yE),r.indexOf("scroll")>=0&&pE(se?oe:i,"scroll",we,Z,U),r.indexOf("wheel")>=0&&pE(i,"wheel",be,Z,U),(r.indexOf("touch")>=0&&Jx||r.indexOf("pointer")>=0)&&(pE(i,rE[0],ge,Z,U),pE(oe,rE[2],ve),pE(oe,rE[3],ve),V&&pE(i,"click",ue,!0,!0),F&&pE(i,"click",Te),R&&pE(oe,"gesturestart",ye),O&&pE(oe,"gestureend",_e),S&&pE(i,Zx+"enter",xe),I&&pE(i,Zx+"leave",Ee),N&&pE(i,Zx+"move",Ce)),X.isEnabled=!0,X.isDragging=X.isGesturing=X.isPressed=K=H=!1,X._vx.reset(),X._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),M&&M(X)),X},X.disable=function(){X.isEnabled&&(aE.filter(function(e){return e!==X&&fE(e.target)}).length||mE(se?oe:i,"scroll",yE),X.isPressed&&(X._vx.reset(),X._vy.reset(),mE(A?i:oe,rE[1],me,!0)),mE(se?oe:i,"scroll",we,U),mE(i,"wheel",be,U),mE(i,rE[0],ge,U),mE(oe,rE[2],ve),mE(oe,rE[3],ve),mE(i,"click",ue,!0),mE(i,"click",Te),mE(oe,"gesturestart",ye),mE(oe,"gestureend",_e),mE(i,Zx+"enter",xe),mE(i,Zx+"leave",Ee),mE(i,Zx+"move",Ce),X.isEnabled=X.isPressed=X.isDragging=!1,L&&L(X))},X.kill=X.revert=function(){X.disable();var e=aE.indexOf(X);e>=0&&aE.splice(e,1),nE===X&&(nE=0)},aE.push(X),A&&fE(i)&&(nE=X),X.enable(d)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&Hx(t.prototype,n),r&&Hx(t,r),e}();NE.version="3.14.2",NE.create=function(e){return new NE(e)},NE.register=IE,NE.getAll=function(){return aE.slice()},NE.getById=function(e){return aE.filter(function(t){return t.vars.id===e})[0]},sE()&&Kx.registerPlugin(NE);var PE,AE,RE,OE,DE,ME,LE,FE,jE,UE,VE,zE,BE,qE,WE,HE,KE,GE,YE,QE,XE,$E,JE,ZE,eT,tT,nT,rT,iT,sT,oT,aT,lT,cT,uT,hT,dT,fT,pT=1,mT=Date.now,gT=mT(),vT=0,yT=0,_T=function(e,t,n){var r=OT(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},wT=function(e,t){return!t||OT(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},bT=function e(){return yT&&requestAnimationFrame(e)},CT=function(){return qE=1},xT=function(){return qE=0},ET=function(e){return e},TT=function(e){return Math.round(1e5*e)/1e5||0},kT=function(){return"undefined"!==typeof window},ST=function(){return PE||kT()&&(PE=window.gsap)&&PE.registerPlugin&&PE},IT=function(e){return!!~LE.indexOf(e)},NT=function(e){return("Height"===e?oT:RE["inner"+e])||DE["client"+e]||ME["client"+e]},PT=function(e){return dE(e,"getBoundingClientRect")||(IT(e)?function(){return Wk.width=RE.innerWidth,Wk.height=oT,Wk}:function(){return nk(e)})},AT=function(e,t){var n=t.s,r=t.d2,i=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=dE(e,n))?s()-PT(e)()[i]:IT(e)?(DE[n]||ME[n])-NT(r):e[n]-e["offset"+r])},RT=function(e,t){for(var n=0;n<YE.length;n+=3)(!t||~t.indexOf(YE[n+1]))&&e(YE[n],YE[n+1],YE[n+2])},OT=function(e){return"string"===typeof e},DT=function(e){return"function"===typeof e},MT=function(e){return"number"===typeof e},LT=function(e){return"object"===typeof e},FT=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},jT=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},UT=Math.abs,VT="left",zT="right",BT="bottom",qT="width",WT="height",HT="Right",KT="Left",GT="Top",YT="Bottom",QT="padding",XT="margin",$T="Width",JT="Height",ZT="px",ek=function(e){return RE.getComputedStyle(e)},tk=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},nk=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==ek(e)[WE]&&PE.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},rk=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},ik=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},sk=function(e){var t=PE.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var s;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=i;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=t(n);return!r||Math.abs(s-n)<i||s-n<0===r<0?s:t(r<0?n-e:n+e)}},ok=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},ak=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},lk=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},ck=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},uk={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},hk={toggleActions:"play",anticipatePin:0},dk={top:0,left:0,center:.5,bottom:1,right:1},fk=function(e,t){if(OT(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in dk?dk[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},pk=function(e,t,n,r,i,s,o,a){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,f=OE.createElement("div"),p=IT(n)||"fixed"===dE(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?ME:n,v=-1!==e.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(_+=(r===bE?zT:BT)+":"+(s+parseFloat(h))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=_,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],mk(f,0,r,v),f},mk=function(e,t,n,r){var i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+$T]=1,i["border"+o+$T]=0,i[n.p]=t+"px",PE.set(e,i)},gk=[],vk={},yk=function(){return mT()-vT>34&&(uT||(uT=requestAnimationFrame(Fk)))},_k=function(){(!JE||!JE.isPressed||JE.startX>ME.clientWidth)&&(lE.cache++,JE?uT||(uT=requestAnimationFrame(Fk)):Fk(),vT||Tk("scrollStart"),vT=mT())},wk=function(){tT=RE.innerWidth,eT=RE.innerHeight},bk=function(e){lE.cache++,(!0===e||!BE&&!$E&&!OE.fullscreenElement&&!OE.webkitFullscreenElement&&(!ZE||tT!==RE.innerWidth||Math.abs(RE.innerHeight-eT)>.25*RE.innerHeight))&&FE.restart(!0)},Ck={},xk=[],Ek=function e(){return lk($k,"scrollEnd",e)||Dk(!0)},Tk=function(e){return Ck[e]&&Ck[e].map(function(e){return e()})||xk},kk=[],Sk=function(e){for(var t=0;t<kk.length;t+=5)(!e||kk[t+4]&&kk[t+4].query===e)&&(kk[t].style.cssText=kk[t+1],kk[t].getBBox&&kk[t].setAttribute("transform",kk[t+2]||""),kk[t+3].uncache=1)},Ik=function(){return lE.forEach(function(e){return DT(e)&&++e.cacheID&&(e.rec=e())})},Nk=function(e,t){var n;for(HE=0;HE<gk.length;HE++)!(n=gk[HE])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));aT=!0,t&&Sk(t),t||Tk("revert")},Pk=function(e,t){lE.cache++,(t||!hT)&&lE.forEach(function(e){return DT(e)&&e.cacheID++&&(e.rec=0)}),OT(e)&&(RE.history.scrollRestoration=iT=e)},Ak=0,Rk=function(){ME.appendChild(sT),oT=!JE&&sT.offsetHeight||RE.innerHeight,ME.removeChild(sT)},Ok=function(e){return jE(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Dk=function(e,t){if(DE=OE.documentElement,ME=OE.body,LE=[RE,OE,DE,ME],!vT||e||aT){Rk(),hT=$k.isRefreshing=!0,aT||Ik();var n=Tk("refreshInit");QE&&$k.sort(),t||Nk(),lE.forEach(function(e){DT(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),gk.slice(0).forEach(function(e){return e.refresh()}),aT=!1,gk.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),lT=1,Ok(!0),gk.forEach(function(e){var t=AT(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),Ok(!1),lT=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),lE.forEach(function(e){DT(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),Pk(iT,1),FE.pause(),Ak++,hT=2,Fk(2),gk.forEach(function(e){return DT(e.vars.onRefresh)&&e.vars.onRefresh(e)}),hT=$k.isRefreshing=!1,Tk("refresh")}else ak($k,"scrollEnd",Ek)},Mk=0,Lk=1,Fk=function(e){if(2===e||!hT&&!aT){$k.isUpdating=!0,fT&&fT.update(0);var t=gk.length,n=mT(),r=n-gT>=50,i=t&&gk[0].scroll();if(Lk=Mk>i?-1:1,hT||(Mk=i),r&&(vT&&!qE&&n-vT>200&&(vT=0,Tk("scrollEnd")),VE=gT,gT=n),Lk<0){for(HE=t;HE-- >0;)gk[HE]&&gk[HE].update(0,r);Lk=1}else for(HE=0;HE<t;HE++)gk[HE]&&gk[HE].update(0,r);$k.isUpdating=!1}uT=0},jk=[VT,"top",BT,zT,XT+YT,XT+HT,XT+GT,XT+KT,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Uk=jk.concat([qT,WT,"boxSizing","max"+$T,"max"+JT,"position",XT,QT,QT+GT,QT+HT,QT+YT,QT+KT]),Vk=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,s=jk.length,o=t.style,a=e.style;s--;)o[i=jk[s]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a[BT]=a[zT]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[qT]=rk(e,wE)+ZT,o[WT]=rk(e,bE)+ZT,o[QT]=a[XT]=a.top=a[VT]="0",Bk(r),a[qT]=a["max"+$T]=n[qT],a[WT]=a["max"+JT]=n[WT],a[QT]=n[QT],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},zk=/([A-Z])/g,Bk=function(e){if(e){var t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||PE.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(zk,"-$1").toLowerCase())}},qk=function(e){for(var t=Uk.length,n=e.style,r=[],i=0;i<t;i++)r.push(Uk[i],n[Uk[i]]);return r.t=e,r},Wk={left:0,top:0},Hk=function(e,t,n,r,i,s,o,a,l,c,u,h,d,f){DT(e)&&(e=e(a)),OT(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?fk("0"+e.substr(3),n):0));var p,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),MT(e))d&&(e=PE.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&mk(o,n,r,!0);else{DT(t)&&(t=t(a));var y,_,w,b,C=(e||"0").split(" ");g=CE(t,a)||ME,(y=nk(g)||{})&&(y.left||y.top)||"none"!==ek(g).display||(b=g.style.display,g.style.display="block",y=nk(g),b?g.style.display=b:g.style.removeProperty("display")),_=fk(C[0],y[r.d]),w=fk(C[1]||"0",n),e=y[r.p]-l[r.p]-c+_+i-w,o&&mk(o,w,r,n-w<20||o._isStart&&w>20),n-=n-w}if(f&&(a[f]=e||-.001,e<0&&(e=0)),s){var x=e+n,E=s._isStart;p="scroll"+r.d2,mk(s,x,r,E&&x>20||!E&&(u?Math.max(ME[p],DE[p]):s.parentNode[p])<=x+1),u&&(l=nk(o),u&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+ZT))}return d&&g&&(p=nk(g),d.seek(h),m=nk(g),d._caScrollDist=p[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},Kk=/(webkit|moz|length|cssText|inset)/i,Gk=function(e,t,n,r){if(e.parentNode!==t){var i,s,o=e.style;if(t===ME){for(i in e._stOrig=o.cssText,s=ek(e))+i||Kk.test(i)||!s[i]||"string"!==typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;PE.core.getCache(e).uncache=1,t.appendChild(e)}},Yk=function(e,t,n){var r=t,i=r;return function(t){var s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=Math.round(t)}},Qk=function(e,t,n){var r={};r[t.p]="+="+n,PE.set(e,r)},Xk=function(e,t){var n=xE(e,t),r="_scroll"+t.p2,i=function t(i,s,o,a,l){var c=t.tween,u=s.onComplete,h={};o=o||n();var d=Yk(n,o,function(){c.kill(),t.tween=0});return l=a&&l||0,a=a||i-o,c&&c.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(o+a*c.ratio+l*c.ratio*c.ratio)},s.onUpdate=function(){lE.cache++,t.tween&&Fk()},s.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=PE.to(e,s)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},ak(e,"wheel",n.wheelHandler),$k.isTouch&&ak(e,"touchmove",n.wheelHandler),i},$k=function(){function e(t,n){AE||e.register(PE)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),rT(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),yT){var r,i,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,C,x,E,T,k,S,I,N,P,A,R,O,D,M,L,F,j,U,V,z,B,q=t=tk(OT(t)||MT(t)||t.nodeType?{trigger:t}:t,hk),W=q.onUpdate,H=q.toggleClass,K=q.id,G=q.onToggle,Y=q.onRefresh,Q=q.scrub,X=q.trigger,$=q.pin,J=q.pinSpacing,Z=q.invalidateOnRefresh,ee=q.anticipatePin,te=q.onScrubComplete,ne=q.onSnapComplete,re=q.once,ie=q.snap,se=q.pinReparent,oe=q.pinSpacer,ae=q.containerAnimation,le=q.fastScrollEnd,ce=q.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?wE:bE,he=!Q&&0!==Q,de=CE(t.scroller||RE),fe=PE.core.getCache(de),pe=IT(de),me="fixed"===("pinType"in t?t.pinType:dE(de,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=he&&t.toggleActions.split(" "),ye="markers"in t?t.markers:hk.markers,_e=pe?0:parseFloat(ek(de)["border"+ue.p2+$T])||0,we=this,be=t.onRefreshInit&&function(){return t.onRefreshInit(we)},Ce=function(e,t,n){var r=n.d,i=n.d2,s=n.a;return(s=dE(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?NT(i):e["client"+i])||0}}(de,pe,ue),xe=function(e,t){return!t||~cE.indexOf(e)?PT(e):function(){return Wk}}(de,pe),Ee=0,Te=0,ke=0,Se=xE(de,ue);if(we._startClamp=we._endClamp=!1,we._dir=ue,ee*=45,we.scroller=de,we.scroll=ae?ae.time.bind(ae):Se,o=Se(),we.vars=t,n=n||t.animation,"refreshPriority"in t&&(QE=1,-9999===t.refreshPriority&&(fT=we)),fe.tweenScroll=fe.tweenScroll||{top:Xk(de,bE),left:Xk(de,wE)},we.tweenTo=r=fe.tweenScroll[ue.p],we.scrubDuration=function(e){(M=MT(e)&&e)?D?D.duration(e):D=PE.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:M,paused:!0,onComplete:function(){return te&&te(we)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!we.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),we.animation=n.pause(),n.scrollTrigger=we,we.scrubDuration(Q),R=0,K||(K=n.vars.id)),ie&&(LT(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in ME.style&&PE.set(pe?[ME,DE]:de,{scrollBehavior:"auto"}),lE.forEach(function(e){return DT(e)&&e.target===(pe?OE.scrollingElement||DE:de)&&(e.smooth=!1)}),s=DT(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return PE.utils.snap(ik(e),t)}}(n):"labelsDirectional"===ie.snapTo?(B=n,function(e,t){return sk(ik(B))(e,t.direction)}):!1!==ie.directional?function(e,t){return sk(ie.snapTo)(e,mT()-Te<500?0:t.direction)}:PE.utils.snap(ie.snapTo),L=ie.duration||{min:.1,max:2},L=LT(L)?UE(L.min,L.max):UE(L,L),F=PE.delayedCall(ie.delay||M/2||.1,function(){var e=Se(),t=mT()-Te<500,i=r.tween;if(!(t||Math.abs(we.getVelocity())<10)||i||qE||Ee===e)we.isActive&&Ee!==e&&F.restart(!0);else{var o,a,u=(e-l)/g,h=n&&!he?n.totalProgress():u,d=t?0:(h-O)/(mT()-VE)*1e3||0,f=PE.utils.clamp(-u,1-u,UT(d/2)*d/.185),p=u+(!1===ie.inertia?0:f),m=ie,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(o=s(p,we),MT(o)||(o=p),a=Math.max(0,Math.round(l+o*g)),e<=c&&e>=l&&a!==e){if(i&&!i._initted&&i.data<=UT(a-e))return;!1===ie.inertia&&(f=o-u),r(a,{duration:L(UT(.185*Math.max(UT(p-h),UT(o-h))/d/.05||0)),ease:ie.ease||"power3",data:UT(a-e),onInterrupt:function(){return F.restart(!0)&&y&&y(we)},onComplete:function(){we.update(),Ee=Se(),n&&!he&&(D?D.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),R=O=n&&!he?n.totalProgress():we.progress,ne&&ne(we),_&&_(we)}},e,f*g,a-e-f*g),v&&v(we,r.tween)}}}).pause()),K&&(vk[K]=we),(z=(X=we.trigger=CE(X||!0!==$&&$))&&X._gsap&&X._gsap.stRevert)&&(z=z(we)),$=!0===$?X:CE($),OT(H)&&(H={targets:X,className:H}),$&&(!1===J||J===XT||(J=!(!J&&$.parentNode&&$.parentNode.style&&"flex"===ek($.parentNode).display)&&QT),we.pin=$,(i=PE.core.getCache($)).spacer?v=i.pinState:(oe&&((oe=CE(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),i.spacerIsNative=!!oe,oe&&(i.spacerState=qk(oe))),i.spacer=w=oe||OE.createElement("div"),w.classList.add("pin-spacer"),K&&w.classList.add("pin-spacer-"+K),i.pinState=v=qk($)),!1!==t.force3D&&PE.set($,{force3D:!0}),we.spacer=w=i.spacer,A=ek($),k=A[J+ue.os2],C=PE.getProperty($),x=PE.quickSetter($,ue.a,ZT),Vk($,w,A),_=qk($)),ye){p=LT(ye)?tk(ye,uk):uk,d=pk("scroller-start",K,de,ue,p,0),f=pk("scroller-end",K,de,ue,p,0,d),b=d["offset"+ue.op.d2];var Ie=CE(dE(de,"content")||de);u=this.markerStart=pk("start",K,Ie,ue,p,b,0,ae),h=this.markerEnd=pk("end",K,Ie,ue,p,b,0,ae),ae&&(V=PE.quickSetter([u,h],ue.a,ZT)),me||cE.length&&!0===dE(de,"fixedMarkers")||(!function(e){var t=ek(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?ME:de),PE.set([d,f],{force3D:!0}),I=PE.quickSetter(d,ue.a,ZT),P=PE.quickSetter(f,ue.a,ZT))}if(ae){var Ne=ae.vars.onUpdate,Pe=ae.vars.onUpdateParams;ae.eventCallback("onUpdate",function(){we.update(0,0,1),Ne&&Ne.apply(ae,Pe||[])})}if(we.previous=function(){return gk[gk.indexOf(we)-1]},we.next=function(){return gk[gk.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var r=!1!==e||!we.enabled,i=BE;r!==we.isReverted&&(r&&(j=Math.max(Se(),we.scroll.rec||0),ke=we.progress,U=n&&n.progress()),u&&[u,h,d,f].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(BE=we,we.update(r)),!$||se&&we.isActive||(r?function(e,t,n){Bk(n);var r=e._gsap;if(r.spacerIsNative)Bk(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}($,w,v):Vk($,w,ek($),S)),r||we.update(r),BE=i,we.isReverted=r)},we.refresh=function(i,s,p,b){if(!BE&&we.enabled||s)if($&&i&&vT)ak(e,"scrollEnd",Ek);else{!hT&&be&&be(we),BE=we,r.tween&&!p&&(r.tween.kill(),r.tween=0),D&&D.pause(),Z&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var x,k,I,P,A,R,O,M,L,V,z,B,q,W=Ce(),H=xe(),K=ae?ae.duration():AT(de,ue),G=g<=.01||!g,Q=0,ee=b||0,te=LT(p)?p.end:t.end,ne=t.endTrigger||X,re=LT(p)?p.start:t.start||(0!==t.start&&X?$?"0 0":"0 100%":0),ie=we.pinnedContainer=t.pinnedContainer&&CE(t.pinnedContainer,we),oe=X&&Math.max(0,gk.indexOf(we))||0,le=oe;for(ye&&LT(p)&&(B=PE.getProperty(d,ue.p),q=PE.getProperty(f,ue.p));le-- >0;)(R=gk[le]).end||R.refresh(0,1)||(BE=we),!(O=R.pin)||O!==X&&O!==$&&O!==ie||R.isReverted||(V||(V=[]),V.unshift(R),R.revert(!0,!0)),R!==gk[le]&&(oe--,le--);for(DT(re)&&(re=re(we)),re=_T(re,"start",we),l=Hk(re,X,W,ue,Se(),u,d,we,H,_e,me,K,ae,we._startClamp&&"_startClamp")||($?-.001:0),DT(te)&&(te=te(we)),OT(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(OT(re)?re.split(" ")[0]:"")+te:(Q=fk(te.substr(2),W),te=OT(re)?re:(ae?PE.utils.mapRange(0,ae.duration(),ae.scrollTrigger.start,ae.scrollTrigger.end,l):l)+Q,ne=X)),te=_T(te,"end",we),c=Math.max(l,Hk(te||(ne?"100% 0":K),ne,W,ue,Se()+Q,h,f,we,H,_e,me,K,ae,we._endClamp&&"_endClamp"))||-.001,Q=0,le=oe;le--;)(O=(R=gk[le]||{}).pin)&&R.start-R._pinPush<=l&&!ae&&R.end>0&&(x=R.end-(we._startClamp?Math.max(0,R.start):R.start),(O===X&&R.start-R._pinPush<l||O===ie)&&isNaN(re)&&(Q+=x*(1-R.progress)),O===$&&(ee+=x));if(l+=Q,c+=Q,we._startClamp&&(we._startClamp+=Q),we._endClamp&&!hT&&(we._endClamp=c||-.001,c=Math.min(c,AT(de,ue))),g=c-l||(l-=.01)&&.001,G&&(ke=PE.utils.clamp(0,1,PE.utils.normalize(l,c,j))),we._pinPush=ee,u&&Q&&((x={})[ue.a]="+="+Q,ie&&(x[ue.p]="-="+Se()),PE.set([u,h],x)),!$||lT&&we.end>=AT(de,ue)){if(X&&Se()&&!ae)for(k=X.parentNode;k&&k!==ME;)k._pinOffset&&(l-=k._pinOffset,c-=k._pinOffset),k=k.parentNode}else x=ek($),P=ue===bE,I=Se(),E=parseFloat(C(ue.a))+ee,!K&&c>1&&(z={style:z=(pe?OE.scrollingElement||DE:de).style,value:z["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==ek(ME)["overflow"+ue.a.toUpperCase()]&&(z.style["overflow"+ue.a.toUpperCase()]="scroll")),Vk($,w,x),_=qk($),k=nk($,!0),M=me&&xE(de,P?wE:bE)(),J?((S=[J+ue.os2,g+ee+ZT]).t=w,(le=J===QT?rk($,ue)+g+ee:0)&&(S.push(ue.d,le+ZT),"auto"!==w.style.flexBasis&&(w.style.flexBasis=le+ZT)),Bk(S),ie&&gk.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),me&&Se(j)):(le=rk($,ue))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=le+ZT),me&&((A={top:k.top+(P?I-l:M)+ZT,left:k.left+(P?M:I-l)+ZT,boxSizing:"border-box",position:"fixed"})[qT]=A["max"+$T]=Math.ceil(k.width)+ZT,A[WT]=A["max"+JT]=Math.ceil(k.height)+ZT,A[XT]=A[XT+GT]=A[XT+HT]=A[XT+YT]=A[XT+KT]="0",A[QT]=x[QT],A[QT+GT]=x[QT+GT],A[QT+HT]=x[QT+HT],A[QT+YT]=x[QT+YT],A[QT+KT]=x[QT+KT],y=function(e,t,n){for(var r,i=[],s=e.length,o=n?8:0;o<s;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(v,A,se),hT&&Se(0)),n?(L=n._initted,XE(1),n.render(n.duration(),!0,!0),T=C(ue.a)-E+g+ee,N=Math.abs(g-T)>1,me&&N&&y.splice(y.length-2,2),n.render(0,!0,!0),L||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),XE(0)):T=g,z&&(z.value?z.style["overflow"+ue.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+ue.a));V&&V.forEach(function(e){return e.revert(!1,!0)}),we.start=l,we.end=c,o=a=hT?j:Se(),ae||hT||(o<j&&Se(j),we.scroll.rec=0),we.revert(!1,!0),Te=mT(),F&&(Ee=-1,F.restart(!0)),BE=0,n&&he&&(n._initted||U)&&n.progress()!==U&&n.progress(U||0,!0).render(n.time(),!0,!0),(G||ke!==we.progress||ae||Z||n&&!n._initted)&&(n&&!he&&(n._initted||ke||!1!==n.vars.immediateRender)&&n.totalProgress(ae&&l<-.001&&!ke?PE.utils.normalize(l,c,0):ke,!0),we.progress=G||(o-l)/g===ke?0:ke),$&&J&&(w._pinOffset=Math.round(we.progress*T)),D&&D.invalidate(),isNaN(B)||(B-=PE.getProperty(d,ue.p),q-=PE.getProperty(f,ue.p),Qk(d,ue,B),Qk(u,ue,B-(b||0)),Qk(f,ue,q),Qk(h,ue,q-(b||0))),G&&!hT&&we.update(),!Y||hT||m||(m=!0,Y(we),m=!1)}},we.getVelocity=function(){return(Se()-a)/(mT()-VE)*1e3||0},we.endAnimation=function(){FT(we.callbackAnimation),n&&(D?D.progress(1):n.paused()?he||FT(n,we.direction<0,1):FT(n,n.reversed()))},we.labelToScroll=function(e){return n&&n.labels&&(l||we.refresh()||l)+n.labels[e]/n.duration()*g||0},we.getTrailing=function(e){var t=gk.indexOf(we),n=we.direction>0?gk.slice(0,t).reverse():gk.slice(t+1);return(OT(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return we.direction>0?e.end<=l:e.start>=c})},we.update=function(e,t,i){if(!ae||i||e){var s,u,h,f,p,m,v,b=!0===hT?j:we.scroll(),C=e?0:(b-l)/g,S=C<0?0:C>1?1:C||0,A=we.progress;if(t&&(a=o,o=ae?Se():b,ie&&(O=R,R=n&&!he?n.totalProgress():S)),ee&&$&&!BE&&!pT&&vT&&(!S&&l<b+(b-a)/(mT()-VE)*ee?S=1e-4:1===S&&c>b+(b-a)/(mT()-VE)*ee&&(S=.9999)),S!==A&&we.enabled){if(f=(p=(s=we.isActive=!!S&&S<1)!==(!!A&&A<1))||!!S!==!!A,we.direction=S>A?1:-1,we.progress=S,f&&!BE&&(u=S&&!A?0:1===S?1:1===A?2:3,he&&(h=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===h||"reset"===h||h in n))),ce&&(p||v)&&(v||Q||!n)&&(DT(ce)?ce(we):we.getTrailing(ce).forEach(function(e){return e.endAnimation()})),he||(!D||BE||pT?n&&n.totalProgress(S,!(!BE||!Te&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",S,n._tTime/n._tDur):(D.vars.totalProgress=S,D.invalidate().restart()))),$)if(e&&J&&(w.style[J+ue.os2]=k),me){if(f){if(m=!e&&S>A&&c+1>b&&b+1>=AT(de,ue),se)if(e||!s&&!m)Gk($,w);else{var M=nk($,!0),L=b-l;Gk($,ME,M.top+(ue===bE?L:0)+ZT,M.left+(ue===bE?0:L)+ZT)}Bk(s||m?y:_),N&&S<1&&s||x(E+(1!==S||m?0:T))}}else x(TT(E+T*S));ie&&!r.tween&&!BE&&!pT&&F.restart(!0),H&&(p||re&&S&&(S<1||!cT))&&jE(H.targets).forEach(function(e){return e.classList[s||re?"add":"remove"](H.className)}),W&&!he&&!e&&W(we),f&&!BE?(he&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),W&&W(we)),!p&&cT||(G&&p&&jT(we,G),ge[u]&&jT(we,ge[u]),re&&(1===S?we.kill(!1,1):ge[u]=0),p||ge[u=1===S?1:3]&&jT(we,ge[u])),le&&!s&&Math.abs(we.getVelocity())>(MT(le)?le:2500)&&(FT(we.callbackAnimation),D?D.progress(1):FT(n,"reverse"===h?1:!S,1))):he&&W&&!BE&&W(we)}if(P){var U=ae?b/ae.duration()*(ae._caScrollDist||0):b;I(U+(d._isFlipped?1:0)),P(U)}V&&V(-b/ae.duration()*(ae._caScrollDist||0))}},we.enable=function(t,n){we.enabled||(we.enabled=!0,ak(de,"resize",bk),pe||ak(de,"scroll",_k),be&&ak(e,"refreshInit",be),!1!==t&&(we.progress=ke=0,o=a=Ee=Se()),!1!==n&&we.refresh())},we.getTween=function(e){return e&&r?r.tween:D},we.setPositions=function(e,t,n,r){if(ae){var i=ae.scrollTrigger,s=ae.duration(),o=i.end-i.start;e=i.start+o*e/s,t=i.start+o*t/s}we.refresh(!1,!1,{start:wT(e,n&&!!we._startClamp),end:wT(t,n&&!!we._endClamp)},r),we.update()},we.adjustPinSpacing=function(e){if(S&&e){var t=S.indexOf(ue.d)+1;S[t]=parseFloat(S[t])+e+ZT,S[1]=parseFloat(S[1])+e+ZT,Bk(S)}},we.disable=function(t,n){if(!1!==t&&we.revert(!0,!0),we.enabled&&(we.enabled=we.isActive=!1,n||D&&D.pause(),j=0,i&&(i.uncache=1),be&&lk(e,"refreshInit",be),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var s=gk.length;s--;)if(gk[s].scroller===de&&gk[s]!==we)return;lk(de,"resize",bk),pe||lk(de,"scroll",_k)}},we.kill=function(e,r){we.disable(e,r),D&&!r&&D.kill(),K&&delete vk[K];var s=gk.indexOf(we);s>=0&&gk.splice(s,1),s===HE&&Lk>0&&HE--,s=0,gk.forEach(function(e){return e.scroller===we.scroller&&(s=1)}),s||hT||(we.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,f].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),fT===we&&(fT=0),$&&(i&&(i.uncache=1),s=0,gk.forEach(function(e){return e.pin===$&&s++}),s||(i.spacer=0)),t.onKill&&t.onKill(we)},gk.push(we),we.enable(!1,!1),z&&z(we),n&&n.add&&!g){var Ae=we.update;we.update=function(){we.update=Ae,lE.cache++,l||c||we.refresh()},PE.delayedCall(.01,we.update),g=.01,l=c=0}else we.refresh();$&&function(){if(dT!==Ak){var e=dT=Ak;requestAnimationFrame(function(){return e===Ak&&Dk(!0)})}}()}else this.update=this.refresh=this.kill=ET},e.register=function(t){return AE||(PE=t||ST(),kT()&&window.document&&e.enable(),AE=yT),AE},e.defaults=function(e){if(e)for(var t in e)hk[t]=e[t];return hk},e.disable=function(e,t){yT=0,gk.forEach(function(n){return n[t?"kill":"disable"](e)}),lk(RE,"wheel",_k),lk(OE,"scroll",_k),clearInterval(zE),lk(OE,"touchcancel",ET),lk(ME,"touchstart",ET),ok(lk,OE,"pointerdown,touchstart,mousedown",CT),ok(lk,OE,"pointerup,touchend,mouseup",xT),FE.kill(),RT(lk);for(var n=0;n<lE.length;n+=3)ck(lk,lE[n],lE[n+1]),ck(lk,lE[n],lE[n+2])},e.enable=function(){if(RE=window,OE=document,DE=OE.documentElement,ME=OE.body,PE&&(jE=PE.utils.toArray,UE=PE.utils.clamp,rT=PE.core.context||ET,XE=PE.core.suppressOverwrites||ET,iT=RE.history.scrollRestoration||"auto",Mk=RE.pageYOffset||0,PE.core.globals("ScrollTrigger",e),ME)){yT=1,(sT=document.createElement("div")).style.height="100vh",sT.style.position="absolute",Rk(),bT(),NE.register(PE),e.isTouch=NE.isTouch,nT=NE.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ZE=1===NE.isTouch,ak(RE,"wheel",_k),LE=[RE,OE,DE,ME],PE.matchMedia?(e.matchMedia=function(e){var t,n=PE.matchMedia();for(t in e)n.add(t,e[t]);return n},PE.addEventListener("matchMediaInit",function(){Ik(),Nk()}),PE.addEventListener("matchMediaRevert",function(){return Sk()}),PE.addEventListener("matchMedia",function(){Dk(0,1),Tk("matchMedia")}),PE.matchMedia().add("(orientation: portrait)",function(){return wk(),wk})):console.warn("Requires GSAP 3.11.0 or later"),wk(),ak(OE,"scroll",_k);var t,n,r=ME.hasAttribute("style"),i=ME.style,s=i.borderTopStyle,o=PE.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=nk(ME),bE.m=Math.round(t.top+bE.sc())||0,wE.m=Math.round(t.left+wE.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(ME.setAttribute("style",""),ME.removeAttribute("style")),zE=setInterval(yk,250),PE.delayedCall(.5,function(){return pT=0}),ak(OE,"touchcancel",ET),ak(ME,"touchstart",ET),ok(ak,OE,"pointerdown,touchstart,mousedown",CT),ok(ak,OE,"pointerup,touchend,mouseup",xT),WE=PE.utils.checkPrefix("transform"),Uk.push(WE),AE=mT(),FE=PE.delayedCall(.2,Dk).pause(),YE=[OE,"visibilitychange",function(){var e=RE.innerWidth,t=RE.innerHeight;OE.hidden?(KE=e,GE=t):KE===e&&GE===t||bk()},OE,"DOMContentLoaded",Dk,RE,"load",Dk,RE,"resize",bk],RT(ak),gk.forEach(function(e){return e.enable(0,1)}),n=0;n<lE.length;n+=3)ck(lk,lE[n],lE[n+1]),ck(lk,lE[n],lE[n+2])}},e.config=function(t){"limitCallbacks"in t&&(cT=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(zE)||(zE=n)&&setInterval(yk,n),"ignoreMobileResize"in t&&(ZE=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(RT(lk)||RT(ak,t.autoRefreshEvents||"none"),$E=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=CE(e),r=lE.indexOf(n),i=IT(n);~r&&lE.splice(r,i?6:2),t&&(i?cE.unshift(RE,t,ME,t,DE,t):cE.unshift(n,t))},e.clearMatchMedia=function(e){gk.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(OT(e)?CE(e):e).getBoundingClientRect(),i=r[n?qT:WT]*t||0;return n?r.right-i>0&&r.left+i<RE.innerWidth:r.bottom-i>0&&r.top+i<RE.innerHeight},e.positionInViewport=function(e,t,n){OT(e)&&(e=CE(e));var r=e.getBoundingClientRect(),i=r[n?qT:WT],s=null==t?i/2:t in dk?dk[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/RE.innerWidth:(r.top+s)/RE.innerHeight},e.killAll=function(e){if(gk.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=Ck.killAll||[];Ck={},t.forEach(function(e){return e()})}},e}();$k.version="3.14.2",$k.saveStyles=function(e){return e?jE(e).forEach(function(e){if(e&&e.style){var t=kk.indexOf(e);t>=0&&kk.splice(t,5),kk.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),PE.core.getCache(e),rT())}}):kk},$k.revert=function(e,t){return Nk(!e,t)},$k.create=function(e,t){return new $k(e,t)},$k.refresh=function(e){return e?bk(!0):(AE||$k.register())&&Dk(!0)},$k.update=function(e){return++lE.cache&&Fk(!0===e?2:0)},$k.clearScrollMemory=Pk,$k.maxScroll=function(e,t){return AT(e,t?wE:bE)},$k.getScrollFunc=function(e,t){return xE(CE(e),t?wE:bE)},$k.getById=function(e){return vk[e]},$k.getAll=function(){return gk.filter(function(e){return"ScrollSmoother"!==e.vars.id})},$k.isScrolling=function(){return!!vT},$k.snapDirectional=sk,$k.addEventListener=function(e,t){var n=Ck[e]||(Ck[e]=[]);~n.indexOf(t)||n.push(t)},$k.removeEventListener=function(e,t){var n=Ck[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},$k.batch=function(e,t){var n,r=[],i={},s=t.interval||.016,o=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=PE.delayedCall(s,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&DT(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return DT(o)&&(o=o(),ak($k,"refresh",function(){return o=t.batchMax()})),jE(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push($k.create(t))}),r};var Jk,Zk=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},eS=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(NE.isTouch?" pinch-zoom":""):"none",t===DE&&e(ME,n)},tS={auto:1,scroll:1},nS=function(e){var t,n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||PE.core.getCache(s),a=mT();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==ME&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!tS[(t=ek(s)).overflowY]&&!tS[t.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!IT(s)&&(tS[(t=ek(s)).overflowY]||tS[t.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},rS=function(e,t,n,r){return NE.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&nS,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&ak(OE,NE.eventTypes[0],sS,!1,!0)},onDisable:function(){return lk(OE,NE.eventTypes[0],sS,!0)}})},iS=/(input|label|select|textarea)/i,sS=function(e){var t=iS.test(e.target.tagName);(t||Jk)&&(e._gsapAllow=!0,Jk=t)},oS=function(e){LT(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,s,o,a,l,c=e,u=c.normalizeScrollX,h=c.momentum,d=c.allowNestedScroll,f=c.onRelease,p=CE(e.target)||DE,m=PE.core.globals().ScrollSmoother,g=m&&m.get(),v=nT&&(e.content&&CE(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=xE(p,bE),_=xE(p,wE),w=1,b=(NE.isTouch&&RE.visualViewport?RE.visualViewport.scale*RE.visualViewport.width:RE.outerWidth)/RE.innerWidth,C=0,x=DT(h)?function(){return h(t)}:function(){return h||2.8},E=rS(p,e.type,!0,d),T=function(){return i=!1},k=ET,S=ET,I=function(){n=AT(p,bE),S=UE(nT?1:0,n),u&&(k=UE(0,AT(p,wE))),r=Ak},N=function(){v._gsap.y=TT(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){I(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&PE.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return nT&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=TT(t.deltaY/2),n=S(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=TT((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=lE.cache,Fk()}return!0}y.offset&&N(),i=!0}()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=w;w=TT((RE.visualViewport&&RE.visualViewport.scale||1)/b),s.pause(),e!==w&&eS(p,w>1.01||!u&&"x"),o=_(),a=y(),I(),r=Ak},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&N(),t){lE.cache++;var r,i,o=x();u&&(i=(r=_())+.05*o*-e.velocityX/.227,o*=Zk(_,r,i,AT(p,wE)),s.vars.scrollX=k(i)),i=(r=y())+.05*o*-e.velocityY/.227,o*=Zk(y,r,i,AT(p,bE)),s.vars.scrollY=S(i),s.invalidate().duration(o).play(.01),(nT&&s.vars.scrollY>=n||r>=n-1)&&PE.to({},{onUpdate:P,duration:o})}else l.restart(!0);f&&f(e)},e.onWheel=function(){s._ts&&s.pause(),mT()-C>1e3&&(r=0,C=mT())},e.onChange=function(e,t,n,i,s){if(Ak!==r&&I(),t&&u&&_(k(i[2]===t?o+(e.startX-e.x):_()+t-i[1])),n){y.offset&&N();var l=s[2]===n,c=l?a+e.startY-e.y:y()+n-s[1],h=S(c);l&&c!==h&&(a+=h-c),y(h)}(n||t)&&Fk()},e.onEnable=function(){eS(p,!u&&"x"),$k.addEventListener("refresh",P),ak(RE,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},e.onDisable=function(){eS(p,!0),lk(RE,"resize",P),$k.removeEventListener("refresh",P),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new NE(e)).iOS=nT,nT&&!y()&&y(1),nT&&PE.ticker.add(ET),l=t._dc,s=PE.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Yk(y,y(),function(){return s.pause()})},onUpdate:Fk,onComplete:l.vars.onComplete}),t};$k.sort=function(e){if(DT(e))return gk.sort(e);var t=RE.pageYOffset||0;return $k.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+RE.innerHeight}),gk.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},$k.observe=function(e){return new NE(e)},$k.normalizeScroll=function(e){if("undefined"===typeof e)return JE;if(!0===e&&JE)return JE.enable();if(!1===e)return JE&&JE.kill(),void(JE=e);var t=e instanceof NE?e:oS(e);return JE&&JE.target===t.target&&JE.kill(),IT(t.target)&&(JE=t),t},$k.core={_getVelocityProp:EE,_inputObserver:rS,_scrollers:lE,_proxies:cE,bridge:{ss:function(){vT||Tk("scrollStart"),vT=mT()},ref:function(){return BE}}},ST()&&PE.registerPlugin($k),jx.registerPlugin($k);const aS=()=>{const e=(0,r.useRef)(null);return Wx(()=>{e.current&&jx.from(".suit-card",{opacity:0,y:50,duration:.6,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:e.current,start:"top 85%",toggleActions:"play none none none"}})},{scope:e,dependencies:[]}),{containerRef:e}},lS=()=>(0,Uy.jsxs)("div",{className:"bg-surface rounded-3xl shadow-lg animate-pulse",children:[(0,Uy.jsx)("div",{className:"aspect-[3/4] bg-surface-variant rounded-t-3xl"}),(0,Uy.jsxs)("div",{className:"p-4",children:[(0,Uy.jsx)("div",{className:"h-6 bg-surface-variant rounded w-3/4 mb-2"}),(0,Uy.jsx)("div",{className:"h-4 bg-surface-variant rounded w-1/2"})]})]}),cS=e=>{let{suit:t,onSelect:n}=e;const{name:r="Traje Elegante",price:i=99,size:s="M",imageUrl:o,eventType:a="Gala"}=t;return(0,Uy.jsxs)("div",{className:"suit-card group cursor-pointer bg-surface rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",onClick:()=>n(t.id),children:[(0,Uy.jsxs)("div",{className:"relative aspect-[3/4] w-full overflow-hidden rounded-t-3xl",children:[(0,Uy.jsx)("img",{src:o||"https://via.placeholder.com/400x533.png/f0f0f0/333333?text=Ready2Wear",alt:r,className:"h-full w-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),a&&(0,Uy.jsx)("div",{className:"absolute top-3 left-3 bg-primary/80 backdrop-blur-sm text-on-primary text-xs font-semibold px-3 py-1 rounded-full",children:(l=a,l.charAt(0).toUpperCase()+l.slice(1))}),(0,Uy.jsx)("div",{className:"absolute top-3 right-3 h-8 w-8 grid place-items-center bg-background/70 backdrop-blur-sm rounded-full cursor-pointer hover:scale-110 transition-transform",children:(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-on-surface",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})]}),(0,Uy.jsxs)("div",{className:"p-4",children:[(0,Uy.jsx)("div",{className:"flex justify-between items-start",children:(0,Uy.jsxs)("div",{children:[(0,Uy.jsx)("h3",{className:"text-lg font-semibold text-on-surface leading-tight",children:r}),(0,Uy.jsxs)("p",{className:"text-sm text-on-surface-variant",children:["Talla: ",s]})]})}),(0,Uy.jsxs)("p",{className:"mt-2 text-lg font-bold text-primary",children:["\u20ac",i,(0,Uy.jsx)("span",{className:"text-sm font-normal text-on-surface-variant",children:"/d\xeda"})]})]})]});var l},uS=e=>{let{onSuitSelect:t}=e;const{docs:n,loading:r,error:i}=Qy("trajes"),{containerRef:s}=aS();return(0,Uy.jsx)("section",{className:"py-12 sm:py-16",children:(0,Uy.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Uy.jsx)("h2",{className:"text-center text-4xl font-bold tracking-tight text-on-surface sm:text-5xl mb-12",children:"Nuestro Cat\xe1logo"}),i?(0,Uy.jsxs)("div",{className:"text-center text-error bg-error/10 p-6 rounded-2xl",children:[(0,Uy.jsx)("p",{className:"font-bold mb-2",children:"\xa1Ups! Algo sali\xf3 mal."}),(0,Uy.jsx)("p",{className:"text-sm",children:"No pudimos cargar el cat\xe1logo. Por favor, intenta de nuevo m\xe1s tarde."})]}):r?(0,Uy.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,Uy.jsx)(lS,{},t))}):0===n.length?(0,Uy.jsxs)("div",{className:"text-center py-16 px-6 bg-surface rounded-3xl border border-dashed border-outline",children:[(0,Uy.jsx)("h3",{className:"text-xl font-semibold text-on-surface",children:"El cat\xe1logo est\xe1 vac\xedo"}),(0,Uy.jsx)("p",{className:"text-on-surface-variant mt-2 mb-6",children:"\xa1S\xe9 el primero en a\xf1adir un nuevo traje a nuestra colecci\xf3n!"}),(0,Uy.jsx)("button",{className:"rounded-full bg-primary px-6 py-2.5 text-sm font-semibold text-on-primary shadow-sm hover:scale-105 transition-transform duration-200",children:"A\xf1adir Traje"})]}):(0,Uy.jsx)("div",{ref:s,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(e=>(0,Uy.jsx)(cS,{suit:e,onSelect:t},e.id))})]})})},hS=()=>(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h16.5M3.75 12h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"})}),dS=()=>(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.518a.562.562 0 01.321.988l-4.204 3.055a.563.563 0 00-.182.557l1.528 4.7-3.976-2.888a.563.563 0 00-.64 0L7.02 21.03l1.528-4.7a.563.563 0 00-.182-.557l-4.204-3.055a.563.563 0 01.321-.988h5.518a.563.563 0 00.475-.345L11.48 3.5z"})}),fS=()=>(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a15.998 15.998 0 001.622-3.385m3.388 1.62a15.998 15.998 0 00-1.622 3.385m-5.043-.025a15.998 15.998 0 01-3.388-1.62m-1.622 3.385a15.998 15.998 0 01-3.388 1.62m16.5 0a48.11 48.11 0 00-16.5 0"})}),pS=()=>(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402a3.75 3.75 0 00-.625-6.25l-6.402-6.401a3.75 3.75 0 00-5.304 0 3.75 3.75 0 000 5.304l6.402 6.401a3.75 3.75 0 006.25.625"})}),mS=()=>(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})}),gS=e=>{let{icon:t,title:n,value:r}=e;return(0,Uy.jsxs)("div",{className:"flex flex-col items-center text-center p-3 bg-surface-container rounded-2xl",children:[(0,Uy.jsx)("div",{className:"text-primary mb-1",children:t}),(0,Uy.jsx)("p",{className:"text-xs text-on-surface-variant font-medium",children:n}),(0,Uy.jsx)("p",{className:"text-sm font-semibold text-on-surface mt-0.5",children:r})]})},vS=e=>{let{suitId:t,onBack:n}=e;const{user:i}=jy(),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)("description"),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(null),[y,_]=(0,r.useState)(0);(0,r.useEffect)(()=>{const e=Iu(Wu,"trajes/".concat(t));l(!0);const n=Lu(e,e=>{const n=e.val();n?o(c(c({},n),{},{id:t})):h("No se pudo encontrar el traje."),l(!1)},e=>{console.error(e),h("Error al cargar el traje."),l(!1)});return()=>n()},[t]),(0,r.useEffect)(()=>{if(p&&g&&s.price){const e=new Date(p),t=new Date(g),n=Math.abs(t-e),r=Math.ceil(n/864e5)+1;_(r*s.price)}else _(0)},[p,g,s]);const w=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";return(0,Uy.jsxs)("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[(0,Uy.jsx)("button",{onClick:n,children:"Volver"}),a&&(0,Uy.jsx)("p",{children:"Cargando..."}),u&&(0,Uy.jsx)("p",{children:u}),s&&(0,Uy.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,Uy.jsxs)("div",{className:"space-y-6",children:[(0,Uy.jsx)("div",{className:"aspect-[3/4] bg-surface-container rounded-3xl shadow-lg overflow-hidden animate-scale-in",children:(0,Uy.jsx)("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover"})}),(0,Uy.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,Uy.jsx)(gS,{icon:(0,Uy.jsx)(hS,{}),title:"Talla",value:s.size||"N/A"}),(0,Uy.jsx)(gS,{icon:(0,Uy.jsx)(dS,{}),title:"Evento",value:w(s.eventType)||"N/A"}),(0,Uy.jsx)(gS,{icon:(0,Uy.jsx)(fS,{}),title:"Estado",value:w(s.condition)||"N/A"}),(0,Uy.jsx)(gS,{icon:(0,Uy.jsx)(pS,{}),title:"Color",value:s.colors||"N/A"})]})]}),(0,Uy.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,Uy.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-on-surface",children:s.name}),(0,Uy.jsxs)("p",{className:"text-3xl font-light text-primary mt-2",children:["\u20ac",s.price,(0,Uy.jsx)("span",{className:"text-lg font-normal text-on-surface-variant",children:"/d\xeda"})]}),(0,Uy.jsxs)("div",{className:"flex items-center gap-3 my-6 p-3 bg-surface-container rounded-2xl",children:[(0,Uy.jsx)("img",{src:s.ownerPhotoURL||"https://i.pravatar.cc/150?u=a042f81f4e29026704d",alt:s.ownerName,className:"w-12 h-12 rounded-full"}),(0,Uy.jsxs)("div",{children:[(0,Uy.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Propietario"}),(0,Uy.jsx)("p",{className:"font-bold text-on-surface",children:s.ownerName||"Usuario An\xf3nimo"})]})]}),(0,Uy.jsxs)("div",{className:"bg-surface-container p-4 rounded-2xl mb-6",children:[(0,Uy.jsxs)("h3",{className:"font-bold text-on-surface flex items-center mb-3",children:[(0,Uy.jsx)(mS,{})," Selecciona las fechas"]}),(0,Uy.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Uy.jsxs)("div",{children:[(0,Uy.jsx)("label",{htmlFor:"start-date",className:"text-sm font-medium text-on-surface-variant",children:"Desde"}),(0,Uy.jsx)("input",{type:"date",id:"start-date",value:p||"",onChange:e=>m(e.target.value),className:"w-full p-2 mt-1 rounded-lg bg-surface border border-outline focus:border-primary focus:ring-0"})]}),(0,Uy.jsxs)("div",{children:[(0,Uy.jsx)("label",{htmlFor:"end-date",className:"text-sm font-medium text-on-surface-variant",children:"Hasta"}),(0,Uy.jsx)("input",{type:"date",id:"end-date",value:g||"",onChange:e=>v(e.target.value),min:p,className:"w-full p-2 mt-1 rounded-lg bg-surface border border-outline focus:border-primary focus:ring-0"})]})]}),y>0&&(0,Uy.jsx)("div",{className:"mt-4 text-center bg-surface-container-high p-3 rounded-lg",children:(0,Uy.jsxs)("p",{className:"font-bold text-on-surface",children:["Precio Total Estimado: ",(0,Uy.jsxs)("span",{className:"text-primary",children:["\u20ac",y]})]})})]}),(0,Uy.jsx)("div",{className:"border-b border-outline/50 mb-4",children:(0,Uy.jsxs)("nav",{className:"-mb-px flex gap-6",children:[(0,Uy.jsx)("button",{onClick:()=>f("description"),className:"shrink-0 px-1 pb-4 text-sm font-medium ".concat("description"===d?"border-b-2 border-primary text-primary":"border-transparent text-on-surface-variant hover:text-on-surface"),children:"Descripci\xf3n"}),(0,Uy.jsx)("button",{onClick:()=>f("materials"),className:"shrink-0 px-1 pb-4 text-sm font-medium ".concat("materials"===d?"border-b-2 border-primary text-primary":"border-transparent text-on-surface-variant hover:text-on-surface"),children:"Materiales"})]})}),(0,Uy.jsxs)("div",{className:"text-on-surface-variant text-sm leading-relaxed min-h-[4rem]",children:["description"===d&&(0,Uy.jsx)("p",{children:s.description||"No hay descripci\xf3n."}),"materials"===d&&(0,Uy.jsx)("p",{children:s.materials||"No se especificaron materiales."})]}),(0,Uy.jsxs)("div",{className:"mt-auto pt-6 flex flex-col sm:flex-row gap-4",children:[(0,Uy.jsx)("button",{onClick:async()=>{if(!i)return void alert("Debes iniciar sesi\xf3n para alquilar un traje.");if(!p||!g)return void alert("Por favor, selecciona un rango de fechas v\xe1lido.");const e={suitId:s.id,suitName:s.name,suitImageUrl:s.imageUrl,ownerId:s.ownerId,renterId:i.uid,renterName:i.displayName,renterPhotoURL:i.photoURL,startDate:p,endDate:g,totalPrice:y,status:"pending",createdAt:(new Date).toISOString()};try{const t=Iu(Wu,"alquileres");await Pu(t,e),alert("\xa1Solicitud de alquiler enviada!\nRecibir\xe1s una notificaci\xf3n cuando ".concat(s.ownerName," confirme la reserva.")),m(null),v(null)}catch(u){console.error("Error al crear la reserva:",u),alert("Hubo un error al procesar tu solicitud. Por favor, int\xe9ntalo de nuevo.")}},disabled:!p||!g,className:"w-full h-12 rounded-full bg-primary text-on-primary font-bold hover:scale-105 transition-transform disabled:bg-surface-container-high disabled:text-on-surface-variant disabled:scale-100",children:"Solicitar Alquiler"}),(0,Uy.jsx)("button",{className:"w-full h-12 rounded-full border-2 border-primary text-primary font-bold hover:bg-primary/10 transition-colors",children:"Enviar Mensaje"})]})]})]})]})},yS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Uy.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})),_S=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})})),wS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})})),bS=()=>(0,Uy.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col space-y-6",children:[(0,Uy.jsxs)("div",{className:"space-y-4",children:[(0,Uy.jsxs)("div",{className:"relative",children:[(0,Uy.jsx)("input",{type:"text",placeholder:"Buscar por palabra clave, tipo, talla...",className:"w-full h-12 pl-12 pr-4 rounded-full bg-surface-container-high text-on-surface focus:outline-none focus:ring-2 focus:ring-primary"}),(0,Uy.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,Uy.jsx)(yS,{className:"h-6 w-6 text-on-surface-variant"})})]}),(0,Uy.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Uy.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,Uy.jsx)(_S,{className:"h-5 w-5 text-on-surface-variant"}),(0,Uy.jsx)("span",{className:"font-medium text-sm text-on-surface",children:"Filtros"})]}),(0,Uy.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,Uy.jsx)(wS,{className:"h-5 w-5 text-on-surface-variant"}),(0,Uy.jsx)("span",{className:"font-medium text-sm text-on-surface",children:"Ordenar"})]})]})]}),(0,Uy.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,Uy.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"Comienza tu b\xfasqueda"}),(0,Uy.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Los resultados de los trajes disponibles aparecer\xe1n aqu\xed."}),(0,Uy.jsx)("p",{className:"text-on-surface-variant mt-1",children:"Pr\xf3ximamente: \xa1B\xfasqueda en mapa y scroll infinito!"})]})]}),CS=()=>(0,Uy.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8 bg-surface rounded-2xl shadow-lg animate-fade-in",children:[(0,Uy.jsx)("h2",{className:"text-2xl font-bold text-on-surface mb-2",children:"Mensajes"}),(0,Uy.jsx)("p",{className:"text-on-surface-variant",children:"Esta secci\xf3n est\xe1 en construcci\xf3n."}),(0,Uy.jsx)("p",{className:"text-on-surface-variant mt-4 max-w-md",children:"En esta secci\xf3n podr\xe1s comunicarte directamente con otros usuarios para coordinar el alquiler, hacer preguntas sobre los trajes y gestionar tus reservas."})]}),xS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})),ES=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})),TS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0h1.5m15 0h-1.5m-15 0l-.375-.375M21 12l-.375-.375m-17.25 0l-.375.375M3.375 12l.375.375m16.5 0l.375-.375M4.5 19.5l-1.5-1.5M19.5 4.5l-1.5-1.5"})})),kS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})),SS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})})),IS=e=>{let{onNavClick:t}=e;const{user:n}=jy(),r={owner:4.8,renter:5};return n?(0,Uy.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col space-y-6 pb-8",children:[(0,Uy.jsxs)("div",{className:"flex flex-col items-center space-y-4 p-6 bg-surface-container rounded-3xl shadow-sm",children:[(0,Uy.jsx)("img",{src:n.photoURL,alt:"Foto de perfil",className:"h-24 w-24 rounded-full object-cover border-4 border-primary"}),(0,Uy.jsxs)("div",{className:"text-center",children:[(0,Uy.jsx)("h1",{className:"text-2xl font-bold text-on-surface",children:n.displayName}),(0,Uy.jsx)("p",{className:"text-on-surface-variant",children:n.email})]}),(0,Uy.jsx)("button",{className:"mt-2 text-sm font-semibold text-primary hover:underline",children:"Editar Perfil"})]}),(0,Uy.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,Uy.jsxs)("div",{className:"bg-surface-container p-4 rounded-xl",children:[(0,Uy.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Puntuaci\xf3n como Due\xf1o"}),(0,Uy.jsxs)("p",{className:"text-2xl font-bold text-on-surface",children:["\u2b50 ",r.owner.toFixed(1)]})]}),(0,Uy.jsxs)("div",{className:"bg-surface-container p-4 rounded-xl",children:[(0,Uy.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Puntuaci\xf3n como Inquilino"}),(0,Uy.jsxs)("p",{className:"text-2xl font-bold text-on-surface",children:["\u2b50 ",r.renter.toFixed(1)]})]})]}),(0,Uy.jsx)("div",{className:"bg-surface-container rounded-xl overflow-hidden",children:(0,Uy.jsxs)("ul",{className:"divide-y divide-outline/50",children:[(0,Uy.jsxs)("li",{onClick:()=>t("my-items"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Uy.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uy.jsx)(xS,{className:"h-6 w-6 text-on-surface-variant"}),(0,Uy.jsx)("span",{className:"font-medium text-on-surface",children:"Mis Art\xedculos"})]}),(0,Uy.jsx)(kS,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,Uy.jsxs)("li",{onClick:()=>t("my-rentals"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Uy.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uy.jsx)(SS,{className:"h-6 w-6 text-on-surface-variant"}),(0,Uy.jsx)("span",{className:"font-medium text-on-surface",children:"Mis Alquileres"})]}),(0,Uy.jsx)(kS,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,Uy.jsxs)("li",{className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Uy.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uy.jsx)(ES,{className:"h-6 w-6 text-on-surface-variant"}),(0,Uy.jsx)("span",{className:"font-medium text-on-surface",children:"Favoritos"})]}),(0,Uy.jsx)(kS,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,Uy.jsxs)("li",{className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Uy.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Uy.jsx)(TS,{className:"h-6 w-6 text-on-surface-variant"}),(0,Uy.jsx)("span",{className:"font-medium text-on-surface",children:"Ajustes"})]}),(0,Uy.jsx)(kS,{className:"h-5 w-5 text-on-surface-variant"})]})]})})]}):(0,Uy.jsx)("div",{children:"Cargando perfil..."})},NS=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,Uy.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-background/80 backdrop-blur-sm animate-fade-in",onClick:n,children:(0,Uy.jsx)("div",{onClick:e=>e.stopPropagation(),className:"relative animate-scale-in",children:r})}):null},PS=e=>{let{id:t,label:n,type:r="text",value:i,onChange:s,placeholder:o,required:a=!0}=e;return(0,Uy.jsxs)("div",{className:"relative",children:[(0,Uy.jsx)("input",{type:r,id:t,value:i,onChange:s,placeholder:o||" ",required:a,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer"}),(0,Uy.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},AS=e=>{let{id:t,label:n,value:r,onChange:i,placeholder:s,required:o=!0}=e;return(0,Uy.jsxs)("div",{className:"relative",children:[(0,Uy.jsx)("textarea",{id:t,value:r,onChange:i,placeholder:s||" ",required:o,rows:4,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer"}),(0,Uy.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-4 peer-placeholder-shown:top-6 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},RS=e=>{let{id:t,label:n,value:r,onChange:i,children:s,required:o=!0}=e;return(0,Uy.jsxs)("div",{className:"relative",children:[(0,Uy.jsx)("select",{id:t,value:r,onChange:i,required:o,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer",children:s}),(0,Uy.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},OS=e=>{let{onAdd:t,onUpdate:n,onCancel:i,suitToEdit:s}=e;const o=!!s,[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[b,C]=(0,r.useState)(""),[x,E]=(0,r.useState)("");(0,r.useEffect)(()=>{o&&(l(s.name||""),u(s.description||""),d(s.size||""),p(s.price||""),g(s.materials||""),y(s.colors||""),w(s.eventType||""),C(s.condition||""),E(s.imageUrl||""))},[s,o]);return(0,Uy.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r={name:a,description:c,size:h,price:Number(f),materials:m,colors:v,eventType:_,condition:b,imageUrl:x};o?n(s.id,r):t(r)},className:"p-6 bg-surface-container-low rounded-4xl w-full max-w-lg mx-auto",children:[(0,Uy.jsx)("h2",{className:"text-2xl font-bold text-on-surface mb-8 text-center",children:o?"Editar Traje":"A\xf1adir Nuevo Traje"}),(0,Uy.jsxs)("div",{className:"space-y-7",children:[(0,Uy.jsx)(PS,{id:"name",label:"T\xedtulo",value:a,onChange:e=>l(e.target.value)}),(0,Uy.jsx)(AS,{id:"description",label:"Descripci\xf3n",value:c,onChange:e=>u(e.target.value)}),(0,Uy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uy.jsx)(PS,{id:"size",label:"Talla",value:h,onChange:e=>d(e.target.value)}),(0,Uy.jsx)(PS,{id:"price",label:"Precio por d\xeda (\u20ac)",type:"number",value:f,onChange:e=>p(e.target.value)})]}),(0,Uy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uy.jsx)(PS,{id:"materials",label:"Materiales",value:m,onChange:e=>g(e.target.value)}),(0,Uy.jsx)(PS,{id:"colors",label:"Colores",value:v,onChange:e=>y(e.target.value)})]}),(0,Uy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uy.jsxs)(RS,{id:"eventType",label:"Tipo de Evento",value:_,onChange:e=>w(e.target.value),children:[(0,Uy.jsx)("option",{value:"",children:"Elige una opci\xf3n"}),(0,Uy.jsx)("option",{value:"boda",children:"Boda"}),(0,Uy.jsx)("option",{value:"gala",children:"Gala"}),(0,Uy.jsx)("option",{value:"negocios",children:"Negocios"}),(0,Uy.jsx)("option",{value:"casual",children:"Casual"}),(0,Uy.jsx)("option",{value:"otro",children:"Otro"})]}),(0,Uy.jsxs)(RS,{id:"condition",label:"Estado del Art\xedculo",value:b,onChange:e=>C(e.target.value),children:[(0,Uy.jsx)("option",{value:"",children:"Elige una opci\xf3n"}),(0,Uy.jsx)("option",{value:"nuevo",children:"Nuevo"}),(0,Uy.jsx)("option",{value:"como-nuevo",children:"Como Nuevo"}),(0,Uy.jsx)("option",{value:"bueno",children:"Bueno"}),(0,Uy.jsx)("option",{value:"usado",children:"Usado"})]})]}),(0,Uy.jsx)(PS,{id:"imageUrl",label:"URL de la Imagen",value:x,onChange:e=>E(e.target.value)})]}),(0,Uy.jsxs)("div",{className:"mt-10 flex justify-end gap-4",children:[(0,Uy.jsx)("button",{type:"button",onClick:i,className:"px-6 py-2.5 text-sm font-semibold text-primary rounded-full hover:bg-primary/10",children:"Cancelar"}),(0,Uy.jsx)("button",{type:"submit",className:"px-6 py-2.5 text-sm font-semibold text-on-primary bg-primary rounded-full shadow-sm hover:scale-105 transition-transform",children:o?"Guardar Cambios":"Publicar Traje"})]})]})},DS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})),MS=e=>(0,Uy.jsx)("svg",c(c({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Uy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})),LS=()=>{const{user:e}=jy(),{docs:t,loading:n,error:i}=Qy("trajes","ownerId",e?e.uid:null),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),c=async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este art\xedculo? Esta acci\xf3n no se puede deshacer."))try{const t=Iu(Wu,"trajes/".concat(e));await function(e){return zc("remove",e._path),Au(e,null)}(t)}catch(i){console.error("Error al eliminar el art\xedculo:",i),alert("Hubo un error al eliminar el art\xedculo. Por favor, int\xe9ntalo de nuevo.")}};return(0,Uy.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col space-y-6",children:[(0,Uy.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:"Mis Art\xedculos"}),n&&(0,Uy.jsx)("p",{children:"Cargando tus art\xedculos..."}),i&&(0,Uy.jsx)("p",{className:"text-error",children:"Error al cargar los art\xedculos."}),(0,Uy.jsx)("div",{className:"space-y-4",children:n||0!==t.length?t.map(e=>(0,Uy.jsxs)("div",{className:"flex items-center space-x-4 bg-surface p-3 rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,Uy.jsx)("img",{src:e.imageUrl,alt:e.name,className:"h-24 w-24 rounded-lg object-cover"}),(0,Uy.jsxs)("div",{className:"flex-grow",children:[(0,Uy.jsx)("h2",{className:"font-bold text-lg text-on-surface",children:e.name}),(0,Uy.jsxs)("p",{className:"text-on-surface-variant",children:["\u20ac",e.price,"/d\xeda"]})]}),(0,Uy.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Uy.jsxs)("button",{onClick:()=>(l(e),void o(!0)),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,Uy.jsx)(DS,{className:"h-5 w-5"}),(0,Uy.jsx)("span",{className:"text-sm font-medium",children:"Editar"})]}),(0,Uy.jsxs)("button",{onClick:()=>c(e.id),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-error-container text-on-error-container hover:bg-error-container/80 transition-colors",children:[(0,Uy.jsx)(MS,{className:"h-5 w-5"}),(0,Uy.jsx)("span",{className:"text-sm font-medium",children:"Eliminar"})]})]})]},e.id)):(0,Uy.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,Uy.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no has publicado nada"}),(0,Uy.jsx)("p",{className:"text-on-surface-variant mt-2",children:"\xa1A\xf1ade tu primer traje y empieza a ganar dinero!"})]})}),(0,Uy.jsx)(NS,{isOpen:s,onClose:()=>o(!1),children:(0,Uy.jsx)(OS,{onUpdate:async(e,t)=>{try{const n=Iu(Wu,"trajes/".concat(e));await Ru(n,t),o(!1),l(null)}catch(i){console.error("Error al actualizar el art\xedculo:",i),alert("Hubo un error al guardar los cambios. Por favor, int\xe9ntalo de nuevo.")}},onCancel:()=>{o(!1),l(null)},suitToEdit:a})})]})},FS=e=>{let{rental:t,isOwnerView:n=!1,onUpdateStatus:r}=e;const{suitName:i,suitImageUrl:s,startDate:o,endDate:a,totalPrice:l,status:c,renterName:u,renterPhotoURL:h}=t;return(0,Uy.jsxs)("div",{className:"flex items-center gap-4 bg-surface p-3 rounded-2xl shadow-sm",children:[(0,Uy.jsx)("img",{src:s,alt:i,className:"h-24 w-24 rounded-lg object-cover"}),(0,Uy.jsxs)("div",{className:"flex-grow",children:[(0,Uy.jsx)("h3",{className:"font-bold text-lg text-on-surface",children:i}),(0,Uy.jsxs)("p",{className:"text-sm text-on-surface-variant",children:[o," al ",a]}),(0,Uy.jsxs)("p",{className:"font-semibold text-primary",children:["\u20ac",l]}),n&&(0,Uy.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Uy.jsx)("img",{src:h,alt:u,className:"w-6 h-6 rounded-full"}),(0,Uy.jsxs)("p",{className:"text-xs text-on-surface-variant",children:["Solicitado por ",u]})]})]}),(0,Uy.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,Uy.jsx)("span",{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full ".concat((e=>{switch(e){case"pending":return"bg-yellow-200 text-yellow-800";case"accepted":return"bg-green-200 text-green-800";case"rejected":return"bg-red-200 text-red-800";default:return"bg-gray-200 text-gray-800"}})(c)),children:c.charAt(0).toUpperCase()+c.slice(1)}),n&&"pending"===c&&(0,Uy.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,Uy.jsx)("button",{onClick:()=>r(t.id,"accepted"),className:"px-3 py-1 text-xs font-semibold text-white bg-green-600 rounded-full hover:bg-green-700",children:"Aceptar"}),(0,Uy.jsx)("button",{onClick:()=>r(t.id,"rejected"),className:"px-3 py-1 text-xs font-semibold text-white bg-red-600 rounded-full hover:bg-red-700",children:"Rechazar"})]})]})]})},jS=()=>{const{user:e}=jy(),{docs:t,loading:n}=Qy("alquileres","renterId",e?e.uid:null),{docs:r,loading:i}=Qy("alquileres","ownerId",e?e.uid:null),s=async(e,t)=>{const n=Iu(Wu,"alquileres/".concat(e));try{await Ru(n,{status:t})}catch(Ps){console.error("Error actualizando el estado del alquiler:",Ps),alert("No se pudo actualizar la solicitud.")}};return(0,Uy.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-8",children:[(0,Uy.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:"Mis Alquileres"}),(0,Uy.jsxs)("section",{children:[(0,Uy.jsx)("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Mis Alquileres"}),(0,Uy.jsx)("div",{className:"space-y-4",children:n?(0,Uy.jsx)("p",{children:"Cargando..."}):t.length>0?t.map(e=>(0,Uy.jsx)(FS,{rental:e},e.id)):(0,Uy.jsx)("p",{className:"text-on-surface-variant p-4 bg-surface-container rounded-lg",children:"No has alquilado ning\xfan traje todav\xeda."})})]}),(0,Uy.jsxs)("section",{children:[(0,Uy.jsx)("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Solicitudes Recibidas"}),(0,Uy.jsx)("div",{className:"space-y-4",children:i?(0,Uy.jsx)("p",{children:"Cargando..."}):r.length>0?r.map(e=>(0,Uy.jsx)(FS,{rental:e,isOwnerView:!0,onUpdateStatus:s},e.id)):(0,Uy.jsx)("p",{className:"text-on-surface-variant p-4 bg-surface-container rounded-lg",children:"Nadie ha solicitado alquilar tus trajes todav\xeda."})})]})]})},US=e=>{let{onLogin:t}=e;return(0,Uy.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:(0,Uy.jsxs)("div",{className:"text-center p-8",children:[(0,Uy.jsxs)("h1",{className:"text-5xl font-bold tracking-tight text-on-surface mb-4",children:["Ready",(0,Uy.jsx)("span",{className:"text-primary",children:"2"}),"Wear"]}),(0,Uy.jsx)("p",{className:"text-lg text-on-surface-variant mb-8",children:"Tu guardarropa de lujo, a un solo clic."}),(0,Uy.jsx)("button",{onClick:t,className:"rounded-full bg-primary px-8 py-3 text-lg font-semibold text-on-primary shadow-lg hover:scale-105 transition-transform duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Empezar con Google"})]})})};const VS=function(){const{user:e,loading:t}=jy(),[n,i]=(0,r.useState)("home"),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),u=async()=>{try{await ki(Bu,qu)}catch(Ps){console.error("Error signing in:",Ps)}},h=e=>{o(null),i(e)},d=e=>{o(e),i("detail")},f=()=>{o(null),i("home")};return t?(0,Uy.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,Uy.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-primary"})}):e?(0,Uy.jsxs)("div",{className:"bg-background min-h-screen flex flex-col",children:[(0,Uy.jsx)(Vy,{user:e,onLogout:async()=>{try{await Br(Bu),o(null),i("home")}catch(Ps){console.error("Error signing out:",Ps)}},onAddSuitClick:()=>l(!0)}),(0,Uy.jsx)("main",{className:"flex-grow container mx-auto p-4 pt-24 md:pt-28 pb-20",children:(()=>{if("detail"===n&&s)return(0,Uy.jsx)(vS,{suitId:s,onBack:f});switch(n){case"home":default:return(0,Uy.jsx)(uS,{onSuitSelect:d});case"search":return(0,Uy.jsx)(bS,{});case"messages":return(0,Uy.jsx)(CS,{});case"profile":return(0,Uy.jsx)(IS,{onNavClick:h});case"my-items":return(0,Uy.jsx)(LS,{});case"my-rentals":return(0,Uy.jsx)(jS,{})}})()}),(0,Uy.jsx)(zy,{}),(0,Uy.jsx)(Yy,{activeView:n,onNavClick:h,onAddClick:()=>l(!0)}),(0,Uy.jsx)(NS,{isOpen:a,onClose:()=>l(!1),children:(0,Uy.jsx)(OS,{onAdd:async t=>{if(e)try{const n=Iu(Wu,"trajes"),r=c(c({},t),{},{ownerId:e.uid,ownerName:e.displayName,ownerPhotoURL:e.photoURL,createdAt:(new Date).toISOString()});await Pu(n,r),l(!1),i("home")}catch(n){console.error("Error adding document: ",n)}else console.error("Error: El usuario debe estar autenticado para a\xf1adir un traje.")},onCancel:()=>l(!1)})})]}):(0,Uy.jsx)(US,{onLogin:u})};i.createRoot(document.getElementById("root")).render((0,Uy.jsx)(r.StrictMode,{children:(0,Uy.jsx)(VS,{})}))})();