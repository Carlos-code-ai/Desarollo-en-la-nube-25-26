
{
  "rules": {
    "trajes": {
      ".read": "auth != null",
      ".indexOn": ["ownerId"],
      "$suitId": {
        ".write": "auth != null && (newData.child('ownerId').val() === auth.uid || !data.exists())",
        ".validate": "newData.hasChildren(['name', 'size', 'price', 'description', 'imageUrl', 'ownerId']) && newData.child('name').isString() && newData.child('price').isNumber()"
      }
    },
    "alquileres": {
      ".indexOn": ["renterId", "ownerId"],
      ".read": "auth != null",
      ".write": "auth != null",
      "$rentalId": {
         ".read": "data.child('renterId').val() === auth.uid || data.child('ownerId').val() === auth.uid",
        ".write": "newData.child('renterId').val() === auth.uid || data.child('ownerId').val() === auth.uid",
        ".validate": "newData.hasChildren(['suitId', 'suitName', 'suitImageUrl', 'ownerId', 'renterId', 'renterName', 'renterPhotoURL', 'startDate', 'endDate', 'totalPrice', 'status'])"
      }
    }
  }
}
