/*! For license information please see main.fd381fa4.js.LICENSE.txt */
(()=>{var e={85(e,t,n){"use strict";var r=n(340),i=n(950),o=n(119);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case _:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},j=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=j[F],j[F]=null,F--)}function V(e,t){F++,j[F]=e.current,e.current=t}var W,B,q=U(null),H=U(null),Y=U(null),G=U(null);function K(e,t){switch(V(Y,t),V(H,e),V(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),V(q,e)}function Q(){z(q),z(H),z(Y)}function X(e){null!==e.memoizedState&&V(G,e);var t=q.current,n=yd(t,e.type);t!==n&&(V(H,e),V(q,n))}function $(e){H.current===e&&(z(q),z(H)),G.current===e&&(z(G),uh._currentValue=L)}function J(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+B}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function _e(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/xe|0)|0},we=Math.log,xe=Math.LN2;var ke=256,Ee=262144,Se=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Ce(r):0!==(s&=a)?i=Ce(s):n||0!==(n=a&~e)&&(i=Ce(n)):0!==(a=r&~o)?i=Ce(a):0!==s?i=Ce(s):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Ue(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var ze=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ze,We="__reactProps$"+ze,Be="__reactContainer$"+ze,qe="__reactEvents$"+ze,He="__reactListeners$"+ze,Ye="__reactHandles$"+ze,Ge="__reactResources$"+ze,Ke="__reactMarker$"+ze;function Qe(e){delete e[Ve],delete e[We],delete e[qe],delete e[He],delete e[Ye]}function Xe(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[Ve])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ve]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,dt(t)):null!=n?bt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function _t(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function bt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function At(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Lt=null;function jt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(s(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Mt||null!==Lt)&&(Zc(),Mt&&(t=Mt,e=Lt,Lt=Mt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Vt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch($h){Wt=!1}var qt=null,Ht=null,Yt=null;function Gt(){if(Yt)return Yt;var e,t,n=Ht,r=n.length,i="value"in qt?qt.value:qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),on=$t(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=$t(sn),ln=$t(f({},sn,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),un=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=$t(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=$t(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=$t(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],Sn=Vt&&"CompositionEvent"in window,Cn=null;Vt&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Vt&&"TextEvent"in window&&!Cn,Nn=Vt&&(!Sn||Cn&&8<Cn&&11>=Cn),In=String.fromCharCode(32),Pn=!1;function On(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,r){Mt?Lt?Lt.push(r):Lt=[r]:Mt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Fn=null;function Un(e){Qu(e,0)}function zn(e){if(pt(Je(e)))return e}function Vn(e,t){if("change"===e)return t}var Wn=!1;if(Vt){var Bn;if(Vt){var qn="oninput"in document;if(!qn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),qn="function"===typeof Hn.oninput}Bn=qn}else Bn=!1;Wn=Bn&&(!document.documentMode||9<document.documentMode)}function Yn(){jn&&(jn.detachEvent("onpropertychange",Gn),Fn=jn=null)}function Gn(e){if("value"===e.propertyName&&zn(Fn)){var t=[];Ln(t,Fn,e,Dt(e)),Ut(Un,t)}}function Kn(e,t,n){"focusin"===e?(Yn(),Fn=n,(jn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Yn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Fn)}function Xn(e,t){if("click"===e)return zn(t)}function $n(e,t){if("input"===e||"change"===e)return zn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Vt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),_r=mr("transitionrun"),br=mr("transitionstart"),wr=mr("transitioncancel"),xr=mr("transitionend"),kr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){kr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Nr=0,Ir=0;function Pr(){for(var e=Nr,t=Ir=Nr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var o=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Dr(n,i,o)}}function Or(e,t,n,r){Tr[Nr++]=e,Tr[Nr++]=t,Tr[Nr++]=n,Tr[Nr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Or(e,t,n,r),Mr(e)}function Rr(e,t){return Or(e,null,null,t),Mr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<qc)throw qc=0,Hc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new jr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Ur(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Fr(31,n,t,i)).elementType=T,e.lanes=o,e;case v:return Br(n.children,i,o,t);case y:a=8,i|=24;break;case _:return(e=Fr(12,n,t,2|i)).elementType=_,e.lanes=o,e;case k:return(e=Fr(13,n,t,i)).elementType=k,e.lanes=o,e;case E:return(e=Fr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break e;case b:a=9;break e;case x:a=11;break e;case S:a=14;break e;case C:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Hr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Yr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Kr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Xr=0,$r=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Qr[Xr++]=Jr,Qr[Xr++]=$r,$r=e,Jr=t}function oi(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-be(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function si(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function ai(e){for(;e===$r;)$r=Qr[--Xr],Qr[Xr]=null,Jr=Qr[--Xr],Qr[Xr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(s(519));function mi(e){throw wi(Kr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[We]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Xu(Gu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),_t(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=At),t=!0):t=!1,t||mi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function yi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Md(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Md(e)}else 27===n?(n=ui,Cd(e.type)?(e=Dd,Dd=null,ui=e):ui=n):ui=ci?Rd(e.stateNode.nextSibling):null;return!0}function _i(){ui=ci=null,di=!1}function bi(){var e=hi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var xi=U(null),ki=null,Ei=null;function Si(e,t,n){V(xi,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=xi.current,z(xi)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ti(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Ti(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ii(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oi(e){ki=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ai(e){return Di(ki,e)}function Ri(e,t){return null===ki&&Oi(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(s(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Li=r.unstable_scheduleCallback,ji=r.unstable_NormalPriority,Fi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Mi,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Li(ji,function(){e.controller.abort()})}var Vi=null,Wi=0,Bi=0,qi=null;function Hi(){if(0===--Wi&&null!==Vi){null!==qi&&(qi.status="fulfilled");var e=Vi;Vi=null,Bi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yi=D.S;D.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vi){var n=Vi=[];Wi=0,Bi=Wu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(Hi,Hi)}(0,t),null!==Yi&&Yi(e,t)};var Gi=U(null);function Ki(){var e=Gi.current;return null!==e?e:pc.pooledCache}function Qi(e,t){V(Gi,null===t?Gi.current:t.pool)}function Xi(){var e=Ki();return null===e?null:{parent:Fi._currentValue,pool:e}}var $i=Error(s(460)),Ji=Error(s(474)),Zi=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(At,At),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"===typeof t.status)t.then(At,At);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw io=t,$i}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw io=t,$i;throw t}}var io=null;function oo(){if(null===io)throw Error(s(459));var e=io;return io=null,e}function so(e){if(e===$i||e===Zi)throw Error(s(483))}var ao=null,lo=0;function co(e){var t=lo;return lo+=1,null===ao&&(ao=[]),no(ao,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ro(o)===t.type)?(uo(t=i(t,n.props),n),t.return=e,t):(uo(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return uo(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Yr(t,e.mode,n)).return=e,t;case C:return h(e,t=ro(t),n)}if(R(t)||P(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,co(t),n);if(t.$$typeof===w)return h(e,Ri(e,t),n);ho(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case C:return f(e,t,n=ro(n),r)}if(R(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===w)return f(e,t,Ri(e,n),r);ho(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return p(e,t,n,r=ro(r),i)}if(R(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,co(r),i);if(r.$$typeof===w)return p(e,t,n,Ri(t,r),i);ho(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===C&&ro(_)===c.type){n(l,c.sibling),uo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Wr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Yr(u,l.mode,d)).return=l,l=d}return a(l);case C:return y(l,c,u=ro(u),d)}if(R(u))return function(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),di&&ii(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,m),c}for(d=r(d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(_=P(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=o(_,a,g),null===d?u=_:d.sibling=_,d=_,m=v}if(y.done)return n(i,m),di&&ii(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return di&&ii(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=_.call(u),d)}if("function"===typeof u.then)return y(l,c,co(u),d);if(u.$$typeof===w)return y(l,c,Ri(l,u),d);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var i=y(e,t,n,r);return ao=null,i}catch(s){if(s===$i||s===Zi)throw s;var o=Fr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var po=fo(!0),mo=fo(!1),go=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _o(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Dr(e,null,n),t}return Or(e,r,t,n),Mr(e)}function wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ko=!1;function Eo(){if(ko){if(null!==qi)throw qi}}function So(e,t,n,r){ko=!1;var i=e.updateQueue;go=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(gc&h)===h:(r&h)===h){0!==h&&h===Bi&&(ko=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:go=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),Ec|=s,e.lanes=s,e.memoizedState=d}}function Co(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function To(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Co(n[e],t)}var No=U(null),Io=U(0);function Po(e,t){V(Io,e=xc),V(No,t),xc=e|t.baseLanes}function Oo(){V(Io,xc),V(No,No.current)}function Ao(){xc=Io.current,z(No),z(Io)}var Ro=U(null),Do=null;function Mo(e){var t=e.alternate;V(zo,1&zo.current),V(Ro,e),null===Do&&(null===t||null!==No.current||null!==t.memoizedState)&&(Do=e)}function Lo(e){V(zo,zo.current),V(Ro,e),null===Do&&(Do=e)}function jo(e){22===e.tag?(V(zo,zo.current),V(Ro,e),null===Do&&(Do=e)):Fo()}function Fo(){V(zo,zo.current),V(Ro,Ro.current)}function Uo(e){z(Ro),Do===e&&(Do=null),z(zo)}var zo=U(0);function Vo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||Ad(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=0,Bo=null,qo=null,Ho=null,Yo=!1,Go=!1,Ko=!1,Qo=0,Xo=0,$o=null,Jo=0;function Zo(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,o){return Wo=o,Bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?ga:va,Ko=!1,o=n(r,i),Ko=!1,Go&&(o=rs(t,n,r,i)),ns(e),o}function ns(e){D.H=ma;var t=null!==qo&&null!==qo.next;if(Wo=0,Ho=qo=Bo=null,Yo=!1,Xo=0,$o=null,t)throw Error(s(300));null===e||Ra||null!==(e=e.dependencies)&&Pi(e)&&(Ra=!0)}function rs(e,t,n,r){Bo=e;var i=0;do{if(Go&&($o=null),Xo=0,Go=!1,25<=i)throw Error(s(301));if(i+=1,Ho=qo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=ya,o=t(n,r)}while(Go);return o}function is(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==qo?qo.memoizedState:null)!==e&&(Bo.flags|=1024),t}function os(){var e=0!==Qo;return Qo=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function as(e){if(Yo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Yo=!1}Wo=0,Ho=qo=Bo=null,Go=!1,Xo=Qo=0,$o=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?Bo.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function cs(){if(null===qo){var e=Bo.alternate;e=null!==e?e.memoizedState:null}else e=qo.next;var t=null===Ho?Bo.memoizedState:Ho.next;if(null!==t)Ho=t,qo=e;else{if(null===e){if(null===Bo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Ho?Bo.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function us(e){var t=Xo;return Xo+=1,null===$o&&($o=[]),e=no($o,e,t),t=Bo,null===(null===Ho?t.memoizedState:Ho.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?ga:va),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===w)return Ai(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=Bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){return ms(cs(),qo,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Wo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bi&&(d=!0);else{if((Wo&f)===f){u=u.next,f===Bi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Bo.lanes|=f,Ec|=f}h=u.action,Ko&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,Bo.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(Ra=!0,d&&null!==(n=qi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jn(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vs(e,t,n){var r=Bo,i=cs(),o=di;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((qo||i).memoizedState,n);if(a&&(i.memoizedState=n,Ra=!0),i=i.queue,Ws(bs.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Ho&&1&Ho.memoizedState.tag){if(r.flags|=2048,js(9,{destroy:void 0},_s.bind(null,r,i,n,t),null),null===pc)throw Error(s(349));o||0!==(127&Wo)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _s(e,t,n,r){t.value=n,t.getSnapshot=r,ws(t)&&xs(e)}function bs(e,t,n){return n(function(){ws(t)&&xs(e)})}function ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function xs(e){var t=Rr(e,2);null!==t&&Kc(t,e,2)}function ks(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Ko){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Es(e,t,n,r){return e.baseState=n,ms(e,qo,"function"===typeof r?r:fs)}function Ss(e,t,n,r,i){if(ha(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Cs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Cs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,s={};D.T=s;try{var a=n(i,r),l=D.S;null!==l&&l(s,a),Ts(e,t,a)}catch(c){Is(e,t,c)}finally{null!==o&&null!==s.types&&(o.types=s.types),D.T=o}}else try{Ts(e,t,o=n(i,r))}catch(u){Is(e,t,u)}}function Ts(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ns(e,t,n)},function(n){return Is(e,t,n)}):Ns(e,t,n)}function Ns(e,t,n){t.status="fulfilled",t.value=n,Ps(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Cs(e,n)))}function Is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ps(t),t=t.next}while(t!==r)}e.action=null}function Ps(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Os(e,t){return t}function As(e,t){if(di){var n=pc.formState;if(null!==n){e:{var r=Bo;if(di){if(ui){t:{for(var i=ui,o=fi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ui=Rd(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},n.queue=r,n=ca.bind(null,Bo,r),r.dispatch=n,r=ks(!1),o=da.bind(null,Bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=Ss.bind(null,Bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rs(e){return Ds(cs(),qo,e)}function Ds(e,t,n){if(t=ms(e,t,Os)[0],e=ps(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(s){if(s===$i)throw Zi;throw s}else r=t;var i=(t=cs()).queue,o=i.dispatch;return n!==t.memoizedState&&(Bo.flags|=2048,js(9,{destroy:void 0},Ms.bind(null,i,n),null)),[r,o,e]}function Ms(e,t){e.action=t}function Ls(e){var t=cs(),n=qo;if(null!==n)return Ds(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function js(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return cs().memoizedState}function Us(e,t,n,r){var i=ls();Bo.flags|=e,i.memoizedState=js(1|t,{destroy:void 0},n,void 0===r?null:r)}function zs(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==qo&&null!==r&&es(r,qo.memoizedState.deps)?i.memoizedState=js(t,o,n,r):(Bo.flags|=e,i.memoizedState=js(1|t,o,n,r))}function Vs(e,t){Us(8390656,8,e,t)}function Ws(e,t){zs(2048,8,e,t)}function Bs(e){var t=cs().memoizedState;return function(e){Bo.flags|=4;var t=Bo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function qs(e,t){return zs(4,2,e,t)}function Hs(e,t){return zs(4,4,e,t)}function Ys(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Ys.bind(null,t,e),n)}function Ks(){}function Qs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Ko){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r}function $s(e,t,n){return void 0===n||0!==(1073741824&Wo)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Bo.lanes|=e,Ec|=e,n)}function Js(e,t,n,r){return Jn(n,t)?n:null!==No.current?(e=$s(e,n,r),Jn(e,t)||(Ra=!0),e):0===(42&Wo)||0!==(1073741824&Wo)&&0===(261930&gc)?(Ra=!0,e.memoizedState=n):(e=Gc(),Bo.lanes|=e,Ec|=e,t)}function Zs(e,t,n,r,i){var o=M.p;M.p=0!==o&&8>o?o:8;var s=D.T,a={};D.T=a,da(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Yc());else ua(e,t,r,Yc())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Yc())}finally{M.p=o,null!==s&&null!==a.types&&(s.types=a.types),D.T=s}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=na(e).queue;Zs(e,i,t,L,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Yc())}function ia(){return Ai(uh)}function oa(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Yc(),r=bo(t,e=_o(n),n);return null!==r&&(Kc(r,t,n),wo(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Yc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?fa(t,n):null!==(n=Ar(e,t,n,r))&&(Kc(n,e,r),pa(n,t,r))}function ca(e,t,n){ua(e,t,n,Yc())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))fa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s))return Or(e,t,i,0),null===pc&&Pr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Kc(n,e,r),pa(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Wu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Kc(t,e,2)}function ha(e){var t=e.alternate;return e===Bo||null!==t&&t===Bo}function fa(e,t){Go=Yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var ma={readContext:Ai,use:ds,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};ma.useEffectEvent=Zo;var ga={readContext:Ai,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Ko){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Ko){_e(!0);try{n(t)}finally{_e(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=ks(e)).queue,n=ca.bind(null,Bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ks,useDeferredValue:function(e,t){return $s(ls(),e,t)},useTransition:function(){var e=ks(!1);return e=Zs.bind(null,Bo,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bo,i=ls();if(di){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===pc)throw Error(s(349));0!==(127&gc)||ys(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vs(bs.bind(null,r,o,e),[e]),r.flags|=2048,js(9,{destroy:void 0},_s.bind(null,r,o,n,t),null),n},useId:function(){var e=ls(),t=pc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-be(ni)-1)).toString(32)+n),0<(n=Qo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:As,useActionState:As,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,Bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,Bo)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Ai,use:ds,useCallback:Qs,useContext:Ai,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:qs,useLayoutEffect:Hs,useMemo:Xs,useReducer:ps,useRef:Fs,useState:function(){return ps(fs)},useDebugValue:Ks,useDeferredValue:function(e,t){return Js(cs(),qo.memoizedState,e,t)},useTransition:function(){var e=ps(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:oa,useHostTransitionStatus:ia,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return Es(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:sa};va.useEffectEvent=Bs;var ya={readContext:Ai,use:ds,useCallback:Qs,useContext:Ai,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:qs,useLayoutEffect:Hs,useMemo:Xs,useReducer:gs,useRef:Fs,useState:function(){return gs(fs)},useDebugValue:Ks,useDeferredValue:function(e,t){var n=cs();return null===qo?$s(n,e,t):Js(n,qo.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:oa,useHostTransitionStatus:ia,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){var n=cs();return null!==qo?Es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:sa};function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ya.useEffectEvent=Bs;var ba={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yc(),i=_o(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bo(e,i,r))&&(Kc(t,e,r),wo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yc(),i=_o(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bo(e,i,r))&&(Kc(t,e,r),wo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yc(),r=_o(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bo(e,r,n))&&(Kc(t,e,n),wo(t,e,n))}};function wa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,o))}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function ka(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ea(e){Cr(e)}function Sa(e){console.error(e)}function Ca(e){Cr(e)}function Ta(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Na(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ia(e,t,n){return(n=_o(n)).tag=3,n.payload={element:null},n.callback=function(){Ta(e,t)},n}function Pa(e){return(e=_o(e)).tag=3,e}function Oa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Na(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Na(t,n,r),"function"!==typeof i&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Aa=Error(s(461)),Ra=!1;function Da(e,t,n,r){t.child=null===e?mo(t,null,n,r):po(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Oi(t),r=ts(e,t,n,s,o,i),a=os(),null===e||Ra?(di&&a&&si(t),t.flags|=1,Da(e,t,r,i),t.child):(ss(e,t,i),il(e,t,i))}function La(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ur(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ja(e,t,o,r,i))}if(o=e.child,!ol(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=zr(o,r)).ref=t.ref,e.return=t,t.child=e}function ja(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Ra=!1,t.pendingProps=r=o,!ol(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ra=!0)}}return qa(e,t,n,r,i)}function Fa(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return za(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,za(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==o?o.cachePool:null),null!==o?Po(t,o):Oo(),jo(t)}else null!==o?(Qi(0,o.cachePool),Po(t,o),Fo(),t.memoizedState=null):(null!==e&&Qi(0,null),Oo(),Fo());return Da(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function za(e,t,n,r,i){var o=Ki();return o=null===o?null:{parent:Fi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Qi(0,null),Oo(),jo(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Va(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wa(e,t,n){return po(t,e.child,null,n),(e=Va(t,t.pendingProps)).flags|=2,Uo(t),t.memoizedState=null,e}function Ba(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qa(e,t,n,r,i){return Oi(t),n=ts(e,t,n,r,void 0,i),r=os(),null===e||Ra?(di&&r&&si(t),t.flags|=1,Da(e,t,n,i),t.child):(ss(e,t,i),il(e,t,i))}function Ha(e,t,n,r,i,o){return Oi(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=os(),null===e||Ra?(di&&r&&si(t),t.flags|=1,Da(e,t,n,o),t.child):(ss(e,t,o),il(e,t,o))}function Ya(e,t,n,r,i){if(Oi(t),null===t.stateNode){var o=Lr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ai(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ba,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},vo(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ai(s):Lr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(_a(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ba.enqueueReplaceState(o,o.state,null),So(t,r,o,i),Eo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ka(n,a);o.props=l;var c=o.context,u=n.contextType;s=Lr,"object"===typeof u&&null!==u&&(s=Ai(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&xa(t,o,r,s),go=!1;var h=t.memoizedState;o.state=h,So(t,r,o,i),Eo(),c=t.memoizedState,a||h!==c||go?("function"===typeof d&&(_a(t,n,d,r),c=t.memoizedState),(l=go||wa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yo(e,t),u=ka(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Ai(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&xa(t,o,r,l),go=!1,h=t.memoizedState,o.state=h,So(t,r,o,i),Eo();var f=t.memoizedState;s!==d||h!==f||go||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof a&&(_a(t,n,a,r),f=t.memoizedState),(u=go||wa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ba(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=po(t,e.child,null,i),t.child=po(t,null,n,i)):Da(e,t,n,i),t.memoizedState=o.state,e=t.child):e=il(e,t,i),e}function Ga(e,t,n,r){return _i(),t.flags|=256,Da(e,t,n,r),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(e){return{baseLanes:e,cachePool:Xi()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function $a(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&zo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(o?Mo(t):Fo(),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Ad(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(Fo(),l=Za({mode:"hidden",children:l},o=t.mode),i=Br(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Qa(n),i.childLanes=Xa(e,r,n),t.memoizedState=Ka,Ua(null,i)):(Mo(t),Ja(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Mo(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fo(),t.child=e.child,t.flags|=128,t=null):(Fo(),l=i.fallback,o=t.mode,i=Za({mode:"visible",children:i.children},o),(l=Br(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,po(t,e.child,null,n),(i=t.child).memoizedState=Qa(n),i.childLanes=Xa(e,r,n),t.memoizedState=Ka,t=Ua(null,i));else if(Mo(t),Ad(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ra||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Ra||r){if(null!==(r=pc)&&(0!==(i=Me(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Kc(r,e,i),Aa;Od(l)||su(),t=el(e,t,n)}else Od(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Rd(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Ja(t,i.children)).flags|=4096);return t}return o?(Fo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=Br(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Qa(n):(null!==(o=l.cachePool)?(c=Fi._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Xi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Xa(e,r,n),t.memoizedState=Ka,Ua(e.child,i)):(Mo(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function el(e,t,n){return po(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function nl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=zo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,V(zo,s),Da(e,t,r,n),r=di?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,o,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ra=!0;else{if(!ol(e,n)&&0===(128&t.flags))return Ra=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Si(0,Fi,e.memoizedState.cache),_i();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Si(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Lo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$a(e,t,n):(Mo(t),null!==(e=il(e,t,n))?e.sibling:null);Mo(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(zo,zo.current),r)break;return null;case 22:return t.lanes=0,Fa(e,t,n,t.pendingProps);case 24:Si(0,Fi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ra=0!==(131072&e.flags)}else Ra=!1,di&&0!==(1048576&t.flags)&&oi(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===x){t.tag=11,t=Ma(null,t,e,r,n);break e}if(i===S){t.tag=14,t=La(null,t,e,r,n);break e}}throw t=A(e)||e,Error(s(306,t,""))}Ur(e)?(r=ka(e,r),t.tag=1,t=Ya(null,t,e,r,n)):(t.tag=0,t=qa(null,t,e,r,n))}return t;case 0:return qa(e,t,t.type,t.pendingProps,n);case 1:return Ya(e,t,r=t.type,i=ka(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,yo(e,t),So(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Si(0,Fi,r),r!==o.cache&&Ni(t,[Fi],n,!0),Eo(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ga(e,t,r,n);break e}if(r!==i){wi(i=Kr(Error(s(424)),t)),t=Ga(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Rd(e.firstChild),ci=t,di=!0,hi=null,fi=!0,n=mo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_i(),r===i){t=il(e,t,n);break e}Da(e,t,r,n)}t=t.child}return t;case 26:return Ba(e,t),null===e?(n=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=gd(Y.current).createElement(n))[Ve]=t,r[We]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&di&&(r=t.stateNode=jd(t.type,t.pendingProps,Y.current),ci=t,fi=!0,i=ui,Cd(t.type)?(Dd=i,ui=Rd(r.firstChild)):ui=i),Da(e,t,t.pendingProps.children,n),Ba(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Rd(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),X(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,_d(i,o)?r=null:null!==a&&_d(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),uh._currentValue=i),Ba(e,t),Da(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return $a(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=po(t,null,r,n):Da(e,t,r,n),t.child;case 11:return Ma(e,t,t.type,t.pendingProps,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Si(0,t.type,r.value),Da(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Oi(t),r=r(i=Ai(i)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return La(e,t,t.type,t.pendingProps,n);case 15:return ja(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Va(t,r),t.lanes=536870912,Ua(null,e);if(Lo(t),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Va(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(Lo(t),i)if(256&t.flags)t.flags&=-257,t=Wa(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ra||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Ra||i){if(null!==(r=pc)&&0!==(a=Me(r,n))&&a!==o.retryLane)throw o.retryLane=a,Rr(e,a),Kc(r,e,a),Aa;su(),t=Wa(e,t,n)}else e=o.treeContext,ui=Rd(a.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Va(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fa(e,t,n,t.pendingProps);case 24:return Oi(t),r=Ai(Fi),null===e?(null===(i=Ki())&&(i=pc,o=Ui(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},vo(t),Si(0,Fi,i)):(0!==(e.lanes&n)&&(yo(e,t),So(t,null,null,n),Eo()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Si(0,Fi,r)):(r=o.cache,Si(0,Fi,r),r!==i.cache&&Ni(t,[Fi],n,!0))),Da(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw io=eo,Ji;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw io=eo,Ji;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Nc|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(Fi),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,bi())),hl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(al(t),null!==o?(hl(t),cl(t,o)):(hl(t),ll(t,i,0,0,n))):o?o!==e.memoizedState?(al(t),hl(t),cl(t,o)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),hl(t),ll(t,i,0,0,n)),null;case 27:if($(t),n=Y.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return hl(t),null}e=q.current,yi(t)?gi(t):(e=jd(i,r,n),t.stateNode=e,al(t))}return hl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return hl(t),null}if(o=q.current,yi(t))gi(t);else{var a=gd(Y.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Ve]=t,o[We]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(hd(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=Y.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||mi(t,!0)}else(e=gd(e).createTextNode(r))[Ve]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ve]=t}else _i(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Uo(t),t):(Uo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ve]=t}else _i(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Uo(t),t):(Uo(t),null)}return Uo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Q(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Ci(t.type),hl(t),null;case 19:if(z(zo),null===(r=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)dl(r,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Vo(e))){for(t.flags|=128,dl(r,!1),e=o.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(zo,1&zo.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Dc&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Vo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!di)return hl(t),null}else 2*le()-r.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=zo.current,V(zo,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Uo(t),Ao(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Fi),hl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function pl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Fi),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Uo(t),null===t.alternate)throw Error(s(340));_i()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_i()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(zo),null;case 4:return Q(),null;case 10:return Ci(t.type),null;case 22:case 23:return Uo(t),Ao(),null!==e&&z(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Fi),null;default:return null}}function ml(e,t){switch(ai(t),t.tag){case 3:Ci(Fi),Q();break;case 26:case 27:case 5:$(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Uo(t);break;case 13:Uo(t);break;case 19:z(zo);break;case 10:Ci(t.type);break;case 22:case 23:Uo(t),Ao(),null!==e&&z(Gi);break;case 24:Ci(Fi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){ku(t,t.return,a)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){ku(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){ku(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{To(t,n)}catch(r){ku(e,e.return,r)}}}function _l(e,t,n){n.props=ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ku(e,t,r)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){ku(e,t,i)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ku(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ku(e,t,o)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ku(e,e.return,i)}}function kl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void yt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||ud(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&ud(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&ud(e,t,a,i,r,o)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[We]=t}catch(i){ku(e,e.return,i)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=At));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[Ve]=e,t[We]=n}catch(o){ku(e,e.return,o)}}var Il=!1,Pl=!1,Ol=!1,Al="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Dl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&gl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ku(n,n.return,s)}else{var i=ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ku(n,n.return,a)}}64&r&&yl(n),512&r&&bl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{To(e,t)}catch(s){ku(n,n.return,s)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Kl(e,n),null===t&&4&r&&xl(n),512&r&&bl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&zl(e,n);break;case 13:Kl(e,n),4&r&&Vl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Pl,i=Il;var o=Pl;Il=r,(Pl=t)&&!o?Xl(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),Il=i,Pl=o}break;case 30:break;default:Kl(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,jl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(o){}switch(n.tag){case 26:Pl||wl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||wl(n,t);var r=Ll,i=jl;Cd(n.type)&&(Ll=n.stateNode,jl=!1),Fl(e,t,n),Fd(n.stateNode),Ll=r,jl=i;break;case 5:Pl||wl(n,t);case 6:if(r=Ll,i=jl,Ll=null,Fl(e,t,n),jl=i,null!==(Ll=r))if(jl)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(n.stateNode)}catch(s){ku(n,t,s)}else try{Ll.removeChild(n.stateNode)}catch(s){ku(n,t,s)}break;case 18:null!==Ll&&(jl?(Td(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Td(Ll,n.stateNode));break;case 4:r=Ll,i=jl,Ll=n.stateNode.containerInfo,jl=!0,Fl(e,t,n),Ll=r,jl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),Fl(e,t,n);break;case 1:Pl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&_l(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Fl(e,t,n),Pl=r;break;default:Fl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(n){ku(t,t.return,n)}}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(n){ku(t,t.return,n)}}function Wl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Al),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Al),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function Bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ll=l.stateNode,jl=!1;break e}break;case 5:Ll=l.stateNode,jl=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,jl=!0;break e}l=l.return}if(null===Ll)throw Error(s(160));Ul(o,a,i),Ll=null,jl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var ql=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bl(t,e),Yl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Bl(t,e),Yl(e),512&r&&(Pl||null===n||wl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=ql;if(Bl(t,e),Yl(e),512&r&&(Pl||null===n||wl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ke]||o[Ve]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),hd(o,r,n),o[Ve]=e,et(o),r=o;break e;case"link":var a=nh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}hd(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=nh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}hd(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Ve]=e,et(o),r=o}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=$d(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?rh(i,e.type,e.stateNode):$d(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bl(t,e),Yl(e),512&r&&(Pl||null===n||wl(n,n.return)),null!==n&&4&r&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bl(t,e),Yl(e),512&r&&(Pl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){ku(e,e.return,m)}}4&r&&null!=e.stateNode&&kl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Ol=!0);break;case 6:if(Bl(t,e),Yl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ku(e,e.return,m)}}break;case 3:if(th=null,i=ql,ql=Vd(t.containerInfo),Bl(t,e),ql=i,Yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(m){ku(e,e.return,m)}Ol&&(Ol=!1,Gl(e));break;case 4:r=ql,ql=Vd(e.stateNode.containerInfo),Bl(t,e),Yl(e),ql=r;break;case 12:default:Bl(t,e),Yl(e);break;case 31:case 19:Bl(t,e),Yl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 13:Bl(t,e),Yl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ac=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Pl;if(Il=u||i,Pl=d||c,Bl(t,e),Pl=d,Il=u,Yl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Pl||Ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ku(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){ku(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Nd(p,!0):Nd(c.stateNode,!1)}catch(m){ku(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Wl(e,n))));case 30:case 21:}}function Yl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,Sl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(Et(o,""),n.flags&=-33),Tl(e,Sl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Cl(e,Sl(e),a);break;default:throw Error(s(161))}}catch(l){ku(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Ql(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_l(t,t.return,n),Ql(t);break;case 27:Fd(t.stateNode);case 26:case 5:wl(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Xl(i,o,n),gl(4,o);break;case 1:if(Xl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ku(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Co(l[i],a)}catch(c){ku(r,r.return,c)}}n&&64&s&&yl(o),bl(o,o.return);break;case 27:Nl(o);case 26:case 5:Xl(i,o,n),n&&null===r&&4&s&&xl(o),bl(o,o.return);break;case 12:Xl(i,o,n);break;case 31:Xl(i,o,n),n&&4&s&&zl(i,o);break;case 13:Xl(i,o,n),n&&4&s&&Vl(i,o);break;case 22:null===o.memoizedState&&Xl(i,o,n),bl(o,o.return);break;case 30:break;default:Xl(i,o,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ku(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Zl(e,t,n,r):nc(e,t):2&o._visibility?Zl(e,t,n,r):(o._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&$l(s,t);break;case 24:Zl(e,t,n,r),2048&i&&Jl(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(o,s,a,l,i),gl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(o,s,a,l,i):nc(o,s):(u._visibility|=2,tc(o,s,a,l,i)),i&&2048&c&&$l(s.alternate,s);break;case 24:tc(o,s,a,l,i),i&&2048&c&&Jl(s.alternate,s);break;default:tc(o,s,a,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&$l(r.alternate,r);break;case 24:nc(n,r),2048&i&&Jl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Yd(r.href),o=t.querySelector(Gd(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Kd(r),(i=Ud.get(i))&&Zd(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,ql,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=ql;ql=Vd(e.stateNode.containerInfo),ic(e,t,n),ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,uc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ac(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,uc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,o=r.return;if(Ml(r),r===n){Rl=null;break e}if(null!==i){i.return=o,Rl=i;break e}Rl=o}}}var dc={getCacheForType:function(e){var t=Ai(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ai(Fi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,_c=!1,bc=!1,wc=!1,xc=0,kc=0,Ec=0,Sc=0,Cc=0,Tc=0,Nc=0,Ic=null,Pc=null,Oc=!1,Ac=0,Rc=0,Dc=1/0,Mc=null,Lc=null,jc=0,Fc=null,Uc=null,zc=0,Vc=0,Wc=null,Bc=null,qc=0,Hc=null;function Yc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==D.T?Wu():Fe()}function Gc(){if(0===Tc)if(0===(536870912&gc)||di){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Tc=e}else Tc=536870912;return null!==(e=Ro.current)&&(e.flags|=32),Tc}function Kc(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,gc,Tc,!1)),Ae(e,n),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Sc|=n),4===kc&&Jc(e,gc,Tc,!1)),Mu(e))}function Qc(e,t,n){if(0!==(6&fc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ne(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=iu(),i=ou();pc!==e||gc!==t?(Mc=null,Dc=le()+500,tu(e,t)):bc=Ne(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var o=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,o,1);break;case 2:case 9:if(to(o)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Mu(e)},o.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:to(o)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,o,7));break;case 5:var a=null;switch(mc.tag){case 26:a=mc.memoizedState;case 5:case 27:var l=mc;if(a?ih(a):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,o,5);break;case 6:vc=0,yc=null,hu(e,t,o,6);break;case 8:eu(),kc=6;break e;default:throw Error(s(462))}}cu();break}catch(d){nu(e,d)}return Ei=ki=null,D.H=r,D.A=i,fc=n,null!==mc?0:(pc=null,gc=0,Pr(),kc)}(e,t):au(e,t,!0),o=r;;){if(0===i){bc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!o||$c(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,a).flags|=256),2!==(a=au(l,a,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=o,Sc|=o,i=4;break e}o=Pc,Pc=i,null!==o&&(null===Pc?Pc=o:Pc.push.apply(Pc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){tu(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Tc,!_c);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Ac+300-le())){if(Jc(r,t,Tc,!_c),0!==Te(r,0,!0))break e;zc=t,r.timeoutHandle=wd(Xc.bind(null,r,n,Pc,Mc,Oc,t,Tc,Sc,Nc,_c,o,"Throttled",-0,0),i)}else Xc(r,n,Pc,Mc,Oc,t,Tc,Sc,Nc,_c,o,null,-0,0)}break}i=au(e,t,!1),o=!1}Mu(e)}function Xc(e,t,n,r,i,o,s,a,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:At});var p=(62914560&o)===o?Ac-le():(4194048&o)===o?Rc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&fd(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return zc=o,e.cancelPendingCommit=p(mu.bind(null,e,t,o,n,r,i,s,a,l,u,d,null,h,f)),void Jc(e,o,s,!c)}mu(e,t,o,n,r,i,s,a,l)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~Cc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-be(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Re(e,n,t)}function Zc(){return 0!==(6&fc)||(Lu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Ei=ki=null,as(e=mc),ao=null,lo=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,eu(),pc=e,mc=n=zr(e.current,null),gc=t,vc=0,yc=null,_c=!1,bc=Ne(e,t),wc=!1,Nc=Tc=Cc=Sc=Ec=kc=0,Pc=Ic=null,Oc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),o=1<<i;t|=e[i],r&=~o}return xc=t,Pr(),n}function nu(e,t){Bo=null,D.H=ma,t===$i||t===Zi?(t=oo(),vc=3):t===Ji?(t=oo(),vc=4):vc=t===Aa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(kc=1,Ta(e,Kr(t,e.current)))}function ru(){var e=Ro.current;return null===e||((4194048&gc)===gc?null===Do:((62914560&gc)===gc||0!==(536870912&gc))&&e===Do)}function iu(){var e=D.H;return D.H=ma,null===e?ma:e}function ou(){var e=D.A;return D.A=dc,e}function su(){kc=4,_c||(4194048&gc)!==gc&&null!==Ro.current||(bc=!0),0===(134217727&Ec)&&0===(134217727&Sc)||null===pc||Jc(pc,gc,Tc,!1)}function au(e,t,n){var r=fc;fc|=2;var i=iu(),o=ou();pc===e&&gc===t||(Mc=null,tu(e,t)),t=!1;var s=kc;e:for(;;)try{if(0!==vc&&null!==mc){var a=mc,l=yc;switch(vc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Ro.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,a,l,c),n&&bc){s=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,a,l,c)}}lu(),s=kc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Ei=ki=null,fc=r,D.H=i,D.A=o,null===mc&&(pc=null,gc=0,Pr()),s}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!se();)uu(mc)}function uu(e){var t=sl(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ha(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Ha(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:as(t);default:ml(n,t),t=sl(n,t=mc=Vr(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,n,r){Ei=ki=null,as(t),ao=null,lo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Ro.current)){switch(n.tag){case 31:case 13:return null===Do?su():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(s(435,n.tag))}return Eu(e,r,i),su(),!1}if(di)return null!==(t=Ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&wi(Kr(e=Error(s(422),{cause:r}),n))):(r!==pi&&wi(Kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Kr(r,n),xo(e,i=Ia(e.stateNode,r,i)),4!==kc&&(kc=2)),!1;var o=Error(s(520),{cause:r});if(o=Kr(o,n),null===Ic?Ic=[o]:Ic.push(o),4!==kc&&(kc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xo(n,e=Ia(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Lc||!Lc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Oa(i=Pa(i),e,n,r),xo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return kc=1,Ta(e,Kr(n,e.current)),void(mc=null)}catch(o){if(null!==i)throw mc=i,o;return kc=1,Ta(e,Kr(n,e.current)),void(mc=null)}32768&t.flags?(di||1===r?e=!0:bc||0!==(536870912&gc)?e=!1:(_c=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ro.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,_c);e=t.return;var n=fl(t.alternate,t,xc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===kc&&(kc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);kc=6,mc=null}function mu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==jc);if(0!==(6&fc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-be(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ir,a,l,c),e===pc&&(mc=pc=null,gc=0),Uc=t,Fc=e,zc=n,Vc=o,Wc=i,Bc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=M.p,M.p=2,a=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=_h,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},_h=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(o=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ka(n.type,i);e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ku(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{fc=a,M.p=i,D.T=r}}jc=1,gu(),vu(),yu()}}function gu(){if(1===jc){jc=0;var e=Fc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=fc;fc|=4;try{Hl(t,e);var o=md,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=tr(a,m),y=tr(a,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var _=d.createRange();_.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(_),f.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),f.addRange(_))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var b=d[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}_h=!!pd,md=pd=null}finally{fc=i,M.p=r,D.T=n}}e.current=t,jc=2}}function vu(){if(2===jc){jc=0;var e=Fc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=fc;fc|=4;try{Dl(e,t.alternate,t)}finally{fc=i,M.p=r,D.T=n}}jc=3}}function yu(){if(4===jc||3===jc){jc=0,ae();var e=Fc,t=Uc,n=zc,r=Bc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Uc=Fc=null,_u(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Lc=null),je(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{D.T=t,M.p=i}}0!==(3&zc)&&bu(),Mu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Hc?qc++:(qc=0,Hc=e):qc=0,Lu(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function bu(){return gu(),vu(),yu(),wu()}function wu(){if(5!==jc)return!1;var e=Fc,t=Vc;Vc=0;var n=je(zc),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Wc,Wc=null;var o=Fc,a=zc;if(jc=0,Uc=Fc=null,zc=0,0!==(6&fc))throw Error(s(331));var l=fc;if(fc|=4,lc(o.current),ec(o,o.current,a,n),fc=l,Lu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(c){}return!0}finally{M.p=i,D.T=r,_u(e,t)}}function xu(e,t,n){t=Kr(n,t),null!==(e=bo(e,t=Ia(e.stateNode,t,2),2))&&(Ae(e,2),Mu(e))}function ku(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Lc||!Lc.has(r))){e=Kr(n,e),null!==(r=bo(t,n=Pa(2),2))&&(Oa(n,r,t,e),Ae(r,2),Mu(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===kc||3===kc&&(62914560&gc)===gc&&300>le()-Ac?0===(2&fc)&&tu(e,0):Cc|=n,Nc===gc&&(Nc=0)),Mu(e)}function Cu(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(Ae(e,t),Mu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}var Iu=null,Pu=null,Ou=!1,Au=!1,Ru=!1,Du=0;function Mu(e){e!==Pu&&null===e.next&&(null===Pu?Iu=Pu=e:Pu=Pu.next=e),Au=!0,Ou||(Ou=!0,Ed(function(){0!==(6&fc)?ie(ue,ju):Fu()}))}function Lu(e,t){if(!Ru&&Au){Ru=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-be(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Vu(r,o))}else o=gc,0===(3&(o=Te(r,r===pc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,o)||(n=!0,Vu(r,o));r=r.next}}while(n);Ru=!1}}function ju(){Fu()}function Fu(){Au=Ou=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bd&&(bd=e,!0);return bd=null,!1}()&&(e=Du);for(var t=le(),n=null,r=Iu;null!==r;){var i=r.next,o=Uu(r,t);0===o?(r.next=null,null===n?Iu=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&o))&&(Au=!0)),r=i}0!==jc&&5!==jc||Lu(e,!1),0!==Du&&(Du=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-be(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ie(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=gc,n=Te(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),je(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=zu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Te(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Vu(e,t){if(bu())return null;Qc(e,t,!0)}function Wu(){if(0===Du){var e=Bi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Du=e}return Du}function Bu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<Er.length;Hu++){var Yu=Er[Hu];Sr(Yu.toLowerCase(),"on"+(Yu[0].toUpperCase()+Yu.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(vr,"onAnimationIteration"),Sr(yr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(_r,"onTransitionRun"),Sr(br,"onTransitionStart"),Sr(wr,"onTransitionCancel"),Sr(xr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Cr(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Cr(u)}i.currentTarget=null,o=l}}}}function Xu(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ju]){e[Ju]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,$u("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Ch(t)){case 2:var i=bh;break;case 8:i=wh;break;default:i=xh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Xe(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Ut(function(){var r=o,i=Dt(n),s=[];e:{var a=kr.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case gr:case vr:case yr:c=un;break;case xr:c=wn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&d.push(nd(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Be])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:Je(c),p=null==u?a:Je(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Xe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=id,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&od(s,a,c,d,!1),null!==u&&null!==h&&od(s,h,u,d,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Vn;else if(Mn(a))if(Wn)y=$n;else{y=Qn;var _=Kn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Nt(r.elementType)&&(y=Vn):y=Xn;switch(y&&(y=y(e,r))?Ln(s,y,n,i):(_&&_(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&bt(a,"number",a.value)),_=r?Je(r):window,e){case"focusin":(Mn(_)||"true"===_.contentEditable)&&(sr=_,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(s,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?On(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Nn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(b=Gt()):(Ht="value"in(qt=i)?qt.value:qt.textContent,Rn=!0)),0<(_=rd(r,w)).length&&(w=new hn(w,e,null,n,i),s.push({event:w,listeners:_}),b?w.data=b:null!==(b=An(n))&&(w.data=b))),(b=Tn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Pn=!0,In);case"textInput":return(e=t.data)===In&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Sn&&On(e,t)?(e=Gt(),Yt=Ht=qt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rd(r,"onBeforeInput")).length&&(_=new hn("onBeforeInput","beforeinput",null,n,i),s.push({event:_,listeners:w}),_.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Bu((i[We]||null).action),s=r.submitter;s&&null!==(t=(t=s[We]||null)?Bu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Du){var e=s?qu(i,s):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?qu(i,s):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Qu(s,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=zt(e,n))&&r.unshift(nd(e,i,o)),null!=(i=zt(e,t))&&r.push(nd(e,i,o))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=zt(n,o))&&s.unshift(nd(n,c,l)):i||null!=(c=zt(n,o))&&s.push(nd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,ad=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ad,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=At);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function dd(e,t,n,r,i,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=At);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[We]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,r,a,n,null)}}return o&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,i,d,n,null)}}return void _t(e,r,l,c,u,a,o,!1);case"select":for(o in Xu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ud(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(a in Xu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ud(e,t,a,l,n,null)}return void kt(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,c,i,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Xu(Gu[i],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ud(e,t,l,i,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,xd="function"===typeof clearTimeout?clearTimeout:void 0,kd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kd?function(e){return kd.resolve(null).then(e).catch(Sd)}:wd;function Sd(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Ke]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&Fd(e.ownerDocument.body);n=i}while(n);qh(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function Ad(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Ud=new Map,zd=new Set;function Vd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wd=M.d;M.d={f:function(){var e=Wd.f(),t=Zc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Wd.r(e)},D:function(e){Wd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Wd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){Wd.L(e,t,n);var r=Bd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var o=i;switch(t){case"style":o=Yd(e);break;case"script":o=Qd(e)}Ud.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gd(o))||"script"===t&&r.querySelector(Xd(o))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wd.m(e,t);var n=Bd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Qd(e)}if(!Ud.has(o)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(o)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wd.X(e,t);var n=Bd;if(n&&e){var r=Ze(n).hoistableScripts,i=Qd(e),o=r.get(i);o||((o=n.querySelector(Xd(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&eh(e,t),et(o=n.createElement("script")),hd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Wd.S(e,t,n);var r=Bd;if(r&&e){var i=Ze(r).hoistableStyles,o=Yd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Gd(o)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(o))&&Zd(e,n);var l=s=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Jd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Wd.M(e,t);var n=Bd;if(n&&e){var r=Ze(n).hoistableScripts,i=Qd(e),o=r.get(i);o||((o=n.querySelector(Xd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&eh(e,t),et(o=n.createElement("script")),hd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Bd="undefined"===typeof document?null:document;function qd(e,t,n){var r=Bd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zd.has(i)||(zd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hd(e,t,n,r){var i,o,a,l,c=(c=Y.current)?Vd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Yd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Yd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),hd(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yd(e){return'href="'+vt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+vt(e)+'"]'}function Xd(e){return"script[async]"+e}function $d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),Jd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Yd(n.href);var o=e.querySelector(Gd(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Kd(n),(i=Ud.get(i))&&Zd(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(o,"link",r),t.state.loading|=4,Jd(o,n.precedence,e),t.instance=o;case"script":return o=Qd(n.src),(i=e.querySelector(Xd(o)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(o))&&eh(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jd(r,n.precedence,e));return t.instance}function Jd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ke]||o[Ve]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(ch,e),ah=null,sh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var r=n.get(null);else{n=new Map,ah.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=sh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dh(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,o,s,a,l,c,u,d){return e=new dh(e,t,n,s,l,c,u,d,a),t=1,!0===o&&(t|=24),o=Fr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},vo(o),e}function fh(e){return e?e=Lr:Lr}function ph(e,t,n,r,i,o){i=fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=_o(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=bo(e,r,t))&&(Kc(n,0,t),wo(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Kc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Yc(),n=Rr(e,t=Le(t));null!==n&&Kc(n,0,t),gh(e,t)}}var _h=!0;function bh(e,t,n,r){var i=D.T;D.T=null;var o=M.p;try{M.p=2,xh(e,t,n,r)}finally{M.p=o,D.T=i}}function wh(e,t,n,r){var i=D.T;D.T=null;var o=M.p;try{M.p=8,xh(e,t,n,r)}finally{M.p=o,D.T=i}}function xh(e,t,n,r){if(_h){var i=kh(r);if(null===i)td(e,t,r,Eh,n),Mh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nh=Lh(Nh,e,t,n,r,i),!0;case"dragenter":return Ih=Lh(Ih,e,t,n,r,i),!0;case"mouseover":return Ph=Lh(Ph,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oh.set(o,Lh(Oh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ah.set(o,Lh(Ah.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mh(e,r),4&t&&-1<Dh.indexOf(e)){for(;null!==i;){var o=$e(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ce(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-be(s);a.entanglements[1]|=l,s&=~l}Mu(o),0===(6&fc)&&(Dc=le()+500,Lu(0,!1))}}break;case 31:case 13:null!==(a=Rr(o,2))&&Kc(a,0,2),Zc(),gh(o,2)}if(null===(o=kh(r))&&td(e,t,r,Eh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function kh(e){return Sh(e=Dt(e))}var Eh=null;function Sh(e){if(Eh=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,Nh=null,Ih=null,Ph=null,Oh=new Map,Ah=new Map,Rh=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Oh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(t.pointerId)}}function Lh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jh(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Uh(e,t,n){Fh(e)&&n.delete(t)}function zh(){Th=!1,null!==Nh&&Fh(Nh)&&(Nh=null),null!==Ih&&Fh(Ih)&&(Ih=null),null!==Ph&&Fh(Ph)&&(Ph=null),Oh.forEach(Uh),Ah.forEach(Uh)}function Vh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var Wh=null;function Bh(e){Wh!==e&&(Wh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wh===e&&(Wh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Sh(r||n))continue;break}var o=$e(n);null!==o&&(e.splice(t,3),t-=3,ta(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function qh(e){function t(t){return Vh(t,e)}null!==Nh&&Vh(Nh,e),null!==Ih&&Vh(Ih,e),null!==Ph&&Vh(Ph,e),Oh.forEach(t),Ah.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)jh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[We]||null;if("function"===typeof o)s||Bh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[We]||null)a=s.formAction;else if(null!==Sh(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Bh(n)}}}function Hh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Yh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));ph(t.current,Yc(),e,t,null,null)},Gh.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[Be]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&jh(e)}};var Kh=i.version;if("19.2.3"!==Kh)throw Error(s(527,Kh,"19.2.3"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return d(i),e;if(o===r)return d(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Qh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ve=Xh.inject(Qh),ye=Xh}catch(Jh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ea,o=Sa,l=Ca;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,o,l,Hh),e[Be]=t.current,Zu(e),new Yh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ea,l=Sa,c=Ca,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,i,u,o,l,c,Hh)).context=fh(null),n=t.current,(i=_o(r=Le(r=Yc()))).callback=null,bo(n,i,r),n=r,t.current.lanes=n,Ae(t,n),Mu(t),e[Be]=t.current,Zu(e),new Gh(t)},t.version="19.2.3"},119(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},340(e,t,n){"use strict";e.exports=n(487)},352(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},414(e,t,n){"use strict";e.exports=n(916)},487(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&A(x,t.startTime-e)}}var k,E=!1,S=-1,C=5,T=-1;function N(){return!!v||!(t.unstable_now()-T<C)}function I(){if(v=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(S),S=-1),p=!0;var o=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(x,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=I,k=function(){O.postMessage(null)}}else k=function(){y(I,0)};function A(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(_(S),S=-1):g=!0,A(x,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},863(e,t,n){"use strict";var r=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},901(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},916(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},950(e,t,n){"use strict";e.exports=n(983)},983(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var w=b.prototype=new _;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray;function k(){}var E={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+I(e,0):o,x(s)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),P(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+u,s=C(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(x(e))for(var m=0;m<e.length;m++)u+=P(o=e[m],t,i,a=f+I(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,a=f+I(o,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return C(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,R)}catch(o){R(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.3"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{Button:()=>DA,CaptionLabel:()=>MA,Chevron:()=>LA,Day:()=>FA,DayButton:()=>zA,Dropdown:()=>WA,DropdownNav:()=>BA,Footer:()=>qA,Month:()=>YA,MonthCaption:()=>KA,MonthGrid:()=>QA,Months:()=>XA,MonthsDropdown:()=>ZA,Nav:()=>tR,NextMonthButton:()=>nR,Option:()=>rR,PreviousMonthButton:()=>iR,Root:()=>sR,Select:()=>aR,Week:()=>cR,WeekNumber:()=>fR,WeekNumberHeader:()=>pR,Weekday:()=>uR,Weekdays:()=>dR,Weeks:()=>mR,YearsDropdown:()=>gR});var t={};n.r(t),n.d(t,{formatCaption:()=>yR,formatDay:()=>bR,formatMonthCaption:()=>_R,formatMonthDropdown:()=>wR,formatWeekNumber:()=>kR,formatWeekNumberHeader:()=>ER,formatWeekdayName:()=>xR,formatYearCaption:()=>CR,formatYearDropdown:()=>SR});var r={};n.r(r),n.d(r,{labelCaption:()=>PR,labelDay:()=>NR,labelDayButton:()=>TR,labelGrid:()=>IR,labelGridcell:()=>OR,labelMonthDropdown:()=>AR,labelNav:()=>RR,labelNext:()=>MR,labelPrevious:()=>LR,labelWeekNumber:()=>FR,labelWeekNumberHeader:()=>UR,labelWeekday:()=>jR,labelYearDropdown:()=>zR});var i,o=n(950),s=n.t(o,2),a=n(352),l=n(119),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,l=i.Pop,c=null,f=v();function v(){return(a.state||{idx:null}).idx}function y(){l=i.Pop;let e=v(),t=null==e?null:e-f;f=e,c&&c({action:l,location:b.location,delta:t})}function _(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,a.replaceState(u({},a.state,{idx:f}),""));let b={get action(){return l},get location(){return e(o,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(d,y),c=e,()=>{o.removeEventListener(d,y),c=null}},createHref:e=>t(o,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(b.location,e,t);n&&n(r,e),f=v()+1;let u=p(r,f),d=b.createHref(r);try{a.pushState(u,"",d)}catch(la){if(la instanceof DOMException&&"DataCloneError"===la.name)throw la;o.location.assign(d)}s&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(b.location,e,t);n&&n(r,e),f=v();let o=p(r,f),u=b.createHref(r);a.replaceState(o,"",u),s&&c&&c({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var _;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_||(_={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=M(("string"===typeof t?v(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=D(i);s=A(o[a],e,r)}return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(h(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=B([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:O(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=k(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const E=/^:[\w-]+$/,S=3,C=2,T=1,N=10,I=-2,P=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=I),t&&(r+=C),n.filter(e=>!P(e)).reduce((e,t)=>e+(E.test(t)?S:""===t?T:N),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:B([o,u.pathname]),pathnameBase:q(B([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=B([o,u.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(la){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+la+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function j(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:o=""}="string"===typeof e?v(e):e;if(r)if(s=r,L.test(s))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),f(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?F(r.substring(1),"/"):F(r,t)}else n=t;var s;return{pathname:n,search:H(i),hash:Y(o)}}function F(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function U(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let n=z(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function W(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=v(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),U("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),U("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),U("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=j(i,o),c=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],Q=(new Set(K),["get",...K]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}const $=o.createContext(null);const J=o.createContext(null);const Z=o.createContext(null);const ee=o.createContext(null);const te=o.createContext({outlet:null,matches:[],isDataRoute:!1});const ne=o.createContext(null);function re(){return null!=o.useContext(ee)}function ie(){return re()||h(!1),o.useContext(ee).location}function oe(e){o.useContext(Z).static||o.useLayoutEffect(e)}function se(){let{isDataRoute:e}=o.useContext(te);return e?function(){let{router:e}=ve(me.UseNavigateStable),t=_e(ge.UseNavigateStable),n=o.useRef(!1);return oe(()=>{n.current=!0}),o.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,X({fromRouteId:t},i)))},[e,t])}():function(){re()||h(!1);let e=o.useContext($),{basename:t,future:n,navigator:r}=o.useContext(Z),{matches:i}=o.useContext(te),{pathname:s}=ie(),a=JSON.stringify(V(i,n.v7_relativeSplatPath)),l=o.useRef(!1);return oe(()=>{l.current=!0}),o.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=W(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e])}()}function ae(){let{matches:e}=o.useContext(te),t=e[e.length-1];return t?t.params:{}}function le(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Z),{matches:i}=o.useContext(te),{pathname:s}=ie(),a=JSON.stringify(V(i,r.v7_relativeSplatPath));return o.useMemo(()=>W(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function ce(e,t,n,r){re()||h(!1);let{navigator:s}=o.useContext(Z),{matches:a}=o.useContext(te),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ie();if(t){var p;let e="string"===typeof t?v(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:g});let _=pe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&_?o.createElement(ee.Provider,{value:{location:X({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},_):_}function ue(){let e=function(){var e;let t=o.useContext(ne),n=ye(ge.UseRouteError),r=_e(ge.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,null)}const de=o.createElement(ue,null);class he extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(te.Provider,{value:this.props.routeContext},o.createElement(ne.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fe(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext($);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(te.Provider,{value:t},r)}function pe(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<a.length;o++){let e=a[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let s,d=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||de,c&&(u<0&&0===i?(p="route-fallback",!1||be[p]||(be[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=s?h:d?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(fe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(he,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ge||{});function ve(e){let t=o.useContext($);return t||h(!1),t}function ye(e){let t=o.useContext(J);return t||h(!1),t}function _e(e){let t=function(){let e=o.useContext(te);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const be={};function we(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function xe(e){h(!1)}function ke(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.Pop,navigator:a,static:l=!1,future:c}=e;re()&&h(!1);let u=t.replace(/^\/*/,"/"),d=o.useMemo(()=>({basename:u,navigator:a,static:l,future:X({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);"string"===typeof r&&(r=v(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=r,_=o.useMemo(()=>{let e=M(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:s}},[u,f,p,m,g,y,s]);return null==_?null:o.createElement(Z.Provider,{value:d},o.createElement(ee.Provider,{children:n,value:_}))}function Ee(e){let{children:t,location:n}=e;return ce(Se(t),n)}new Promise(()=>{});o.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,(e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,Se(e.props.children,i));e.type!==xe&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Se(e.props.children,i)),n.push(s)}),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(eM){}new Map;const Ie=s.startTransition;c.flushSync,s.useId;function Pe(e){let{basename:t,children:n,future:r,window:i}=e,s=o.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),y(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,a)));let l=s.current,[c,u]=o.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=o.useCallback(e=>{d&&Ie?Ie(()=>u(e)):u(e)},[u,d]);return o.useLayoutEffect(()=>l.listen(h),[l,h]),o.useEffect(()=>we(r),[r]),o.createElement(ke,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=o.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Te(e,Ne),{basename:m}=o.useContext(Z),v=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,Oe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=M(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(eM){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;re()||h(!1);let{basename:r,navigator:i}=o.useContext(Z),{hash:s,pathname:a,search:l}=le(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:B([r,a])),i.createHref({pathname:c,search:l,hash:s})}(u,{relative:i}),_=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=se(),u=ie(),d=le(e,{relative:a});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,i,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});return o.createElement("a",Ce({},p,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:t,target:c}))});var De,Me;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function je(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Fe(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ve(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const We=!1,Be=!1,qe="${JSCORE_VERSION}",He=function(e,t){if(!e)throw Ye(t)},Ye=function(e){return new Error("Firebase Database ("+qe+") INTERNAL ASSERT FAILED: "+e)},Ge=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ge(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Qe;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xe=function(e){const t=Ge(e);return Ke.encodeByteArray(t,!0)},$e=function(e){return Xe(e).replace(/\./g,"")},Je=function(e){try{return Ke.decodeString(e,!0)}catch(eM){console.error("base64Decode failed: ",eM)}return null};function Ze(e){return et(void 0,e)}function et(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&tt(n)&&(e[n]=et(e[n],t[n]));return e}function tt(e){return"__proto__"!==e}function nt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const rt=()=>{try{return nt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(eM){return}const t=e&&Je(e[1]);return t&&JSON.parse(t)})()}catch(eM){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(eM))}},it=e=>{var t;return null===(t=rt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},ot=e=>{const t=it(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},st=()=>{var e;return null===(e=rt())||void 0===e?void 0:e.config},at=e=>{var t;return null===(t=rt())||void 0===t?void 0:t["_".concat(e)]};class lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ct(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function ut(e){return(await fetch(e,{credentials:"include"})).ok}function dt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=ze({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(o)),""].join(".")}const ht={};let ft=!1;function pt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!ct(window.location.host)||ht[e]===t||ht[e]||ft)return;function n(e){return"__firebase__banner__".concat(e)}ht[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(ht))ht[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{ft=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function gt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function vt(){var e;const t=null===(e=rt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(eM){return!1}}function yt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function _t(){return!0===We||!0===Be}function bt(){return!vt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){try{return"object"===typeof indexedDB}catch(eM){return!1}}class xt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Et,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new xt(n,o,t)}}const Et=/\{\$([^}]+)}/g;function St(e){return JSON.parse(e)}function Ct(e){return JSON.stringify(e)}const Tt=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=St(Je(o[0])||""),n=St(Je(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(eM){}return{header:t,claims:n,data:r,signature:i}};function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Pt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ot(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function At(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Rt(n)&&Rt(o)){if(!At(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rt(e){return null!==e&&"object"===typeof e}function Dt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Lt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class jt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Ft{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ut),void 0===r.error&&(r.error=Ut),void 0===r.complete&&(r.complete=Ut);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(eM){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(eM){"undefined"!==typeof console&&console.error&&console.error(eM)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function zt(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Vt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Wt(e){return e&&e._delegate?e._delegate:e}class Bt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qt="[DEFAULT]";class Ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new lt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(eM){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eM){if(r)return null;throw eM}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qt})}catch(eM){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(eM){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===qt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.component?this.component.multipleInstances?e:qt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Gt=[];var Kt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Kt||(Kt={}));const Qt={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},Xt=Kt.INFO,$t={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},Jt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=$t[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Zt{constructor(e){this.name=e,this._logLevel=Xt,this._logHandler=Jt,this._userLogHandler=null,Gt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Qt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...t),this._logHandler(this,Kt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...t),this._logHandler(this,Kt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...t),this._logHandler(this,Kt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...t),this._logHandler(this,Kt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...t),this._logHandler(this,Kt.ERROR,...t)}}let en,tn;const nn=new WeakMap,rn=new WeakMap,on=new WeakMap,sn=new WeakMap,an=new WeakMap;let ln={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return rn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||on.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function cn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tn||(tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(hn(this),n),dn(nn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(e.apply(hn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(hn(this),t,...r);return on.set(o,t.sort?t.sort():[t]),dn(o)}}function un(e){return"function"===typeof e?cn(e):(e instanceof IDBTransaction&&function(e){if(rn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});rn.set(e,t)}(e),t=e,(en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ln):e);var t}function dn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(dn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&nn.set(t,e)}).catch(()=>{}),an.set(t,e),t}(e);if(sn.has(e))return sn.get(e);const t=un(e);return t!==e&&(sn.set(e,t),an.set(t,e)),t}const hn=e=>an.get(e);const fn=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],mn=new Map;function gn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(mn.get(t))return mn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return mn.set(t,o),o}ln=(e=>ze(ze({},e),{},{get:(t,n,r)=>gn(t,n)||e.get(t,n,r),has:(t,n)=>!!gn(t,n)||e.has(t,n)}))(ln);class vn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const yn="@firebase/app",_n="0.14.6",bn=new Zt("@firebase/app"),wn="@firebase/app-compat",xn="@firebase/analytics-compat",kn="@firebase/analytics",En="@firebase/app-check-compat",Sn="@firebase/app-check",Cn="@firebase/auth",Tn="@firebase/auth-compat",Nn="@firebase/database",In="@firebase/data-connect",Pn="@firebase/database-compat",On="@firebase/functions",An="@firebase/functions-compat",Rn="@firebase/installations",Dn="@firebase/installations-compat",Mn="@firebase/messaging",Ln="@firebase/messaging-compat",jn="@firebase/performance",Fn="@firebase/performance-compat",Un="@firebase/remote-config",zn="@firebase/remote-config-compat",Vn="@firebase/storage",Wn="@firebase/storage-compat",Bn="@firebase/firestore",qn="@firebase/ai",Hn="@firebase/firestore-compat",Yn="firebase",Gn="[DEFAULT]",Kn={[yn]:"fire-core",[wn]:"fire-core-compat",[kn]:"fire-analytics",[xn]:"fire-analytics-compat",[Sn]:"fire-app-check",[En]:"fire-app-check-compat",[Cn]:"fire-auth",[Tn]:"fire-auth-compat",[Nn]:"fire-rtdb",[In]:"fire-data-connect",[Pn]:"fire-rtdb-compat",[On]:"fire-fn",[An]:"fire-fn-compat",[Rn]:"fire-iid",[Dn]:"fire-iid-compat",[Mn]:"fire-fcm",[Ln]:"fire-fcm-compat",[jn]:"fire-perf",[Fn]:"fire-perf-compat",[Un]:"fire-rc",[zn]:"fire-rc-compat",[Vn]:"fire-gcs",[Wn]:"fire-gcs-compat",[Bn]:"fire-fst",[Hn]:"fire-fst-compat",[qn]:"fire-vertex","fire-js":"fire-js",[Yn]:"fire-js-all"},Qn=new Map,Xn=new Map,$n=new Map;function Jn(e,t){try{e.container.addComponent(t)}catch(eM){bn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),eM)}}function Zn(e){const t=e.name;if($n.has(t))return bn.debug("There were multiple attempts to register component ".concat(t,".")),!1;$n.set(t,e);for(const n of Qn.values())Jn(n,e);for(const n of Xn.values())Jn(n,e);return!0}function er(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const nr=new kt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rr{constructor(e,t,n){this._isDeleted=!1,this._options=ze({},e),this._config=ze({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const ir="12.6.0";function or(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=ze({name:Gn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw nr.create("bad-app-name",{appName:String(i)});if(n||(n=st()),!n)throw nr.create("no-options");const o=Qn.get(i);if(o){if(At(n,o.options)&&At(r,o.config))return o;throw nr.create("duplicate-app",{appName:i})}const s=new Yt(i);for(const l of $n.values())s.addComponent(l);const a=new rr(n,r,s);return Qn.set(i,a),a}function sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;const t=Qn.get(e);if(!t&&e===Gn&&st())return or();if(!t)throw nr.create("no-app",{appName:e});return t}function ar(e,t,n){var r;let i=null!==(r=Kn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void bn.warn(e.join(" "))}Zn(new Bt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const lr="firebase-heartbeat-store";let cr=null;function ur(){return cr||(cr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=dn(s);return r&&s.addEventListener("upgradeneeded",e=>{r(dn(s.result),e.oldVersion,e.newVersion,dn(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(lr)}catch(eM){console.warn(eM)}}}).catch(e=>{throw nr.create("idb-open",{originalErrorMessage:e.message})})),cr}async function dr(e,t){try{const n=(await ur()).transaction(lr,"readwrite"),r=n.objectStore(lr);await r.put(t,hr(e)),await n.done}catch(eM){if(eM instanceof xt)bn.warn(eM.message);else{const t=nr.create("idb-set",{originalErrorMessage:null===eM||void 0===eM?void 0:eM.message});bn.warn(t.message)}}}function hr(e){return"".concat(e.name,"!").concat(e.options.appId)}class fr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(eM){bn.warn(eM)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=pr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),gr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=$e(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(eM){return bn.warn(eM),""}}}function pr(){return(new Date).toISOString().substring(0,10)}class mr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!wt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(la){t(la)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ur()).transaction(lr),n=await t.objectStore(lr).get(hr(e));return await t.done,n}catch(eM){if(eM instanceof xt)bn.warn(eM.message);else{const t=nr.create("idb-get",{originalErrorMessage:null===eM||void 0===eM?void 0:eM.message});bn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return dr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return dr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function gr(e){return $e(JSON.stringify({version:2,heartbeats:e})).length}var vr;vr="",Zn(new Bt("platform-logger",e=>new vn(e),"PRIVATE")),Zn(new Bt("heartbeat",e=>new fr(e),"PRIVATE")),ar(yn,_n,vr),ar(yn,_n,"esm2020"),ar("fire-js","");const yr=["providerId"],_r=["uid","auth","stsTokenManager"],br=["providerId","signInMethod"];function wr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xr=wr,kr=new kt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Er=new Zt("@firebase/auth");function Sr(e){if(Er.logLevel<=Kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.error("Auth (".concat(ir,"): ").concat(e),...n)}}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Or(e,...n)}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Or(e,...n)}function Nr(e,t,n){const r=ze(ze({},xr()),{},{[t]:n});return new kt("auth","Firebase",r).create(t,{appName:e.name})}function Ir(e){return Nr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cr(e,"argument-error"),Nr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return kr.create(e,...n)}function Ar(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Or(t,...r)}}function Rr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sr(t),new Error(t)}function Dr(e,t){e||Rr(t)}function Mr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Lr(){return"http:"===jr()||"https:"===jr()}function jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Fr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Lr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ur{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dr(t>e,"Short delay should be less than long delay!"),this.isMobile=gt()||yt()}get(){return Fr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zr(e,t){Dr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Br=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qr=new Ur(3e4,6e4);function Hr(e,t){return e.tenantId&&!t.tenantId?ze(ze({},t),{},{tenantId:e.tenantId}):t}async function Yr(e,t,n,r){return Gr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Dt(ze({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=ze({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&ct(e.emulatorConfig.host)&&(l.credentials="include"),Vr.fetch()(await Qr(e,e.config.apiHost,n,s),l)})}async function Gr(e,t,n){e._canInitEmulator=!1;const r=ze(ze({},Wr),t);try{const t=new $r(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Jr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Jr(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Nr(e,a,s);Cr(e,a)}}catch(eM){if(eM instanceof xt)throw eM;Cr(e,"network-request-failed",{message:String(eM)})}}async function Kr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Yr(e,t,n,r,i);return"mfaPendingCredential"in o&&Cr(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Qr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?zr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Br.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function Xr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $r{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Tr(this.auth,"network-request-failed")),qr.get())})}}function Jr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(e,t,r);return i.customData._tokenResponse=n,i}function Zr(e){return void 0!==e&&void 0!==e.enterprise}class ei{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ti(e,t){return Yr(e,"GET","/v2/recaptchaConfig",Hr(e,t))}async function ni(e,t){return Yr(e,"POST","/v1/accounts:lookup",t)}function ri(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eM){}}function ii(e){return 1e3*Number(e)}function oi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Sr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Je(n);return e?JSON.parse(e):(Sr("Failed to decode base64 JWT payload"),null)}catch(eM){return Sr("Caught error parsing JWT payload as JSON",null===eM||void 0===eM?void 0:eM.toString()),null}}function si(e){const t=oi(e);return Ar(t,"internal-error"),Ar("undefined"!==typeof t.exp,"internal-error"),Ar("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ai(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(eM){throw eM instanceof xt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(eM)&&e.auth.currentUser===e&&await e.auth.signOut(),eM}}class li{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(eM){return void((null===eM||void 0===eM?void 0:eM.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ci{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ui(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ai(e,ni(n,{idToken:r}));Ar(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?di(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ci(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function di(e){return e.map(e=>{let{providerId:t}=e,n=Ve(e,yr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class hi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ar(e.idToken,"internal-error"),Ar("undefined"!==typeof e.idToken,"internal-error"),Ar("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):si(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ar(0!==e.length,"internal-error");const t=si(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ar(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gr(e,{},async()=>{const n=Dt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Qr(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&ct(e.emulatorConfig.host)&&(a.credentials="include"),Vr.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new hi;return n&&(Ar("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ar("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ar("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hi,this.toJSON())}_performRefresh(){return Rr("not implemented")}}function fi(e,t){Ar("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class pi{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=Ve(e,_r);this.providerId="firebase",this.proactiveRefresh=new li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ci(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ai(this,this.stsTokenManager.getToken(this.auth,e));return Ar(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Wt(e),r=await n.getIdToken(t),i=oi(r);Ar(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ri(ii(i.auth_time)),issuedAtTime:ri(ii(i.iat)),expirationTime:ri(ii(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Wt(e);await ui(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ar(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>ze({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi(ze(ze({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ar(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ui(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await ai(this,async function(e,t){return Yr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ze(ze({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>ze({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;Ar(y&&x,e,"internal-error");const k=hi.fromJSON(this.name,x);Ar("string"===typeof y,e,"internal-error"),fi(u,e.name),fi(d,e.name),Ar("boolean"===typeof _,e,"internal-error"),Ar("boolean"===typeof b,e,"internal-error"),fi(h,e.name),fi(f,e.name),fi(p,e.name),fi(m,e.name),fi(g,e.name),fi(v,e.name);const E=new pi({uid:y,auth:e,email:d,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map(e=>ze({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hi;r.updateFromServerResponse(t);const i=new pi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ui(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ar(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?di(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new hi;s.updateFromIdToken(n);const a=new pi({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ci(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const mi=new Map;function gi(e){Dr(e instanceof Function,"Expected a class definition");let t=mi.get(e);return t?(Dr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mi.set(e,t),t)}class vi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vi.type="NONE";const yi=vi;function _i(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class bi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_i(this.userKey,r.apiKey,i),this.fullPersistenceKey=_i("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ni(this.auth,{idToken:e}).catch(()=>{});return t?pi._fromGetAccountInfoResponse(this.auth,t,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new bi(gi(yi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||gi(yi);const o=_i(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await ni(e,{idToken:t}).catch(()=>{});if(!r)break;n=await pi._fromGetAccountInfoResponse(e,r,t)}else n=pi._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new bi(i,e,n)):new bi(i,e,n)}}function wi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Si(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ti(t))return"Blackberry";if(Ni(t))return"Webos";if(ki(t))return"Safari";if((t.includes("chrome/")||Ei(t))&&!t.includes("edge/"))return"Chrome";if(Ci(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/firefox\//i.test(e)}function ki(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/crios\//i.test(e)}function Si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iemobile/i.test(e)}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/android/i.test(e)}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/blackberry/i.test(e)}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/webos/i.test(e)}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pi(){return function(){const e=mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return Ii(e)||Ci(e)||Ni(e)||Ti(e)||/windows phone/i.test(e)||Si(e)}function Ai(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wi(mt());break;case"Worker":t="".concat(wi(mt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ir,"/").concat(r)}class Ri{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(eM){r(eM)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(eM){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===eM||void 0===eM?void 0:eM.message})}}}class Di{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Mi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gi(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await bi.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(eM){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ni(this,{idToken:e}),n=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(eM){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(eM))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ar(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(eM){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ui(e)}catch(eM){if((null===eM||void 0===eM?void 0:eM.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Ir(this));const t=e?Wt(e):null;return t&&Ar(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ar(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Yr(e,"GET","/v2/passwordPolicy",Hr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Di(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Yr(e,"POST","/v2/accounts:revokeToken",Hr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gi(e)||this._popupRedirectResolver;Ar(t,this,"argument-error"),this.redirectPersistenceManager=await bi.create(this,[gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ar(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ar(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Er.logLevel<=Kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.warn("Auth (".concat(ir,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Li(e){return Wt(e)}class ji{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ft(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Ar(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ui(e){return Fi.loadJS(e)}function zi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Vi{constructor(){this.enterprise=new Wi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Wi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bi="NO_RECAPTCHA";class qi{constructor(e){this.type="recaptcha-enterprise",this.auth=Li(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Zr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Bi)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Vi).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ti(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ei(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Zr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Fi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ui(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new qi(e);let s;if(i)s=Bi;else try{s=await o.verify(n)}catch(la){s=await o.verify(n,!0)}const a=ze({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yi(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Hi(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Hi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Hi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Gi(e){const t=Li(e),n=await ti(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ei(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new qi(t).verify()}}function Ki(e,t,n){const r=Li(e);Ar(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=Qi(t),{host:s,port:a}=function(e){const t=Qi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xi(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ar(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ar(At(c,r.config.emulator)&&At(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ct(s)?(ut("".concat(o,"//").concat(s).concat(l)),pt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $i{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,t){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function Ji(e,t){return Yr(e,"POST","/v1/accounts:signUp",t)}async function Zi(e,t){return Kr(e,"POST","/v1/accounts:signInWithPassword",Hr(e,t))}class eo extends $i{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eo(e,t,"password")}static _fromEmailAndCode(e,t){return new eo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Yi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Hr(e,t))}(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Yi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ji,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Hr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function to(e,t){return Kr(e,"POST","/v1/accounts:signInWithIdp",Hr(e,t))}class no extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ve(t,br);if(!n||!r)return null;const o=new no(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return to(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,to(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,to(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dt(t)}return e}}async function ro(e,t){return Yr(e,"POST","/v1/accounts:sendVerificationCode",Hr(e,t))}const io={USER_NOT_FOUND:"user-not-found"};class oo extends $i{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new oo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new oo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Hr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Hr(e,t));if(n.temporaryProof)throw Jr(e,"account-exists-with-different-credential",n);return n}(e,ze({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Hr(e,ze(ze({},t),{},{operation:"REAUTH"})),io)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new oo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class so{constructor(e){var t,n,r,i,o,s;const a=Mt(Lt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ar(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Mt(Lt(e)).link,n=t?Mt(Lt(t)).deep_link_id:null,r=Mt(Lt(e)).deep_link_id;return(r?Mt(Lt(r)).link:null)||r||n||t||e}(e);try{return new so(t)}catch(n){return null}}}class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,t){return eo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=so.parseLink(t);return Ar(n,"argument-error"),eo._fromEmailAndCode(e,n.code,n.tenantId)}}ao.PROVIDER_ID="password",ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class co extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uo extends co{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uo.credential(t.oauthAccessToken)}catch(n){return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com",uo.PROVIDER_ID="facebook.com";class ho extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ho.credential(n,r)}catch(i){return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com",ho.PROVIDER_ID="google.com";class fo extends co{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fo.credential(t.oauthAccessToken)}catch(n){return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com",fo.PROVIDER_ID="github.com";class po extends co{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return po.credential(n,r)}catch(i){return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com",po.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await pi._fromIdTokenResponse(e,n,r),o=go(n);return new mo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=go(n);return new mo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function go(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vo extends xt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vo(e,t,n,r)}}function yo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vo._fromErrorAndOperation(e,n,t,r);throw n})}async function _o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ai(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mo._forOperation(e,"link",r)}async function bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(tr(r.app))return Promise.reject(Ir(r));const i="reauthenticate";try{const o=await ai(e,yo(r,i,t,e),n);Ar(o.idToken,r,"internal-error");const s=oi(o.idToken);Ar(s,r,"internal-error");const{sub:a}=s;return Ar(e.uid===a,r,"user-mismatch"),mo._forOperation(e,i,o)}catch(eM){throw(null===eM||void 0===eM?void 0:eM.code)==="auth/".concat("user-not-found")&&Cr(r,"user-mismatch"),eM}}async function wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tr(e.app))return Promise.reject(Ir(e));const r="signIn",i=await yo(e,r,t),o=await mo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function xo(e,t){return Yr(e,"POST","/v2/accounts/mfaEnrollment:start",Hr(e,t))}new WeakMap;const ko="__sak";class Eo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class So extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Pi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}So.type="LOCAL";const Co=So;function To(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function No(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Io{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=No(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return To(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=No(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=No(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=To(n);const i=setInterval(()=>{const e=To(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Io.type="COOKIE";class Po extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Po.type="SESSION";const Oo=Po;class Ao{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ao(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ao.receivers=[];class Do{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Ro("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Mo(){return window}function Lo(){return"undefined"!==typeof Mo().WorkerGlobalScope&&"function"===typeof Mo().importScripts}const jo="firebaseLocalStorageDb",Fo="firebaseLocalStorage",Uo="fbase_key";class zo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vo(e,t){return e.transaction([Fo],t?"readwrite":"readonly").objectStore(Fo)}function Wo(){const e=indexedDB.open(jo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Fo,{keyPath:Uo})}catch(eM){n(eM)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Fo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jo);return new zo(e).toPromise()}(),t(await Wo()))})})}async function Bo(e,t,n){const r=Vo(e,!0).put({[Uo]:t,value:n});return new zo(r).toPromise()}function qo(e,t){const n=Vo(e,!0).delete(t);return new zo(n).toPromise()}class Ho{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(eM){if(t++>3)throw eM;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ao._getInstance(Lo()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Do(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wo();return await Bo(e,ko,"1"),await qo(e,ko),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Vo(e,!1).get(t),r=await new zo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Vo(e,!1).getAll();return new zo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ho.type="LOCAL";const Yo=Ho;function Go(e,t){return Yr(e,"POST","/v2/accounts/mfaSignIn:start",Hr(e,t))}zi("rcb"),new Ur(3e4,6e4);const Ko="recaptcha";async function Qo(e,t,n){if(!e._getRecaptchaConfig())try{await Gi(e)}catch(la){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ar("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Yi(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Bi){Ar((null===n||void 0===n?void 0:n.type)===Ko,e,"argument-error");return xo(e,await Xo(e,t,n))}return xo(e,t)},"PHONE_PROVIDER"),s=await o.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{var r;Ar("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ar(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Yi(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Bi){Ar((null===n||void 0===n?void 0:n.type)===Ko,e,"argument-error");return Go(e,await Xo(e,t,n))}return Go(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Yi(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Bi){Ar((null===n||void 0===n?void 0:n.type)===Ko,e,"argument-error");return ro(e,await Xo(e,t,n))}return ro(e,t)},"PHONE_PROVIDER"),o=await r.catch(e=>Promise.reject(e));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Xo(e,t,n){Ar(n.type===Ko,e,"argument-error");const r=await n.verify();Ar("string"===typeof r,e,"argument-error");const i=ze({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class $o{constructor(e){this.providerId=$o.PROVIDER_ID,this.auth=Li(e)}verifyPhoneNumber(e,t){return Qo(this.auth,e,Wt(t))}static credential(e,t){return oo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $o.credentialFromTaggedObject(t)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?oo._fromTokenResponse(n,r):null}}function Jo(e,t){return t?gi(t):(Ar(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$o.PROVIDER_ID="phone",$o.PHONE_SIGN_IN_METHOD="phone";class Zo extends $i{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,t){return to(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function es(e){return wo(e.auth,new Zo(e),e.bypassAuthState)}function ts(e){const{auth:t,user:n}=e;return Ar(n,t,"internal-error"),bo(n,new Zo(e),e.bypassAuthState)}async function ns(e){const{auth:t,user:n}=e;return Ar(n,t,"internal-error"),_o(n,new Zo(e),e.bypassAuthState)}class rs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(eM){this.reject(eM)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(eM){this.reject(eM)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return es;case"linkViaPopup":case"linkViaRedirect":return ns;case"reauthViaPopup":case"reauthViaRedirect":return ts;default:Cr(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const is=new Ur(2e3,1e4);class os extends rs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ar(e,this.auth,"internal-error"),e}async onExecution(){Dr(1===this.filter.length,"Popup operations only handle one event");const e=Ro();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,is.get())};e()}}os.currentPopupAction=null;const ss=new Map;class as extends rs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ss.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=us(t),r=cs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(eM){e=()=>Promise.reject(eM)}ss.set(this.auth._key(),e)}return this.bypassAuthState||ss.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ls(e,t){ss.set(e._key(),t)}function cs(e){return gi(e._redirectPersistence)}function us(e){return _i("pendingRedirect",e.config.apiKey,e.name)}async function ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tr(e.app))return Promise.reject(Ir(e));const r=Li(e),i=Jo(r,t),o=new as(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class hs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ps(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ps(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fs(e))}saveEventToCache(e){this.cachedEventUids.add(fs(e)),this.lastProcessedEventTime=Date.now()}}function fs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ps(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gs=/^https?/;async function vs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Yr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ys(r))return}catch(n){}Cr(e,"unauthorized-domain")}function ys(e){const t=Mr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gs.test(n))return!1;if(ms.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _s=new Ur(3e4,6e4);function bs(){const e=Mo().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ws(e){return new Promise((t,n)=>{var r,i;function o(){bs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bs(),n(Tr(e,"network-request-failed"))},timeout:_s.get()})}if(null!==(r=Mo().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Mo().gapi)||void 0===i||!i.load){const t=zi("iframefcb");return Mo()[t]=()=>{gapi.load?o():n(Tr(e,"network-request-failed"))},Ui("".concat(Fi.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw xs=null,e})}let xs=null;const ks=new Ur(5e3,15e3),Es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ss=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cs(e){const t=e.config;Ar(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ir},i=Ss.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Dt(r).slice(1))}async function Ts(e){const t=await function(e){return xs=xs||ws(e),xs}(e),n=Mo().gapi;return Ar(n,e,"internal-error"),t.open({where:document.body,url:Cs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Es,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Tr(e,"network-request-failed"),o=Mo().setTimeout(()=>{r(i)},ks.get());function s(){Mo().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Ns={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Is{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(eM){}}}function Ps(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=ze(ze({},Ns),{},{width:r.toString(),height:i.toString(),top:o,left:s}),c=mt().toLowerCase();n&&(a=Ei(c)?"_blank":n),xi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Ii(arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Is(null);const d=window.open(t||"",a,u);Ar(d,e,"popup-blocked");try{d.focus()}catch(eM){}return new Is(d)}const Os="__/auth/handler",As="emulator/auth/handler",Rs=encodeURIComponent("fac");async function Ds(e,t,n,r,i,o){Ar(e.config.authDomain,e,"auth-domain-config-required"),Ar(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ir,eventId:i};if(t instanceof lo){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Pt(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof co){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Rs,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Os);return zr(t,As)}(e),"?").concat(Dt(a).slice(1)).concat(c)}const Ms="webStorageSupport";const Ls=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oo,this._completeRedirectFn=ds,this._overrideRedirectResult=ls}async _openPopup(e,t,n,r){var i;Dr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ps(e,await Ds(e,t,n,Mr(),r),Ro())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mo().location.href=e}(await Ds(e,t,n,Mr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Dr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ts(e),n=new hs(e);return t.register("authEvent",t=>{Ar(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ms,{type:Ms},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Ms];void 0!==i&&t(!!i),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Oi()||ki()||Ii()}};var js="@firebase/auth",Fs="1.12.0";class Us{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ar(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zs=at("authIdTokenMaxAge")||300;let Vs=null;var Ws,Bs;Ws={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Tr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Fi=Ws,Bs="Browser",Zn(new Bt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ar(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Bs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ai(Bs)},c=new Mi(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Zn(new Bt("auth-internal",e=>(e=>new Us(e))(Li(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ar(js,Fs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bs)),ar(js,Fs,"esm2020");const qs="@firebase/database",Hs="1.1.0";let Ys="";function Gs(e){Ys=e}class Ks{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ct(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:St(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Qs{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Nt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Xs=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ks(t)}}catch(eM){}return new Qs},$s=Xs("localStorage"),Js=Xs("sessionStorage"),Zs=new Zt("@firebase/database"),ea=function(){let e=1;return function(){return e++}}(),ta=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,He(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new jt;n.update(t);const r=n.digest();return Ke.encodeByteArray(r)},na=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=na.apply(null,n):e+="object"===typeof n?Ct(n):n,e+=" "}return e};let ra=null,ia=!0;const oa=function(e,t){He(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zs.logLevel=Kt.VERBOSE,ra=Zs.log.bind(Zs),t&&Js.set("logging_enabled",!0)):"function"===typeof e?ra=e:(ra=null,Js.remove("logging_enabled"))},sa=function(){if(!0===ia&&(ia=!1,null===ra&&!0===Js.get("logging_enabled")&&oa(!0)),ra){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=na.apply(null,t);ra(r)}},aa=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];sa(e,...n)}},la=function(){const e="FIREBASE INTERNAL ERROR: "+na(...arguments);Zs.error(e)},ca=function(){const e="FIREBASE FATAL ERROR: ".concat(na(...arguments));throw Zs.error(e),new Error(e)},ua=function(){const e="FIREBASE WARNING: "+na(...arguments);Zs.warn(e)},da=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ha="[MIN_NAME]",fa="[MAX_NAME]",pa=function(e,t){if(e===t)return 0;if(e===ha||t===fa)return-1;if(t===ha||e===fa)return 1;{const n=xa(e),r=xa(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ma=function(e,t){return e===t?0:e<t?-1:1},ga=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ct(t))},va=function(e){if("object"!==typeof e||null===e)return Ct(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ct(t[r]),n+=":",n+=va(e[t[r]]);return n+="}",n},ya=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function _a(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ba=function(e){He(!da(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const wa=new RegExp("^-?(0*)\\d{1,10}$"),xa=function(e){if(wa.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ka=function(e){try{e()}catch(eM){setTimeout(()=>{const t=eM.stack||"";throw ua("Exception was thrown by user callback.",t),eM},Math.floor(0))}},Ea=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Sa{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,tr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){ua('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Ca{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(sa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ua(e)}}class Ta{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ta.OWNER="owner";const Na="5",Ia=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pa="ac",Oa="websocket",Aa="long_polling";class Ra{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$s.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Da(e,t,n){let r;if(He("string"===typeof t,"typeof type must == string"),He("object"===typeof n,"typeof params must == object"),t===Oa)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Aa)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return _a(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Ma{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Nt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ze(this.counters_)}}const La={},ja={};function Fa(e){const t=e.toString();return La[t]||(La[t]=new Ma),La[t]}class Ua{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ka(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const za="start";class Va{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aa(e),this.stats_=Fa(t),this.urlFn=e=>(this.appCheckToken&&(e[Pa]=this.appCheckToken),Da(t,Aa,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ua(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(_t()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wa(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===za)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[za]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Na,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Pa]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Ia.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Va.forceAllow_=!0}static forceDisallow(){Va.forceDisallow_=!0}static isAvailable(){return!_t()&&(!!Va.forceAllow_||!Va.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ct(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Xe(t),r=ya(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(_t())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ct(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Wa{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,_t())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ea(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Wa.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(eM){sa("frame writing exception"),eM.stack&&sa(eM.stack),sa(eM)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||sa("No IE domain setting required")}catch(eM){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){_t()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{sa("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(eM){}},Math.floor(1))}}let Ba=null;"undefined"!==typeof MozWebSocket?Ba=MozWebSocket:"undefined"!==typeof WebSocket&&(Ba=WebSocket);class qa{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aa(this.connId),this.stats_=Fa(t),this.connURL=qa.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Na,!_t()&&"undefined"!==typeof location&&location.hostname&&Ia.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Pa]=r),i&&(o.p=i),Da(e,Oa,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$s.set("previous_websocket_failure",!0);try{let e;if(_t()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Na,"/").concat(Ys,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ba(this.connURL,[],e)}catch(eM){this.log_("Error instantiating WebSocket.");const t=eM.message||eM.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){qa.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ba&&!qa.forceDisallow_}static previouslyFailed(){return $s.isInMemoryStorage||!0===$s.get("previous_websocket_failure")}markConnectionHealthy(){$s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=St(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(He(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ct(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ya(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(eM){this.log_("Exception thrown from WebSocket.send():",eM.message||eM.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qa.responsesRequiredToBeHealthy=2,qa.healthyTimeout=3e4;class Ha{static get ALL_TRANSPORTS(){return[Va,qa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=qa&&qa.isAvailable();let n=t&&!qa.previouslyFailed();if(e.webSocketOnly&&(t||ua("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[qa];else{const e=this.transports_=[];for(const t of Ha.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Ha.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ha.globalTransportInitialized_=!1;class Ya{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aa("c:"+this.id+":"),this.transportManager_=new Ha(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ea(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ga("t",e),n=ga("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ga("t",e),n=ga("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ga("t",e);if("d"in e){const n=e.d;if("h"===t){const e=ze({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?la("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):la("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Na!==n&&ua("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ea(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ea(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ga{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Ka{constructor(e){this.allowedEvents_=e,this.listeners_={},He(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){He(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Qa extends Ka{static getInstance(){return new Qa}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||gt()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return He("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Xa{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function $a(){return new Xa("")}function Ja(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Za(e){return e.pieces_.length-e.pieceNum_}function el(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Xa(e.pieces_,t)}function tl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function nl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function rl(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Xa(t,0)}function il(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Xa)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Xa(n,0)}function ol(e){return e.pieceNum_>=e.pieces_.length}function sl(e,t){const n=Ja(e),r=Ja(t);if(null===n)return t;if(n===r)return sl(el(e),el(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function al(e,t){const n=nl(e,0),r=nl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=pa(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function ll(e,t){if(Za(e)!==Za(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function cl(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Za(e)>Za(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ul{constructor(e,t){this.errorPrefix_=t,this.parts_=nl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Vt(this.parts_[n]);dl(this)}}function dl(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+hl(e))}function hl(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class fl extends Ka{static getInstance(){return new fl}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return He("visible"===e,"Unknown event type: "+e),[this.visible_]}}const pl=1e3;class ml extends Ga{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=ml.nextPersistentConnectionId_++,this.log_=aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!_t())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fl.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Qa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ct(i)),He(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new lt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),He(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;ml.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Nt(e,"w")){const n=It(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ua("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Tt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Tt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ct(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):la("Unrecognized action received from server: "+Ct(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){He(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pl),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ml.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){He(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?sa("getToken() completed but was canceled"):(sa("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Ya(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{ua(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(la){this.log_("Failed to get token: "+la),o||(this.repoInfo_.nodeAdmin&&ua(la),a())}}}interrupt(e){sa("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){sa("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pt(this.interruptReasons_)&&(this.reconnectDelay_=pl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>va(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Xa(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){sa("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){sa("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";_t()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ys.replace(/\./g,"-")]=1,gt()?e["framework.cordova"]=1:yt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qa.getInstance().currentlyOnline();return Pt(this.interruptReasons_)&&e}}ml.nextPersistentConnectionId_=0,ml.nextConnectionId_=0;class gl{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new gl(e,t)}}class vl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new gl(ha,e),r=new gl(ha,t);return 0!==this.compare(n,r)}minPost(){return gl.MIN}}let yl;class _l extends vl{static get __EMPTY_NODE(){return yl}static set __EMPTY_NODE(e){yl=e}compare(e,t){return pa(e.name,t.name)}isDefinedOn(e){throw Ye("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return gl.MIN}maxPost(){return new gl(fa,yl)}makePost(e,t){return He("string"===typeof e,"KeyIndex indexValue must always be a string."),new gl(e,yl)}toString(){return".key"}}const bl=new _l;class wl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class xl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xl.RED,this.left=null!=r?r:kl.EMPTY_NODE,this.right=null!=i?i:kl.EMPTY_NODE}copy(e,t,n,r,i){return new xl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return kl.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return kl.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,xl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,xl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}xl.RED=!0,xl.BLACK=!1;class kl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kl.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new kl(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,xl.BLACK,null,null))}remove(e){return new kl(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xl.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new wl(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new wl(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new wl(this.root_,null,this.comparator_,!0,e)}}function El(e,t){return pa(e.name,t.name)}function Sl(e,t){return pa(e,t)}let Cl;kl.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new xl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Tl=function(e){return"number"===typeof e?"number:"+ba(e):"string:"+e},Nl=function(e){if(e.isLeafNode()){const t=e.val();He("string"===typeof t||"number"===typeof t||"object"===typeof t&&Nt(t,".sv"),"Priority must be a string or number.")}else He(e===Cl||e.isEmpty(),"priority of unexpected type.");He(e===Cl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Il,Pl,Ol;class Al{static set __childrenNodeConstructor(e){Il=e}static get __childrenNodeConstructor(){return Il}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Al.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,He(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Nl(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Al(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Al.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ol(e)?this:".priority"===Ja(e)?this.priorityNode_:Al.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Al.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Ja(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(He(".priority"!==n||1===Za(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Al.__childrenNodeConstructor.EMPTY_NODE.updateChild(el(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tl(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ba(this.value_):this.value_,this.lazyHash_=ta(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Al.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Al.__childrenNodeConstructor?-1:(He(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Al.VALUE_TYPE_ORDER.indexOf(t),i=Al.VALUE_TYPE_ORDER.indexOf(n);return He(r>=0,"Unknown leaf type: "+t),He(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Al.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Rl=new class extends vl{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?pa(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return gl.MIN}maxPost(){return new gl(fa,new Al("[PRIORITY-POST]",Ol))}makePost(e,t){const n=Pl(e);return new gl(t,new Al("[PRIORITY-POST]",n))}toString(){return".priority"}},Dl=Math.log(2);class Ml{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Dl,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ll=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new xl(a,s.node,xl.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new xl(a,s.node,xl.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new xl(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,xl.BLACK):(a(r,xl.BLACK),a(r,xl.RED))}return o}(new Ml(e.length));return new kl(r||t,o)};let jl;const Fl={};class Ul{static get Default(){return He(Fl&&Rl,"ChildrenNode.ts has not been loaded"),jl=jl||new Ul({".priority":Fl},{".priority":Rl}),jl}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=It(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof kl?t:null}hasIndex(e){return Nt(this.indexSet_,e.toString())}addIndex(e,t){He(e!==bl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(gl.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Ll(n,e.getCompare()):Fl;const a=e.toString(),l=ze({},this.indexSet_);l[a]=e;const c=ze({},this.indexes_);return c[a]=o,new Ul(c,l)}addToIndexes(e,t){const n=Ot(this.indexes_,(n,r)=>{const i=It(this.indexSet_,r);if(He(i,"Missing index implementation for "+r),n===Fl){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(gl.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Ll(n,i.getCompare())}return Fl}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new gl(e.name,r))),i.insert(e,e.node)}});return new Ul(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ot(this.indexes_,n=>{if(n===Fl)return n;{const r=t.get(e.name);return r?n.remove(new gl(e.name,r)):n}});return new Ul(n,this.indexSet_)}}let zl;class Vl{static get EMPTY_NODE(){return zl||(zl=new Vl(new kl(Sl),null,Ul.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Nl(this.priorityNode_),this.children_.isEmpty()&&He(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zl}updatePriority(e){return this.children_.isEmpty()?this:new Vl(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?zl:t}}getChild(e){const t=Ja(e);return null===t?this:this.getImmediateChild(t).getChild(el(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(He(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new gl(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?zl:this.priorityNode_;return new Vl(r,o,i)}}updateChild(e,t){const n=Ja(e);if(null===n)return t;{He(".priority"!==Ja(e)||1===Za(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(el(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Rl,(o,s)=>{t[o]=s.val(e),n++,i&&Vl.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tl(this.getPriority().val())+":"),this.forEachChild(Rl,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":ta(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new gl(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new gl(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new gl(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,gl.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,gl.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wl?-1:0}withIndex(e){if(e===bl||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Vl(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===bl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Rl),n=t.getIterator(Rl);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===bl?null:this.indexMap_.get(e.toString())}}Vl.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Wl=new class extends Vl{constructor(){super(new kl(Sl),Vl.EMPTY_NODE,Ul.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vl.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gl,{MIN:{value:new gl(ha,Vl.EMPTY_NODE)},MAX:{value:new gl(fa,Wl)}}),_l.__EMPTY_NODE=Vl.EMPTY_NODE,Al.__childrenNodeConstructor=Vl,Cl=Wl,function(e){Ol=e}(Wl);function Bl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Vl.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),He(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Al(e,Bl(t))}if(e instanceof Array){let n=Vl.EMPTY_NODE;return _a(e,(t,r)=>{if(Nt(e,t)&&"."!==t.substring(0,1)){const e=Bl(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Bl(t))}{const n=[];let r=!1;if(_a(e,(e,t)=>{if("."!==e.substring(0,1)){const i=Bl(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new gl(e,i)))}}),0===n.length)return Vl.EMPTY_NODE;const i=Ll(n,El,e=>e.name,Sl);if(r){const e=Ll(n,Rl.getCompare());return new Vl(i,Bl(t),new Ul({".priority":e},{".priority":Rl}))}return new Vl(i,Bl(t),Ul.Default)}}!function(e){Pl=e}(Bl);class ql extends vl{constructor(e){super(),this.indexPath_=e,He(!ol(e)&&".priority"!==Ja(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?pa(e.name,t.name):i}makePost(e,t){const n=Bl(e),r=Vl.EMPTY_NODE.updateChild(this.indexPath_,n);return new gl(t,r)}maxPost(){const e=Vl.EMPTY_NODE.updateChild(this.indexPath_,Wl);return new gl(fa,e)}toString(){return nl(this.indexPath_,0).join("/")}}const Hl=new class extends vl{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?pa(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return gl.MIN}maxPost(){return gl.MAX}makePost(e,t){const n=Bl(e);return new gl(t,n)}toString(){return".value"}};function Yl(e){return{type:"value",snapshotNode:e}}function Gl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Kl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ql(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Xl{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){He(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Kl(t,s)):He(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Gl(t,n)):o.trackChildChange(Ql(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Rl,(e,r)=>{t.hasChild(e)||n.trackChildChange(Kl(e,r))}),t.isLeafNode()||t.forEachChild(Rl,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ql(t,r,i))}else n.trackChildChange(Gl(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Vl.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $l{constructor(e){this.indexedFilter_=new Xl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$l.getStartPost_(e),this.endPost_=$l.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new gl(t,n))||(n=Vl.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Vl.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Vl.EMPTY_NODE);const i=this;return t.forEachChild(Rl,(e,t)=>{i.matches(new gl(e,t))||(r=r.updateImmediateChild(e,Vl.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Jl{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new $l(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new gl(t,n))||(n=Vl.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Vl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Vl.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Vl.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Vl.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;He(s.numChildren()===this.limit_,"");const a=new gl(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ql(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Kl(t,e));const n=s.updateImmediateChild(t,Vl.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Gl(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(Kl(l.name,l.node)),i.trackChildChange(Gl(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Vl.EMPTY_NODE)):e}}class Zl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rl}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return He(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return He(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return He(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return He(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return He(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rl}copy(){const e=new Zl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ec(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function tc(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function nc(e,t){const n=e.copy();return n.index_=t,n}function rc(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Rl?n="$priority":e.index_===Hl?n="$value":e.index_===bl?n="$key":(He(e.index_ instanceof ql,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ct(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ct(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ct(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ct(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ct(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ic(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Rl&&(t.i=e.index_.toString()),t}class oc extends Ga{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(He(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=aa("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=oc.getListenId_(e,n),s={};this.listens_[o]=s;const a=rc(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),It(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=oc.getListenId_(e,t);delete this.listens_[n]}get(e){const t=rc(e._queryParams),n=e._path.toString(),r=new lt;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Dt(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=St(a.responseText)}catch(eM){ua("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&ua("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class sc{constructor(){this.rootNode_=Vl.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ac(){return{value:null,children:new Map}}function lc(e,t,n){if(ol(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Ja(t);e.children.has(r)||e.children.set(r,ac());lc(e.children.get(r),t=el(t),n)}}function cc(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{cc(r,new Xa(t.toString()+"/"+e),n)})}class uc{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=ze({},e);return this.last_&&_a(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class dc{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new uc(e);const n=1e4+2e4*Math.random();Ea(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;_a(e,(e,r)=>{r>0&&Nt(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Ea(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var hc;function fc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(hc||(hc={}));class pc{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=hc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ol(this.path)){if(null!=this.affectedTree.value)return He(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Xa(e));return new pc($a(),t,this.revert)}}return He(Ja(this.path)===e,"operationForChild called for unrelated child."),new pc(el(this.path),this.affectedTree,this.revert)}}class mc{constructor(e,t){this.source=e,this.path=t,this.type=hc.LISTEN_COMPLETE}operationForChild(e){return ol(this.path)?new mc(this.source,$a()):new mc(this.source,el(this.path))}}class gc{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=hc.OVERWRITE}operationForChild(e){return ol(this.path)?new gc(this.source,$a(),this.snap.getImmediateChild(e)):new gc(this.source,el(this.path),this.snap)}}class vc{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=hc.MERGE}operationForChild(e){if(ol(this.path)){const t=this.children.subtree(new Xa(e));return t.isEmpty()?null:t.value?new gc(this.source,$a(),t.value):new vc(this.source,$a(),t)}return He(Ja(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vc(this.source,el(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class yc{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ol(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ja(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class _c{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bc(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ye("Should only compare child_ events.");const r=new gl(t.childName,t.snapshotNode),i=new gl(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function wc(e,t){return{eventCache:e,serverCache:t}}function xc(e,t,n,r){return wc(new yc(t,n,r),e.serverCache)}function kc(e,t,n,r){return wc(e.eventCache,new yc(t,n,r))}function Ec(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Sc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Cc;class Tc{static fromObject(e){let t=new Tc(null);return _a(e,(e,n)=>{t=t.set(new Xa(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Cc||(Cc=new kl(ma)),Cc);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:$a(),value:this.value};if(ol(e))return null;{const n=Ja(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(el(e),t);if(null!=i){return{path:il(new Xa(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ol(e))return this;{const t=Ja(e),n=this.children.get(t);return null!==n?n.subtree(el(e)):new Tc(null)}}set(e,t){if(ol(e))return new Tc(t,this.children);{const n=Ja(e),r=(this.children.get(n)||new Tc(null)).set(el(e),t),i=this.children.insert(n,r);return new Tc(this.value,i)}}remove(e){if(ol(e))return this.children.isEmpty()?new Tc(null):new Tc(null,this.children);{const t=Ja(e),n=this.children.get(t);if(n){const r=n.remove(el(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Tc(null):new Tc(this.value,i)}return this}}get(e){if(ol(e))return this.value;{const t=Ja(e),n=this.children.get(t);return n?n.get(el(e)):null}}setTree(e,t){if(ol(e))return t;{const n=Ja(e),r=(this.children.get(n)||new Tc(null)).setTree(el(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Tc(this.value,i)}}fold(e){return this.fold_($a(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(il(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,$a(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ol(e))return null;{const r=Ja(e),i=this.children.get(r);return i?i.findOnPath_(el(e),il(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$a(),t)}foreachOnPath_(e,t,n){if(ol(e))return this;{this.value&&n(t,this.value);const r=Ja(e),i=this.children.get(r);return i?i.foreachOnPath_(el(e),il(t,r),n):new Tc(null)}}foreach(e){this.foreach_($a(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(il(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Nc{constructor(e){this.writeTree_=e}static empty(){return new Nc(new Tc(null))}}function Ic(e,t,n){if(ol(t))return new Nc(new Tc(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=sl(i,t);return o=o.updateChild(s,n),new Nc(e.writeTree_.set(i,o))}{const r=new Tc(n),i=e.writeTree_.setTree(t,r);return new Nc(i)}}}function Pc(e,t,n){let r=e;return _a(n,(e,n)=>{r=Ic(r,il(t,e),n)}),r}function Oc(e,t){if(ol(t))return Nc.empty();{const n=e.writeTree_.setTree(t,new Tc(null));return new Nc(n)}}function Ac(e,t){return null!=Rc(e,t)}function Rc(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(sl(n.path,t)):null}function Dc(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Rl,(e,n)=>{t.push(new gl(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new gl(e,n.value))}),t}function Mc(e,t){if(ol(t))return e;{const n=Rc(e,t);return new Nc(null!=n?new Tc(n):e.writeTree_.subtree(t))}}function Lc(e){return e.writeTree_.isEmpty()}function jc(e,t){return Fc($a(),e.writeTree_,t)}function Fc(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(He(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Fc(il(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(il(e,".priority"),r)),n}}function Uc(e,t){return Jc(t,e)}function zc(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);He(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Vc(t,r.path)?i=!1:cl(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=Bc(e.allWrites,Wc,$a()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Oc(e.visibleWrites,r.path);else{_a(r.children,t=>{e.visibleWrites=Oc(e.visibleWrites,il(r.path,t))})}return!0}return!1}function Vc(e,t){if(e.snap)return cl(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&cl(il(e.path,n),t))return!0;return!1}function Wc(e){return e.visible}function Bc(e,t,n){let r=Nc.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)cl(n,e)?(t=sl(n,e),r=Ic(r,t,o.snap)):cl(e,n)&&(t=sl(e,n),r=Ic(r,$a(),o.snap.getChild(t)));else{if(!o.children)throw Ye("WriteRecord should have .snap or .children");if(cl(n,e))t=sl(n,e),r=Pc(r,t,o.children);else if(cl(e,n))if(t=sl(e,n),ol(t))r=Pc(r,$a(),o.children);else{const e=It(o.children,Ja(t));if(e){const n=e.getChild(el(t));r=Ic(r,$a(),n)}}}}}return r}function qc(e,t,n,r,i){if(r||i){const o=Mc(e.visibleWrites,t);if(!i&&Lc(o))return n;if(i||null!=n||Ac(o,$a())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(cl(e.path,t)||cl(t,e.path))};return jc(Bc(e.allWrites,o,t),n||Vl.EMPTY_NODE)}return null}{const r=Rc(e.visibleWrites,t);if(null!=r)return r;{const r=Mc(e.visibleWrites,t);if(Lc(r))return n;if(null!=n||Ac(r,$a())){return jc(r,n||Vl.EMPTY_NODE)}return null}}}function Hc(e,t,n,r){return qc(e.writeTree,e.treePath,t,n,r)}function Yc(e,t){return function(e,t,n){let r=Vl.EMPTY_NODE;const i=Rc(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Rl,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Mc(e.visibleWrites,t);return n.forEachChild(Rl,(e,t)=>{const n=jc(Mc(i,new Xa(e)),t);r=r.updateImmediateChild(e,n)}),Dc(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Dc(Mc(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Gc(e,t,n,r){return function(e,t,n,r,i){He(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=il(t,n);if(Ac(e.visibleWrites,o))return null;{const t=Mc(e.visibleWrites,o);return Lc(t)?i.getChild(n):jc(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Kc(e,t){return function(e,t){return Rc(e.visibleWrites,t)}(e.writeTree,il(e.treePath,t))}function Qc(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=Mc(e.visibleWrites,t),c=Rc(l,$a());if(null!=c)a=c;else{if(null==n)return[];a=jc(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Xc(e,t,n){return function(e,t,n,r){const i=il(t,n),o=Rc(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return jc(Mc(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function $c(e,t){return Jc(il(e.treePath,t),e.writeTree)}function Jc(e,t){return{treePath:e,writeTree:t}}class Zc{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;He("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),He(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ql(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Kl(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Gl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ye("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ql(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const eu=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class tu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new yc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xc(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sc(this.viewCache_),i=Qc(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function nu(e,t,n,r,i){const o=new Zc;let s,a;if(n.type===hc.OVERWRITE){const l=n;l.source.fromUser?s=ou(e,t,l.path,l.snap,r,i,o):(He(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ol(l.path),s=iu(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===hc.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=il(n,r);su(t,Ja(c))&&(a=ou(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=il(n,r);su(t,Ja(c))||(a=ou(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(He(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=lu(e,t,l.path,l.children,r,i,a,o))}else if(n.type===hc.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Kc(r,n))return t;{const a=new tu(r,t,i),l=t.eventCache.getNode();let c;if(ol(n)||".priority"===Ja(n)){let n;if(t.serverCache.isFullyInitialized())n=Hc(r,Sc(t));else{const e=t.serverCache.getNode();He(e instanceof Vl,"serverChildren would be complete if leaf node"),n=Yc(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Ja(n);let u=Xc(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,el(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Vl.EMPTY_NODE,el(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Hc(r,Sc(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Kc(r,$a()),xc(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Kc(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ol(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return iu(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ol(n)){let r=new Tc(null);return l.getNode().forEachChild(bl,(e,t)=>{r=r.set(new Xa(e),t)}),lu(e,t,n,r,i,o,a,s)}return t}{let c=new Tc(null);return r.foreach((e,t)=>{const r=il(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),lu(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==hc.LISTEN_COMPLETE)throw Ye("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=kc(t,o.getNode(),o.isFullyInitialized()||ol(n),o.isFiltered());return ru(e,s,n,r,eu,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ec(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Yl(Ec(t)))}}(t,s,l),{viewCache:s,changes:l}}function ru(e,t,n,r,i,o){const s=t.eventCache;if(null!=Kc(r,n))return t;{let a,l;if(ol(n))if(He(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Sc(t),i=Yc(r,n instanceof Vl?n:Vl.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Hc(r,Sc(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Ja(n);if(".priority"===c){He(1===Za(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=Gc(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=el(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Gc(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=Xc(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return xc(t,a,s.isFullyInitialized()||ol(n),e.filter.filtersNodes())}}function iu(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ol(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Ja(n);if(!l.isCompleteForPath(n)&&Za(n)>1)return t;const i=el(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,eu,null)}const d=kc(t,c,l.isFullyInitialized()||ol(n),u.filtersNodes());return ru(e,d,n,i,new tu(i,d,o),a)}function ou(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new tu(i,t,o);if(ol(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=xc(t,c,!0,e.filter.filtersNodes());else{const i=Ja(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=xc(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=el(n),c=a.getNode().getImmediateChild(i);let d;if(ol(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===tl(o)&&e.getChild(rl(o)).isEmpty()?e:e.updateChild(o,r):Vl.EMPTY_NODE}if(c.equals(d))l=t;else{l=xc(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function su(e,t){return e.eventCache.isCompleteForChild(t)}function au(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function lu(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ol(n)?r:new Tc(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=au(0,t.serverCache.getNode().getImmediateChild(n),r);c=iu(e,c,new Xa(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=au(0,t.serverCache.getNode().getImmediateChild(n),r);c=iu(e,c,new Xa(n),l,i,o,s,a)}}),c}class cu{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Xl(n.getIndex()),i=(o=n).loadsAllData()?new Xl(o.getIndex()):o.hasLimit()?new Jl(o):new $l(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Vl.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Vl.EMPTY_NODE,a.getNode(),null),u=new yc(l,s.isFullyInitialized(),r.filtersNodes()),d=new yc(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=wc(d,u),this.eventGenerator_=new _c(this.query_)}get query(){return this.query_}}function uu(e,t){const n=Sc(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ol(t)&&!n.getImmediateChild(Ja(t)).isEmpty())?n.getChild(t):null}function du(e){return 0===e.eventRegistrations_.length}function hu(e,t,n){const r=[];if(n){He(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function fu(e,t,n,r){t.type===hc.MERGE&&null!==t.source.queryId&&(He(Sc(e.viewCache_),"We should always have a full cache before handling merges"),He(Ec(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=nu(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,He(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),He(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),He(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,pu(e,o.changes,o.viewCache.eventCache.getNode(),null)}function pu(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),bc(e,i,"child_removed",t,r,n),bc(e,i,"child_added",t,r,n),bc(e,i,"child_moved",o,r,n),bc(e,i,"child_changed",t,r,n),bc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let mu,gu;class vu{constructor(){this.views=new Map}}function yu(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return He(null!=o,"SyncTree gave us an op for an invalid query."),fu(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(fu(o,t,n,r));return i}}function _u(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Hc(n,i?r:null),o=!1;e?o=!0:r instanceof Vl?(e=Yc(n,r),o=!1):(e=Vl.EMPTY_NODE,o=!1);const s=wc(new yc(e,o,!1),new yc(r,i,!1));return new cu(t,s)}return s}function bu(e,t,n,r,i,o){const s=_u(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Rl,(e,t)=>{r.push(Gl(e,t))});return n.isFullyInitialized()&&r.push(Yl(n.getNode())),pu(e,r,n.getNode(),t)}(s,n)}function wu(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Cu(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(hu(c,n,r)),du(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(hu(t,n,r)),du(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Cu(e)&&o.push(new(He(mu,"Reference.ts has not been loaded"),mu)(t._repo,t._path)),{removed:o,events:s}}function xu(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ku(e,t){let n=null;for(const r of e.views.values())n=n||uu(r,t);return n}function Eu(e,t){if(t._queryParams.loadsAllData())return Tu(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Su(e,t){return null!=Eu(e,t)}function Cu(e){return null!=Tu(e)}function Tu(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Nu=1;class Iu{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Tc(null),this.pendingWriteTree_={visibleWrites:Nc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Pu(e,t,n,r,i){return function(e,t,n,r,i){He(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ic(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Uu(e,new gc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ou(e,t,n,r){!function(e,t,n,r){He(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Pc(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Tc.fromObject(n);return Uu(e,new vc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Au(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(zc(e.pendingWriteTree_,t)){let t=new Tc(null);return null!=r.snap?t=t.set($a(),!0):_a(r.children,e=>{t=t.set(new Xa(e),!0)}),Uu(e,new pc(r.path,t,n))}return[]}function Ru(e,t,n){return Uu(e,new gc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Du(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Su(s,t))){const l=wu(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>Cu(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Cu(t)){return[Tu(t)]}{let e=[];return t&&(e=xu(t)),_a(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Wu(e,r);e.listenProvider_.startListening(Ku(i),Bu(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Ku(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(qu(t));e.listenProvider_.stopListening(Ku(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=qu(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Mu(e,t,n,r){const i=Hu(e,r);if(null!=i){const r=Yu(i),o=r.path,s=r.queryId,a=sl(o,t);return Gu(e,o,new gc(fc(s),a,n))}return[]}function Lu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=sl(e,i);o=o||ku(t,n),s=s||Cu(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||Cu(l),o=o||ku(l,$a())):(l=new vu,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=Vl.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=ku(t,$a());n&&(o=o.updateImmediateChild(e,n))})}const c=Su(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=qu(t);He(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Nu++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=bu(l,t,n,Uc(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Eu(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Bu(e,t),o=Wu(e,n),s=e.listenProvider_.startListening(Ku(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)He(!Cu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!ol(e)&&t&&Cu(t))return[Tu(t).query];{let e=[];return t&&(e=e.concat(xu(t).map(e=>e.query))),_a(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Ku(r),Bu(e,r))}}return s}(e,t,n))}return u}function ju(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=ku(n,sl(e,t));if(r)return r});return qc(r,t,i,n,!0)}function Fu(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=sl(e,n);r=r||ku(t,i)});let i=e.syncPointTree_.get(n);i?r=r||ku(i,$a()):(i=new vu,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new yc(r,!0,!1):null;return function(e){return Ec(e.viewCache_)}(_u(i,t,Uc(e.pendingWriteTree_,t._path),o?s.getNode():Vl.EMPTY_NODE,o))}function Uu(e,t){return zu(t,e.syncPointTree_,null,Uc(e.pendingWriteTree_,$a()))}function zu(e,t,n,r){if(ol(e.path))return Vu(e,t,n,r);{const i=t.get($a());null==n&&null!=i&&(n=ku(i,$a()));let o=[];const s=Ja(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=$c(r,s);o=o.concat(zu(a,l,e,t))}return i&&(o=o.concat(yu(i,e,r,n))),o}}function Vu(e,t,n,r){const i=t.get($a());null==n&&null!=i&&(n=ku(i,$a()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=$c(r,t),l=e.operationForChild(t);l&&(o=o.concat(Vu(l,i,s,a)))}),i&&(o=o.concat(yu(i,e,r,n))),o}function Wu(e,t){const n=t.query,r=Bu(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Vl.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Hu(e,n);if(r){const n=Yu(r),i=n.path,o=n.queryId,s=sl(i,t);return Gu(e,i,new mc(fc(o),s))}return[]}(e,n._path,r):function(e,t){return Uu(e,new mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Du(e,n,null,r)}}}}function Bu(e,t){const n=qu(t);return e.queryToTagMap.get(n)}function qu(e){return e._path.toString()+"$"+e._queryIdentifier}function Hu(e,t){return e.tagToQueryMap.get(t)}function Yu(e){const t=e.indexOf("$");return He(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Xa(e.substr(0,t))}}function Gu(e,t,n){const r=e.syncPointTree_.get(t);He(r,"Missing sync point for query tag that we're tracking");return yu(r,n,Uc(e.pendingWriteTree_,t),null)}function Ku(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(He(gu,"Reference.ts has not been loaded"),gu)(e._repo,e._path):e}class Qu{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Qu(t)}node(){return this.node_}}class Xu{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=il(this.path_,e);return new Xu(this.syncTree_,t)}node(){return ju(this.syncTree_,this.path_)}}const $u=function(e,t,n){return e&&"object"===typeof e?(He(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ju(e[".sv"],t,n):"object"===typeof e[".sv"]?Zu(e[".sv"],t):void He(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ju=function(e,t,n){if("timestamp"===e)return n.timestamp;He(!1,"Unexpected server value: "+e)},Zu=function(e,t,n){e.hasOwnProperty("increment")||He(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&He(!1,"Unexpected increment value: "+r);const i=t.node();if(He(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},ed=function(e,t,n,r){return nd(t,new Xu(n,e),r)},td=function(e,t,n){return nd(e,new Qu(t),n)};function nd(e,t,n){const r=e.getPriority().val(),i=$u(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=$u(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Al(o,Bl(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Al(i))),r.forEachChild(Rl,(e,r)=>{const i=nd(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class rd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function id(e,t){let n=t instanceof Xa?t:new Xa(t),r=e,i=Ja(n);for(;null!==i;){const e=It(r.node.children,i)||{children:{},childCount:0};r=new rd(i,r,e),n=el(n),i=Ja(n)}return r}function od(e){return e.node.value}function sd(e,t){e.node.value=t,dd(e)}function ad(e){return e.node.childCount>0}function ld(e,t){_a(e.node.children,(n,r)=>{t(new rd(n,e,r))})}function cd(e,t,n,r){n&&!r&&t(e),ld(e,e=>{cd(e,t,!0,r)}),n&&r&&t(e)}function ud(e){return new Xa(null===e.parent?e.name:ud(e.parent)+"/"+e.name)}function dd(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===od(e)&&!ad(e)}(n),i=Nt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,dd(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,dd(e))}(e.parent,e.name,e)}const hd=/[\[\].#$\/\u0000-\u001F\u007F]/,fd=/[\[\].#$\u0000-\u001F\u007F]/,pd=10485760,md=function(e){return"string"===typeof e&&0!==e.length&&!hd.test(e)},gd=function(e){return"string"===typeof e&&0!==e.length&&!fd.test(e)},vd=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!da(e)||e&&"object"===typeof e&&Nt(e,".sv")},yd=function(e,t,n,r){r&&void 0===t||_d(zt(e,"value"),t,n)},_d=function(e,t,n){const r=n instanceof Xa?new ul(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+hl(r));if("function"===typeof t)throw new Error(e+"contains a function "+hl(r)+" with contents = "+t.toString());if(da(t))throw new Error(e+"contains "+t.toString()+" "+hl(r));if("string"===typeof t&&t.length>pd/3&&Vt(t)>pd)throw new Error(e+"contains a string greater than "+pd+" utf8 bytes "+hl(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(_a(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!md(t)))throw new Error(e+" contains an invalid key ("+t+") "+hl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Vt(t),dl(e)}(r,t),_d(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Vt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+hl(r)+" in addition to actual children.")}},bd=function(e,t,n,r){if(r&&void 0===t)return;const i=zt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];_a(t,(e,t)=>{const r=new Xa(e);if(_d(i,t,il(n,r)),".priority"===tl(r)&&!vd(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=nl(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!md(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(al);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&cl(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},wd=function(e,t,n,r){if((!r||void 0!==n)&&!md(n))throw new Error(zt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xd=function(e,t,n,r){if((!r||void 0!==n)&&!gd(n))throw new Error(zt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kd=function(e,t){if(".info"===Ja(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ed=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!md(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gd(e)}(n))throw new Error(zt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Sd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cd(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||ll(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Td(e,t,n){Cd(e,n),Id(e,e=>ll(e,t))}function Nd(e,t,n){Cd(e,n),Id(e,e=>cl(e,t)||cl(t,e))}function Id(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Pd(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Pd(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ra&&sa("event: "+n.toString()),ka(r)}}}const Od="repo_interrupt";class Ad{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ac(),this.transactionQueueTree_=new rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rd(e,t,n){if(e.stats_=Fa(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new oc(e.repoInfo_,(t,n,r,i)=>{Ld(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>jd(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ct(n)}catch(eM){throw new Error("Invalid authOverride provided: "+eM)}}e.persistentConnection_=new ml(e.repoInfo_,t,(t,n,r,i)=>{Ld(e,t,n,r,i)},t=>{jd(e,t)},t=>{!function(e,t){_a(t,(t,n)=>{Fd(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ja[n]||(ja[n]=t()),ja[n]}(e.repoInfo_,()=>new dc(e.stats_,e.server_)),e.infoData_=new sc,e.infoSyncTree_=new Iu({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Ru(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),Fd(e,"connected",!1),e.serverSyncTree_=new Iu({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);Nd(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Dd(e){const t=e.infoData_.getNode(new Xa(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Md(e){return(t=(t={timestamp:Dd(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Ld(e,t,n,r,i){e.dataUpdateCount++;const o=new Xa(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Ot(n,e=>Bl(e));s=function(e,t,n,r){const i=Hu(e,r);if(i){const r=Yu(i),o=r.path,s=r.queryId,a=sl(o,t),l=Tc.fromObject(n);return Gu(e,o,new vc(fc(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Bl(n);s=Mu(e.serverSyncTree_,o,t,i)}else if(r){const t=Ot(n,e=>Bl(e));s=function(e,t,n){const r=Tc.fromObject(n);return Uu(e,new vc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Bl(n);s=Ru(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Gd(e,o)),Nd(e.eventQueue_,a,s)}function jd(e,t){Fd(e,"connected",t),!1===t&&function(e){Bd(e,"onDisconnectEvents");const t=Md(e),n=ac();cc(e.onDisconnect_,$a(),(r,i)=>{const o=ed(r,i,e.serverSyncTree_,t);lc(n,r,o)});let r=[];cc(n,$a(),(t,n)=>{r=r.concat(Ru(e.serverSyncTree_,t,n));const i=Jd(e,t);Gd(e,i)}),e.onDisconnect_=ac(),Nd(e.eventQueue_,$a(),r)}(e)}function Fd(e,t,n){const r=new Xa("/.info/"+t),i=Bl(n);e.infoData_.updateSnapshot(r,i);const o=Ru(e.infoSyncTree_,r,i);Nd(e.eventQueue_,r,o)}function Ud(e){return e.nextWriteId_++}function zd(e,t,n,r,i){Bd(e,"set",{path:t.toString(),value:n,priority:r});const o=Md(e),s=Bl(n,r),a=ju(e.serverSyncTree_,t),l=td(s,a,o),c=Ud(e),u=Pu(e.serverSyncTree_,t,l,c,!0);Cd(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||ua("set at "+t+" failed: "+n);const s=Au(e.serverSyncTree_,c,!o);Nd(e.eventQueue_,t,s),qd(e,i,n,r)});const d=Jd(e,t);Gd(e,d),Nd(e.eventQueue_,d,[])}function Vd(e,t,n){let r;r=".info"===Ja(t._path)?Du(e.infoSyncTree_,t,n):Du(e.serverSyncTree_,t,n),Td(e.eventQueue_,t._path,r)}function Wd(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Od)}function Bd(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];sa(t,...r)}function qd(e,t,n,r){t&&ka(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function Hd(e,t,n){return ju(e.serverSyncTree_,t,n)||Vl.EMPTY_NODE}function Yd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||$d(e,t),od(t)){const n=Qd(e,t);He(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Hd(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];He(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=sl(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Bd(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Au(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();$d(e,id(e.transactionQueueTree_,t)),Yd(e,e.transactionQueueTree_),Nd(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)ka(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ua("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Gd(e,t)}},s)}(e,ud(t),n)}else ad(t)&&ld(t,t=>{Yd(e,t)})}function Gd(e,t){const n=Kd(e,t),r=ud(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=sl(n,o.path);let c,u=!1;if(He(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(Au(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(Au(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Hd(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){_d("transaction failed: Data returned ",r,o.path);let t=Bl(r);"object"===typeof r&&null!=r&&Nt(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Md(e),c=td(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=Ud(e),s.splice(s.indexOf(a),1),i=i.concat(Pu(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Au(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(Au(e.serverSyncTree_,o.currentWriteId,!0))}Nd(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}$d(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ka(r[a]);Yd(e,e.transactionQueueTree_)}(e,Qd(e,n),r),r}function Kd(e,t){let n,r=e.transactionQueueTree_;for(n=Ja(t);null!==n&&void 0===od(r);)r=id(r,n),n=Ja(t=el(t));return r}function Qd(e,t){const n=[];return Xd(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Xd(e,t,n){const r=od(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ld(t,t=>{Xd(e,t,n)})}function $d(e,t){const n=od(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,sd(t,n.length>0?n:void 0)}ld(t,t=>{$d(e,t)})}function Jd(e,t){const n=ud(Kd(e,t)),r=id(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Zd(e,t)}),Zd(e,r),cd(r,t=>{Zd(e,t)}),n}function Zd(e,t){const n=od(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(He(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(He(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Au(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?sd(t,void 0):n.length=o+1,Nd(e.eventQueue_,ud(t),i);for(let e=0;e<r.length;e++)ka(r[e])}}const eh=function(e,t){const n=th(e),r=n.namespace;"firebase.com"===n.domain&&ca(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ca("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ua("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ra(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Xa(n.pathString)}},th=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(eM){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ua("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},nh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rh=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=nh.charAt(n%64),n=Math.floor(n/64);He(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=nh.charAt(t[i]);return He(20===s.length,"nextPushId: Length should be 20."),s}}();class ih{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ct(this.snapshot.exportVal())}}class oh{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sh{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return He(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ah{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ol(this._path)?null:tl(this._path)}get ref(){return new dh(this._repo,this._path)}get _queryIdentifier(){const e=ic(this._queryParams),t=va(e);return"{}"===t?"default":t}get _queryObject(){return ic(this._queryParams)}isEqual(e){if(!((e=Wt(e))instanceof ah))return!1;const t=this._repo===e._repo,n=ll(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function lh(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ch(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===bl){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ha)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==fa)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Rl){if(null!=t&&!vd(t)||null!=n&&!vd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(He(e.getIndex()instanceof ql||e.getIndex()===Hl,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function uh(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class dh extends ah{constructor(e,t){super(e,t,new Zl,!1)}get parent(){const e=rl(this._path);return null===e?null:new dh(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class hh{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Xa(e),n=ph(this.ref,e);return new hh(this._node.getChild(t),n,Rl)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new hh(n,ph(this.ref,t),Rl)))}hasChild(e){const t=new Xa(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fh(e,t){return(e=Wt(e))._checkNotDeleted("ref"),void 0!==t?ph(e._root,t):e._root}function ph(e,t){var n,r,i,o;return null===Ja((e=Wt(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),xd(n,r,i,o)):xd("child","path",t,!1),new dh(e._repo,il(e._path,t))}function mh(e,t){e=Wt(e),kd("push",e._path),yd("push",t,e._path,!0);const n=Dd(e._repo),r=rh(n),i=ph(e,r),o=ph(e,r);let s;return s=null!=t?vh(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function gh(e){return kd("remove",e._path),vh(e,null)}function vh(e,t){e=Wt(e),kd("set",e._path),yd("set",t,e._path,!1);const n=new lt;return zd(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function yh(e,t){bd("update",t,e._path,!1);const n=new lt;return function(e,t,n,r){Bd(e,"update",{path:t.toString(),value:n});let i=!0;const o=Md(e),s={};if(_a(n,(n,r)=>{i=!1,s[n]=ed(il(t,n),Bl(r),e.serverSyncTree_,o)}),i)sa("update() called with empty data.  Don't do anything."),qd(0,r,"ok",void 0);else{const i=Ud(e),o=Ou(e.serverSyncTree_,t,s,i);Cd(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||ua("update at "+t+" failed: "+n);const a=Au(e.serverSyncTree_,i,!s),l=a.length>0?Gd(e,t):t;Nd(e.eventQueue_,l,a),qd(0,r,n,o)}),_a(n,n=>{const r=Jd(e,il(t,n));Gd(e,r)}),Nd(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function _h(e){e=Wt(e);const t=new sh(()=>{}),n=new bh(t);return function(e,t,n){const r=Fu(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=Bl(r).withIndex(t._queryParams.getIndex());let o;if(Lu(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Ru(e.serverSyncTree_,t._path,i);else{const n=Bu(e.serverSyncTree_,t);o=Mu(e.serverSyncTree_,t._path,i,n)}return Nd(e.eventQueue_,t._path,o),Du(e.serverSyncTree_,t,n,null,!0),i},n=>(Bd(e,"get for query "+Ct(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new hh(t,new dh(e._repo,e._path),e._queryParams.getIndex()))}class bh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ih("value",this,new hh(e.snapshotNode,new dh(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new oh(this,e,t):null}matches(e){return e instanceof bh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class wh{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new oh(this,e,t):null}createEvent(e,t){He(null!=e.childName,"Child events should have a childName.");const n=ph(new dh(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ih(e.type,this,new hh(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof wh&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function xh(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Vd(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new sh(n,o||void 0),a="value"===t?new bh(s):new wh(t,s);return function(e,t,n){let r;r=".info"===Ja(t._path)?Lu(e.infoSyncTree_,t,n):Lu(e.serverSyncTree_,t,n),Td(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Vd(e._repo,e,a)}function kh(e,t,n,r){return xh(e,"value",t,n,r)}class Eh{}class Sh extends Eh{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){yd("endAt",this._value,e._path,!0);const t=tc(e._queryParams,this._value,this._key);if(uh(t),ch(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ah(e._repo,e._path,t,e._orderByCalled)}}class Ch extends Eh{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){yd("startAt",this._value,e._path,!0);const t=ec(e._queryParams,this._value,this._key);if(uh(t),ch(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ah(e._repo,e._path,t,e._orderByCalled)}}class Th extends Eh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){lh(e,"orderByChild");const t=new Xa(this._path);if(ol(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new ql(t),r=nc(e._queryParams,n);return ch(r),new ah(e._repo,e._path,r,!0)}}function Nh(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xd("orderByChild","path",e,!1),new Th(e)}class Ih extends Eh{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(yd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sh(this._value,this._key)._apply(new Ch(this._value,this._key)._apply(e))}}function Ph(e,t){return wd("equalTo","key",t,!0),new Ih(e,t)}function Oh(e){let t=Wt(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){He(!mu,"__referenceConstructor has already been defined"),mu=e}(dh),function(e){He(!gu,"__referenceConstructor has already been defined"),gu=e}(dh);const Ah={};let Rh=!1;function Dh(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||ca("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sa("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=eh(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=eh(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new Ta(Ta.OWNER):new Ca(e.name,e.options,t);Ed("Invalid Firebase Database URL",l),ol(l.path)||ca("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Ah[t.name];i||(i={},Ah[t.name]=i);let o=i[e.toURLString()];o&&ca("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Ad(e,Rh,n,r),i[e.toURLString()]=o,o}(c,e,u,new Sa(e,n));return new Mh(d,e)}class Mh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Rd(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dh(this._repo,$a())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Ah[t];n&&n[e.key]===e||ca("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Wd(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ca("Cannot call "+e+" on a deleted database.")}}const Lh={".sv":"timestamp"};function jh(){return Lh}ml.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ml.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Gs(ir),Zn(new Bt("database",(e,t)=>{let{instanceIdentifier:n}=t;return Dh(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),ar(qs,Hs,e),ar(qs,Hs,"esm2020")}();ar("firebase","12.7.0","app");var Fh,Uh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},zh={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||c.l(e)>0;)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,zh.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Fh=zh.Integer=r}).apply("undefined"!==typeof Uh?Uh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Vh,Wh,Bh,qh,Hh,Yh,Gh,Kh,Qh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xh={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qh&&Qh];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=b;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,_=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var S=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,E),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),I=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function O(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function A(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function j(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(O(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=F(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new P(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),z={};function V(e,t,n,r,i){if(r&&r.once)return B(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)V(e,t[o],n,r,i);return null}return n=X(n),e&&e[N]?e.J(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=K(e);if(l||(e[U]=l=new L(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)S||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function B(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)B(e,t[o],n,r,i);return null}return n=X(n),e&&e[N]?e.K(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[N]?(e=e.i,(o=String(t).toString())in e.g&&((n=F(t=e.g[o],n,r,i))>-1&&(O(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=K(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[N])j(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=K(t))?(j(n,e),0==n.h&&(n.src=null,t[U]=null)):O(e)}}}function Y(e){return e in z?z[e]:z[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function K(e){return(e=e[U])instanceof L?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function $(){k.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;M(t=new E(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&j(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,k),$.prototype[N]=!0,$.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)O(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function _e(e){const t=me();J(t,new ye(t,e))}function be(e,t){E.call(this,fe.Ja,e),this.size=t}function we(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function xe(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(be,E),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var Ee,Se={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ne(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ee=new Te;var Ae={},Re={};function De(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Oe,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=V(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function je(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Ae:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function ze(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function We(e){ze(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Be(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ke(n.h,e)))if(!e.L&&Ke(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Bt(n)}Xt(n),_e(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qe(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(ze(a),Fe(a)),r.g=s}else Qt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Wt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),ze(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return We(e),Ve(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,_e(12),We(this),Ve(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=je(this,n),t==Re){4==l&&(this.m=4,_e(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ae){this.m=4,_e(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),Be(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,_e(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,_e(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),We(this),Ve(this)}else ke(this.i,this.l,n,null),Be(this,n);4==l&&We(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),We(this),Ve(this)}}}catch(Of){}},Pe.prototype.cancel=function(){this.K=!0,We(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),_e(17)),We(this),this.m=2,Ve(this)):Ue(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Ke(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=wt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function _t(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function kt(){this.g=new ae}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function St(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ct(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"===typeof e?null!=n&&Ne(n):it(e,t,n))}function Ot(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ne(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ne(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new St(this.i,this.h)},u(St,$),(e=St.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Nt(this),3==this.readyState&&Ct(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(St.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ot,$);var At=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),jt(e)}function Mt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!At.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=Ft(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Mt(e)}}finally{jt(e)}}}function jt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zt("baseRetryDelayMs",5e3,e),this.Za=zt("retryDelaySeedMs",1e4,e),this.Ta=zt("forwardChannelMaxRetries",2,e),this.va=zt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Wt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function Bt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function qt(e){Bt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Ht(e){if(!Ye(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||w(),_||(y(),_=!0),b.add(t,e),e.D=0}}function Yt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Kt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&A(e.H,function(e,n){it(t,n,e)}),e.l&&A({},function(e,n){it(t,n,e)})}function Kt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(Jh){throw e.push(o+"type="+encodeURIComponent("_badmap")),Jh}}catch(Jh){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Qt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||w(),_||(y(),_=!0),b.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Me(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Ke(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new be(r,n)),Ht(e)}else Qt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new xe;if(o.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ot(new Et({ab:n})):new Ot(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Ot.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Dt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),jt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jt(this,!0)),Ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let o=this.o;if(this.U&&(o?(o=R(o),M(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+Ne(It(o))+"&"+t:this.u&&Pt(n,this.u,o)),Qe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Yt(this,e):0==this.i.length||Ye(this.h)||Yt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),Bt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Bt(this),Xt(this),_e(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Wt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Kh=Xh.createWebChannelTransport=function(){return new ln},Gh=Xh.getStatEventTarget=function(){return me()},Yh=Xh.Event=fe,Hh=Xh.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,qh=Xh.ErrorCode=Se,Ce.COMPLETE="complete",Bh=Xh.EventType=Ce,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Wh=Xh.WebChannel=ce,Xh.FetchXmlHttpFactory=Et,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Vh=Xh.XhrIo=Ot}).apply("undefined"!==typeof Qh?Qh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const $h="@firebase/firestore",Jh="4.9.3";class Zh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zh.UNAUTHENTICATED=new Zh(null),Zh.GOOGLE_CREDENTIALS=new Zh("google-credentials-uid"),Zh.FIRST_PARTY=new Zh("first-party-uid"),Zh.MOCK_USER=new Zh("mock-user");let ef="12.7.0";const tf=new Zt("@firebase/firestore");function nf(){return tf.logLevel}function rf(e){if(tf.logLevel<=Kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(af);tf.debug("Firestore (".concat(ef,"): ").concat(e),...i)}}function of(e){if(tf.logLevel<=Kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(af);tf.error("Firestore (".concat(ef,"): ").concat(e),...i)}}function sf(e){if(tf.logLevel<=Kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(af);tf.warn("Firestore (".concat(ef,"): ").concat(e),...i)}}function af(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function lf(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,cf(e,r,n)}function cf(e,t,n){let r="FIRESTORE (".concat(ef,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw of(r),new Error(r)}function uf(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||cf(t,i,r)}function df(e,t){return e}const hf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ff extends xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class pf{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class gf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zh.UNAUTHENTICATED))}shutdown(){}}class vf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yf{constructor(e){this.t=e,this.currentUser=Zh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){uf(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new pf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pf,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{rf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(rf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pf)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(rf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(uf("string"==typeof t.accessToken,31837,{l:t}),new mf(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return uf(null===e||"string"==typeof e,2055,{h:e}),new Zh(e)}}class _f{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Zh.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bf{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new _f(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xf{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){uf(void 0===this.o,3512);const n=e=>{null!=e.error&&rf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,rf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{rf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):rf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(uf("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new wf(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ef{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=kf(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Sf(e,t){return e<t?-1:e>t?1:0}function Cf(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return If(n)===If(i)?Sf(n,i):If(n)?1:-1}return Sf(e.length,t.length)}const Tf=55296,Nf=57343;function If(e){const t=e.charCodeAt(0);return t>=Tf&&t<=Nf}function Pf(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Of="__name__";class Af{constructor(e,t,n){void 0===t?t=0:t>e.length&&lf(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&lf(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Af.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Af?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Af.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Sf(e.length,t.length)}static compareSegments(e,t){const n=Af.isNumericId(e),r=Af.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Af.extractNumericId(e).compare(Af.extractNumericId(t)):Cf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fh.fromString(e.substring(4,e.length-2))}}class Rf extends Af{construct(e,t,n){return new Rf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ff(hf.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Rf(e)}static emptyPath(){return new Rf([])}}const Df=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mf extends Af{construct(e,t,n){return new Mf(e,t,n)}static isValidIdentifier(e){return Df.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mf.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Of}static keyField(){return new Mf([Of])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ff(hf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ff(hf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ff(hf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ff(hf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mf(t)}static emptyPath(){return new Mf([])}}class Lf{constructor(e){this.path=e}static fromPath(e){return new Lf(Rf.fromString(e))}static fromName(e){return new Lf(Rf.fromString(e).popFirst(5))}static empty(){return new Lf(Rf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lf(new Rf(e.slice()))}}function jf(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ff(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":lf(12329,{type:typeof e})}function Uf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ff(hf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(e);throw new ff(hf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function zf(e,t){const n={typeString:e};return t&&(n.value=t),n}function Vf(e,t){if(!jf(e))throw new ff(hf.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new ff(hf.INVALID_ARGUMENT,n);return!0}const Wf=-62135596800,Bf=1e6;class qf{static now(){return qf.fromMillis(Date.now())}static fromDate(e){return qf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Bf);return new qf(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ff(hf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ff(hf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Wf)throw new ff(hf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ff(hf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bf}_compareTo(e){return this.seconds===e.seconds?Sf(this.nanoseconds,e.nanoseconds):Sf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vf(e,qf._jsonSchema))return new qf(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qf._jsonSchemaVersion="firestore/timestamp/1.0",qf._jsonSchema={type:zf("string",qf._jsonSchemaVersion),seconds:zf("number"),nanoseconds:zf("number")};class Hf{static fromTimestamp(e){return new Hf(e)}static min(){return new Hf(new qf(0,0))}static max(){return new Hf(new qf(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yf=-1;class Gf{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Gf.UNKNOWN_ID=-1;function Kf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hf.fromTimestamp(1e9===r?new qf(n+1,0):new qf(n,r));return new Xf(i,Lf.empty(),t)}function Qf(e){return new Xf(e.readTime,e.key,Yf)}class Xf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xf(Hf.min(),Lf.empty(),Yf)}static max(){return new Xf(Hf.max(),Lf.empty(),Yf)}}function $f(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Lf.comparator(e.documentKey,t.documentKey),0!==n?n:Sf(e.largestBatchId,t.largestBatchId))}class Jf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Zf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lf(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zf((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Zf?t:Zf.resolve(t)}catch(e){return Zf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Zf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Zf.reject(t)}static resolve(e){return new Zf((t,n)=>{t(e)})}static reject(e){return new Zf((t,n)=>{n(e)})}static waitFor(e){return new Zf((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Zf.resolve(!1);for(const n of e)t=t.next(e=>e?Zf.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Zf((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Zf((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ep(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tp(e){return"IndexedDbTransactionError"===e.name}class np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}np.ce=-1;const rp=-1;function ip(e){return null==e}function op(e){return 0===e&&1/e==-1/0}const sp="remoteDocuments",ap="owner",lp="mutationQueues",cp="mutations";const up="documentMutations",dp="remoteDocumentsV14",hp="remoteDocumentGlobal",fp="targets",pp="targetDocuments",mp="targetGlobal",gp="collectionParents",vp="clientMetadata",yp="bundles",_p="namedQueries",bp="indexConfiguration",wp="indexState",xp="indexEntries",kp="documentOverlays",Ep="globals",Sp=[lp,cp,up,sp,fp,ap,mp,pp,vp,hp,gp,yp,_p],Cp=[lp,cp,up,dp,fp,ap,mp,pp,vp,hp,gp,yp,_p,kp],Tp=Cp,Np=[...Tp,bp,wp,xp];function Ip(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Op(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ap{constructor(e,t){this.comparator=e,this.root=t||Dp.EMPTY}insert(e,t){return new Ap(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dp.BLACK,null,null))}remove(e){return new Ap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rp(this.root,e,this.comparator,!0)}}class Rp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Dp.RED,this.left=null!=r?r:Dp.EMPTY,this.right=null!=i?i:Dp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Dp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Dp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lf(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lf(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lf(27949);return e+(this.isRed()?0:1)}}Dp.EMPTY=null,Dp.RED=!0,Dp.BLACK=!1,Dp.EMPTY=new class{constructor(){this.size=0}get key(){throw lf(57766)}get value(){throw lf(16141)}get color(){throw lf(16727)}get left(){throw lf(29726)}get right(){throw lf(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Dp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mp{constructor(e){this.comparator=e,this.data=new Ap(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lp(this.data.getIterator())}getIteratorFrom(e){return new Lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Mp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mp(this.comparator);return t.data=e,t}}class Lp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jp{constructor(e){this.fields=e,e.sort(Mf.comparator)}static empty(){return new jp([])}unionWith(e){let t=new Mp(Mf.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new jp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pf(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Fp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Up{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fp("Invalid base64 string: "+e):e}}(e);return new Up(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Up(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Up.EMPTY_BYTE_STRING=new Up("");const zp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vp(e){if(uf(!!e,39018),"string"==typeof e){let t=0;const n=zp.exec(e);if(uf(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wp(e.seconds),nanos:Wp(e.nanos)}}function Wp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bp(e){return"string"==typeof e?Up.fromBase64String(e):Up.fromUint8Array(e)}const qp="server_timestamp",Hp="__type__",Yp="__previous_value__",Gp="__local_write_time__";function Kp(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Hp])||void 0===t?void 0:t.stringValue)===qp}function Qp(e){const t=e.mapValue.fields[Yp];return Kp(t)?Qp(t):t}function Xp(e){const t=Vp(e.mapValue.fields[Gp].timestampValue);return new qf(t.seconds,t.nanos)}const $p="(default)";class Jp{constructor(e,t){this.projectId=e,this.database=t||$p}static empty(){return new Jp("","")}get isDefaultDatabase(){return this.database===$p}isEqual(e){return e instanceof Jp&&e.projectId===this.projectId&&e.database===this.database}}const Zp="__type__",em="__max__",tm={mapValue:{fields:{__type__:{stringValue:em}}}},nm="__vector__",rm="value";function im(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kp(e)?4:vm(e)?9007199254740991:mm(e)?10:11:lf(28295,{value:e})}function om(e,t){if(e===t)return!0;const n=im(e);if(n!==im(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xp(e).isEqual(Xp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Vp(e.timestampValue),r=Vp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bp(e.bytesValue).isEqual(Bp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wp(e.geoPointValue.latitude)===Wp(t.geoPointValue.latitude)&&Wp(e.geoPointValue.longitude)===Wp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wp(e.integerValue)===Wp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wp(e.doubleValue),r=Wp(t.doubleValue);return n===r?op(n)===op(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pf(e.arrayValue.values||[],t.arrayValue.values||[],om);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ip(n)!==Ip(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!om(n[i],r[i])))return!1;return!0}(e,t);default:return lf(52216,{left:e})}}function sm(e,t){return void 0!==(e.values||[]).find(e=>om(e,t))}function am(e,t){if(e===t)return 0;const n=im(e),r=im(t);if(n!==r)return Sf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wp(e.integerValue||e.doubleValue),r=Wp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lm(e.timestampValue,t.timestampValue);case 4:return lm(Xp(e),Xp(t));case 5:return Cf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Bp(e),r=Bp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Sf(n[i],r[i]);if(0!==e)return e}return Sf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Sf(Wp(e.latitude),Wp(t.latitude));return 0!==n?n:Sf(Wp(e.longitude),Wp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return cm(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[rm])||void 0===n?void 0:n.arrayValue,c=null===(r=a[rm])||void 0===r?void 0:r.arrayValue,u=Sf((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:cm(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===tm.mapValue&&t===tm.mapValue)return 0;if(e===tm.mapValue)return 1;if(t===tm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Cf(r[s],o[s]);if(0!==e)return e;const t=am(n[r[s]],i[o[s]]);if(0!==t)return t}return Sf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw lf(23264,{he:n})}}function lm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sf(e,t);const n=Vp(e),r=Vp(t),i=Sf(n.seconds,r.seconds);return 0!==i?i:Sf(n.nanos,r.nanos)}function cm(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=am(n[i],r[i]);if(e)return e}return Sf(n.length,r.length)}function um(e){return dm(e)}function dm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Vp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Bp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Lf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=dm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(dm(e.fields[i]));return n+"}"}(e.mapValue):lf(61005,{value:e})}function hm(e){return!!e&&"integerValue"in e}function fm(e){return!!e&&"arrayValue"in e}function pm(e){return!!e&&"mapValue"in e}function mm(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Zp])||void 0===t?void 0:t.stringValue)===nm}function gm(e){if(e.geoPointValue)return{geoPointValue:ze({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:ze({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pp(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=gm(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gm(e.arrayValue.values[n]);return t}return ze({},e)}function vm(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===em}class ym{constructor(e){this.value=e}static empty(){return new ym({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gm(t)}setAll(e){let t=Mf.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=gm(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return om(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];pm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Pp(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ym(gm(this.value))}}class _m{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new _m(e,0,Hf.min(),Hf.min(),Hf.min(),ym.empty(),0)}static newFoundDocument(e,t,n,r){return new _m(e,1,t,Hf.min(),n,r,0)}static newNoDocument(e,t){return new _m(e,2,t,Hf.min(),Hf.min(),ym.empty(),0)}static newUnknownDocument(e,t){return new _m(e,3,t,Hf.min(),Hf.min(),ym.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ym.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ym.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _m&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _m(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class bm{constructor(e,t){this.position=e,this.inclusive=t}}function wm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Lf.comparator(Lf.fromName(s.referenceValue),n.key):am(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function xm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!om(e.position[n],t.position[n]))return!1;return!0}class km{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Em(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Sm{}class Cm extends Sm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Dm(e,t,n):"array-contains"===t?new Fm(e,n):"in"===t?new Um(e,n):"not-in"===t?new zm(e,n):"array-contains-any"===t?new Vm(e,n):new Cm(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Mm(e,n):new Lm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(am(t,this.value)):null!==t&&im(this.value)===im(t)&&this.matchesComparison(am(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lf(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tm extends Sm{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Tm(e,t)}matches(e){return Nm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nm(e){return"and"===e.op}function Im(e){return Pm(e)&&Nm(e)}function Pm(e){for(const t of e.filters)if(t instanceof Tm)return!1;return!0}function Om(e){if(e instanceof Cm)return e.field.canonicalString()+e.op.toString()+um(e.value);if(Im(e))return e.filters.map(e=>Om(e)).join(",");{const t=e.filters.map(e=>Om(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Am(e,t){return e instanceof Cm?function(e,t){return t instanceof Cm&&e.op===t.op&&e.field.isEqual(t.field)&&om(e.value,t.value)}(e,t):e instanceof Tm?function(e,t){return t instanceof Tm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Am(n,t.filters[r]),!0)}(e,t):void lf(19439)}function Rm(e){return e instanceof Cm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(um(e.value))}(e):e instanceof Tm?function(e){return e.op.toString()+" {"+e.getFilters().map(Rm).join(" ,")+"}"}(e):"Filter"}class Dm extends Cm{constructor(e,t,n){super(e,t,n),this.key=Lf.fromName(n.referenceValue)}matches(e){const t=Lf.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mm extends Cm{constructor(e,t){super(e,"in",t),this.keys=jm("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lm extends Cm{constructor(e,t){super(e,"not-in",t),this.keys=jm("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Lf.fromName(e.referenceValue))}class Fm extends Cm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fm(t)&&sm(t.arrayValue,this.value)}}class Um extends Cm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sm(this.value.arrayValue,t)}}class zm extends Cm{constructor(e,t){super(e,"not-in",t)}matches(e){if(sm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!sm(this.value.arrayValue,t)}}class Vm extends Cm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>sm(this.value.arrayValue,e))}}class Wm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Bm(e){return new Wm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qm(e){const t=df(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Om(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ip(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>um(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>um(e)).join(",")),t.Te=e}return t.Te}function Hm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Em(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Am(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xm(e.startAt,t.startAt)&&xm(e.endAt,t.endAt)}class Ym{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gm(e,t,n,r,i,o,s,a){return new Ym(e,t,n,r,i,o,s,a)}function Km(e){return new Ym(e)}function Qm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xm(e){return null!==e.collectionGroup}function $m(e){const t=df(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Mp(Mf.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new km(r,n))}),e.has(Mf.keyField().canonicalString())||t.Ie.push(new km(Mf.keyField(),n))}return t.Ie}function Jm(e){const t=df(e);return t.Ee||(t.Ee=Zm(t,$m(e))),t.Ee}function Zm(e,t){if("F"===e.limitType)return Bm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new km(e.field,t)});const n=e.endAt?new bm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new bm(e.startAt.position,e.startAt.inclusive):null;return Bm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function eg(e,t,n){return new Ym(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tg(e,t){return Hm(Jm(e),Jm(t))&&e.limitType===t.limitType}function ng(e){return"".concat(qm(Jm(e)),"|lt:").concat(e.limitType)}function rg(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Rm(e)).join(", "),"]")),ip(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>um(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>um(e)).join(",")),"Target(".concat(t,")")}(Jm(e)),"; limitType=").concat(e.limitType,")")}function ig(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of $m(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=wm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$m(e),t))&&!(e.endAt&&!function(e,t,n){const r=wm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$m(e),t))}(e,t)}function og(e){return(t,n)=>{let r=!1;for(const i of $m(e)){const e=sg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function sg(e,t,n){const r=e.field.isKeyField()?Lf.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?am(r,i):lf(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lf(19790,{direction:e.dir})}}class ag{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pp(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Op(this.inner)}size(){return this.innerSize}}const lg=new Ap(Lf.comparator);function cg(){return lg}const ug=new Ap(Lf.comparator);function dg(){let e=ug;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function hg(e){let t=ug;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function fg(){return mg()}function pg(){return mg()}function mg(){return new ag(e=>e.toString(),(e,t)=>e.isEqual(t))}new Ap(Lf.comparator);const gg=new Mp(Lf.comparator);function vg(){let e=gg;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yg=new Mp(Sf);function _g(){return yg}function bg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(t)?"-0":t}}function wg(e){return{integerValue:""+e}}class xg{constructor(){this._=void 0}}function kg(e,t,n){return e instanceof Cg?function(e,t){const n={fields:{[Hp]:{stringValue:qp},[Gp]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Kp(t)&&(t=Qp(t)),t&&(n.fields[Yp]=t),{mapValue:n}}(n,t):e instanceof Tg?Ng(e,t):e instanceof Ig?Pg(e,t):function(e,t){const n=Sg(e,t),r=Ag(n)+Ag(e.Ae);return hm(n)&&hm(e.Ae)?wg(r):bg(e.serializer,r)}(e,t)}function Eg(e,t,n){return e instanceof Tg?Ng(e,t):e instanceof Ig?Pg(e,t):n}function Sg(e,t){return e instanceof Og?function(e){return hm(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Cg extends xg{}class Tg extends xg{constructor(e){super(),this.elements=e}}function Ng(e,t){const n=Rg(t);for(const r of e.elements)n.some(e=>om(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ig extends xg{constructor(e){super(),this.elements=e}}function Pg(e,t){let n=Rg(t);for(const r of e.elements)n=n.filter(e=>!om(e,r));return{arrayValue:{values:n}}}class Og extends xg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ag(e){return Wp(e.integerValue||e.doubleValue)}function Rg(e){return fm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Dg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dg}static exists(e){return new Dg(void 0,e)}static updateTime(e){return new Dg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Lg{}function jg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yg(e.key,Dg.none()):new Vg(e.key,e.data,Dg.none());{const n=e.data,r=ym.empty();let i=new Mp(Mf.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Wg(e.key,r,new jp(i.toArray()),Dg.none())}}function Fg(e,t,n){e instanceof Vg?function(e,t,n){const r=e.value.clone(),i=qg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wg?function(e,t,n){if(!Mg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ug(e,t,n,r){return e instanceof Vg?function(e,t,n,r){if(!Mg(e.precondition,t))return n;const i=e.value.clone(),o=Hg(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wg?function(e,t,n,r){if(!Mg(e.precondition,t))return n;const i=Hg(e.fieldTransforms,r,t),o=t.data;return o.setAll(Bg(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Mg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pf(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tg&&t instanceof Tg||e instanceof Ig&&t instanceof Ig?Pf(e.elements,t.elements,om):e instanceof Og&&t instanceof Og?om(e.Ae,t.Ae):e instanceof Cg&&t instanceof Cg}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vg extends Lg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wg extends Lg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bg(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function qg(e,t,n){const r=new Map;uf(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Eg(s,a,n[i]))}return r}function Hg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,kg(e,o,t))}return r}class Yg extends Lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ug(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ug(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=jg(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Hf.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vg())}isEqual(e){return this.batchId===e.batchId&&Pf(this.mutations,e.mutations,(e,t)=>zg(e,t))&&Pf(this.baseMutations,e.baseMutations,(e,t)=>zg(e,t))}}class Kg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var Qg,Xg;function $g(e){if(void 0===e)return of("GRPC error has no .code"),hf.UNKNOWN;switch(e){case Qg.OK:return hf.OK;case Qg.CANCELLED:return hf.CANCELLED;case Qg.UNKNOWN:return hf.UNKNOWN;case Qg.DEADLINE_EXCEEDED:return hf.DEADLINE_EXCEEDED;case Qg.RESOURCE_EXHAUSTED:return hf.RESOURCE_EXHAUSTED;case Qg.INTERNAL:return hf.INTERNAL;case Qg.UNAVAILABLE:return hf.UNAVAILABLE;case Qg.UNAUTHENTICATED:return hf.UNAUTHENTICATED;case Qg.INVALID_ARGUMENT:return hf.INVALID_ARGUMENT;case Qg.NOT_FOUND:return hf.NOT_FOUND;case Qg.ALREADY_EXISTS:return hf.ALREADY_EXISTS;case Qg.PERMISSION_DENIED:return hf.PERMISSION_DENIED;case Qg.FAILED_PRECONDITION:return hf.FAILED_PRECONDITION;case Qg.ABORTED:return hf.ABORTED;case Qg.OUT_OF_RANGE:return hf.OUT_OF_RANGE;case Qg.UNIMPLEMENTED:return hf.UNIMPLEMENTED;case Qg.DATA_LOSS:return hf.DATA_LOSS;default:return lf(39323,{code:e})}}(Xg=Qg||(Qg={}))[Xg.OK=0]="OK",Xg[Xg.CANCELLED=1]="CANCELLED",Xg[Xg.UNKNOWN=2]="UNKNOWN",Xg[Xg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xg[Xg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xg[Xg.NOT_FOUND=5]="NOT_FOUND",Xg[Xg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xg[Xg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xg[Xg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xg[Xg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xg[Xg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xg[Xg.ABORTED=10]="ABORTED",Xg[Xg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xg[Xg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xg[Xg.INTERNAL=13]="INTERNAL",Xg[Xg.UNAVAILABLE=14]="UNAVAILABLE",Xg[Xg.DATA_LOSS=15]="DATA_LOSS";new Fh([4294967295,4294967295],0);Error;class Jg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zg(e){return uf(!!e,49232),Hf.fromTimestamp(function(e){const t=Vp(e);return new qf(t.seconds,t.nanos)}(e))}function ev(e,t){const n=function(e){return new Rf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function tv(e){const t=Rf.fromString(e);return uf(av(t),10190,{key:t.toString()}),t}function nv(e){const t=tv(e);return 4===t.length?Rf.emptyPath():rv(t)}function rv(e){return uf(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function iv(e){let t=nv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){uf(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ov(e);return t instanceof Tm&&Im(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new km(sv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ip(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new bm(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new bm(n,t)}(n.endAt)),Gm(t,i,s,o,a,"F",l,c)}function ov(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=sv(e.unaryFilter.field);return Cm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=sv(e.unaryFilter.field);return Cm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=sv(e.unaryFilter.field);return Cm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=sv(e.unaryFilter.field);return Cm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lf(61313);default:return lf(60726)}}(e):void 0!==e.fieldFilter?function(e){return Cm.create(sv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lf(58110);default:return lf(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Tm.create(e.compositeFilter.filters.map(e=>ov(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return lf(1026)}}(e.compositeFilter.op))}(e):lf(30097,{filter:e})}function sv(e){return Mf.fromServerFormat(e.fieldPath)}function av(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class lv{constructor(e){this.yt=e}}function cv(e){const t=iv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?eg(t,t.limit,"L"):t}class uv{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Wp(e.integerValue));else if("doubleValue"in e){const n=Wp(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),op(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Vp(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Bp(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?vm(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):mm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):lf(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=rm,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Wp(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Lf.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}uv.Kt=new uv;class dv{constructor(){this.Cn=new hv}addToCollectionParentIndex(e,t){return this.Cn.add(t),Zf.resolve()}getCollectionParents(e,t){return Zf.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Zf.resolve()}deleteFieldIndex(e,t){return Zf.resolve()}deleteAllFieldIndexes(e){return Zf.resolve()}createTargetIndexes(e,t){return Zf.resolve()}getDocumentsMatchingTarget(e,t){return Zf.resolve(null)}getIndexType(e,t){return Zf.resolve(0)}getFieldIndexes(e,t){return Zf.resolve([])}getNextCollectionGroupToUpdate(e){return Zf.resolve(null)}getMinOffset(e,t){return Zf.resolve(Xf.min())}getMinOffsetFromCollectionGroup(e,t){return Zf.resolve(Xf.min())}updateCollectionGroup(e,t,n){return Zf.resolve()}updateIndexEntries(e,t){return Zf.resolve()}}class hv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mp(Rf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Mp(Rf.comparator)).toArray()}}new Uint8Array(0);const fv=41943040;class pv{static withCacheSize(e){return new pv(e,pv.DEFAULT_COLLECTION_PERCENTILE,pv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}pv.DEFAULT_COLLECTION_PERCENTILE=10,pv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pv.DEFAULT=new pv(fv,pv.DEFAULT_COLLECTION_PERCENTILE,pv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pv.DISABLED=new pv(-1,0,0);class mv{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mv(0)}static cr(){return new mv(-1)}}const gv=1048576;class vv{constructor(){this.changes=new ag(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_m.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zf.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _v{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ug(n.mutation,e,jp.empty(),qf.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,vg()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vg();const r=fg();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=dg();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=fg();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,vg()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=cg();const o=mg(),s=mg();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Wg)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Ug(s.mutation,t,s.mutation.getFieldMask(),qf.now())):o.set(t.key,jp.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new yv(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=mg();let r=new Ap((e,t)=>e-t),i=vg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||jp.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||vg()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=pg();l.forEach(e=>{if(!i.has(e)){const r=jg(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Zf.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Lf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Zf.resolve(fg());let s=Yf,a=i;return o.next(t=>Zf.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Zf.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,vg())).next(e=>({batchId:s,changes:hg(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lf(t)).next(e=>{let t=dg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=dg();return this.indexManager.getCollectionParents(e,i).next(s=>Zf.forEach(s,s=>{const a=function(e,t){return new Ym(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_m.newInvalidDocument(r)))});let n=dg();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Ug(o.mutation,r,jp.empty(),qf.now()),ig(t,r)&&(n=n.insert(e,r))}),n})}}class bv{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Zf.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zg(e.createTime)}}(t)),Zf.resolve()}getNamedQuery(e,t){return Zf.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:cv(e.bundledQuery),readTime:Zg(e.readTime)}}(t)),Zf.resolve()}}class wv{constructor(){this.overlays=new Ap(Lf.comparator),this.qr=new Map}getOverlay(e,t){return Zf.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fg();return Zf.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Zf.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Zf.resolve()}getOverlaysForCollection(e,t,n){const r=fg(),i=t.length+1,o=new Lf(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Zf.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ap((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=fg(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=fg(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Zf.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kg(t,n));let i=this.qr.get(t);void 0===i&&(i=vg(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class xv{constructor(){this.sessionToken=Up.EMPTY_BYTE_STRING}getSessionToken(e){return Zf.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Zf.resolve()}}class kv{constructor(){this.Qr=new Mp(Ev.$r),this.Ur=new Mp(Ev.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ev(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Ev(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Lf(new Rf([])),n=new Ev(t,e),r=new Ev(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Lf(new Rf([])),n=new Ev(t,e),r=new Ev(t,e+1);let i=vg();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ev(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ev{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Lf.comparator(e.key,t.key)||Sf(e.Yr,t.Yr)}static Kr(e,t){return Sf(e.Yr,t.Yr)||Lf.comparator(e.key,t.key)}}class Sv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Mp(Ev.$r)}checkEmpty(e){return Zf.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gg(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new Ev(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Zf.resolve(o)}lookupMutationBatch(e,t){return Zf.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Zf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Zf.resolve(0===this.mutationQueue.length?rp:this.tr-1)}getAllMutationBatches(e){return Zf.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ev(t,0),r=new Ev(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Zf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mp(Sf);return t.forEach(e=>{const t=new Ev(e,0),r=new Ev(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Zf.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Lf.isDocumentKey(i)||(i=i.child(""));const o=new Ev(new Lf(i),0);let s=new Mp(Sf);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),Zf.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){uf(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Zf.forEach(t.mutations,r=>{const i=new Ev(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Ev(t,0),r=this.Zr.firstAfterOrEqual(n);return Zf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Zf.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cv{constructor(e){this.ri=e,this.docs=new Ap(Lf.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zf.resolve(n?n.document.mutableCopy():_m.newInvalidDocument(t))}getEntries(e,t){let n=cg();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_m.newInvalidDocument(e))}),Zf.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cg();const o=t.path,s=new Lf(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||$f(Qf(s),n)<=0||(r.has(s.key)||ig(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Zf.resolve(i)}getAllFromCollectionGroup(e,t,n,r){lf(9500)}ii(e,t){return Zf.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Tv(this)}getSize(e){return Zf.resolve(this.size)}}class Tv extends vv{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Zf.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Nv{constructor(e){this.persistence=e,this.si=new ag(e=>qm(e),Hm),this.lastRemoteSnapshotVersion=Hf.min(),this.highestTargetId=0,this.oi=0,this._i=new kv,this.targetCount=0,this.ai=mv.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Zf.resolve()}getLastRemoteSnapshotVersion(e){return Zf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zf.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Zf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Zf.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new mv(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Zf.resolve()}updateTargetData(e,t){return this.Pr(t),Zf.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Zf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Zf.waitFor(i).next(()=>r)}getTargetCount(e){return Zf.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Zf.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Zf.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Zf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Zf.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Zf.resolve(n)}containsKey(e,t){return Zf.resolve(this._i.containsKey(t))}}class Iv{constructor(e,t){this.ui={},this.overlays={},this.ci=new np(0),this.li=!1,this.li=!0,this.hi=new xv,this.referenceDelegate=e(this),this.Pi=new Nv(this),this.indexManager=new dv,this.remoteDocumentCache=function(e){return new Cv(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new lv(t),this.Ii=new bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Sv(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){rf("MemoryPersistence","Starting transaction:",e);const r=new Pv(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Zf.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Pv extends Jf{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.Ri=new kv,this.Vi=null}static mi(e){return new Ov(e)}get fi(){if(this.Vi)return this.Vi;throw lf(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Zf.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Zf.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Zf.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zf.forEach(this.fi,n=>{const r=Lf.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Hf.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Zf.or([()=>Zf.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Av{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=vg(),r=vg();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Av(e,t.fromCache,n,r)}}class Rv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dv{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=bt()?8:ep(mt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Rv;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(nf()<=Kt.DEBUG&&rf("QueryEngine","SDK will not create cache indexes for query:",rg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Zf.resolve()):(nf()<=Kt.DEBUG&&rf("QueryEngine","Query:",rg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(nf()<=Kt.DEBUG&&rf("QueryEngine","The SDK decides to create cache indexes for query:",rg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jm(t))):Zf.resolve())}ys(e,t){if(Qm(t))return Zf.resolve(null);let n=Jm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=eg(t,null,"F"),n=Jm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=vg(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,eg(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return Qm(t)||r.isEqual(Hf.min())?Zf.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Zf.resolve(null):(nf()<=Kt.DEBUG&&rf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rg(t)),this.vs(e,o,t,Kf(r,Yf)).next(e=>e))})}Ds(e,t){let n=new Mp(og(e));return t.forEach((t,r)=>{ig(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return nf()<=Kt.DEBUG&&rf("QueryEngine","Using full collection scan to execute query:",rg(t)),this.ps.getDocumentsMatchingQuery(e,t,Xf.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Mv="LocalStore";class Lv{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ap(Sf),this.xs=new ag(e=>qm(e),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _v(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function jv(e,t,n,r){return new Lv(e,t,n,r)}async function Fv(e,t){const n=df(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=vg();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}class Uv{constructor(){this.activeTargetIds=_g()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zv{constructor(){this.Mo=new Uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Uv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vv{Oo(e){}shutdown(){}}const Wv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rf(Wv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rf(Wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qv=null;function Hv(){return null===qv?qv=268435456+Math.round(2147483648*Math.random()):qv++,"0x"+qv.toString(16)}const Yv="RestConnection",Gv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kv{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===$p?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Hv(),s=this.zo(e,t.toUriEncodedString());rf(Yv,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=ct(l);return this.Jo(e,s,a,n,c).then(t=>(rf(Yv,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw sf(Yv,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ef,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Gv[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Qv{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xv="WebChannelConnection";class $v extends Kv{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Hv();return new Promise((i,s)=>{const a=new Vh;a.setWithCredentials(!0),a.listenOnce(Bh.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case qh.NO_ERROR:const n=a.getResponseJson();rf(Xv,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case qh.TIMEOUT:rf(Xv,"RPC '".concat(e,"' ").concat(o," timed out")),s(new ff(hf.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const r=a.getStatus();if(rf(Xv,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(hf).indexOf(t)>=0?t:hf.UNKNOWN}(n.status);s(new ff(e,n.message))}else s(new ff(hf.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ff(hf.UNAVAILABLE,"Connection failed."));break;default:lf(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{rf(Xv,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);rf(Xv,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Hv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kh(),s=Gh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");rf(Xv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new Qv({Yo:t=>{h?rf(Xv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(rf(Xv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),rf(Xv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Wh.EventType.OPEN,()=>{h||(rf(Xv,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Wh.EventType.CLOSE,()=>{h||(h=!0,rf(Xv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Wh.EventType.ERROR,t=>{h||(h=!0,sf(Xv,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ff(hf.UNAVAILABLE,"The operation could not be completed")))}),p(u,Wh.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];uf(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){rf(Xv,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Qg[e];if(void 0!==t)return $g(t)}(t),i=s.message;void 0===n&&(n=hf.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new ff(n,i)),u.close()}else rf(Xv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,Yh.STAT_EVENT,t=>{t.stat===Hh.PROXY?rf(Xv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Hh.NOPROXY&&rf(Xv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Jv(){return"undefined"!=typeof document?document:null}function Zv(e){return new Jg(e,!0)}class ey{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&rf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class ty{}class ny extends ty{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ff(hf.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,ev(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===hf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ff(hf.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,ev(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===hf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ff(hf.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ry{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(of(t),this.aa=!1):rf("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const iy="RemoteStore";class oy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ly(this)&&(rf(iy,"Restarting streams for network reachability change."),await async function(e){const t=df(e);t.Ea.add(4),await ay(t),t.Ra.set("Unknown"),t.Ea.delete(4),await sy(t)}(this))})}),this.Ra=new ry(n,r)}}async function sy(e){if(ly(e))for(const t of e.da)await t(!0)}async function ay(e){for(const t of e.da)await t(!1)}function ly(e){return 0===df(e).Ea.size}async function cy(e,t){const n=df(e);t?(n.Ea.delete(2),await sy(n)):t||(n.Ea.add(2),await ay(n),n.Ra.set("Unknown"))}class uy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new uy(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ff(hf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class dy{constructor(){this.queries=hy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=df(e),r=n.queries;n.queries=hy(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ff(hf.ABORTED,"Firestore shutting down"))}}function hy(){return new ag(e=>ng(e),tg)}function fy(e){e.Ca.forEach(e=>{e.next()})}var py,my;(my=py||(py={})).Ma="default",my.Cache="cache";const gy="SyncEngine";class vy{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ag(e=>ng(e),tg),this.Iu=new Map,this.Eu=new Set,this.du=new Ap(Lf.comparator),this.Au=new Map,this.Ru=new kv,this.Vu={},this.mu=new Map,this.fu=mv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function yy(e,t,n){const r=df(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=df(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&fy(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _y(e,t,n){const r=df(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Av.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=df(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Zf.forEach(t,t=>Zf.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Zf.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!tp(e))throw e;rf(Mv,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function by(e,t){const n=df(e);if(!n.currentUser.isEqual(t)){rf(gy,"User change. New user:",t.toKey());const e=await Fv(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ff(hf.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _y(n,e.Ls)}}class wy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jv(this.persistence,new Dv,e.initialUser,this.serializer)}Cu(e){return new Iv(Ov.mi,this.serializer)}Du(e){return new zv}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wy.provider={build:()=>new wy};class xy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=by.bind(null,this.syncEngine),await cy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dy}createDatastore(e){const t=Zv(e.databaseInfo.databaseId),n=function(e){return new $v(e)}(e.databaseInfo);return function(e,t,n,r){return new ny(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new oy(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>yy(this.syncEngine,e,0),Bv.v()?new Bv:new Vv)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new vy(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=df(e);rf(iy,"RemoteStore shutting down."),t.Ea.add(5),await ay(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}xy.provider={build:()=>new xy};function ky(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ey=new Map,Sy="firestore.googleapis.com",Cy=!0;class Ty{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ff(hf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sy,this.ssl=Cy}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Cy;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=fv;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<gv)throw new ff(hf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ff(hf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ky(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ff(hf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ff(hf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ff(hf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ny{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ty({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ff(hf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ff(hf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ty(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gf;switch(e.type){case"firstParty":return new bf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ff(hf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ey.get(e);t&&(rf("ComponentProvider","Removing Datastore"),Ey.delete(e),t.terminate())}(this),Promise.resolve()}}class Iy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Iy(this.firestore,e,this._query)}}class Py{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Py(this.firestore,e,this._key)}toJSON(){return{type:Py._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Vf(t,Py._jsonSchema))return new Py(e,n||null,new Lf(Rf.fromString(t.referencePath)))}}Py._jsonSchemaVersion="firestore/documentReference/1.0",Py._jsonSchema={type:zf("string",Py._jsonSchemaVersion),referencePath:zf("string")};class Oy extends Iy{constructor(e,t,n){super(e,t,Km(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Py(this.firestore,null,new Lf(e))}withConverter(e){return new Oy(this.firestore,e,this._path)}}const Ay="AsyncQueue";class Ry{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ey(this,"async_queue_retry"),this._c=()=>{const e=Jv();e&&rf(Ay,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Jv();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new pf;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(eM){if(!tp(eM))throw eM;rf(Ay,"Operation failed with retryable error: "+eM)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,of("INTERNAL UNHANDLED ERROR: ",Dy(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=uy.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&lf(47125,{Pc:Dy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Dy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class My extends Ny{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ry,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ry(e),this._firestoreClient=void 0,await e}}}class Ly{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ly(Up.fromBase64String(e))}catch(e){throw new ff(hf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ly(Up.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ly._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vf(e,Ly._jsonSchema))return Ly.fromBase64String(e.bytes)}}Ly._jsonSchemaVersion="firestore/bytes/1.0",Ly._jsonSchema={type:zf("string",Ly._jsonSchemaVersion),bytes:zf("string")};class jy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ff(hf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mf(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ff(hf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ff(hf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Sf(this._lat,e._lat)||Sf(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fy._jsonSchemaVersion}}static fromJSON(e){if(Vf(e,Fy._jsonSchema))return new Fy(e.latitude,e.longitude)}}Fy._jsonSchemaVersion="firestore/geoPoint/1.0",Fy._jsonSchema={type:zf("string",Fy._jsonSchemaVersion),latitude:zf("number"),longitude:zf("number")};class Uy{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Uy._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vf(e,Uy._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Uy(e.vectorValues);throw new ff(hf.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Uy._jsonSchemaVersion="firestore/vectorValue/1.0",Uy._jsonSchema={type:zf("string",Uy._jsonSchemaVersion),vectorValues:zf("object")};const zy=new RegExp("[~\\*/\\[\\]]");function Vy(e,t,n){if(t.search(zy)>=0)throw Wy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new jy(...t.split("."))._internalPath}catch(r){throw Wy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wy(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new ff(hf.INVALID_ARGUMENT,a+e+l)}class By{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Py(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qy extends By{data(){return super.data()}}function Hy(e,t){return"string"==typeof t?Vy(e,t):t instanceof jy?t._internalPath:t._delegate._internalPath}class Yy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gy extends By{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ff(hf.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gy._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Gy._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gy._jsonSchema={type:zf("string",Gy._jsonSchemaVersion),bundleSource:zf("string","DocumentSnapshot"),bundleName:zf("string"),bundle:zf("string")};class Ky extends Gy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ky(this._firestore,this._userDataWriter,n.key,n,new Yy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ff(hf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ky(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Yy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ky(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Xy(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ff(hf.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qy._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ef.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lf(61501,{type:e})}}Qy._jsonSchemaVersion="firestore/querySnapshot/1.0",Qy._jsonSchema={type:zf("string",Qy._jsonSchemaVersion),bundleSource:zf("string","QuerySnapshot"),bundleName:zf("string"),bundle:zf("string")};new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ef=e}(ir),Zn(new Bt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new My(new yf(e.getProvider("auth-internal")),new xf(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ff(hf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jp(e.options.projectId,t)}(o,r),o);return i=ze({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),ar($h,Jh,e),ar($h,Jh,"esm2020")}();const $y="firebasestorage.googleapis.com",Jy="storageBucket";class Zy extends xt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(n_(e),"Firebase Storage: ".concat(t," (").concat(n_(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return n_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var e_,t_;function n_(e){return"storage/"+e}function r_(){return new Zy(e_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function i_(){return new Zy(e_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o_(){return new Zy(e_.CANCELED,"User canceled the upload/download.")}function s_(){return new Zy(e_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a_(e){return new Zy(e_.INVALID_ARGUMENT,e)}function l_(){return new Zy(e_.APP_DELETED,"The Firebase app was deleted.")}function c_(e,t){return new Zy(e_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function u_(e){throw new Zy(e_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(e_||(e_={}));class d_{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=d_.makeFromUrl(e,t)}catch(eM){return new d_(e,"")}if(""===n.path)return n;throw r=e,new Zy(e_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===$y?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new d_(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Zy(e_.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class h_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function f_(e){return"string"===typeof e||e instanceof String}function p_(e){return m_()&&e instanceof Blob}function m_(){return"undefined"!==typeof Blob}function g_(e,t,n,r){if(r<t)throw a_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw a_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function v_(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function y_(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function __(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(t_||(t_={}));class b_{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new w_(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===t_.NO_ERROR,i=n.getStatus();if(!t||__(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===t_.ABORT;return void e(!1,new w_(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new w_(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(eM){r(eM)}else if(null!==i){const e=r_();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?l_():o_())}else{r(i_())}};this.canceled_?t(0,new w_(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class w_{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function x_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function k_(){const e=x_();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(m_())return new Blob(n);throw new Zy(e_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function E_(e){if("undefined"===typeof atob)throw t="base-64",new Zy(e_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const S_="raw",C_="base64",T_="base64url",N_="data_url";class I_{constructor(e,t){this.data=e,this.contentType=t||null}}function P_(e,t){switch(e){case S_:return new I_(O_(t));case C_:case T_:return new I_(A_(e,t));case N_:return new I_(function(e){const t=new R_(e);return t.base64?A_(C_,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(eM){throw c_(N_,"Malformed data URL.")}return O_(t)}(t.rest)}(t),new R_(t).contentType)}throw r_()}function O_(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function A_(e,t){switch(e){case C_:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw c_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case T_:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw c_(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E_(t)}catch(eM){if(eM.message.includes("polyfill"))throw eM;throw c_(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class R_{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw c_(N_,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class D_{constructor(e,t){let n=0,r="";p_(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(p_(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new D_(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new D_(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(m_()){const e=t.map(e=>e instanceof D_?e.data_:e);return new D_(k_.apply(null,e))}{const e=t.map(e=>f_(e)?P_(S_,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new D_(r,!0)}}uploadData(){return this.data_}}function M_(e){let t;try{t=JSON.parse(e)}catch(eM){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function L_(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function j_(e,t){return t}class F_{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||j_}}let U_=null;function z_(){if(U_)return U_;const e=[];e.push(new F_("bucket")),e.push(new F_("generation")),e.push(new F_("metageneration")),e.push(new F_("name","fullPath",!0));const t=new F_("name");t.xform=function(e,t){return function(e){return!f_(e)||e.length<2?e:L_(e)}(t)},e.push(t);const n=new F_("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new F_("timeCreated")),e.push(new F_("updated")),e.push(new F_("md5Hash",null,!0)),e.push(new F_("cacheControl",null,!0)),e.push(new F_("contentDisposition",null,!0)),e.push(new F_("contentEncoding",null,!0)),e.push(new F_("contentLanguage",null,!0)),e.push(new F_("contentType",null,!0)),e.push(new F_("metadata","customMetadata",!0)),U_=e,U_}function V_(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new d_(n,r);return t._makeStorageReference(i)}})}(r,e),r}function W_(e,t,n){const r=M_(t);if(null===r)return null;return V_(e,r,n)}function B_(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class q_{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function H_(e){if(!e)throw r_()}function Y_(e,t){return function(n,r){const i=W_(e,r,t);return H_(null!==i),i}}function G_(e,t){return function(n,r){const i=W_(e,r,t);return H_(null!==i),function(e,t,n,r){const i=M_(t);if(null===i)return null;if(!f_(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(t=>{const i=e.bucket,o=e.fullPath;return v_("/b/"+s(i)+"/o/"+s(o),n,r)+y_({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function K_(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Zy(e_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Zy(e_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Zy(e_.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Zy(e_.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Q_(e){const t=K_(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Zy(e_.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function X_(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function $_(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=X_(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+B_(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=D_.getBlob(c,r,u);if(null===d)throw s_();const h={name:l.fullPath},f=v_(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new q_(f,"POST",Y_(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=K_(t),m}class J_{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=t_.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=t_.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=t_.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw u_("cannot .send() more than once");if(ct(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw u_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw u_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(eM){return-1}}getResponse(){if(!this.sent_)throw u_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw u_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Z_ extends J_{initXhr(){this.xhr_.responseType="text"}}function eb(){return new Z_}class tb{constructor(e,t){this._service=e,this._location=t instanceof d_?t:d_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tb(e,t)}get root(){const e=new d_(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L_(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new d_(this._location.bucket,e);return new tb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Zy(e_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function nb(e,t,n){e._throwIfRoot("uploadBytes");const r=$_(e.storage,e._location,z_(),new D_(t,!0),n);return e.storage.makeRequestWithTokens(r,eb).then(t=>({metadata:t,ref:e}))}function rb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=v_(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new q_(r,"GET",G_(e,n),i);return o.errorHandler=Q_(t),o}(e.storage,e._location,z_());return e.storage.makeRequestWithTokens(t,eb).then(e=>{if(null===e)throw new Zy(e_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function ib(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new d_(e._location.bucket,n);return new tb(e.storage,r)}function ob(e,t){if(e instanceof lb){const n=e;if(null==n._bucket)throw new Zy(e_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jy+"' property when initializing the app?");const r=new tb(n,n._bucket);return null!=t?ob(r,t):r}return void 0!==t?ib(e,t):e}function sb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof lb)return new tb(e,t);throw a_("To use ref(service, url), the first argument must be a Storage instance.")}return ob(e,t)}function ab(e,t){const n=null===t||void 0===t?void 0:t[Jy];return null==n?null:d_.makeFromBucketSpec(n,e)}class lb{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=$y,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?d_.makeFromBucketSpec(r,this._host):ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=d_.makeFromBucketSpec(this._url,e):this._bucket=ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tb(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new h_(l_());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=y_(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new b_(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cb="@firebase/storage",ub="0.14.0",db="storage";function hb(e,t,n,r){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S_,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");const i=P_(n,t),o=ze({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),nb(e,i.data,o)}(e=Wt(e),t,n,r)}function fb(e){return rb(e=Wt(e))}function pb(e,t){return sb(e=Wt(e),t)}function mb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr(),t=arguments.length>1?arguments[1]:void 0;e=Wt(e);const n=er(e,db).getImmediate({identifier:t}),r=ot("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=ct(t);i&&(ut("https://".concat(e.host,"/b")),pt("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:dt(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function gb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new lb(r,i,o,n,ir)}Zn(new Bt(db,gb,"PUBLIC").setMultipleInstances(!0)),ar(cb,ub,""),ar(cb,ub,"esm2020");const vb=or({apiKey:"AIzaSyD8GWx4ry3hgM6jV0qtTMHBrT7JoWHQCAk",authDomain:"desarollogit-68916509-89c54.firebaseapp.com",databaseURL:"https://desarollogit-68916509-89c54-default-rtdb.europe-west1.firebasedatabase.app",projectId:"desarollogit-68916509-89c54",storageBucket:"desarollogit-68916509-89c54.appspot.com",messagingSenderId:"464708937070",appId:"1:464708937070:web:41e91b162694b2bb7c8d7f"}),yb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr();const t=er(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=er(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(At(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Cr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ls,persistence:[Yo,Co,Oo]}),r=at("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>zs)return;const r=null===t||void 0===t?void 0:t.token;Vs!==r&&(Vs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Wt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Wt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=it("auth");return o&&Ki(n,"http://".concat(o)),n}(vb),_b=function(e,t){const n="object"==typeof e?e:sr(),r="string"==typeof e?e:t||$p,i=er(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=ot("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Uf(e,Ny);const i=ct(t),o=e._getSettings(),s=ze(ze({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(ut("https://".concat(a)),pt("Firestore",!0)),o.host!==Sy&&o.host!==a&&sf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=ze(ze({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!At(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Zh.MOCK_USER;else{var c;t=dt(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ff(hf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Zh(i)}e._authCredentials=new vf(new mf(t,n))}}(i,...e)}return i}(vb),bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr(),t=arguments.length>1?arguments[1]:void 0;const n=er(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=ot("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Wt(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&At(r,o.repoInfo_.emulatorOptions))return;ca("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ca('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ta(Ta.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:dt(r.mockUserToken,e.app.options.projectId);s=new Ta(t)}ct(t)&&(ut(t),pt("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),o=ct(t.substring(0,i));e.repoInfo_=new Ra(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}(vb),wb=mb(vb),xb=new ho,kb=()=>{const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(!0),[i,s]=(0,o.useState)(new Set);(0,o.useEffect)(()=>{const e=function(e,t,n,r){return Wt(e).onAuthStateChanged(t,n,r)}(yb,e=>{if(e){t(ze({},e));const n=kh(fh(bb,"users/".concat(e.uid,"/favorites")),e=>{const t=e.val();s(new Set(t?Object.keys(t):[])),r(!1)},e=>{console.error("Error fetching favorites: ",e),r(!1)});return()=>n()}t(null),s(new Set),r(!1)});return()=>e()},[]);const a=(0,o.useCallback)(async()=>{const e=yb.currentUser;if(e)try{await e.reload(),t(ze({},yb.currentUser))}catch(la){console.error("Error reloading user data:",la)}},[]),l=(0,o.useCallback)(async t=>{if(!e)return;const n=fh(bb,"users/".concat(e.uid,"/favorites/").concat(t));i.has(t)?await gh(n):await vh(n,!0)},[e,i]);return{user:e,loading:n,favorites:i,toggleFavorite:l,signInWithGoogle:async()=>{r(!0);try{const e=await async function(e,t,n){if(tr(e.app))return Promise.reject(Tr(e,"operation-not-supported-in-this-environment"));const r=Li(e);Pr(e,t,lo);const i=Jo(r,n);return new os(r,"signInViaPopup",t,i).executeNotNull()}(yb,xb);kh(fh(bb,"users/"+e.user.uid),t=>{t.exists()||(e=>{if(!e)return;yh(fh(bb,"users/"+e.uid),{displayName:e.displayName,email:e.email,photoURL:e.photoURL,lastLogin:jh()})})(e.user)},{onlyOnce:!0})}catch(la){console.error("Error during Google sign-in:",la),r(!1)}},logout:async()=>{try{await function(e){return Wt(e).signOut()}(yb)}catch(la){console.error("Error signing out:",la)}},forceRefreshUser:a}},Eb=e=>{const[t,n]=(0,o.useState)(0);return(0,o.useEffect)(()=>{if(!e)return void n(0);const t=kh(Oh(fh(bb,"chats"),Nh("members/".concat(e)),Ph(!0)),t=>{const r=t.val();let i=0;r&&Object.values(r).forEach(t=>{t&&t.unreadCount&&"number"===typeof t.unreadCount[e]&&(i+=t.unreadCount[e])}),n(i)},e=>{console.error("Error fetching unread chat count:",e),n(0)});return()=>t()},[e]),t};function Sb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Tb,Nb,Ib,Pb,Ob,Ab,Rb,Db,Mb,Lb,jb,Fb={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ub={duration:.5,overwrite:!1,delay:0},zb=1e8,Vb=1e-8,Wb=2*Math.PI,Bb=Wb/4,qb=0,Hb=Math.sqrt,Yb=Math.cos,Gb=Math.sin,Kb=function(e){return"string"===typeof e},Qb=function(e){return"function"===typeof e},Xb=function(e){return"number"===typeof e},$b=function(e){return"undefined"===typeof e},Jb=function(e){return"object"===typeof e},Zb=function(e){return!1!==e},ew=function(){return"undefined"!==typeof window},tw=function(e){return Qb(e)||Kb(e)},nw="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},rw=Array.isArray,iw=/random\([^)]+\)/g,ow=/,\s*/g,sw=/(?:-?\.?\d|\.)+/gi,aw=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,lw=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,cw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,uw=/[+-]=-?[.\d]+/,dw=/[^,'"\[\]\s]+/gi,hw=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fw={},pw={},mw=function(e){return(pw=Hw(e,fw))&&Yk},gw=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},vw=function(e,t){return!t&&console.warn(e)},yw=function(e,t){return e&&(fw[e]=t)&&pw&&(pw[e]=t)||fw},_w=function(){return 0},bw={suppressEvents:!0,isStart:!0,kill:!1},ww={suppressEvents:!0,kill:!1},xw={suppressEvents:!0},kw={},Ew=[],Sw={},Cw={},Tw={},Nw=30,Iw=[],Pw="",Ow=function(e){var t,n,r=e[0];if(Jb(r)||Qb(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Iw.length;n--&&!Iw[n].targetTest(r););t=Iw[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new sk(e[n],t)))||e.splice(n,1);return e},Aw=function(e){return e._gsap||Ow(kx(e))[0]._gsap},Rw=function(e,t,n){return(n=e[t])&&Qb(n)?e[t]():$b(n)&&e.getAttribute&&e.getAttribute(t)||n},Dw=function(e,t){return(e=e.split(",")).forEach(t)||e},Mw=function(e){return Math.round(1e5*e)/1e5||0},Lw=function(e){return Math.round(1e7*e)/1e7||0},jw=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Fw=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Uw=function(){var e,t,n=Ew.length,r=Ew.slice(0);for(Sw={},Ew.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},zw=function(e){return!!(e._initted||e._startAt||e.add)},Vw=function(e,t,n,r){Ew.length&&!Nb&&Uw(),e.render(t,n,r||!!(Nb&&t<0&&zw(e))),Ew.length&&!Nb&&Uw()},Ww=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(dw).length<2?t:Kb(e)?e.trim():e},Bw=function(e){return e},qw=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Hw=function(e,t){for(var n in t)e[n]=t[n];return e},Yw=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=Jb(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Gw=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Kw=function(e){var t,n=e.parent||Pb,r=e.keyframes?(t=rw(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):qw;if(Zb(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Qw=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=e[r];if(i)for(o=t[i];s&&s[i]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},Xw=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},$w=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Jw=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Zw=function(e,t,n,r){return e._startAt&&(Nb?e._startAt.revert(ww):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},ex=function e(t){return!t||t._ts&&e(t.parent)},tx=function(e){return e._repeat?nx(e._tTime,e=e.duration()+e._rDelay)*e:0},nx=function(e,t){var n=Math.floor(e=Lw(e/t));return e&&n===e?n-1:n},rx=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},ix=function(e){return e._end=Lw(e._start+(e._tDur/Math.abs(e._ts||e._rts||Vb)||0))},ox=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Lw(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),ix(e),n._dirty||Jw(n,e)),e},sx=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=rx(e.rawTime(),t),(!t._dur||yx(0,t.totalDuration(),n)-t._tTime>Vb)&&t.render(n,!0)),Jw(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},ax=function(e,t,n,r){return t.parent&&$w(t),t._start=Lw((Xb(n)?n:n||e!==Pb?mx(e,n,t):e._time)+t._delay),t._end=Lw(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Qw(e,t,"_first","_last",e._sort?"_start":0),dx(t)||(e._recent=t),r||sx(e,t),e._ts<0&&ox(e,e._tTime),e},lx=function(e,t){return(fw.ScrollTrigger||gw("scrollTrigger",t))&&fw.ScrollTrigger.create(t,e)},cx=function(e,t,n,r,i){return pk(e,t,i),e._initted?!n&&e._pt&&!Nb&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Mb!==Gx.frame?(Ew.push(e),e._lazy=[i,r],1):void 0:1},ux=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},dx=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},hx=function(e,t,n,r){var i=e._repeat,o=Lw(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Lw(o*(i+1)+e._rDelay*i):o,s>0&&!r&&ox(e,e._tTime=e._tDur*s),e.parent&&ix(e),n||Jw(e.parent,e),e},fx=function(e){return e instanceof lk?Jw(e):hx(e,e._dur)},px={_start:0,endTime:_w,totalDuration:_w},mx=function e(t,n,r){var i,o,s,a=t.labels,l=t._recent||px,c=t.duration()>=zb?l.endTime(!1):t._dur;return Kb(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(rw(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+o:c+o)):null==n?c:+n},gx=function(e,t,n){var r,i,o=Xb(t[1]),s=(o?2:1)+(e<2?0:1),a=t[s];if(o&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=Zb(i.vars.inherit)&&i.parent;a.immediateRender=Zb(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new _k(t[0],a,t[s+1])},vx=function(e,t){return e||0===e?t(e):t},yx=function(e,t,n){return n<e?e:n>t?t:n},_x=function(e,t){return Kb(e)&&(t=hw.exec(e))?t[1]:""},bx=[].slice,wx=function(e,t){return e&&Jb(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Jb(e[0]))&&!e.nodeType&&e!==Ob},xx=function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return Kb(e)&&!t||wx(e,1)?(r=n).push.apply(r,kx(e)):n.push(e)})||n},kx=function(e,t,n){return Ib&&!t&&Ib.selector?Ib.selector(e):!Kb(e)||n||!Ab&&Kx()?rw(e)?xx(e,n):wx(e)?bx.call(e,0):e?[e]:[]:bx.call((t||Rb).querySelectorAll(e),0)},Ex=function(e){return e=kx(e)[0]||vw("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return kx(t,n.querySelectorAll?n:n===e?vw("Invalid scope")||Rb.createElement("div"):e)}},Sx=function(e){return e.sort(function(){return.5-Math.random()})},Cx=function(e){if(Qb(e))return e;var t=Jb(e)?e:{each:e},n=tk(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,l=t.axis,c=r,u=r;return Kb(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(c=r[0],u=r[1]),function(e,s,d){var h,f,p,m,g,v,y,_,b,w=(d||t).length,x=o[w];if(!x){if(!(b="auto"===t.grid?0:(t.grid||[1,zb])[1])){for(y=-zb;y<(y=d[b++].getBoundingClientRect().left)&&b<w;);b<w&&b--}for(x=o[w]=[],h=a?Math.min(b,w)*c-.5:r%b,f=b===zb?0:a?w*u/b-.5:r/b|0,y=0,_=zb,v=0;v<w;v++)p=v%b-h,m=f-(v/b|0),x[v]=g=l?Math.abs("y"===l?m:p):Hb(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===r&&Sx(x),x.max=y-_,x.min=_,x.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(b>w?w-1:l?"y"===l?w/b:b:Math.max(b,w/b))||0)*("edges"===r?-1:1),x.b=w<0?i-w:i,x.u=_x(t.amount||t.each)||0,n=n&&w<0?Zx(n):n}return w=(x[e]-x.min)/x.max||0,Lw(x.b+(n?n(w):w)*x.v)+x.u}},Tx=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Lw(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Xb(n)?0:_x(n))}},Nx=function(e,t){var n,r,i=rw(e);return!i&&Jb(e)&&(n=i=e.radius||zb,e.values?(e=kx(e.values),(r=!Xb(e[0]))&&(n*=n)):e=Tx(e.increment)),vx(t,i?Qb(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,s=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=zb,c=0,u=e.length;u--;)(i=r?(i=e[u].x-s)*i+(o=e[u].y-a)*o:Math.abs(e[u]-s))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||Xb(t)?c:c+_x(t)}:Tx(e))},Ix=function(e,t,n,r){return vx(rw(e)?!t:!0===n?!!(n=0):!r,function(){return rw(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},Px=function(e,t,n){return vx(n,function(n){return e[~~t(n)]})},Ox=function(e){return e.replace(iw,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(ow);return Ix(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},Ax=function(e,t,n,r,i){var o=t-e,s=r-n;return vx(i,function(t){return n+((t-e)/o*s||0)})},Rx=function(e,t,n){var r,i,o,s=e.labels,a=zb;for(r in s)(i=s[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},Dx=function(e,t,n){var r,i,o,s=e.vars,a=s[t],l=Ib,c=e._ctx;if(a)return r=s[t+"Params"],i=s.callbackScope||e,n&&Ew.length&&Uw(),c&&(Ib=c),o=r?a.apply(i,r):a.call(i),Ib=l,o},Mx=function(e){return $w(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Nb),e.progress()<1&&Dx(e,"onInterrupt"),e},Lx=[],jx=function(e){if(e)if(e=!e.name&&e.default||e,ew()||e.headless){var t=e.name,n=Qb(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:_w,render:Nk,add:hk,kill:Pk,modifier:Ik,rawVars:0},o={targetTest:0,get:0,getSetter:Ek,aliases:{},register:0};if(Kx(),e!==r){if(Cw[t])return;qw(r,qw(Gw(e,i),o)),Hw(r.prototype,Hw(i,Gw(e,o))),Cw[r.prop=t]=r,e.targetTest&&(Iw.push(r),kw[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}yw(t,r),e.register&&e.register(Yk,r,Rk)}else Lx.push(e)},Fx=255,Ux={aqua:[0,Fx,Fx],lime:[0,Fx,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Fx],navy:[0,0,128],white:[Fx,Fx,Fx],olive:[128,128,0],yellow:[Fx,Fx,0],orange:[Fx,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Fx,0,0],pink:[Fx,192,203],cyan:[0,Fx,Fx],transparent:[Fx,Fx,Fx,0]},zx=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*Fx+.5|0},Vx=function(e,t,n){var r,i,o,s,a,l,c,u,d,h,f=e?Xb(e)?[e>>16,e>>8&Fx,e&Fx]:0:Ux.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Ux[e])f=Ux[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&Fx,f&Fx,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&Fx,e&Fx]}else if("hsl"===e.substr(0,3))if(f=h=e.match(sw),t){if(~e.indexOf("="))return f=e.match(aw),n&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=zx(s+1/3,r,i),f[1]=zx(s,r,i),f[2]=zx(s-1/3,r,i);else f=e.match(sw)||Ux.transparent;f=f.map(Number)}return t&&!h&&(r=f[0]/Fx,i=f[1]/Fx,o=f[2]/Fx,l=((c=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,c===u?s=a=0:(d=c-u,a=l>.5?d/(2-c-u):d/(c+u),s=c===r?(i-o)/d+(i<o?6:0):c===i?(o-r)/d+2:(r-i)/d+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},Wx=function(e){var t=[],n=[],r=-1;return e.split(qx).forEach(function(e){var i=e.match(lw)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},Bx=function(e,t,n){var r,i,o,s,a="",l=(e+a).match(qx),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=Vx(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(o=Wx(e),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=e.replace(qx,"1").split(lw)).length-1;u<s;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!i)for(s=(i=e.split(qx)).length-1;u<s;u++)a+=i[u]+l[u];return a+i[s]},qx=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Ux)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Hx=/hsl[a]?\(/,Yx=function(e){var t,n=e.join(" ");if(qx.lastIndex=0,qx.test(n))return t=Hx.test(n),e[1]=Bx(e[1],t),e[0]=Bx(e[0],t,Wx(e[1])),!0},Gx=function(){var e,t,n,r,i,o,s=Date.now,a=500,l=33,c=s(),u=c,d=1e3/240,h=d,f=[],p=function n(p){var m,g,v,y,_=s()-u,b=!0===p;if((_>a||_<0)&&(c+=_-l),((m=(v=(u+=_)-c)-h)>0||b)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,h+=m+(m>=d?4:d-m),g=1),b||(e=t(n)),g)for(o=0;o<f.length;o++)f[o](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){Db&&(!Ab&&ew()&&(Ob=Ab=window,Rb=Ob.document||{},fw.gsap=Yk,(Ob.gsapVersions||(Ob.gsapVersions=[])).push(Yk.version),mw(pw||Ob.GreenSockGlobals||!Ob.gsap&&Ob||{}),Lx.forEach(jx)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,h-1e3*r.time+1|0)},jb=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),jb=0,t=_w},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){d=1e3/(e||240),h=1e3*r.time+d},add:function(e,t,n){var i=t?function(t,n,o,s){e(t,n,o,s),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),Kx(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&o>=t&&o--},_listeners:f},r}(),Kx=function(){return!jb&&Gx.wake()},Qx={},Xx=/^[\d.\-M][\d.\-,\s]/,$x=/["']/g,Jx=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[s]=isNaN(r)?r.replace($x,"").trim():+r,s=n.substr(t+1).trim();return i},Zx=function(e){return function(t){return 1-e(1-t)}},ek=function e(t,n){for(var r,i=t._first;i;)i instanceof lk?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},tk=function(e,t){return e&&(Qb(e)?e:Qx[e]||function(e){var t=(e+"").split("("),n=Qx[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Jx(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(Ww)):Qx._CE&&Xx.test(e)?Qx._CE("",e):n}(e))||t},nk=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return Dw(e,function(e){for(var t in Qx[e]=fw[e]=o,Qx[i=e.toLowerCase()]=n,o)Qx[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Qx[e+"."+t]=o[t]}),o},rk=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},ik=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/Wb*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*Gb((e-s)*o)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:rk(a);return o=Wb/o,l.config=function(n,r){return e(t,n,r)},l},ok=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:rk(r);return i.config=function(n){return e(t,n)},i};Dw("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;nk(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),Qx.Linear.easeNone=Qx.none=Qx.Linear.easeIn,nk("Elastic",ik("in"),ik("out"),ik()),function(e,t){var n=1/t,r=2*n,i=2.5*n,o=function(o){return o<n?e*o*o:o<r?e*Math.pow(o-1.5/t,2)+.75:o<i?e*(o-=2.25/t)*o+.9375:e*Math.pow(o-2.625/t,2)+.984375};nk("Bounce",function(e){return 1-o(1-e)},o)}(7.5625,2.75),nk("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),nk("Circ",function(e){return-(Hb(1-e*e)-1)}),nk("Sine",function(e){return 1===e?1:1-Yb(e*Bb)}),nk("Back",ok("in"),ok("out"),ok()),Qx.SteppedEase=Qx.steps=fw.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*yx(0,.99999999,e)|0)+i)*n}}},Ub.ease=Qx["quad.out"],Dw("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Pw+=e+","+e+"Params,"});var sk=function(e,t){this.id=qb++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Rw,this.set=t?t.getSetter:Ek},ak=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,hx(this,+e.duration,1,1),this.data=e.data,Ib&&(this._ctx=Ib,Ib.data.push(this)),jb||Gx.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,hx(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Kx(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(ox(this,e),!n._dp||n.parent||sx(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&ax(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Vb||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Vw(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+tx(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+tx(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?nx(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?rx(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(yx(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),ix(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Kx(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Vb&&(this._tTime-=Vb)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=Lw(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&ax(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+(Zb(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?rx(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=xw);var t=Nb;return Nb=e,zw(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Nb=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,fx(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,fx(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(mx(this,e),Zb(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,Zb(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-Vb))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=Qb(e)?e:Bw,o=function(){var e=t.then;t.then=null,n&&n(),Qb(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?o():t._prom=o})},t.kill=function(){Mx(this)},e}();qw(ak.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var lk=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=Zb(t.sortChildren),Pb&&ax(t.parent||Pb,Sb(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&lx(Sb(r),t.scrollTrigger),r}Cb(t,e);var n=t.prototype;return n.to=function(e,t,n){return gx(0,arguments,this),this},n.from=function(e,t,n){return gx(1,arguments,this),this},n.fromTo=function(e,t,n,r){return gx(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Kw(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new _k(e,t,mx(this,n),1),this},n.call=function(e,t,n){return ax(this,_k.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,o,s){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new _k(e,n,mx(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,s){return n.runBackwards=1,Kw(n).immediateRender=Zb(n.immediateRender),this.staggerTo(e,t,n,r,i,o,s)},n.staggerFromTo=function(e,t,n,r,i,o,s,a){return r.startAt=n,Kw(r).immediateRender=Zb(r.immediateRender),this.staggerTo(e,t,r,i,o,s,a)},n.render=function(e,t,n){var r,i,o,s,a,l,c,u,d,h,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:Lw(e),_=this._zTime<0!==e<0&&(this._initted||!v);if(this!==Pb&&y>g&&e>=0&&(y=g),y!==this._tTime||n||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,d=this._start,l=!(u=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=Lw(y%a),y===g?(s=this._repeat,r=v):((s=~~(h=Lw(y/a)))&&s===h&&(r=v,s--),r>v&&(r=v)),h=nx(this._tTime,a),!m&&this._tTime&&h!==s&&this._tTime-h*a-this._dur<=0&&(h=s),f&&1&s&&(r=v-r,p=1),s!==h&&!this._lock){var b=f&&1&h,w=b===(f&&1&s);if(s<h&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Lw(s*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&Dx(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,h=s),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,w&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ek(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Lw(m),Lw(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!h&&(Dx(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var x=e<0?e:r;i;){if(o=i._prev,(i._act||x<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,n||Nb&&zw(i)),r!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=x?-1e-8:Vb);break}}i=o}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=d,ix(this),this.render(e,t,n);this._onUpdate&&!t&&Dx(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&$w(this,1),t||e<0&&!m||!y&&!m&&g||(Dx(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(Xb(t)||(t=mx(this,t,e)),!(e instanceof ak)){if(rw(e))return e.forEach(function(e){return n.add(e,t)}),this;if(Kb(e))return this.addLabel(e,t);if(!Qb(e))return this;e=_k.delayedCall(0,e)}return this!==e?ax(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-zb);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof _k?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return Kb(e)?this.removeLabel(e):Qb(e)?this.killTweensOf(e):(e.parent===this&&Xw(this,e),e===this._recent&&(this._recent=this._last),Jw(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lw(Gx.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=mx(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=_k.delayedCall(0,t||_w,n);return r.data="isPause",this._hasPause=1,ax(this,r,mx(this,e))},n.removePause=function(e){var t=this._first;for(e=mx(this,e);t;)t._start===e&&"isPause"===t.data&&$w(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)ck!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=kx(e),o=this._first,s=Xb(t);o;)o instanceof _k?Fw(o._targets,i)&&(s?(!ck||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=mx(r,e),o=t,s=o.startAt,a=o.onStart,l=o.onStartParams,c=o.immediateRender,u=_k.to(r,qw({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||Vb,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==e&&hx(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,qw({startAt:{time:mx(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),Rx(this,mx(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),Rx(this,mx(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Vb)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,o=this.labels;for(e=Lw(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return Jw(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Jw(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,s=o._last,a=zb;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,ax(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=Lw(n/o._ts),o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=t;hx(o,o===Pb&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(Pb._ts&&(Vw(Pb,rx(e,Pb)),Mb=Gx.frame),Gx.frame>=Nw){Nw+=Fb.autoSleep||120;var t=Pb._first;if((!t||!t._ts)&&Fb.autoSleep&&Gx._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Gx.sleep()}}},t}(ak);qw(lk.prototype,{_lock:0,_hasPause:0,_forcing:0});var ck,uk,dk=function(e,t,n,r,i,o,s){var a,l,c,u,d,h,f,p,m=new Rk(this._pt,e,t,0,1,Tk,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=Ox(r)),o&&(o(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(cw)||[];a=cw.exec(r);)u=a[0],d=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[v++]&&(h=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:h,c:"="===u.charAt(1)?jw(h,u)-h:parseFloat(u)-h,m:c&&c<4?Math.round:0},g=cw.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(uw.test(r)||f)&&(m.e=0),this._pt=m,m},hk=function(e,t,n,r,i,o,s,a,l,c){Qb(r)&&(r=r(i||0,e,o));var u,d=e[t],h="get"!==n?n:Qb(d)?l?e[t.indexOf("set")||!Qb(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,f=Qb(d)?l?xk:wk:bk;if(Kb(r)&&(~r.indexOf("random(")&&(r=Ox(r)),"="===r.charAt(1)&&((u=jw(h,r)+(_x(h)||0))||0===u)&&(r=u)),!c||h!==r||uk)return isNaN(h*r)||""===r?(!d&&!(t in e)&&gw(t,r),dk.call(this,e,t,h,r,f,a||Fb.stringFilter,l)):(u=new Rk(this._pt,e,t,+h||0,r-(h||0),"boolean"===typeof d?Ck:Sk,0,f),l&&(u.fp=l),s&&u.modifier(s,this,e),this._pt=u)},fk=function(e,t,n,r,i,o){var s,a,l,c;if(Cw[e]&&!1!==(s=new Cw[e]).init(i,s.rawVars?t[e]:function(e,t,n,r,i){if(Qb(e)&&(e=gk(e,i,t,n,r)),!Jb(e)||e.style&&e.nodeType||rw(e)||nw(e))return Kb(e)?gk(e,i,t,n,r):e;var o,s={};for(o in e)s[o]=gk(e[o],i,t,n,r);return s}(t[e],r,i,o,n),n,r,o)&&(n._pt=a=new Rk(n._pt,i,e,0,1,s.render,s,0,s.priority),n!==Lb))for(l=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;c--;)l[s._props[c]]=a;return s},pk=function e(t,n,r){var i,o,s,a,l,c,u,d,h,f,p,m,g,v=t.vars,y=v.ease,_=v.startAt,b=v.immediateRender,w=v.lazy,x=v.onUpdate,k=v.runBackwards,E=v.yoyoEase,S=v.keyframes,C=v.autoRevert,T=t._dur,N=t._startAt,I=t._targets,P=t.parent,O=P&&"nested"===P.data?P.vars.targets:I,A="auto"===t._overwrite&&!Tb,R=t.timeline;if(R&&(!S||!y)&&(y="none"),t._ease=tk(y,Ub.ease),t._yEase=E?Zx(tk(!0===E?y:E,Ub.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!R&&!!v.runBackwards,!R||S&&!v.stagger){if(m=(d=I[0]?Aw(I[0]).harness:0)&&v[d.prop],i=Gw(v,kw),N&&(N._zTime<0&&N.progress(1),n<0&&k&&b&&!C?N.render(-1,!0):N.revert(k&&T?ww:bw),N._lazy=0),_){if($w(t._startAt=_k.set(I,qw({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!N&&Zb(w),startAt:null,delay:0,onUpdate:x&&function(){return Dx(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Nb||!b&&!C)&&t._startAt.revert(ww),b&&T&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(k&&T&&!N)if(n&&(b=!1),s=qw({overwrite:!1,data:"isFromStart",lazy:b&&!N&&Zb(w),immediateRender:b,stagger:0,parent:P},i),m&&(s[d.prop]=m),$w(t._startAt=_k.set(I,s)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Nb?t._startAt.revert(ww):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,Vb,Vb);for(t._pt=t._ptCache=0,w=T&&Zb(w)||w&&!T,o=0;o<I.length;o++){if(u=(l=I[o])._gsap||Ow(I)[o]._gsap,t._ptLookup[o]=f={},Sw[u.id]&&Ew.length&&Uw(),p=O===I?o:O.indexOf(l),d&&!1!==(h=new d).init(l,m||i,t,p,O)&&(t._pt=a=new Rk(t._pt,l,h.name,0,1,h.render,h,0,h.priority),h._props.forEach(function(e){f[e]=a}),h.priority&&(c=1)),!d||m)for(s in i)Cw[s]&&(h=fk(s,i,t,p,l,O))?h.priority&&(c=1):f[s]=a=hk.call(t,l,s,"get",i[s],p,O,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),A&&t._pt&&(ck=t,Pb.killTweensOf(l,f,t.globalTime(n)),g=!t.parent,ck=0),t._pt&&w&&(Sw[u.id]=1)}c&&Ak(t),t._onInit&&t._onInit(t)}t._onUpdate=x,t._initted=(!t._op||t._pt)&&!g,S&&n<=0&&R.render(zb,!0,!0)},mk=function(e,t,n,r){var i,o,s=t.ease||r||"power1.inOut";if(rw(t))o=n[e]||(n[e]=[]),t.forEach(function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:s})});else for(i in t)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:s})},gk=function(e,t,n,r,i){return Qb(e)?e.call(t,n,r,i):Kb(e)&&~e.indexOf("random(")?Ox(e):e},vk=Pw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yk={};Dw(vk+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return yk[e]=1});var _k=function(e){function t(t,n,r,i){var o;"number"===typeof n&&(r.duration=n,n=r,r=null);var s,a,l,c,u,d,h,f,p=(o=e.call(this,i?n:Kw(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,w=p.defaults,x=p.scrollTrigger,k=p.yoyoEase,E=n.parent||Pb,S=(rw(t)||nw(t)?Xb(t[0]):"length"in n)?[t]:kx(t);if(o._targets=S.length?Ow(S):vw("GSAP target "+t+" not found. https://gsap.com",!Fb.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,b||y||tw(m)||tw(g)){if(n=o.vars,(s=o.timeline=new lk({data:"nested",defaults:w||{},targets:E&&"nested"===E.data?E.vars.targets:S})).kill(),s.parent=s._dp=Sb(o),s._start=0,y||tw(m)||tw(g)){if(c=S.length,h=y&&Cx(y),Jb(y))for(u in y)~vk.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(a=0;a<c;a++)(l=Gw(n,yk)).stagger=0,k&&(l.yoyoEase=k),f&&Hw(l,f),d=S[a],l.duration=+gk(m,Sb(o),a,d,S),l.delay=(+gk(g,Sb(o),a,d,S)||0)-o._delay,!y&&1===c&&l.delay&&(o._delay=g=l.delay,o._start+=g,l.delay=0),s.to(d,l,h?h(a,d,S):0),s._ease=Qx.none;s.duration()?m=g=0:o.timeline=0}else if(b){Kw(qw(s.vars.defaults,{ease:"none"})),s._ease=tk(b.ease||n.ease||"none");var C,T,N,I=0;if(rw(b))b.forEach(function(e){return s.to(S,e,">")}),s.duration();else{for(u in l={},b)"ease"===u||"easeEach"===u||mk(u,b[u],l,b.easeEach);for(u in l)for(C=l[u].sort(function(e,t){return e.t-t.t}),I=0,a=0;a<C.length;a++)(N={ease:(T=C[a]).e,duration:(T.t-(a?C[a-1].t:0))/100*m})[u]=T.v,s.to(S,N,I),I+=N.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==_||Tb||(ck=Sb(o),Pb.killTweensOf(S),ck=0),ax(E,Sb(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(v||!m&&!b&&o._start===Lw(E._time)&&Zb(v)&&ex(Sb(o))&&"nested"!==E.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),x&&lx(Sb(o),x),o}Cb(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,s,a,l,c,u,d,h=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-Vb&&!m?f:e<Vb?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,n);if(r=Lw(g%s),g===f?(o=this._repeat,r=p):(o=~~(a=Lw(g/s)))&&o===a?(r=p,o--):r>p&&(r=p),(l=this._yoyo&&1&o)&&(d=this._yEase,r=p-r),a=nx(this._tTime,s),r===h&&!n&&this._initted&&o===a)return this._tTime=g,this;o!==a&&(u&&this._yEase&&ek(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==s&&this._initted&&(this._lock=n=1,this.render(Lw(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(cx(this,m?e:r,n,t,g))return this._tTime=0,this;if(h!==this._time&&(!n||!this.vars.repeatRefresh||o===a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!h&&g&&!t&&!a&&(Dx(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Zw(this,e,0,n),Dx(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&Dx(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Zw(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&$w(this,1),t||m&&!h||!(g||h||l)||(Dx(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,s,a=e.ratio,l=t<0||!t&&(!e._start&&ux(e)&&(e._initted||!dx(e))||(e._ts<0||e._dp._ts<0)&&!dx(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=yx(0,e._tDur,t),o=nx(u,c),e._yoyo&&1&o&&(l=1-l),o!==nx(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||Nb||r||e._zTime===Vb||!t&&e._zTime){if(!e._initted&&cx(e,t,r,n,u))return;for(s=e._zTime,e._zTime=t||(n?Vb:0),n||(n=t&&!s),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&Zw(e,t,0,!0),e._onUpdate&&!n&&Dx(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&Dx(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&$w(e,1),n||Nb||(Dx(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){jb||Gx.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||pk(this,o),function(e,t,n,r,i,o,s,a){var l,c,u,d,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],u=e._ptLookup,d=e._targets.length;d--;){if((l=u[d][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return uk=1,e.vars[t]="+=0",pk(e,s),uk=0,a?vw(t+" not eligible for reset"):1;h.push(l)}for(d=h.length;d--;)(l=(c=h[d])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+o*l.c:r,l.c=n-l.s,c.e&&(c.e=Mw(n)+_x(c.e)),c.b&&(c.b=l.s+_x(c.b))}(this,e,t,n,r,this._ease(o/this._dur),o,i)?this.resetTo(e,t,n,r,1):(ox(this,0),this.parent||Qw(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?Mx(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Nb),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,ck&&!0!==ck.vars.overwrite)._first||Mx(this),this.parent&&n!==this.timeline.totalDuration()&&hx(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,l,c,u=this._targets,d=e?kx(e):u,h=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,d))return"all"===t&&(this._pt=0),Mx(this);for(r=this._op=this._op||[],"all"!==t&&(Kb(t)&&(a={},Dw(t,function(e){return a[e]=1}),t=a),t=function(e,t){var n,r,i,o,s=e[0]?Aw(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(r in n=Hw({},t),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~d.indexOf(u[c]))for(a in i=h[c],"all"===t?(r[c]=t,s=i,o={}):(o=r[c]=r[c]||{},s=t),s)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Xw(this,l,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&f&&Mx(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return gx(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return gx(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return Pb.killTweensOf(e,t,n)},t}(ak);qw(_k.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Dw("staggerTo,staggerFrom,staggerFromTo",function(e){_k[e]=function(){var t=new lk,n=bx.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var bk=function(e,t,n){return e[t]=n},wk=function(e,t,n){return e[t](n)},xk=function(e,t,n,r){return e[t](r.fp,n)},kk=function(e,t,n){return e.setAttribute(t,n)},Ek=function(e,t){return Qb(e[t])?wk:$b(e[t])&&e.setAttribute?kk:bk},Sk=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Ck=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Tk=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Nk=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Ik=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},Pk=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Xw(this,r,"_pt"):r.dep||(t=1),r=n;return!t},Ok=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Ak=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},Rk=function(){function e(e,t,n,r,i,o,s,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||Sk,this.d=s||this,this.set=a||bk,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Ok,this.m=e,this.mt=n,this.tween=t},e}();Dw(Pw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return kw[e]=1}),fw.TweenMax=fw.TweenLite=_k,fw.TimelineLite=fw.TimelineMax=lk,Pb=new lk({sortChildren:!1,defaults:Ub,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Fb.stringFilter=Yx;var Dk=[],Mk={},Lk=[],jk=0,Fk=0,Uk=function(e){return(Mk[e]||Lk).map(function(e){return e()})},zk=function(){var e=Date.now(),t=[];e-jk>2&&(Uk("matchMediaInit"),Dk.forEach(function(e){var n,r,i,o,s=e.queries,a=e.conditions;for(r in s)(n=Ob.matchMedia(s[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,o=1);o&&(e.revert(),i&&t.push(e))}),Uk("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),jk=e,Uk("matchMedia"))},Vk=function(){function e(e,t){this.selector=t&&Ex(t),this.data=[],this._r=[],this.isReverted=!1,this.id=Fk++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){Qb(e)&&(n=t,t=e,e=Qb);var r=this,i=function(){var e,i=Ib,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=Ex(n)),Ib=r,e=t.apply(r,arguments),Qb(e)&&r._r.push(e),Ib=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===Qb?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=Ib;Ib=null,e(this),Ib=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof _k&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof lk?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof _k)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=Dk.length;r--;)Dk[r].id===this.id&&Dk.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),Wk=function(){function e(e){this.contexts=[],this.scope=e,Ib&&Ib.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){Jb(e)||(e={matches:e});var r,i,o,s=new Vk(0,n||this.scope),a=s.conditions={};for(i in Ib&&!s.selector&&(s.selector=Ib.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?o=1:(r=Ob.matchMedia(e[i]))&&(Dk.indexOf(s)<0&&Dk.push(s),(a[i]=r.matches)&&(o=1),r.addListener?r.addListener(zk):r.addEventListener("change",zk));return o&&t(s,function(e){return s.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),Bk={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return jx(e)})},timeline:function(e){return new lk(e)},getTweensOf:function(e,t){return Pb.getTweensOf(e,t)},getProperty:function(e,t,n,r){Kb(e)&&(e=kx(e)[0]);var i=Aw(e||{}).get,o=n?Bw:Ww;return"native"===n&&(n=""),e?t?o((Cw[t]&&Cw[t].get||i)(e,t,n,r)):function(t,n,r){return o((Cw[t]&&Cw[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=kx(e)).length>1){var r=e.map(function(e){return Yk.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=Cw[t],s=Aw(e),a=s.harness&&(s.harness.aliases||{})[t]||t,l=o?function(t){var r=new o;Lb._pt=0,r.init(e,n?t+n:t,Lb,0,[e]),r.render(1,r),Lb._pt&&Nk(1,Lb)}:s.set(e,a);return o?l:function(t){return l(e,a,n?t+n:t,s,1)}},quickTo:function(e,t,n){var r,i=Yk.to(e,qw(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),o=function(e,n,r){return i.resetTo(t,e,n,r)};return o.tween=i,o},isTweening:function(e){return Pb.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=tk(e.ease,Ub.ease)),Yw(Ub,e||{})},config:function(e){return Yw(Fb,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!Cw[e]&&!fw[e]&&vw(t+" effect requires "+e+" plugin.")}),Tw[t]=function(e,t,r){return n(kx(e),qw(t||{},i),r)},o&&(lk.prototype[t]=function(e,n,r){return this.add(Tw[t](e,Jb(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Qx[e]=tk(t)},parseEase:function(e,t){return arguments.length?tk(e,t):Qx},getById:function(e){return Pb.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new lk(e);for(i.smoothChildTiming=Zb(e.smoothChildTiming),Pb.remove(i),i._dp=0,i._time=i._tTime=Pb._time,n=Pb._first;n;)r=n._next,!t&&!n._dur&&n instanceof _k&&n.vars.onComplete===n._targets[0]||ax(i,n,n._start-n._delay),n=r;return ax(Pb,i,0),i},context:function(e,t){return e?new Vk(e,t):Ib},matchMedia:function(e){return new Wk(e)},matchMediaRefresh:function(){return Dk.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||zk()},addEventListener:function(e,t){var n=Mk[e]||(Mk[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Mk[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return rw(t)?Px(t,e(0,t.length),n):vx(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return rw(t)?Px(t,e(0,t.length-1),n):vx(r,function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)})},distribute:Cx,random:Ix,snap:Nx,normalize:function(e,t,n){return Ax(e,t,0,1,n)},getUnit:_x,clamp:function(e,t,n){return vx(n,function(n){return yx(e,t,n)})},splitColor:Vx,toArray:kx,selector:Ex,mapRange:Ax,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||_x(n))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,a,l,c,u,d=Kb(t),h={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(rw(t)&&!rw(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,o=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Hw(rw(t)?[]:{},t));if(!l){for(s in n)hk.call(h,t,s,"get",n[s]);o=function(e){return Nk(e,h)||(d?t.p:t)}}}return vx(r,o)},shuffle:Sx},install:mw,effects:Tw,ticker:Gx,updateRoot:lk.updateRoot,plugins:Cw,globalTimeline:Pb,core:{PropTween:Rk,globals:yw,Tween:_k,Timeline:lk,Animation:ak,getCache:Aw,_removeLinkedListItem:Xw,reverting:function(){return Nb},context:function(e){return e&&Ib&&(Ib.data.push(e),e._ctx=Ib),Ib},suppressOverwrites:function(e){return Tb=e}}};Dw("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Bk[e]=_k[e]}),Gx.add(lk.updateRoot),Lb=Bk.to({},{duration:0});var qk=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Hk=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(Kb(n)&&(r={},Dw(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=qk(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},Yk=Bk.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,s,a;for(o in this.tween=n,t)a=e.getAttribute(o)||"",(s=this.add(e,"setAttribute",(a||0)+"",t[o],r,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)Nb?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Hk("roundProps",Tx),Hk("modifiers"),Hk("snap",Nx))||Bk;_k.version=lk.version=Yk.version="3.14.2",Db=1,ew()&&Kx();Qx.Power0,Qx.Power1,Qx.Power2,Qx.Power3,Qx.Power4,Qx.Linear,Qx.Quad,Qx.Cubic,Qx.Quart,Qx.Quint,Qx.Strong,Qx.Elastic,Qx.Back,Qx.SteppedEase,Qx.Bounce,Qx.Sine,Qx.Expo,Qx.Circ;var Gk,Kk,Qk,Xk,$k,Jk,Zk,eE,tE={},nE=180/Math.PI,rE=Math.PI/180,iE=Math.atan2,oE=/([A-Z])/g,sE=/(left|right|width|margin|padding|x)/i,aE=/[\s,\(]\S/,lE={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},cE=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},uE=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},dE=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},hE=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},fE=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},pE=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},mE=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},gE=function(e,t,n){return e.style[t]=n},vE=function(e,t,n){return e.style.setProperty(t,n)},yE=function(e,t,n){return e._gsap[t]=n},_E=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},bE=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},wE=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},xE="transform",kE=xE+"Origin",EE=function e(t,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(t in tE&&o){if(this.tfm=this.tfm||{},"transform"===t)return lE.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=lE[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=WE(i,e)}):this.tfm[t]=s.x?s[t]:WE(i,t),t===kE&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(xE)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(kE,n,"")),t=xE}(o||n)&&this.props.push(t,n,o[t])},SE=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},CE=function(){var e,t,n=this.props,r=this.target,i=r.style,o=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(oE,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Zk())&&e.isStart||i[xE]||(SE(i),o.zOrigin&&i[kE]&&(i[kE]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},TE=function(e,t){var n={target:e,props:[],revert:CE,save:EE};return e._gsap||Yk.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},NE=function(e,t){var n=Kk.createElementNS?Kk.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Kk.createElement(e);return n&&n.style?n:Kk.createElement(e)},IE=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(oE,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,OE(n)||n,1)||""},PE="O,Moz,ms,Ms,Webkit".split(","),OE=function(e,t,n){var r=(t||$k).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(PE[i]+e in r););return i<0?null:(3===i?"ms":i>=0?PE[i]:"")+e},AE=function(){"undefined"!==typeof window&&window.document&&(Gk=window,Kk=Gk.document,Qk=Kk.documentElement,$k=NE("div")||{style:{}},NE("div"),xE=OE(xE),kE=xE+"Origin",$k.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",eE=!!OE("perspective"),Zk=Yk.core.reverting,Xk=1)},RE=function(e){var t,n=e.ownerSVGElement,r=NE("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),Qk.appendChild(r);try{t=i.getBBox()}catch(eM){}return r.removeChild(i),Qk.removeChild(r),t},DE=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ME=function(e){var t,n;try{t=e.getBBox()}catch(la){t=RE(e),n=1}return t&&(t.width||t.height)||n||(t=RE(e)),!t||t.width||t.x||t.y?t:{x:+DE(e,["x","cx","x1"])||0,y:+DE(e,["y","cy","y1"])||0,width:0,height:0}},LE=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!ME(e))},jE=function(e,t){if(t){var n,r=e.style;t in tE&&t!==kE&&(t=xE),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(oE,"-$1").toLowerCase())):r.removeAttribute(t)}},FE=function(e,t,n,r,i,o){var s=new Rk(e._pt,t,n,0,1,o?mE:pE);return e._pt=s,s.b=r,s.e=i,e._props.push(n),s},UE={deg:1,rad:1,turn:1},zE={grid:1,flex:1},VE=function e(t,n,r,i){var o,s,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",d=$k.style,h=sE.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||UE[i]||UE[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&LE(t),(v||"%"===u)&&(tE[n]||~n.indexOf("adius")))return o=l?t.getBBox()[h?"width":"height"]:t[p],Mw(v?c/o*m:c/100*o);if(d[h?"width":"height"]=m+(g?u:i),s="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==Kk&&s.appendChild||(s=Kk.body),(a=s._gsap)&&v&&a.width&&h&&a.time===Gx.time&&!a.uncache)return Mw(c/a.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!zE[IE(s,"display")]&&(d.position=IE(t,"position")),s===t&&(d.position="static"),s.appendChild($k),o=$k[p],s.removeChild($k),d.position="absolute";else{var y=t.style[n];t.style[n]=m+i,o=t[p],y?t.style[n]=y:jE(t,n)}return h&&v&&((a=Aw(s)).time=Gx.time,a.width=s[p]),Mw(g?o*c/m:o&&c?m/o*c:0)},WE=function(e,t,n,r){var i;return Xk||AE(),t in lE&&"transform"!==t&&~(t=lE[t]).indexOf(",")&&(t=t.split(",")[0]),tE[t]&&"transform"!==t?(i=eS(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:tS(IE(e,kE))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=GE[t]&&GE[t](e,t,n)||IE(e,t)||Rw(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?VE(e,t,i,n)+n:i},BE=function(e,t,n,r){if(!n||"none"===n){var i=OE(t,e,1),o=i&&IE(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=IE(e,"borderTopColor"))}var s,a,l,c,u,d,h,f,p,m,g,v=new Rk(this._pt,e.style,t,0,1,Tk),y=0,_=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=IE(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(d=e.style[t],e.style[t]=r,r=IE(e,t)||r,d?e.style[t]=d:jE(e,t)),Yx(s=[n,r]),r=s[1],l=(n=s[0]).match(lw)||[],(r.match(lw)||[]).length){for(;a=lw.exec(r);)h=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),h!==(d=l[_++]||"")&&(c=parseFloat(d)||0,g=d.substr((c+"").length),"="===h.charAt(1)&&(h=jw(c,h)+g),f=parseFloat(h),m=h.substr((f+"").length),y=lw.lastIndex-m.length,m||(m=m||Fb.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=VE(e,t,d,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?mE:pE;return uw.test(r)&&(v.e=0),this._pt=v,v},qE={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},HE=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=qE[n]||n,t[1]=qE[r]||r,t.join(" ")},YE=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,s=o.style,a=t.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],tE[n]&&(r=1,n="transformOrigin"===n?kE:xE),jE(o,n);r&&(jE(o,xE),l&&(l.svg&&o.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",eS(o,1),l.uncache=1,SE(s)))}},GE={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new Rk(e._pt,t,n,0,0,YE);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},KE=[1,0,0,1,0,0],QE={},XE=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},$E=function(e){var t=IE(e,xE);return XE(t)?KE:t.substr(7).match(aw).map(Mw)},JE=function(e,t){var n,r,i,o,s=e._gsap||Aw(e),a=e.style,l=$E(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?KE:l:(l!==KE||e.offsetParent||e===Qk||s.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(o=1,r=e.nextElementSibling,Qk.appendChild(e)),l=$E(e),i?a.display=i:jE(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):Qk.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ZE=function(e,t,n,r,i,o){var s,a,l,c=e._gsap,u=i||JE(e,!0),d=c.xOrigin||0,h=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],_=u[4],b=u[5],w=t.split(" "),x=parseFloat(w[0])||0,k=parseFloat(w[1])||0;n?u!==KE&&(a=m*y-g*v)&&(l=x*(-g/a)+k*(m/a)-(m*b-g*_)/a,x=x*(y/a)+k*(-v/a)+(v*b-y*_)/a,k=l):(x=(s=ME(e)).x+(~w[0].indexOf("%")?x/100*s.width:x),k=s.y+(~(w[1]||w[0]).indexOf("%")?k/100*s.height:k)),r||!1!==r&&c.smooth?(_=x-d,b=k-h,c.xOffset=f+(_*m+b*v)-_,c.yOffset=p+(_*g+b*y)-b):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=k,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[kE]="0px 0px",o&&(FE(o,c,"xOrigin",d,x),FE(o,c,"yOrigin",h,k),FE(o,c,"xOffset",f,c.xOffset),FE(o,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",x+" "+k)},eS=function(e,t){var n=e._gsap||new sk(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,_,b,w,x,k,E,S,C,T,N,I,P,O,A,R,D,M=e.style,L=n.scaleX<0,j="px",F="deg",U=getComputedStyle(e),z=IE(e,kE)||"0";return r=i=o=l=c=u=d=h=f=0,s=a=1,n.svg=!(!e.getCTM||!LE(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(M[xE]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[xE]?U[xE]:"")),M.scale=M.rotate=M.translate="none"),g=JE(e,n.svg),n.svg&&(n.uncache?(T=e.getBBox(),z=n.xOrigin-T.x+"px "+(n.yOrigin-T.y)+"px",C=""):C=!t&&e.getAttribute("data-svg-origin"),ZE(e,C||z,!!C||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==KE&&(b=g[0],w=g[1],x=g[2],k=g[3],r=E=g[4],i=S=g[5],6===g.length?(s=Math.sqrt(b*b+w*w),a=Math.sqrt(k*k+x*x),l=b||w?iE(w,b)*nE:0,(d=x||k?iE(x,k)*nE+l:0)&&(a*=Math.abs(Math.cos(d*rE))),n.svg&&(r-=p-(p*b+m*x),i-=m-(p*w+m*k))):(D=g[6],A=g[7],I=g[8],P=g[9],O=g[10],R=g[11],r=g[12],i=g[13],o=g[14],c=(v=iE(D,O))*nE,v&&(C=E*(y=Math.cos(-v))+I*(_=Math.sin(-v)),T=S*y+P*_,N=D*y+O*_,I=E*-_+I*y,P=S*-_+P*y,O=D*-_+O*y,R=A*-_+R*y,E=C,S=T,D=N),u=(v=iE(-x,O))*nE,v&&(y=Math.cos(-v),R=k*(_=Math.sin(-v))+R*y,b=C=b*y-I*_,w=T=w*y-P*_,x=N=x*y-O*_),l=(v=iE(w,b))*nE,v&&(C=b*(y=Math.cos(v))+w*(_=Math.sin(v)),T=E*y+S*_,w=w*y-b*_,S=S*y-E*_,b=C,E=T),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),s=Mw(Math.sqrt(b*b+w*w+x*x)),a=Mw(Math.sqrt(S*S+D*D)),v=iE(E,S),d=Math.abs(v)>2e-4?v*nE:0,f=R?1/(R<0?-R:R):0),n.svg&&(C=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!XE(IE(e,xE)),C&&e.setAttribute("transform",C))),Math.abs(d)>90&&Math.abs(d)<270&&(L?(s*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+j,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+j,n.z=o+j,n.scaleX=Mw(s),n.scaleY=Mw(a),n.rotation=Mw(l)+F,n.rotationX=Mw(c)+F,n.rotationY=Mw(u)+F,n.skewX=d+F,n.skewY=h+F,n.transformPerspective=f+j,(n.zOrigin=parseFloat(z.split(" ")[2])||!t&&n.zOrigin||0)&&(M[kE]=tS(z)),n.xOffset=n.yOffset=0,n.force3D=Fb.force3D,n.renderTransform=n.svg?lS:eE?aS:rS,n.uncache=0,n},tS=function(e){return(e=e.split(" "))[0]+" "+e[1]},nS=function(e,t,n){var r=_x(t);return Mw(parseFloat(t)+parseFloat(VE(e,"x",n+"px",r)))+r},rS=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,aS(e,t)},iS="0deg",oS="0px",sS=") ",aS=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,d=n.skewX,h=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",b="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==iS||c!==iS)){var w,x=parseFloat(c)*rE,k=Math.sin(x),E=Math.cos(x);x=parseFloat(u)*rE,w=Math.cos(x),o=nS(v,o,k*w*-y),s=nS(v,s,-Math.sin(x)*-y),a=nS(v,a,E*w*-y+y)}m!==oS&&(_+="perspective("+m+sS),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(b||o!==oS||s!==oS||a!==oS)&&(_+=a!==oS||b?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+sS),l!==iS&&(_+="rotate("+l+sS),c!==iS&&(_+="rotateY("+c+sS),u!==iS&&(_+="rotateX("+u+sS),d===iS&&h===iS||(_+="skew("+d+", "+h+sS),1===f&&1===p||(_+="scale("+f+", "+p+sS),v.style[xE]=_||"translate(0, 0)"},lS=function(e,t){var n,r,i,o,s,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,d=a.y,h=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,b=a.xOffset,w=a.yOffset,x=a.forceCSS,k=parseFloat(u),E=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=rE,f*=rE,n=Math.cos(h)*m,r=Math.sin(h)*m,i=Math.sin(h-f)*-g,o=Math.cos(h-f)*g,f&&(p*=rE,s=Math.tan(f-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),n*=s=Math.sqrt(1+s*s),r*=s)),n=Mw(n),r=Mw(r),i=Mw(i),o=Mw(o)):(n=m,o=g,r=i=0),(k&&!~(u+"").indexOf("px")||E&&!~(d+"").indexOf("px"))&&(k=VE(v,"x",u,"px"),E=VE(v,"y",d,"px")),(y||_||b||w)&&(k=Mw(k+y-(y*n+_*i)+b),E=Mw(E+_-(y*r+_*o)+w)),(l||c)&&(s=v.getBBox(),k=Mw(k+l/100*s.width),E=Mw(E+c/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+k+","+E+")",v.setAttribute("transform",s),x&&(v.style[xE]=s)},cS=function(e,t,n,r,i){var o,s,a=360,l=Kb(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?nE:1)-r,u=r+c+"deg";return l&&("short"===(o=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===o&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===o&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=s=new Rk(e._pt,t,n,r,c,uE),s.e=u,s.u="deg",e._props.push(n),s},uS=function(e,t){for(var n in t)e[n]=t[n];return e},dS=function(e,t,n){var r,i,o,s,a,l,c,u=uS({},n._gsap),d=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),d[xE]=t,r=eS(n,1),jE(n,xE),n.setAttribute("transform",o)):(o=getComputedStyle(n)[xE],d[xE]=t,r=eS(n,1),d[xE]=o),tE)(o=u[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=_x(o)!==(c=_x(s))?VE(n,i,o,c):parseFloat(o),l=parseFloat(s),e._pt=new Rk(e._pt,r,i,a,l-a,cE),e._pt.u=c||0,e._props.push(i));uS(r,u)};Dw("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(n){return t<2?e+n:"border"+n+e});GE[t>1?"border"+e:e]=function(e,t,n,r,i){var o,a;if(arguments.length<4)return o=s.map(function(t){return WE(e,t,n)}),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach(function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]}),e.init(t,a,i)}});var hS={name:"css",register:AE,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,s,a,l,c,u,d,h,f,p,m,g,v,y,_,b,w,x=this._props,k=e.style,E=n.vars.startAt;for(d in Xk||AE(),this.styles=this.styles||TE(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(s=t[d],!Cw[d]||!fk(d,t,n,r,e,i)))if(c=typeof s,u=GE[d],"function"===c&&(c=typeof(s=s.call(n,r,e,i))),"string"===c&&~s.indexOf("random(")&&(s=Ox(s)),u)u(this,e,d,s,n)&&(_=1);else if("--"===d.substr(0,2))o=(getComputedStyle(e).getPropertyValue(d)+"").trim(),s+="",qx.lastIndex=0,qx.test(o)||(h=_x(o),(f=_x(s))?h!==f&&(o=VE(e,d,o,f)+f):h&&(s+=h)),this.add(k,"setProperty",o,s,r,i,0,0,d),x.push(d),b.push(d,0,k[d]);else if("undefined"!==c){if(E&&d in E?(o="function"===typeof E[d]?E[d].call(n,r,e,i):E[d],Kb(o)&&~o.indexOf("random(")&&(o=Ox(o)),_x(o+"")||"auto"===o||(o+=Fb.units[d]||_x(WE(e,d))||""),"="===(o+"").charAt(1)&&(o=WE(e,d))):o=WE(e,d),l=parseFloat(o),(p="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),d in lE&&("autoAlpha"===d&&(1===l&&"hidden"===WE(e,"visibility")&&a&&(l=0),b.push("visibility",0,k.visibility),FE(this,k,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=lE[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in tE){if(this.styles.save(d),w=s,"string"===c&&"var(--"===s.substring(0,6)){if("calc("===(s=IE(e,s.substring(4,s.indexOf(")")))).substring(0,5)){var S=e.style.perspective;e.style.perspective=s,s=IE(e,"perspective"),S?e.style.perspective=S:jE(e,"perspective")}a=parseFloat(s)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||eS(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new Rk(this._pt,k,xE,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new Rk(this._pt,v,"scaleY",v.scaleY,(p?jw(v.scaleY,p+a):a)-v.scaleY||0,cE),this._pt.u=0,x.push("scaleY",d),d+="X";else{if("transformOrigin"===d){b.push(kE,0,k[kE]),s=HE(s),v.svg?ZE(e,s,0,y,0,this):((f=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&FE(this,v,"zOrigin",v.zOrigin,f),FE(this,k,d,tS(o),tS(s)));continue}if("svgOrigin"===d){ZE(e,s,1,y,0,this);continue}if(d in QE){cS(this,v,d,l,p?jw(l,p+s):s);continue}if("smoothOrigin"===d){FE(this,v,"smooth",v.smooth,s);continue}if("force3D"===d){v[d]=s;continue}if("transform"===d){dS(this,s,e);continue}}}else d in k||(d=OE(d)||d);if(m||(a||0===a)&&(l||0===l)&&!aE.test(s)&&d in k)a||(a=0),(h=(o+"").substr((l+"").length))!==(f=_x(s)||(d in Fb.units?Fb.units[d]:h))&&(l=VE(e,d,o,f)),this._pt=new Rk(this._pt,m?v:k,d,l,(p?jw(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==d||!1===t.autoRound?cE:fE),this._pt.u=f||0,m&&w!==s?(this._pt.b=o,this._pt.e=w,this._pt.r=hE):h!==f&&"%"!==f&&(this._pt.b=o,this._pt.r=dE);else if(d in k)BE.call(this,e,d,o,p?p+s:s);else if(d in e)this.add(e,d,o||e[d],p?p+s:s,r,i);else if("parseTransform"!==d){gw(d,s);continue}m||(d in k?b.push(d,0,k[d]):"function"===typeof e[d]?b.push(d,2,e[d]()):b.push(d,1,o||e[d])),x.push(d)}_&&Ak(this)},render:function(e,t){if(t.tween._time||!Zk())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:WE,aliases:lE,getSetter:function(e,t,n){var r=lE[t];return r&&r.indexOf(",")<0&&(t=r),t in tE&&t!==kE&&(e._gsap.x||WE(e,"x"))?n&&Jk===n?"scale"===t?_E:yE:(Jk=n||{})&&("scale"===t?bE:wE):e.style&&!$b(e.style[t])?gE:~t.indexOf("-")?vE:Ek(e,t)},core:{_removeProperty:jE,_getMatrix:JE}};Yk.utils.checkPrefix=OE,Yk.core.getStyleSaver=TE,function(e,t){var n=Dw(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){tE[e]=1});Dw(t,function(e){Fb.units[e]="deg",QE[e]=1}),lE[n[13]]=e+","+t,Dw("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");lE[t[1]]=n[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Dw("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Fb.units[e]="px"}),Yk.registerPlugin(hS);var fS=Yk.registerPlugin(hS)||Yk;fS.core.Tween;const pS=e=>{const[t,n]=(0,o.useState)([]),[r,i]=(0,o.useState)(!0),[s,a]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!e)return void i(!1);i(!0),a(null);const t=kh(fh(bb,e),e=>{try{const t=e.val();if(t){const e=Object.keys(t).map(e=>{const n=t[e];let r=[];return Array.isArray(n.imageUrls)?r=n.imageUrls:n.imageUrl?r=[n.imageUrl]:"object"===typeof n.imageUrls&&null!==n.imageUrls&&(r=Object.values(n.imageUrls)),ze(ze({},n),{},{id:e,imageUrls:r,imageUrl:r[0]||n.imageUrl||""})});n(e.reverse())}else n([])}catch(t){a(t),console.error("Error processing data from RealtimeDB: ",t)}finally{i(!1)}},e=>{a(e),i(!1),console.error("Error fetching data from RealtimeDB: ",e)});return()=>t()},[e]),{docs:t,loading:r,error:s}};const mS=function(e,t){const[n,r]=(0,o.useState)(e);return(0,o.useEffect)(()=>{const n=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(n)}},[e,t]),n};var gS=n(414);const vS=()=>(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-on-surface-variant",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),yS=e=>{let{suit:t,onClick:n}=e;return(0,gS.jsxs)(Re,{to:"/suit/".concat(t.id),onClick:n,className:"flex items-center p-2 -mx-2 rounded-lg hover:bg-surface-container transition-colors duration-200",children:[(0,gS.jsx)("img",{src:t.imageUrl,alt:t.name||t.marca,className:"w-16 h-20 object-cover rounded-md"}),(0,gS.jsxs)("div",{className:"ml-4",children:[(0,gS.jsx)("h4",{className:"font-bold text-sm text-on-surface",children:t.name||t.marca}),(0,gS.jsx)("p",{className:"text-xs text-on-surface-variant",children:(t.eventType||t.tipoEvento||"").charAt(0).toUpperCase()+(t.eventType||t.tipoEvento||"").slice(1)}),(0,gS.jsxs)("p",{className:"text-xs text-on-surface-variant",children:["Talla: ",t.size||t.talla]}),(0,gS.jsxs)("p",{className:"text-sm font-semibold text-primary mt-1",children:[t.price,"\u20ac/d\xeda"]})]})]})},_S=e=>{let{isOpen:t,onClose:n}=e;const[r,i]=(0,o.useState)(""),s=mS(r,300),{docs:a,loading:l}=pS("trajes"),c=(0,o.useRef)(null),u=(0,o.useMemo)(()=>{if(!s)return[];const e=s.toLowerCase();return a.filter(t=>[t.name,t.marca,t.description,t.eventType,t.tipoEvento,t.color,t.colors,t.size,t.talla,t.condition,t.estilo].some(t=>t&&"string"===typeof t&&t.toLowerCase().includes(e)))},[s,a]);return(0,o.useEffect)(()=>{t&&setTimeout(()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()},100)},[t]),t?(0,gS.jsx)("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm animate-fade-in-fast",children:(0,gS.jsxs)("div",{className:"max-w-xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,gS.jsxs)("div",{className:"flex items-center space-x-2 py-4 border-b border-outline/20",children:[(0,gS.jsxs)("div",{className:"flex-1 relative",children:[(0,gS.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,gS.jsx)(vS,{})}),(0,gS.jsx)("input",{ref:c,type:"text",placeholder:"Busca tu traje ideal...",value:r,onChange:e=>i(e.target.value),className:"w-full bg-surface-container border-transparent rounded-full py-3 pl-11 pr-4 text-on-surface placeholder-on-surface-variant focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]}),(0,gS.jsx)("button",{onClick:n,className:"text-sm font-semibold text-primary hover:text-primary-dark transition-colors",children:"Cancelar"})]}),(0,gS.jsxs)("div",{className:"mt-4 overflow-auto",style:{height:"calc(100vh - 80px)"},children:[l&&r&&(0,gS.jsx)("p",{className:"text-center text-on-surface-variant py-8",children:"Buscando..."}),r.length>0&&!l&&0===u.length&&(0,gS.jsx)("p",{className:"text-center text-on-surface-variant py-8",children:'No se encontraron resultados para "'.concat(r,'".')}),u.length>0&&(0,gS.jsx)("div",{className:"flow-root",children:(0,gS.jsx)("div",{className:"-my-2 divide-y divide-outline/10",children:u.map(e=>(0,gS.jsx)(yS,{suit:e,onClick:n},e.id))})}),0===r.length&&!l&&(0,gS.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,gS.jsx)("span",{className:"material-icons text-5xl text-on-surface-variant/50",children:"search"}),(0,gS.jsx)("h2",{className:"text-xl font-semibold text-on-surface mt-4",children:"Encuentra tu traje perfecto"}),(0,gS.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Busca por nombre, marca, color, talla o tipo de evento."})]})]})]})}):null},bS=e=>{let{onClick:t}=e;return(0,gS.jsx)("button",{onClick:t,className:"p-2 rounded-full text-on-surface-variant hover:text-primary transition-colors","aria-label":"Buscar",children:(0,gS.jsx)("div",{children:(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})})},wS=()=>{const e=(0,o.useRef)(null),t=(0,o.useRef)(null);return(0,gS.jsx)(Re,{to:"/",className:"-m-1.5 p-1.5",onMouseEnter:()=>{fS.to(t.current,{scale:1.4,y:-2,rotate:-10,duration:.3,ease:"back.out(2)"}),fS.to(e.current,{scale:1.05,duration:.3,ease:"power2.out"})},onMouseLeave:()=>{fS.to(t.current,{scale:1,y:0,rotate:0,duration:.3,ease:"power2.inOut"}),fS.to(e.current,{scale:1,duration:.3,ease:"power2.inOut"})},children:(0,gS.jsxs)("h1",{ref:e,className:"text-2xl font-bold text-on-surface select-none",children:["Ready",(0,gS.jsx)("span",{ref:t,className:"text-primary inline-block",children:"2"}),"Wear"]})})},xS=e=>{let{to:t,iconName:n,ariaLabel:r,badgeCount:i}=e;const s=(0,o.useRef)(null),a=(0,o.useRef)(null);(0,o.useEffect)(()=>{i>0&&fS.fromTo(a.current,{scale:.5,opacity:0},{scale:1,opacity:1,duration:.3,ease:"back.out(1.7)"})},[i]);return(0,gS.jsxs)(Re,{to:t,className:"relative p-2 rounded-full text-on-surface-variant hover:text-primary transition-colors","aria-label":r,onMouseEnter:()=>{fS.to(s.current,{y:-5,duration:.2,ease:"power2.out"})},onMouseLeave:()=>{fS.to(s.current,{y:0,duration:.2,ease:"power2.in"})},children:[(0,gS.jsx)("span",{ref:s,className:"material-icons",children:n}),i>0&&(0,gS.jsx)("span",{ref:a,className:"absolute top-0 right-0 flex items-center justify-center h-4 w-4 rounded-full bg-red-500 text-white text-xs font-bold",children:i<10?i:"9+"})]})},kS=e=>{let{user:t}=e;const n=(0,o.useRef)(null);return(0,gS.jsx)(Re,{to:"/profile",onMouseEnter:()=>{fS.to(n.current,{scale:1.15,duration:.3,ease:"back.out(1.7)"})},onMouseLeave:()=>{fS.to(n.current,{scale:1,duration:.2,ease:"power2.out"})},children:(0,gS.jsx)("div",{ref:n,className:"h-9 w-9 rounded-full border-2 border-transparent hover:border-primary transition-all",children:t.photoURL?(0,gS.jsx)("img",{className:"h-full w-full rounded-full object-cover",src:t.photoURL,alt:"Ver perfil"}):(0,gS.jsx)("div",{className:"h-full w-full rounded-full flex items-center justify-center bg-primary text-on-primary font-bold text-sm",children:(e=>{if(!e)return"?";return e.split(" ").map(e=>e[0]).filter(Boolean).slice(0,2).join("").toUpperCase()||"?"})(t.displayName)})})})},ES=e=>{let{favoritesCount:t}=e;const{user:n}=kb(),r=Eb(null===n||void 0===n?void 0:n.uid),[i,s]=(0,o.useState)(!1);return(0,gS.jsxs)(gS.Fragment,{children:[(0,gS.jsx)("header",{className:"fixed top-0 left-0 w-full z-40 transition-all duration-300",children:(0,gS.jsxs)("nav",{className:"mx-auto flex max-w-7xl items-center justify-between p-4 md:px-6 lg:px-8 backdrop-blur-lg bg-surface/90 border-b border-outline/20",children:[(0,gS.jsx)("div",{className:"flex lg:flex-1",children:(0,gS.jsx)(wS,{})}),n&&(0,gS.jsxs)("div",{className:"flex items-center gap-x-2 sm:gap-x-3",children:[(0,gS.jsx)(bS,{onClick:()=>s(!0)}),(0,gS.jsx)(xS,{to:"/messages",iconName:"chat_bubble_outline",ariaLabel:"Mensajes",badgeCount:r}),(0,gS.jsx)(kS,{user:n})]})]})}),(0,gS.jsx)(_S,{isOpen:i,onClose:()=>s(!1)})]})},SS=()=>{const e=["/Aspiracional_un_hombre_1080p_202512241651.mp4","/Primer_plano_elegante_1080p_202512241650.mp4","/Visual_un_primer_1080p_202512241703.mp4"],t=[(0,o.useRef)(null),(0,o.useRef)(null),(0,o.useRef)(null)];return(0,o.useEffect)(()=>{const n=t.map(e=>e.current),r=t=>{const r=(t+1)%e.length;fS.to(n[t],{opacity:0,duration:1}),fS.fromTo(n[r],{opacity:0},{opacity:1,duration:1}),n[r]&&n[r].play()};return n.forEach((e,t)=>{e&&e.addEventListener("ended",()=>r(t))}),n.forEach((e,t)=>{e&&fS.to(e,{opacity:0===t?1:0,duration:0})}),n[0]&&n[0].play(),()=>{n.forEach((e,t)=>{e&&e.removeEventListener("ended",()=>r(t))})}},[t,e.length]),(0,gS.jsx)("div",{className:"absolute top-0 left-0 w-full h-full -z-10 overflow-hidden bg-black",children:e.map((e,n)=>(0,gS.jsx)("video",{ref:t[n],src:e,muted:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover opacity-0"},e))})},CS=()=>(0,gS.jsxs)("svg",{className:"h-6 w-6",viewBox:"0 0 48 48",children:[(0,gS.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),(0,gS.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),(0,gS.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),(0,gS.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),(0,gS.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]}),TS=e=>{let{label:t,type:n="text"}=e;return(0,gS.jsxs)("div",{className:"relative w-full",children:[(0,gS.jsx)("input",{type:n,id:t,className:"block w-full px-4 py-3 bg-white/10 rounded-lg border border-white/20 text-white placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all peer",placeholder:t}),(0,gS.jsx)("label",{htmlFor:t,className:"absolute left-4 top-3 text-white/70 transition-all duration-300 pointer-events-none  peer-placeholder-shown:text-base peer-placeholder-shown:top-3  peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-primary  -top-2.5 text-xs",children:t})]})},NS=()=>{const{user:e,loading:t,signInWithGoogle:n}=kb(),r=(0,o.useRef)(null);return t?(0,gS.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,gS.jsx)("div",{className:"text-white text-xl",children:"Cargando..."})}):e?null:(0,gS.jsxs)("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative",children:[(0,gS.jsx)(SS,{}),(0,gS.jsxs)("div",{className:"w-full max-w-md p-8 md:p-12 space-y-8 rounded-2xl bg-black/30 backdrop-blur-xl border border-white/10 shadow-2xl text-white",children:[(0,gS.jsxs)("div",{className:"text-center animate-fade-in-down-1",children:[(0,gS.jsx)("img",{src:"/logo.png",alt:"Ready2Wear Logo",className:"mx-auto mb-4 h-32 filter-none"}),(0,gS.jsxs)("h1",{className:"text-3xl font-bold tracking-tighter text-shadow",children:["Ready",(0,gS.jsx)("span",{className:"text-primary",children:"2"}),"Wear"]})]}),(0,gS.jsxs)("div",{className:"space-y-6 animate-fade-in-down-2",children:[(0,gS.jsx)(TS,{label:"Correo Electr\xf3nico",type:"email"}),(0,gS.jsx)(TS,{label:"Contrase\xf1a",type:"password"})]}),(0,gS.jsxs)("div",{className:"space-y-4 animate-fade-in-down-3",children:[(0,gS.jsx)("button",{className:"w-full bg-primary text-on-primary font-bold py-3 px-6 rounded-full transition-transform hover:scale-105 active:scale-100 shadow-lg",children:"Iniciar Sesi\xf3n"}),(0,gS.jsxs)("div",{className:"relative flex items-center py-2",children:[(0,gS.jsx)("div",{className:"flex-grow border-t border-white/20"}),(0,gS.jsx)("span",{className:"flex-shrink mx-4 text-sm text-white/70",children:"O continua con"}),(0,gS.jsx)("div",{className:"flex-grow border-t border-white/20"})]}),(0,gS.jsxs)("button",{ref:r,onClick:async()=>{fS.fromTo(r.current,{scale:1},{scale:1.05,yoyo:!0,repeat:1,duration:.1,ease:"power1.inOut"});try{await n()}catch(la){console.error("Error al iniciar sesi\xf3n con Google:",la)}},className:"w-full bg-white/90 text-gray-800 font-bold py-3 px-6 rounded-full flex items-center justify-center space-x-3 transition-transform hover:scale-105 active:scale-100 shadow-lg",children:[(0,gS.jsx)(CS,{}),(0,gS.jsx)("span",{children:"Continuar con Google"})]})]}),(0,gS.jsxs)("p",{className:"text-center text-xs text-white/50 animate-fade-in-down-4",children:["\xbfA\xfan no tienes cuenta? ",(0,gS.jsx)("a",{href:"#",className:"font-semibold text-primary hover:underline",children:"Reg\xedstrate"})]})]})]})},IS=()=>{const e=se(),t=ie(),n=(0,o.useRef)(null),r=(0,o.useRef)(null),i=(0,o.useRef)(null),[s,a]=(0,o.useState)(!1);(0,o.useEffect)(()=>{const e=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",e,{passive:!0}),e(),()=>window.removeEventListener("scroll",e)},[]),(0,o.useEffect)(()=>{fS.to(n.current,{width:s?"56px":"170px",duration:.4,ease:"power3.inOut"}),fS.to(r.current,{opacity:s?0:1,x:s?-10:0,duration:.3,ease:"power2.out"}),fS.to(i.current,{rotation:s?180:0,duration:.4,ease:"power3.inOut"})},[s]);return["/add-suit"].includes(t.pathname)?null:(0,gS.jsx)("div",{className:"fixed bottom-10 right-10 md:right-16 z-40",children:(0,gS.jsxs)("button",{ref:n,onClick:()=>{fS.fromTo(n.current,{scale:.95},{scale:1,duration:.6,ease:"elastic.out(1, 0.4)",onComplete:()=>e("/add-suit")})},className:"flex items-center justify-center h-14 bg-primary text-on-primary shadow-2xl rounded-2xl focus:outline-none focus:ring-4 focus:ring-primary/30 overflow-hidden",style:{width:"170px"},"aria-label":"A\xf1adir nuevo traje",children:[(0,gS.jsx)("div",{ref:i,className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,gS.jsx)("svg",{className:"h-7 w-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),(0,gS.jsx)("span",{ref:r,className:"font-semibold whitespace-nowrap pl-8",style:{opacity:1},children:"A\xf1adir traje"})]})})},PS=()=>{const e="https://instagram.com";return(0,gS.jsxs)("footer",{className:"bg-blue-900 text-gray-300 pt-16 pb-8 px-4 sm:px-6 lg:px-8",children:[(0,gS.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12",children:[(0,gS.jsxs)("div",{children:[(0,gS.jsx)("h3",{className:"font-semibold text-white text-lg mb-4",children:"Contacto"}),(0,gS.jsxs)("ul",{className:"space-y-3",children:[(0,gS.jsxs)("li",{className:"flex items-center gap-3",children:[(0,gS.jsx)("span",{className:"material-icons-outlined",children:"email"}),(0,gS.jsx)("a",{href:"mailto:readytowear@gmail.com",className:"hover:text-white transition-colors",children:"readytowear@gmail.com"})]}),(0,gS.jsxs)("li",{className:"flex items-center gap-3",children:[(0,gS.jsx)("span",{className:"material-icons-outlined",children:"whatsapp"}),(0,gS.jsx)("a",{href:"https://wa.me/34612345678",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"+34 612 345 678"})]})]})]}),(0,gS.jsxs)("div",{children:[(0,gS.jsx)("h3",{className:"font-semibold text-white text-lg mb-4",children:"Legal"}),(0,gS.jsxs)("ul",{className:"space-y-3",children:[(0,gS.jsx)("li",{children:(0,gS.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"T\xe9rminos y Condiciones"})}),(0,gS.jsx)("li",{children:(0,gS.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Pol\xedticas de Privacidad"})}),(0,gS.jsx)("li",{children:(0,gS.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Pol\xedtica de Devoluciones"})})]})]}),(0,gS.jsxs)("div",{children:[(0,gS.jsx)("h3",{className:"font-semibold text-white text-lg mb-4",children:"S\xedguenos"}),(0,gS.jsx)("ul",{className:"space-y-3",children:(0,gS.jsxs)("li",{className:"flex items-center gap-3",children:[(0,gS.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,gS.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c-4.01.083-4.514.19-6.104.864A4.848 4.848 0 002.865 6.22c-.673 1.59-.78 2.094-.864 6.104-.083 4.01.031 4.514.864 6.104a4.848 4.848 0 003.355 3.355c1.59.673 2.094.78 6.104.864 4.01-.083 4.514-.19 6.104-.864a4.848 4.848 0 003.355-3.355c.673-1.59.78-2.094.864-6.104.083-4.01-.031-4.514-.864-6.104a4.848 4.848 0 00-3.355-3.355C16.829 2.19 16.325 2.083 12.315 2zm-1.01 1.75a.75.75 0 01.75-.75h.001c4.008.085 4.46.192 5.968.832a3.348 3.348 0 012.518 2.518c.64 1.508.747 1.96.832 5.968a.75.75 0 01-1.5.01c-.084-3.86-.18-4.25-.74-5.63a1.848 1.848 0 00-1.38-1.38c-1.38-.56-1.77-.656-5.63-.74a.75.75 0 01-.75-.75zM12 7a5 5 0 100 10 5 5 0 000-10zm-3.25 5a3.25 3.25 0 116.5 0 3.25 3.25 0 01-6.5 0zM16.5 6a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z",clipRule:"evenodd"})}),(0,gS.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Instagram"})]})})]})]}),(0,gS.jsx)("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center text-sm",children:(0,gS.jsx)("p",{children:"\xa9 2025 Ready2Wear \u2014 All rights reserved"})})]})};let OS="undefined"!==typeof document?o.useLayoutEffect:o.useEffect,AS=e=>e&&!Array.isArray(e)&&"object"===typeof e,RS=[],DS={},MS=fS;const LS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RS,n=DS;AS(e)?(n=e,e=null,t="dependencies"in n?n.dependencies:RS):AS(t)&&(n=t,t="dependencies"in n?n.dependencies:RS),e&&"function"!==typeof e&&console.warn("First parameter must be a function or config object");const{scope:r,revertOnUpdate:i}=n,s=(0,o.useRef)(!1),a=(0,o.useRef)(MS.context(()=>{},r)),l=(0,o.useRef)(e=>a.current.add(null,e)),c=t&&t.length&&!i;return c&&OS(()=>(s.current=!0,()=>a.current.revert()),RS),OS(()=>{if(e&&a.current.add(e,r),!c||!s.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:l.current}};function jS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}LS.register=e=>{MS=e},LS.headless=!0;var FS,US,zS,VS,WS,BS,qS,HS,YS,GS,KS,QS,XS,$S=function(){return FS||"undefined"!==typeof window&&(FS=window.gsap)&&FS.registerPlugin&&FS},JS=1,ZS=[],eC=[],tC=[],nC=Date.now,rC=function(e,t){return t},iC=function(e,t){return~tC.indexOf(e)&&tC[tC.indexOf(e)+1][t]},oC=function(e){return!!~GS.indexOf(e)},sC=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},aC=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},lC="scrollLeft",cC="scrollTop",uC=function(){return KS&&KS.isPressed||eC.cache++},dC=function(e,t){var n=function n(r){if(r||0===r){JS&&(zS.history.scrollRestoration="manual");var i=KS&&KS.isPressed;r=n.v=Math.round(r)||(KS&&KS.iOS?1:0),e(r),n.cacheID=eC.cache,i&&rC("ss",r)}else(t||eC.cache!==n.cacheID||rC("ref"))&&(n.cacheID=eC.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},hC={s:lC,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:dC(function(e){return arguments.length?zS.scrollTo(e,fC.sc()):zS.pageXOffset||VS[lC]||WS[lC]||BS[lC]||0})},fC={s:cC,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:hC,sc:dC(function(e){return arguments.length?zS.scrollTo(hC.sc(),e):zS.pageYOffset||VS[cC]||WS[cC]||BS[cC]||0})},pC=function(e,t){return(t&&t._ctx&&t._ctx.selector||FS.utils.toArray)(e)[0]||("string"===typeof e&&!1!==FS.config().nullTargetWarn?console.warn("Element not found:",e):null)},mC=function(e,t){var n=t.s,r=t.sc;oC(e)&&(e=VS.scrollingElement||WS);var i=eC.indexOf(e),o=r===fC.sc?1:2;!~i&&(i=eC.push(e)-1),eC[i+o]||sC(e,"scroll",uC);var s=eC[i+o],a=s||(eC[i+o]=dC(iC(e,n),!0)||(oC(e)?r:dC(function(t){return arguments.length?e[n]=t:e[n]})));return a.target=e,s||(a.smooth="smooth"===FS.getProperty(e,"scrollBehavior")),a},gC=function(e,t,n){var r=e,i=e,o=nC(),s=o,a=t||50,l=Math.max(500,3*a),c=function(e,t){var l=nC();t||l-o>a?(i=r,r=e,s=o,o=l):n?r+=e:r=i+(e-i)/(l-s)*(o-s)};return{update:c,reset:function(){i=r=n?0:r,s=o=0},getVelocity:function(e){var t=s,a=i,u=nC();return(e||0===e)&&e!==r&&c(e),o===s||u-s>l?0:(r+(n?a:-a))/((n?u:o)-t)*1e3}}},vC=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},yC=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},_C=function(){(YS=FS.core.globals().ScrollTrigger)&&YS.core&&function(){var e=YS.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,eC),r.push.apply(r,tC),eC=n,tC=r,rC=function(e,n){return t[e](n)}}()},bC=function(e){return FS=e||$S(),!US&&FS&&"undefined"!==typeof document&&document.body&&(zS=window,VS=document,WS=VS.documentElement,BS=VS.body,GS=[zS,VS,WS,BS],FS.utils.clamp,XS=FS.core.context||function(){},HS="onpointerenter"in BS?"pointer":"mouse",qS=wC.isTouch=zS.matchMedia&&zS.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in zS||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,QS=wC.eventTypes=("ontouchstart"in WS?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in WS?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return JS=0},500),_C(),US=1),US};hC.op=fC,eC.cache=0;var wC=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){US||bC(FS)||console.warn("Please gsap.registerPlugin(Observer)"),YS||_C();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,o=e.lineHeight,s=e.debounce,a=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,d=e.wheelSpeed,h=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,_=e.onLeft,b=e.onUp,w=e.onDown,x=e.onChangeX,k=e.onChangeY,E=e.onChange,S=e.onToggleX,C=e.onToggleY,T=e.onHover,N=e.onHoverEnd,I=e.onMove,P=e.ignoreCheck,O=e.isNormalizer,A=e.onGestureStart,R=e.onGestureEnd,D=e.onWheel,M=e.onEnable,L=e.onDisable,j=e.onClick,F=e.scrollSpeed,U=e.capture,z=e.allowClicks,V=e.lockAxis,W=e.onLockAxis;this.target=i=pC(i)||WS,this.vars=e,u&&(u=FS.utils.toArray(u)),t=t||1e-9,n=n||0,d=d||1,F=F||1,r=r||"wheel,touch,pointer",s=!1!==s,o||(o=parseFloat(zS.getComputedStyle(BS).lineHeight)||22);var B,q,H,Y,G,K,Q,X=this,$=0,J=0,Z=e.passive||!a&&!1!==e.passive,ee=mC(i,hC),te=mC(i,fC),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===QS[0],oe=oC(i),se=i.ownerDocument||VS,ae=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=nC()},de=function(e,t){return(X.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||P&&P(e,t)},he=function(){var e=X.deltaX=yC(ae),n=X.deltaY=yC(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E(X,e,n,ae,le),r&&(y&&X.deltaX>0&&y(X),_&&X.deltaX<0&&_(X),x&&x(X),S&&X.deltaX<0!==$<0&&S(X),$=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(w&&X.deltaY>0&&w(X),b&&X.deltaY<0&&b(X),k&&k(X),C&&X.deltaY<0!==J<0&&C(X),J=X.deltaY,le[0]=le[1]=le[2]=0),(Y||H)&&(I&&I(X),H&&(f&&1===H&&f(X),m&&m(X),H=0),Y=!1),K&&!(K=!1)&&W&&W(X),G&&(D(X),G=!1),B=0},fe=function(e,t,n){ae[n]+=e,le[n]+=t,X._vx.update(e),X._vy.update(t),s?B||(B=requestAnimationFrame(he)):he()},pe=function(e,t){V&&!Q&&(X.axis=Q=Math.abs(e)>Math.abs(t)?"x":"y",K=!0),"y"!==Q&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Q&&(le[2]+=t,X._vy.update(t,!0)),s?B||(B=requestAnimationFrame(he)):he()},me=function(e){if(!de(e,1)){var t=(e=vC(e,a)).clientX,r=e.clientY,i=t-X.x,o=r-X.y,s=X.isDragging;X.x=t,X.y=r,(s||(i||o)&&(Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n))&&(H||(H=s?2:1),s||(X.isDragging=!0),pe(i,o))}},ge=X.onPress=function(e){de(e,1)||e&&e.button||(X.axis=Q=null,q.pause(),X.isPressed=!0,e=vC(e),$=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),sC(O?i:se,QS[1],me,Z,!0),X.deltaX=X.deltaY=0,g&&g(X))},ve=X.onRelease=function(e){if(!de(e,1)){aC(O?i:se,QS[1],me,!0);var t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),o=vC(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&z&&FS.delayedCall(.08,function(){if(nC()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(se.createEvent){var t=se.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,zS,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),X.isDragging=X.isGesturing=X.isPressed=!1,l&&n&&!O&&q.restart(!0),H&&he(),p&&n&&p(X),v&&v(X,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&A(e,X.isDragging)},_e=function(){return(X.isGesturing=!1)||R(X)},be=function(e){if(!de(e)){var t=ee(),n=te();fe((t-ne)*F,(n-re)*F,1),ne=t,re=n,l&&q.restart(!0)}},we=function(e){if(!de(e)){e=vC(e,a),D&&(G=!0);var t=(1===e.deltaMode?o:2===e.deltaMode?zS.innerHeight:1)*d;fe(e.deltaX*t,e.deltaY*t,0),l&&!O&&q.restart(!0)}},xe=function(e){if(!de(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,Y=!0,l&&q.restart(!0),(r||i)&&pe(r,i)}},ke=function(e){X.event=e,T(X)},Ee=function(e){X.event=e,N(X)},Se=function(e){return de(e)||vC(e,a)&&j(X)};q=X._dc=FS.delayedCall(c||.25,function(){X._vx.reset(),X._vy.reset(),q.pause(),l&&l(X)}).pause(),X.deltaX=X.deltaY=0,X._vx=gC(0,50,!0),X._vy=gC(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,XS(this),X.enable=function(e){return X.isEnabled||(sC(oe?se:i,"scroll",uC),r.indexOf("scroll")>=0&&sC(oe?se:i,"scroll",be,Z,U),r.indexOf("wheel")>=0&&sC(i,"wheel",we,Z,U),(r.indexOf("touch")>=0&&qS||r.indexOf("pointer")>=0)&&(sC(i,QS[0],ge,Z,U),sC(se,QS[2],ve),sC(se,QS[3],ve),z&&sC(i,"click",ue,!0,!0),j&&sC(i,"click",Se),A&&sC(se,"gesturestart",ye),R&&sC(se,"gestureend",_e),T&&sC(i,HS+"enter",ke),N&&sC(i,HS+"leave",Ee),I&&sC(i,HS+"move",xe)),X.isEnabled=!0,X.isDragging=X.isGesturing=X.isPressed=Y=H=!1,X._vx.reset(),X._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),M&&M(X)),X},X.disable=function(){X.isEnabled&&(ZS.filter(function(e){return e!==X&&oC(e.target)}).length||aC(oe?se:i,"scroll",uC),X.isPressed&&(X._vx.reset(),X._vy.reset(),aC(O?i:se,QS[1],me,!0)),aC(oe?se:i,"scroll",be,U),aC(i,"wheel",we,U),aC(i,QS[0],ge,U),aC(se,QS[2],ve),aC(se,QS[3],ve),aC(i,"click",ue,!0),aC(i,"click",Se),aC(se,"gesturestart",ye),aC(se,"gestureend",_e),aC(i,HS+"enter",ke),aC(i,HS+"leave",Ee),aC(i,HS+"move",xe),X.isEnabled=X.isPressed=X.isDragging=!1,L&&L(X))},X.kill=X.revert=function(){X.disable();var e=ZS.indexOf(X);e>=0&&ZS.splice(e,1),KS===X&&(KS=0)},ZS.push(X),O&&oC(i)&&(KS=X),X.enable(h)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&jS(t.prototype,n),r&&jS(t,r),e}();wC.version="3.14.2",wC.create=function(e){return new wC(e)},wC.register=bC,wC.getAll=function(){return ZS.slice()},wC.getById=function(e){return ZS.filter(function(t){return t.vars.id===e})[0]},$S()&&FS.registerPlugin(wC);var xC,kC,EC,SC,CC,TC,NC,IC,PC,OC,AC,RC,DC,MC,LC,jC,FC,UC,zC,VC,WC,BC,qC,HC,YC,GC,KC,QC,XC,$C,JC,ZC,eT,tT,nT,rT,iT,oT,sT=1,aT=Date.now,lT=aT(),cT=0,uT=0,dT=function(e,t,n){var r=ST(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},hT=function(e,t){return!t||ST(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},fT=function e(){return uT&&requestAnimationFrame(e)},pT=function(){return MC=1},mT=function(){return MC=0},gT=function(e){return e},vT=function(e){return Math.round(1e5*e)/1e5||0},yT=function(){return"undefined"!==typeof window},_T=function(){return xC||yT()&&(xC=window.gsap)&&xC.registerPlugin&&xC},bT=function(e){return!!~NC.indexOf(e)},wT=function(e){return("Height"===e?JC:EC["inner"+e])||CC["client"+e]||TC["client"+e]},xT=function(e){return iC(e,"getBoundingClientRect")||(bT(e)?function(){return LN.width=EC.innerWidth,LN.height=JC,LN}:function(){return KT(e)})},kT=function(e,t){var n=t.s,r=t.d2,i=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=iC(e,n))?o()-xT(e)()[i]:bT(e)?(CC[n]||TC[n])-wT(r):e[n]-e["offset"+r])},ET=function(e,t){for(var n=0;n<zC.length;n+=3)(!t||~t.indexOf(zC[n+1]))&&e(zC[n],zC[n+1],zC[n+2])},ST=function(e){return"string"===typeof e},CT=function(e){return"function"===typeof e},TT=function(e){return"number"===typeof e},NT=function(e){return"object"===typeof e},IT=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},PT=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},OT=Math.abs,AT="left",RT="right",DT="bottom",MT="width",LT="height",jT="Right",FT="Left",UT="Top",zT="Bottom",VT="padding",WT="margin",BT="Width",qT="Height",HT="px",YT=function(e){return EC.getComputedStyle(e)},GT=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},KT=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==YT(e)[LC]&&xC.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},QT=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},XT=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},$T=function(e){var t=xC.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var o;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,o=0;o<n.length;o++)if(n[o]>=e)return n[o];return n[o-1]}for(o=n.length,e+=i;o--;)if(n[o]<=e)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=t(n);return!r||Math.abs(o-n)<i||o-n<0===r<0?o:t(r<0?n-e:n+e)}},JT=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},ZT=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},eN=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},tN=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},nN={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},rN={toggleActions:"play",anticipatePin:0},iN={top:0,left:0,center:.5,bottom:1,right:1},oN=function(e,t){if(ST(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in iN?iN[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},sN=function(e,t,n,r,i,o,s,a){var l=i.startColor,c=i.endColor,u=i.fontSize,d=i.indent,h=i.fontWeight,f=SC.createElement("div"),p=bT(n)||"fixed"===iC(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?TC:n,v=-1!==e.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(_+=(r===fC?RT:DT)+":"+(o+parseFloat(d))+"px;"),s&&(_+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=_,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],aN(f,0,r,v),f},aN=function(e,t,n,r){var i={display:"block"},o=n[r?"os2":"p2"],s=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+o+BT]=1,i["border"+s+BT]=0,i[n.p]=t+"px",xC.set(e,i)},lN=[],cN={},uN=function(){return aT()-cT>34&&(nT||(nT=requestAnimationFrame(IN)))},dN=function(){(!qC||!qC.isPressed||qC.startX>TC.clientWidth)&&(eC.cache++,qC?nT||(nT=requestAnimationFrame(IN)):IN(),cT||vN("scrollStart"),cT=aT())},hN=function(){GC=EC.innerWidth,YC=EC.innerHeight},fN=function(e){eC.cache++,(!0===e||!DC&&!BC&&!SC.fullscreenElement&&!SC.webkitFullscreenElement&&(!HC||GC!==EC.innerWidth||Math.abs(EC.innerHeight-YC)>.25*EC.innerHeight))&&IC.restart(!0)},pN={},mN=[],gN=function e(){return eN(BN,"scrollEnd",e)||CN(!0)},vN=function(e){return pN[e]&&pN[e].map(function(e){return e()})||mN},yN=[],_N=function(e){for(var t=0;t<yN.length;t+=5)(!e||yN[t+4]&&yN[t+4].query===e)&&(yN[t].style.cssText=yN[t+1],yN[t].getBBox&&yN[t].setAttribute("transform",yN[t+2]||""),yN[t+3].uncache=1)},bN=function(){return eC.forEach(function(e){return CT(e)&&++e.cacheID&&(e.rec=e())})},wN=function(e,t){var n;for(jC=0;jC<lN.length;jC++)!(n=lN[jC])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));ZC=!0,t&&_N(t),t||vN("revert")},xN=function(e,t){eC.cache++,(t||!rT)&&eC.forEach(function(e){return CT(e)&&e.cacheID++&&(e.rec=0)}),ST(e)&&(EC.history.scrollRestoration=XC=e)},kN=0,EN=function(){TC.appendChild($C),JC=!qC&&$C.offsetHeight||EC.innerHeight,TC.removeChild($C)},SN=function(e){return PC(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},CN=function(e,t){if(CC=SC.documentElement,TC=SC.body,NC=[EC,SC,CC,TC],!cT||e||ZC){EN(),rT=BN.isRefreshing=!0,ZC||bN();var n=vN("refreshInit");VC&&BN.sort(),t||wN(),eC.forEach(function(e){CT(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),lN.slice(0).forEach(function(e){return e.refresh()}),ZC=!1,lN.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),eT=1,SN(!0),lN.forEach(function(e){var t=kT(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),SN(!1),eT=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),eC.forEach(function(e){CT(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),xN(XC,1),IC.pause(),kN++,rT=2,IN(2),lN.forEach(function(e){return CT(e.vars.onRefresh)&&e.vars.onRefresh(e)}),rT=BN.isRefreshing=!1,vN("refresh")}else ZT(BN,"scrollEnd",gN)},TN=0,NN=1,IN=function(e){if(2===e||!rT&&!ZC){BN.isUpdating=!0,oT&&oT.update(0);var t=lN.length,n=aT(),r=n-lT>=50,i=t&&lN[0].scroll();if(NN=TN>i?-1:1,rT||(TN=i),r&&(cT&&!MC&&n-cT>200&&(cT=0,vN("scrollEnd")),AC=lT,lT=n),NN<0){for(jC=t;jC-- >0;)lN[jC]&&lN[jC].update(0,r);NN=1}else for(jC=0;jC<t;jC++)lN[jC]&&lN[jC].update(0,r);BN.isUpdating=!1}nT=0},PN=[AT,"top",DT,RT,WT+zT,WT+jT,WT+UT,WT+FT,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ON=PN.concat([MT,LT,"boxSizing","max"+BT,"max"+qT,"position",WT,VT,VT+UT,VT+jT,VT+zT,VT+FT]),AN=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,o=PN.length,s=t.style,a=e.style;o--;)s[i=PN[o]]=n[i];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),a[DT]=a[RT]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[MT]=QT(e,hC)+HT,s[LT]=QT(e,fC)+HT,s[VT]=a[WT]=a.top=a[AT]="0",DN(r),a[MT]=a["max"+BT]=n[MT],a[LT]=a["max"+qT]=n[LT],a[VT]=n[VT],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},RN=/([A-Z])/g,DN=function(e){if(e){var t,n,r=e.t.style,i=e.length,o=0;for((e.t._gsap||xC.core.getCache(e.t)).uncache=1;o<i;o+=2)n=e[o+1],t=e[o],n?r[t]=n:r[t]&&r.removeProperty(t.replace(RN,"-$1").toLowerCase())}},MN=function(e){for(var t=ON.length,n=e.style,r=[],i=0;i<t;i++)r.push(ON[i],n[ON[i]]);return r.t=e,r},LN={left:0,top:0},jN=function(e,t,n,r,i,o,s,a,l,c,u,d,h,f){CT(e)&&(e=e(a)),ST(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?oN("0"+e.substr(3),n):0));var p,m,g,v=h?h.time():0;if(h&&h.seek(0),isNaN(e)||(e=+e),TT(e))h&&(e=xC.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,d,e)),s&&aN(s,n,r,!0);else{CT(t)&&(t=t(a));var y,_,b,w,x=(e||"0").split(" ");g=pC(t,a)||TC,(y=KT(g)||{})&&(y.left||y.top)||"none"!==YT(g).display||(w=g.style.display,g.style.display="block",y=KT(g),w?g.style.display=w:g.style.removeProperty("display")),_=oN(x[0],y[r.d]),b=oN(x[1]||"0",n),e=y[r.p]-l[r.p]-c+_+i-b,s&&aN(s,b,r,n-b<20||s._isStart&&b>20),n-=n-b}if(f&&(a[f]=e||-.001,e<0&&(e=0)),o){var k=e+n,E=o._isStart;p="scroll"+r.d2,aN(o,k,r,E&&k>20||!E&&(u?Math.max(TC[p],CC[p]):o.parentNode[p])<=k+1),u&&(l=KT(s),u&&(o.style[r.op.p]=l[r.op.p]-r.op.m-o._offset+HT))}return h&&g&&(p=KT(g),h.seek(d),m=KT(g),h._caScrollDist=p[r.p]-m[r.p],e=e/h._caScrollDist*d),h&&h.seek(v),h?e:Math.round(e)},FN=/(webkit|moz|length|cssText|inset)/i,UN=function(e,t,n,r){if(e.parentNode!==t){var i,o,s=e.style;if(t===TC){for(i in e._stOrig=s.cssText,o=YT(e))+i||FN.test(i)||!o[i]||"string"!==typeof s[i]||"0"===i||(s[i]=o[i]);s.top=n,s.left=r}else s.cssText=e._stOrig;xC.core.getCache(e).uncache=1,t.appendChild(e)}},zN=function(e,t,n){var r=t,i=r;return function(t){var o=Math.round(e());return o!==r&&o!==i&&Math.abs(o-r)>3&&Math.abs(o-i)>3&&(t=o,n&&n()),i=r,r=Math.round(t)}},VN=function(e,t,n){var r={};r[t.p]="+="+n,xC.set(e,r)},WN=function(e,t){var n=mC(e,t),r="_scroll"+t.p2,i=function t(i,o,s,a,l){var c=t.tween,u=o.onComplete,d={};s=s||n();var h=zN(n,s,function(){c.kill(),t.tween=0});return l=a&&l||0,a=a||i-s,c&&c.kill(),o[r]=i,o.inherit=!1,o.modifiers=d,d[r]=function(){return h(s+a*c.ratio+l*c.ratio*c.ratio)},o.onUpdate=function(){eC.cache++,t.tween&&IN()},o.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=xC.to(e,o)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},ZT(e,"wheel",n.wheelHandler),BN.isTouch&&ZT(e,"touchmove",n.wheelHandler),i},BN=function(){function e(t,n){kC||e.register(xC)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),QC(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),uT){var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,_,b,w,x,k,E,S,C,T,N,I,P,O,A,R,D,M,L,j,F,U,z,V,W,B=t=GT(ST(t)||TT(t)||t.nodeType?{trigger:t}:t,rN),q=B.onUpdate,H=B.toggleClass,Y=B.id,G=B.onToggle,K=B.onRefresh,Q=B.scrub,X=B.trigger,$=B.pin,J=B.pinSpacing,Z=B.invalidateOnRefresh,ee=B.anticipatePin,te=B.onScrubComplete,ne=B.onSnapComplete,re=B.once,ie=B.snap,oe=B.pinReparent,se=B.pinSpacer,ae=B.containerAnimation,le=B.fastScrollEnd,ce=B.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?hC:fC,de=!Q&&0!==Q,he=pC(t.scroller||EC),fe=xC.core.getCache(he),pe=bT(he),me="fixed"===("pinType"in t?t.pinType:iC(he,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=de&&t.toggleActions.split(" "),ye="markers"in t?t.markers:rN.markers,_e=pe?0:parseFloat(YT(he)["border"+ue.p2+BT])||0,be=this,we=t.onRefreshInit&&function(){return t.onRefreshInit(be)},xe=function(e,t,n){var r=n.d,i=n.d2,o=n.a;return(o=iC(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?wT(i):e["client"+i])||0}}(he,pe,ue),ke=function(e,t){return!t||~tC.indexOf(e)?xT(e):function(){return LN}}(he,pe),Ee=0,Se=0,Ce=0,Te=mC(he,ue);if(be._startClamp=be._endClamp=!1,be._dir=ue,ee*=45,be.scroller=he,be.scroll=ae?ae.time.bind(ae):Te,s=Te(),be.vars=t,n=n||t.animation,"refreshPriority"in t&&(VC=1,-9999===t.refreshPriority&&(oT=be)),fe.tweenScroll=fe.tweenScroll||{top:WN(he,fC),left:WN(he,hC)},be.tweenTo=r=fe.tweenScroll[ue.p],be.scrubDuration=function(e){(M=TT(e)&&e)?D?D.duration(e):D=xC.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:M,paused:!0,onComplete:function(){return te&&te(be)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!be.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),be.animation=n.pause(),n.scrollTrigger=be,be.scrubDuration(Q),A=0,Y||(Y=n.vars.id)),ie&&(NT(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in TC.style&&xC.set(pe?[TC,CC]:he,{scrollBehavior:"auto"}),eC.forEach(function(e){return CT(e)&&e.target===(pe?SC.scrollingElement||CC:he)&&(e.smooth=!1)}),o=CT(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return xC.utils.snap(XT(e),t)}}(n):"labelsDirectional"===ie.snapTo?(W=n,function(e,t){return $T(XT(W))(e,t.direction)}):!1!==ie.directional?function(e,t){return $T(ie.snapTo)(e,aT()-Se<500?0:t.direction)}:xC.utils.snap(ie.snapTo),L=ie.duration||{min:.1,max:2},L=NT(L)?OC(L.min,L.max):OC(L,L),j=xC.delayedCall(ie.delay||M/2||.1,function(){var e=Te(),t=aT()-Se<500,i=r.tween;if(!(t||Math.abs(be.getVelocity())<10)||i||MC||Ee===e)be.isActive&&Ee!==e&&j.restart(!0);else{var s,a,u=(e-l)/g,d=n&&!de?n.totalProgress():u,h=t?0:(d-R)/(aT()-AC)*1e3||0,f=xC.utils.clamp(-u,1-u,OT(h/2)*h/.185),p=u+(!1===ie.inertia?0:f),m=ie,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(s=o(p,be),TT(s)||(s=p),a=Math.max(0,Math.round(l+s*g)),e<=c&&e>=l&&a!==e){if(i&&!i._initted&&i.data<=OT(a-e))return;!1===ie.inertia&&(f=s-u),r(a,{duration:L(OT(.185*Math.max(OT(p-d),OT(s-d))/h/.05||0)),ease:ie.ease||"power3",data:OT(a-e),onInterrupt:function(){return j.restart(!0)&&y&&y(be)},onComplete:function(){be.update(),Ee=Te(),n&&!de&&(D?D.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),A=R=n&&!de?n.totalProgress():be.progress,ne&&ne(be),_&&_(be)}},e,f*g,a-e-f*g),v&&v(be,r.tween)}}}).pause()),Y&&(cN[Y]=be),(V=(X=be.trigger=pC(X||!0!==$&&$))&&X._gsap&&X._gsap.stRevert)&&(V=V(be)),$=!0===$?X:pC($),ST(H)&&(H={targets:X,className:H}),$&&(!1===J||J===WT||(J=!(!J&&$.parentNode&&$.parentNode.style&&"flex"===YT($.parentNode).display)&&VT),be.pin=$,(i=xC.core.getCache($)).spacer?v=i.pinState:(se&&((se=pC(se))&&!se.nodeType&&(se=se.current||se.nativeElement),i.spacerIsNative=!!se,se&&(i.spacerState=MN(se))),i.spacer=b=se||SC.createElement("div"),b.classList.add("pin-spacer"),Y&&b.classList.add("pin-spacer-"+Y),i.pinState=v=MN($)),!1!==t.force3D&&xC.set($,{force3D:!0}),be.spacer=b=i.spacer,O=YT($),C=O[J+ue.os2],x=xC.getProperty($),k=xC.quickSetter($,ue.a,HT),AN($,b,O),_=MN($)),ye){p=NT(ye)?GT(ye,nN):nN,h=sN("scroller-start",Y,he,ue,p,0),f=sN("scroller-end",Y,he,ue,p,0,h),w=h["offset"+ue.op.d2];var Ne=pC(iC(he,"content")||he);u=this.markerStart=sN("start",Y,Ne,ue,p,w,0,ae),d=this.markerEnd=sN("end",Y,Ne,ue,p,w,0,ae),ae&&(z=xC.quickSetter([u,d],ue.a,HT)),me||tC.length&&!0===iC(he,"fixedMarkers")||(!function(e){var t=YT(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?TC:he),xC.set([h,f],{force3D:!0}),N=xC.quickSetter(h,ue.a,HT),P=xC.quickSetter(f,ue.a,HT))}if(ae){var Ie=ae.vars.onUpdate,Pe=ae.vars.onUpdateParams;ae.eventCallback("onUpdate",function(){be.update(0,0,1),Ie&&Ie.apply(ae,Pe||[])})}if(be.previous=function(){return lN[lN.indexOf(be)-1]},be.next=function(){return lN[lN.indexOf(be)+1]},be.revert=function(e,t){if(!t)return be.kill(!0);var r=!1!==e||!be.enabled,i=DC;r!==be.isReverted&&(r&&(F=Math.max(Te(),be.scroll.rec||0),Ce=be.progress,U=n&&n.progress()),u&&[u,d,h,f].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(DC=be,be.update(r)),!$||oe&&be.isActive||(r?function(e,t,n){DN(n);var r=e._gsap;if(r.spacerIsNative)DN(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}($,b,v):AN($,b,YT($),T)),r||be.update(r),DC=i,be.isReverted=r)},be.refresh=function(i,o,p,w){if(!DC&&be.enabled||o)if($&&i&&cT)ZT(e,"scrollEnd",gN);else{!rT&&we&&we(be),DC=be,r.tween&&!p&&(r.tween.kill(),r.tween=0),D&&D.pause(),Z&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),be.isReverted||be.revert(!0,!0),be._subPinOffset=!1;var k,C,N,P,O,A,R,M,L,z,V,W,B,q=xe(),H=ke(),Y=ae?ae.duration():kT(he,ue),G=g<=.01||!g,Q=0,ee=w||0,te=NT(p)?p.end:t.end,ne=t.endTrigger||X,re=NT(p)?p.start:t.start||(0!==t.start&&X?$?"0 0":"0 100%":0),ie=be.pinnedContainer=t.pinnedContainer&&pC(t.pinnedContainer,be),se=X&&Math.max(0,lN.indexOf(be))||0,le=se;for(ye&&NT(p)&&(W=xC.getProperty(h,ue.p),B=xC.getProperty(f,ue.p));le-- >0;)(A=lN[le]).end||A.refresh(0,1)||(DC=be),!(R=A.pin)||R!==X&&R!==$&&R!==ie||A.isReverted||(z||(z=[]),z.unshift(A),A.revert(!0,!0)),A!==lN[le]&&(se--,le--);for(CT(re)&&(re=re(be)),re=dT(re,"start",be),l=jN(re,X,q,ue,Te(),u,h,be,H,_e,me,Y,ae,be._startClamp&&"_startClamp")||($?-.001:0),CT(te)&&(te=te(be)),ST(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(ST(re)?re.split(" ")[0]:"")+te:(Q=oN(te.substr(2),q),te=ST(re)?re:(ae?xC.utils.mapRange(0,ae.duration(),ae.scrollTrigger.start,ae.scrollTrigger.end,l):l)+Q,ne=X)),te=dT(te,"end",be),c=Math.max(l,jN(te||(ne?"100% 0":Y),ne,q,ue,Te()+Q,d,f,be,H,_e,me,Y,ae,be._endClamp&&"_endClamp"))||-.001,Q=0,le=se;le--;)(R=(A=lN[le]||{}).pin)&&A.start-A._pinPush<=l&&!ae&&A.end>0&&(k=A.end-(be._startClamp?Math.max(0,A.start):A.start),(R===X&&A.start-A._pinPush<l||R===ie)&&isNaN(re)&&(Q+=k*(1-A.progress)),R===$&&(ee+=k));if(l+=Q,c+=Q,be._startClamp&&(be._startClamp+=Q),be._endClamp&&!rT&&(be._endClamp=c||-.001,c=Math.min(c,kT(he,ue))),g=c-l||(l-=.01)&&.001,G&&(Ce=xC.utils.clamp(0,1,xC.utils.normalize(l,c,F))),be._pinPush=ee,u&&Q&&((k={})[ue.a]="+="+Q,ie&&(k[ue.p]="-="+Te()),xC.set([u,d],k)),!$||eT&&be.end>=kT(he,ue)){if(X&&Te()&&!ae)for(C=X.parentNode;C&&C!==TC;)C._pinOffset&&(l-=C._pinOffset,c-=C._pinOffset),C=C.parentNode}else k=YT($),P=ue===fC,N=Te(),E=parseFloat(x(ue.a))+ee,!Y&&c>1&&(V={style:V=(pe?SC.scrollingElement||CC:he).style,value:V["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==YT(TC)["overflow"+ue.a.toUpperCase()]&&(V.style["overflow"+ue.a.toUpperCase()]="scroll")),AN($,b,k),_=MN($),C=KT($,!0),M=me&&mC(he,P?hC:fC)(),J?((T=[J+ue.os2,g+ee+HT]).t=b,(le=J===VT?QT($,ue)+g+ee:0)&&(T.push(ue.d,le+HT),"auto"!==b.style.flexBasis&&(b.style.flexBasis=le+HT)),DN(T),ie&&lN.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),me&&Te(F)):(le=QT($,ue))&&"auto"!==b.style.flexBasis&&(b.style.flexBasis=le+HT),me&&((O={top:C.top+(P?N-l:M)+HT,left:C.left+(P?M:N-l)+HT,boxSizing:"border-box",position:"fixed"})[MT]=O["max"+BT]=Math.ceil(C.width)+HT,O[LT]=O["max"+qT]=Math.ceil(C.height)+HT,O[WT]=O[WT+UT]=O[WT+jT]=O[WT+zT]=O[WT+FT]="0",O[VT]=k[VT],O[VT+UT]=k[VT+UT],O[VT+jT]=k[VT+jT],O[VT+zT]=k[VT+zT],O[VT+FT]=k[VT+FT],y=function(e,t,n){for(var r,i=[],o=e.length,s=n?8:0;s<o;s+=2)r=e[s],i.push(r,r in t?t[r]:e[s+1]);return i.t=e.t,i}(v,O,oe),rT&&Te(0)),n?(L=n._initted,WC(1),n.render(n.duration(),!0,!0),S=x(ue.a)-E+g+ee,I=Math.abs(g-S)>1,me&&I&&y.splice(y.length-2,2),n.render(0,!0,!0),L||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),WC(0)):S=g,V&&(V.value?V.style["overflow"+ue.a.toUpperCase()]=V.value:V.style.removeProperty("overflow-"+ue.a));z&&z.forEach(function(e){return e.revert(!1,!0)}),be.start=l,be.end=c,s=a=rT?F:Te(),ae||rT||(s<F&&Te(F),be.scroll.rec=0),be.revert(!1,!0),Se=aT(),j&&(Ee=-1,j.restart(!0)),DC=0,n&&de&&(n._initted||U)&&n.progress()!==U&&n.progress(U||0,!0).render(n.time(),!0,!0),(G||Ce!==be.progress||ae||Z||n&&!n._initted)&&(n&&!de&&(n._initted||Ce||!1!==n.vars.immediateRender)&&n.totalProgress(ae&&l<-.001&&!Ce?xC.utils.normalize(l,c,0):Ce,!0),be.progress=G||(s-l)/g===Ce?0:Ce),$&&J&&(b._pinOffset=Math.round(be.progress*S)),D&&D.invalidate(),isNaN(W)||(W-=xC.getProperty(h,ue.p),B-=xC.getProperty(f,ue.p),VN(h,ue,W),VN(u,ue,W-(w||0)),VN(f,ue,B),VN(d,ue,B-(w||0))),G&&!rT&&be.update(),!K||rT||m||(m=!0,K(be),m=!1)}},be.getVelocity=function(){return(Te()-a)/(aT()-AC)*1e3||0},be.endAnimation=function(){IT(be.callbackAnimation),n&&(D?D.progress(1):n.paused()?de||IT(n,be.direction<0,1):IT(n,n.reversed()))},be.labelToScroll=function(e){return n&&n.labels&&(l||be.refresh()||l)+n.labels[e]/n.duration()*g||0},be.getTrailing=function(e){var t=lN.indexOf(be),n=be.direction>0?lN.slice(0,t).reverse():lN.slice(t+1);return(ST(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return be.direction>0?e.end<=l:e.start>=c})},be.update=function(e,t,i){if(!ae||i||e){var o,u,d,f,p,m,v,w=!0===rT?F:be.scroll(),x=e?0:(w-l)/g,T=x<0?0:x>1?1:x||0,O=be.progress;if(t&&(a=s,s=ae?Te():w,ie&&(R=A,A=n&&!de?n.totalProgress():T)),ee&&$&&!DC&&!sT&&cT&&(!T&&l<w+(w-a)/(aT()-AC)*ee?T=1e-4:1===T&&c>w+(w-a)/(aT()-AC)*ee&&(T=.9999)),T!==O&&be.enabled){if(f=(p=(o=be.isActive=!!T&&T<1)!==(!!O&&O<1))||!!T!==!!O,be.direction=T>O?1:-1,be.progress=T,f&&!DC&&(u=T&&!O?0:1===T?1:1===O?2:3,de&&(d=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===d||"reset"===d||d in n))),ce&&(p||v)&&(v||Q||!n)&&(CT(ce)?ce(be):be.getTrailing(ce).forEach(function(e){return e.endAnimation()})),de||(!D||DC||sT?n&&n.totalProgress(T,!(!DC||!Se&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",T,n._tTime/n._tDur):(D.vars.totalProgress=T,D.invalidate().restart()))),$)if(e&&J&&(b.style[J+ue.os2]=C),me){if(f){if(m=!e&&T>O&&c+1>w&&w+1>=kT(he,ue),oe)if(e||!o&&!m)UN($,b);else{var M=KT($,!0),L=w-l;UN($,TC,M.top+(ue===fC?L:0)+HT,M.left+(ue===fC?0:L)+HT)}DN(o||m?y:_),I&&T<1&&o||k(E+(1!==T||m?0:S))}}else k(vT(E+S*T));ie&&!r.tween&&!DC&&!sT&&j.restart(!0),H&&(p||re&&T&&(T<1||!tT))&&PC(H.targets).forEach(function(e){return e.classList[o||re?"add":"remove"](H.className)}),q&&!de&&!e&&q(be),f&&!DC?(de&&(v&&("complete"===d?n.pause().totalProgress(1):"reset"===d?n.restart(!0).pause():"restart"===d?n.restart(!0):n[d]()),q&&q(be)),!p&&tT||(G&&p&&PT(be,G),ge[u]&&PT(be,ge[u]),re&&(1===T?be.kill(!1,1):ge[u]=0),p||ge[u=1===T?1:3]&&PT(be,ge[u])),le&&!o&&Math.abs(be.getVelocity())>(TT(le)?le:2500)&&(IT(be.callbackAnimation),D?D.progress(1):IT(n,"reverse"===d?1:!T,1))):de&&q&&!DC&&q(be)}if(P){var U=ae?w/ae.duration()*(ae._caScrollDist||0):w;N(U+(h._isFlipped?1:0)),P(U)}z&&z(-w/ae.duration()*(ae._caScrollDist||0))}},be.enable=function(t,n){be.enabled||(be.enabled=!0,ZT(he,"resize",fN),pe||ZT(he,"scroll",dN),we&&ZT(e,"refreshInit",we),!1!==t&&(be.progress=Ce=0,s=a=Ee=Te()),!1!==n&&be.refresh())},be.getTween=function(e){return e&&r?r.tween:D},be.setPositions=function(e,t,n,r){if(ae){var i=ae.scrollTrigger,o=ae.duration(),s=i.end-i.start;e=i.start+s*e/o,t=i.start+s*t/o}be.refresh(!1,!1,{start:hT(e,n&&!!be._startClamp),end:hT(t,n&&!!be._endClamp)},r),be.update()},be.adjustPinSpacing=function(e){if(T&&e){var t=T.indexOf(ue.d)+1;T[t]=parseFloat(T[t])+e+HT,T[1]=parseFloat(T[1])+e+HT,DN(T)}},be.disable=function(t,n){if(!1!==t&&be.revert(!0,!0),be.enabled&&(be.enabled=be.isActive=!1,n||D&&D.pause(),F=0,i&&(i.uncache=1),we&&eN(e,"refreshInit",we),j&&(j.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var o=lN.length;o--;)if(lN[o].scroller===he&&lN[o]!==be)return;eN(he,"resize",fN),pe||eN(he,"scroll",dN)}},be.kill=function(e,r){be.disable(e,r),D&&!r&&D.kill(),Y&&delete cN[Y];var o=lN.indexOf(be);o>=0&&lN.splice(o,1),o===jC&&NN>0&&jC--,o=0,lN.forEach(function(e){return e.scroller===be.scroller&&(o=1)}),o||rT||(be.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,d,h,f].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),oT===be&&(oT=0),$&&(i&&(i.uncache=1),o=0,lN.forEach(function(e){return e.pin===$&&o++}),o||(i.spacer=0)),t.onKill&&t.onKill(be)},lN.push(be),be.enable(!1,!1),V&&V(be),n&&n.add&&!g){var Oe=be.update;be.update=function(){be.update=Oe,eC.cache++,l||c||be.refresh()},xC.delayedCall(.01,be.update),g=.01,l=c=0}else be.refresh();$&&function(){if(iT!==kN){var e=iT=kN;requestAnimationFrame(function(){return e===kN&&CN(!0)})}}()}else this.update=this.refresh=this.kill=gT},e.register=function(t){return kC||(xC=t||_T(),yT()&&window.document&&e.enable(),kC=uT),kC},e.defaults=function(e){if(e)for(var t in e)rN[t]=e[t];return rN},e.disable=function(e,t){uT=0,lN.forEach(function(n){return n[t?"kill":"disable"](e)}),eN(EC,"wheel",dN),eN(SC,"scroll",dN),clearInterval(RC),eN(SC,"touchcancel",gT),eN(TC,"touchstart",gT),JT(eN,SC,"pointerdown,touchstart,mousedown",pT),JT(eN,SC,"pointerup,touchend,mouseup",mT),IC.kill(),ET(eN);for(var n=0;n<eC.length;n+=3)tN(eN,eC[n],eC[n+1]),tN(eN,eC[n],eC[n+2])},e.enable=function(){if(EC=window,SC=document,CC=SC.documentElement,TC=SC.body,xC&&(PC=xC.utils.toArray,OC=xC.utils.clamp,QC=xC.core.context||gT,WC=xC.core.suppressOverwrites||gT,XC=EC.history.scrollRestoration||"auto",TN=EC.pageYOffset||0,xC.core.globals("ScrollTrigger",e),TC)){uT=1,($C=document.createElement("div")).style.height="100vh",$C.style.position="absolute",EN(),fT(),wC.register(xC),e.isTouch=wC.isTouch,KC=wC.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),HC=1===wC.isTouch,ZT(EC,"wheel",dN),NC=[EC,SC,CC,TC],xC.matchMedia?(e.matchMedia=function(e){var t,n=xC.matchMedia();for(t in e)n.add(t,e[t]);return n},xC.addEventListener("matchMediaInit",function(){bN(),wN()}),xC.addEventListener("matchMediaRevert",function(){return _N()}),xC.addEventListener("matchMedia",function(){CN(0,1),vN("matchMedia")}),xC.matchMedia().add("(orientation: portrait)",function(){return hN(),hN})):console.warn("Requires GSAP 3.11.0 or later"),hN(),ZT(SC,"scroll",dN);var t,n,r=TC.hasAttribute("style"),i=TC.style,o=i.borderTopStyle,s=xC.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=KT(TC),fC.m=Math.round(t.top+fC.sc())||0,hC.m=Math.round(t.left+hC.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(TC.setAttribute("style",""),TC.removeAttribute("style")),RC=setInterval(uN,250),xC.delayedCall(.5,function(){return sT=0}),ZT(SC,"touchcancel",gT),ZT(TC,"touchstart",gT),JT(ZT,SC,"pointerdown,touchstart,mousedown",pT),JT(ZT,SC,"pointerup,touchend,mouseup",mT),LC=xC.utils.checkPrefix("transform"),ON.push(LC),kC=aT(),IC=xC.delayedCall(.2,CN).pause(),zC=[SC,"visibilitychange",function(){var e=EC.innerWidth,t=EC.innerHeight;SC.hidden?(FC=e,UC=t):FC===e&&UC===t||fN()},SC,"DOMContentLoaded",CN,EC,"load",CN,EC,"resize",fN],ET(ZT),lN.forEach(function(e){return e.enable(0,1)}),n=0;n<eC.length;n+=3)tN(eN,eC[n],eC[n+1]),tN(eN,eC[n],eC[n+2])}},e.config=function(t){"limitCallbacks"in t&&(tT=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(RC)||(RC=n)&&setInterval(uN,n),"ignoreMobileResize"in t&&(HC=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(ET(eN)||ET(ZT,t.autoRefreshEvents||"none"),BC=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=pC(e),r=eC.indexOf(n),i=bT(n);~r&&eC.splice(r,i?6:2),t&&(i?tC.unshift(EC,t,TC,t,CC,t):tC.unshift(n,t))},e.clearMatchMedia=function(e){lN.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(ST(e)?pC(e):e).getBoundingClientRect(),i=r[n?MT:LT]*t||0;return n?r.right-i>0&&r.left+i<EC.innerWidth:r.bottom-i>0&&r.top+i<EC.innerHeight},e.positionInViewport=function(e,t,n){ST(e)&&(e=pC(e));var r=e.getBoundingClientRect(),i=r[n?MT:LT],o=null==t?i/2:t in iN?iN[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+o)/EC.innerWidth:(r.top+o)/EC.innerHeight},e.killAll=function(e){if(lN.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=pN.killAll||[];pN={},t.forEach(function(e){return e()})}},e}();BN.version="3.14.2",BN.saveStyles=function(e){return e?PC(e).forEach(function(e){if(e&&e.style){var t=yN.indexOf(e);t>=0&&yN.splice(t,5),yN.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),xC.core.getCache(e),QC())}}):yN},BN.revert=function(e,t){return wN(!e,t)},BN.create=function(e,t){return new BN(e,t)},BN.refresh=function(e){return e?fN(!0):(kC||BN.register())&&CN(!0)},BN.update=function(e){return++eC.cache&&IN(!0===e?2:0)},BN.clearScrollMemory=xN,BN.maxScroll=function(e,t){return kT(e,t?hC:fC)},BN.getScrollFunc=function(e,t){return mC(pC(e),t?hC:fC)},BN.getById=function(e){return cN[e]},BN.getAll=function(){return lN.filter(function(e){return"ScrollSmoother"!==e.vars.id})},BN.isScrolling=function(){return!!cT},BN.snapDirectional=$T,BN.addEventListener=function(e,t){var n=pN[e]||(pN[e]=[]);~n.indexOf(t)||n.push(t)},BN.removeEventListener=function(e,t){var n=pN[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},BN.batch=function(e,t){var n,r=[],i={},o=t.interval||.016,s=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=xC.delayedCall(o,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),s<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&CT(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return CT(s)&&(s=s(),ZT(BN,"refresh",function(){return s=t.batchMax()})),PC(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(BN.create(t))}),r};var qN,HN=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},YN=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(wC.isTouch?" pinch-zoom":""):"none",t===CC&&e(TC,n)},GN={auto:1,scroll:1},KN=function(e){var t,n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||xC.core.getCache(o),a=aT();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==TC&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!GN[(t=YT(o)).overflowY]&&!GN[t.overflowX]);)o=o.parentNode;s._isScroll=o&&o!==r&&!bT(o)&&(GN[(t=YT(o)).overflowY]||GN[t.overflowX]),s._isScrollT=a}(s._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},QN=function(e,t,n,r){return wC.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&KN,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&ZT(SC,wC.eventTypes[0],$N,!1,!0)},onDisable:function(){return eN(SC,wC.eventTypes[0],$N,!0)}})},XN=/(input|label|select|textarea)/i,$N=function(e){var t=XN.test(e.target.tagName);(t||qN)&&(e._gsapAllow=!0,qN=t)},JN=function(e){NT(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,o,s,a,l,c=e,u=c.normalizeScrollX,d=c.momentum,h=c.allowNestedScroll,f=c.onRelease,p=pC(e.target)||CC,m=xC.core.globals().ScrollSmoother,g=m&&m.get(),v=KC&&(e.content&&pC(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=mC(p,fC),_=mC(p,hC),b=1,w=(wC.isTouch&&EC.visualViewport?EC.visualViewport.scale*EC.visualViewport.width:EC.outerWidth)/EC.innerWidth,x=0,k=CT(d)?function(){return d(t)}:function(){return d||2.8},E=QN(p,e.type,!0,h),S=function(){return i=!1},C=gT,T=gT,N=function(){n=kT(p,fC),T=OC(KC?1:0,n),u&&(C=OC(0,kT(p,hC))),r=kN},I=function(){v._gsap.y=vT(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){N(),o.isActive()&&o.vars.scrollY>n&&(y()>n?o.progress(1)&&y(n):o.resetTo("scrollY",n))};return v&&xC.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return KC&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(S);var e=vT(t.deltaY/2),n=T(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=vT((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=eC.cache,IN()}return!0}y.offset&&I(),i=!0}()||b>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=b;b=vT((EC.visualViewport&&EC.visualViewport.scale||1)/w),o.pause(),e!==b&&YN(p,b>1.01||!u&&"x"),s=_(),a=y(),N(),r=kN},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&I(),t){eC.cache++;var r,i,s=k();u&&(i=(r=_())+.05*s*-e.velocityX/.227,s*=HN(_,r,i,kT(p,hC)),o.vars.scrollX=C(i)),i=(r=y())+.05*s*-e.velocityY/.227,s*=HN(y,r,i,kT(p,fC)),o.vars.scrollY=T(i),o.invalidate().duration(s).play(.01),(KC&&o.vars.scrollY>=n||r>=n-1)&&xC.to({},{onUpdate:P,duration:s})}else l.restart(!0);f&&f(e)},e.onWheel=function(){o._ts&&o.pause(),aT()-x>1e3&&(r=0,x=aT())},e.onChange=function(e,t,n,i,o){if(kN!==r&&N(),t&&u&&_(C(i[2]===t?s+(e.startX-e.x):_()+t-i[1])),n){y.offset&&I();var l=o[2]===n,c=l?a+e.startY-e.y:y()+n-o[1],d=T(c);l&&c!==d&&(a+=d-c),y(d)}(n||t)&&IN()},e.onEnable=function(){YN(p,!u&&"x"),BN.addEventListener("refresh",P),ZT(EC,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},e.onDisable=function(){YN(p,!0),eN(EC,"resize",P),BN.removeEventListener("refresh",P),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new wC(e)).iOS=KC,KC&&!y()&&y(1),KC&&xC.ticker.add(gT),l=t._dc,o=xC.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:zN(y,y(),function(){return o.pause()})},onUpdate:IN,onComplete:l.vars.onComplete}),t};BN.sort=function(e){if(CT(e))return lN.sort(e);var t=EC.pageYOffset||0;return BN.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+EC.innerHeight}),lN.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},BN.observe=function(e){return new wC(e)},BN.normalizeScroll=function(e){if("undefined"===typeof e)return qC;if(!0===e&&qC)return qC.enable();if(!1===e)return qC&&qC.kill(),void(qC=e);var t=e instanceof wC?e:JN(e);return qC&&qC.target===t.target&&qC.kill(),bT(t.target)&&(qC=t),t},BN.core={_getVelocityProp:gC,_inputObserver:QN,_scrollers:eC,_proxies:tC,bridge:{ss:function(){cT||vN("scrollStart"),cT=aT()},ref:function(){return DC}}},_T()&&xC.registerPlugin(BN),fS.registerPlugin(BN);const ZN=()=>{const e=(0,o.useRef)(null);return LS(()=>{e.current&&fS.from(".suit-card",{opacity:0,y:50,duration:.6,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:e.current,start:"top 85%",toggleActions:"play none none none"}})},{scope:e,dependencies:[]}),{containerRef:e}},eI=e=>{let{isFavorite:t,onToggle:n}=e;const r=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(!0);(0,o.useEffect)(()=>{if(s.current)return fS.set(i.current,{fill:t?"#EF4444":"none",stroke:t?"#dc2626":"white"}),void(s.current=!1);const e=fS.timeline();t?e.to(r.current,{scale:1.2,ease:"power1.in",duration:.1}).set(i.current,{fill:"#EF4444",stroke:"#dc2626"}).to(r.current,{scale:1,ease:"elastic.out(1, 0.4)",duration:.4}):e.to(r.current,{scale:.8,ease:"power1.in",duration:.1}).set(i.current,{fill:"none",stroke:"white"}).to(r.current,{scale:1,ease:"power1.out",duration:.1})},[t]);return(0,gS.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&n()},className:"absolute top-4 right-4 h-10 w-10 grid place-items-center bg-black/50 backdrop-blur-sm rounded-full cursor-pointer z-20 focus:outline-none",children:(0,gS.jsx)("div",{ref:r,children:(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,className:"w-6 h-6",children:(0,gS.jsx)("path",{ref:i,strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})})},tI=()=>(0,gS.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-lg bg-surface-container-high",children:[(0,gS.jsx)("div",{className:"relative w-full aspect-[3/4] overflow-hidden bg-surface-container-highest animate-pulse"}),(0,gS.jsxs)("div",{className:"p-4",children:[(0,gS.jsx)("div",{className:"h-5 bg-surface-container-highest rounded w-3/4 mb-2 animate-pulse"}),(0,gS.jsx)("div",{className:"h-4 bg-surface-container-highest rounded w-1/2 animate-pulse"})]})]}),nI=e=>{let{suit:t,isFavorite:n,onToggleFavorite:r,onSelect:i}=e;const{id:s,name:a,price:l,size:c,imageUrl:u,availability:d}=t,h=d&&d.includes("rented"),f=(0,o.useRef)(null);return(0,gS.jsx)("div",{onClick:()=>{i&&i(s)},onMouseEnter:()=>{fS.to(f.current,{y:-8,scale:1.03,duration:.3,ease:"power2.out"})},onMouseLeave:()=>{fS.to(f.current,{y:0,scale:1,duration:.2,ease:"power2.in"})},className:"block w-full rounded-2xl overflow-hidden shadow-lg bg-surface-container-high transition-transform duration-300 ease-in-out cursor-pointer",style:{willChange:"transform"},children:(0,gS.jsx)("div",{ref:f,className:"relative flex flex-col h-full",children:(0,gS.jsxs)("div",{className:"relative w-full aspect-[3/4] overflow-hidden",children:[(0,gS.jsx)("img",{src:u,alt:a,className:"w-full h-full object-cover"}),(0,gS.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),h&&(0,gS.jsx)("div",{className:"absolute top-3 left-3 bg-error text-on-error px-2.5 py-1 text-xs font-bold rounded-full z-10",children:"ALQUILADO"}),(0,gS.jsx)(eI,{isFavorite:n,onToggle:r?()=>r(s):null}),(0,gS.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:(0,gS.jsxs)("div",{className:"flex justify-between items-end",children:[(0,gS.jsxs)("div",{children:[(0,gS.jsx)("h3",{className:"text-lg font-bold leading-tight",children:a}),(0,gS.jsxs)("p",{className:"text-sm text-white/80",children:["Talla: ",c]})]}),(0,gS.jsxs)("p",{className:"text-xl font-bold text-white",children:[l,"\u20ac",(0,gS.jsx)("span",{className:"text-sm font-normal text-white/80",children:"/d\xeda"})]})]})})]})})})};function rI(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function iI(e){return e instanceof rI(e).Element||e instanceof Element}function oI(e){return e instanceof rI(e).HTMLElement||e instanceof HTMLElement}function sI(e){return"undefined"!==typeof ShadowRoot&&(e instanceof rI(e).ShadowRoot||e instanceof ShadowRoot)}var aI=Math.max,lI=Math.min,cI=Math.round;function uI(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dI(){return!/^((?!chrome|android).)*safari/i.test(uI())}function hI(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&oI(e)&&(i=e.offsetWidth>0&&cI(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&cI(r.height)/e.offsetHeight||1);var s=(iI(e)?rI(e):window).visualViewport,a=!dI()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function fI(e){var t=rI(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function pI(e){return e?(e.nodeName||"").toLowerCase():null}function mI(e){return((iI(e)?e.ownerDocument:e.document)||window.document).documentElement}function gI(e){return hI(mI(e)).left+fI(e).scrollLeft}function vI(e){return rI(e).getComputedStyle(e)}function yI(e){var t=vI(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function _I(e,t,n){void 0===n&&(n=!1);var r=oI(t),i=oI(t)&&function(e){var t=e.getBoundingClientRect(),n=cI(t.width)/e.offsetWidth||1,r=cI(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=mI(t),s=hI(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==pI(t)||yI(o))&&(a=function(e){return e!==rI(e)&&oI(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:fI(e);var t}(t)),oI(t)?((l=hI(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=gI(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function bI(e){var t=hI(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function wI(e){return"html"===pI(e)?e:e.assignedSlot||e.parentNode||(sI(e)?e.host:null)||mI(e)}function xI(e){return["html","body","#document"].indexOf(pI(e))>=0?e.ownerDocument.body:oI(e)&&yI(e)?e:xI(wI(e))}function kI(e,t){var n;void 0===t&&(t=[]);var r=xI(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=rI(r),s=i?[o].concat(o.visualViewport||[],yI(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(kI(wI(s)))}function EI(e){return["table","td","th"].indexOf(pI(e))>=0}function SI(e){return oI(e)&&"fixed"!==vI(e).position?e.offsetParent:null}function CI(e){for(var t=rI(e),n=SI(e);n&&EI(n)&&"static"===vI(n).position;)n=SI(n);return n&&("html"===pI(n)||"body"===pI(n)&&"static"===vI(n).position)?t:n||function(e){var t=/firefox/i.test(uI());if(/Trident/i.test(uI())&&oI(e)&&"fixed"===vI(e).position)return null;var n=wI(e);for(sI(n)&&(n=n.host);oI(n)&&["html","body"].indexOf(pI(n))<0;){var r=vI(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var TI="top",NI="bottom",II="right",PI="left",OI="auto",AI=[TI,NI,II,PI],RI="start",DI="end",MI="viewport",LI="popper",jI=AI.reduce(function(e,t){return e.concat([t+"-"+RI,t+"-"+DI])},[]),FI=[].concat(AI,[OI]).reduce(function(e,t){return e.concat([t,t+"-"+RI,t+"-"+DI])},[]),UI=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function zI(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}function VI(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var WI={placement:"bottom",modifiers:[],strategy:"absolute"};function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function qI(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?WI:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},WI,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:iI(e)?kI(e):e.contextElement?kI(e.contextElement):[],popper:kI(t)};var u=function(e){var t=zI(e);return UI.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(BI(t,n)){i.rects={reference:_I(t,CI(n),"fixed"===i.options.strategy),popper:bI(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:VI(function(){return new Promise(function(e){l.forceUpdate(),e(i)})}),destroy:function(){c(),a=!0}};if(!BI(e,t))return l;function c(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var HI={passive:!0};function YI(e){return e.split("-")[0]}function GI(e){return e.split("-")[1]}function KI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function QI(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?YI(i):null,s=i?GI(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case TI:t={x:a,y:n.y-r.height};break;case NI:t={x:a,y:n.y+n.height};break;case II:t={x:n.x+n.width,y:l};break;case PI:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?KI(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case RI:t[c]=t[c]-(n[u]/2-r[u]/2);break;case DI:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var XI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $I(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),_=PI,b=TI,w=window;if(c){var x=CI(n),k="clientHeight",E="clientWidth";if(x===rI(n)&&"static"!==vI(x=mI(n)).position&&"absolute"===a&&(k="scrollHeight",E="scrollWidth"),i===TI||(i===PI||i===II)&&o===DI)b=NI,m-=(d&&x===w&&w.visualViewport?w.visualViewport.height:x[k])-r.height,m*=l?1:-1;if(i===PI||(i===TI||i===NI)&&o===DI)_=II,f-=(d&&x===w&&w.visualViewport?w.visualViewport.width:x[E])-r.width,f*=l?1:-1}var S,C=Object.assign({position:a},c&&XI),T=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:cI(n*i)/i||0,y:cI(r*i)/i||0}}({x:f,y:m},rI(n)):{x:f,y:m};return f=T.x,m=T.y,l?Object.assign({},C,((S={})[b]=y?"0":"",S[_]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",S)):Object.assign({},C,((t={})[b]=y?m+"px":"",t[_]=v?f+"px":"",t.transform="",t))}const JI={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];oI(i)&&pI(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});oI(r)&&pI(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const ZI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=FI.reduce(function(e,n){return e[n]=function(e,t,n){var r=YI(e),i=[PI,TI].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[PI,II].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var eP={left:"right",right:"left",bottom:"top",top:"bottom"};function tP(e){return e.replace(/left|right|bottom|top/g,function(e){return eP[e]})}var nP={start:"end",end:"start"};function rP(e){return e.replace(/start|end/g,function(e){return nP[e]})}function iP(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sI(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oP(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sP(e,t,n){return t===MI?oP(function(e,t){var n=rI(e),r=mI(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=dI();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+gI(e),y:l}}(e,n)):iI(t)?function(e,t){var n=hI(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):oP(function(e){var t,n=mI(e),r=fI(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=aI(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=aI(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+gI(e),l=-r.scrollTop;return"rtl"===vI(i||n).direction&&(a+=aI(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(mI(e)))}function aP(e,t,n,r){var i="clippingParents"===t?function(e){var t=kI(wI(e)),n=["absolute","fixed"].indexOf(vI(e).position)>=0&&oI(e)?CI(e):e;return iI(n)?t.filter(function(e){return iI(e)&&iP(e,n)&&"body"!==pI(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(t,n){var i=sP(e,n,r);return t.top=aI(i.top,t.top),t.right=lI(i.right,t.right),t.bottom=lI(i.bottom,t.bottom),t.left=aI(i.left,t.left),t},sP(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function lP(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function cP(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function uP(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?MI:c,d=n.elementContext,h=void 0===d?LI:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=lP("number"!==typeof g?g:cP(g,AI)),y=h===LI?"reference":LI,_=e.rects.popper,b=e.elements[p?y:h],w=aP(iI(b)?b:b.contextElement||mI(e.elements.popper),l,u,s),x=hI(e.elements.reference),k=QI({reference:x,element:_,strategy:"absolute",placement:i}),E=oP(Object.assign({},_,k)),S=h===LI?E:x,C={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},T=e.modifiersData.offset;if(h===LI&&T){var N=T[i];Object.keys(C).forEach(function(e){var t=[II,NI].indexOf(e)>=0?1:-1,n=[TI,NI].indexOf(e)>=0?"y":"x";C[e]+=N[n]*t})}return C}const dP={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=YI(g),y=l||(v===g||!p?[tP(g)]:function(e){if(YI(e)===OI)return[];var t=tP(e);return[rP(e),t,rP(t)]}(g)),_=[g].concat(y).reduce(function(e,n){return e.concat(YI(n)===OI?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?FI:l,u=GI(r),d=u?a?jI:jI.filter(function(e){return GI(e)===u}):AI,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var f=h.reduce(function(t,n){return t[n]=uP(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[YI(n)],t},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)},[]),b=t.rects.reference,w=t.rects.popper,x=new Map,k=!0,E=_[0],S=0;S<_.length;S++){var C=_[S],T=YI(C),N=GI(C)===RI,I=[TI,NI].indexOf(T)>=0,P=I?"width":"height",O=uP(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),A=I?N?II:PI:N?NI:TI;b[P]>w[P]&&(A=tP(A));var R=tP(A),D=[];if(o&&D.push(O[T]<=0),a&&D.push(O[A]<=0,O[R]<=0),D.every(function(e){return e})){E=C,k=!1;break}x.set(C,D)}if(k)for(var M=function(e){var t=_.find(function(t){var n=x.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},L=p?3:1;L>0;L--){if("break"===M(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function hP(e,t,n){return aI(e,lI(t,n))}const fP={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=uP(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=YI(t.placement),y=GI(t.placement),_=!y,b=KI(v),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,S="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(x){if(o){var I,P="y"===b?TI:PI,O="y"===b?NI:II,A="y"===b?"height":"width",R=x[b],D=R+g[P],M=R-g[O],L=f?-E[A]/2:0,j=y===RI?k[A]:E[A],F=y===RI?-E[A]:-k[A],U=t.elements.arrow,z=f&&U?bI(U):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=V[P],B=V[O],q=hP(0,k[A],z[A]),H=_?k[A]/2-L-q-W-C.mainAxis:j-q-W-C.mainAxis,Y=_?-k[A]/2+L+q+B+C.mainAxis:F+q+B+C.mainAxis,G=t.elements.arrow&&CI(t.elements.arrow),K=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Q=null!=(I=null==T?void 0:T[b])?I:0,X=R+Y-Q,$=hP(f?lI(D,R+H-Q-K):D,R,f?aI(M,X):M);x[b]=$,N[b]=$-R}if(a){var J,Z="x"===b?TI:PI,ee="x"===b?NI:II,te=x[w],ne="y"===w?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[TI,PI].indexOf(v),se=null!=(J=null==T?void 0:T[w])?J:0,ae=oe?re:te-k[ne]-E[ne]-se+C.altAxis,le=oe?te+k[ne]+E[ne]-se-C.altAxis:ie,ce=f&&oe?function(e,t,n){var r=hP(e,t,n);return r>n?n:r}(ae,te,le):hP(f?ae:re,te,f?le:ie);x[w]=ce,N[w]=ce-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};const pP={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=YI(n.placement),l=KI(a),c=[PI,II].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return lP("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:cP(e,AI))}(i.padding,n),d=bI(o),h="y"===l?TI:PI,f="y"===l?NI:II,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=CI(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,_=u[h],b=v-d[c]-u[f],w=v/2-d[c]/2+y,x=hP(_,w,b),k=l;n.modifiersData[r]=((t={})[k]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&iP(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mP(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function gP(e){return[TI,II,NI,PI].some(function(t){return e[t]>=0})}var vP=qI({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=rI(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,HI)}),a&&l.addEventListener("resize",n.update,HI),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,HI)}),a&&l.removeEventListener("resize",n.update,HI)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=QI({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:YI(t.placement),variation:GI(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$I(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$I(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},JI,ZI,dP,fP,pP,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=uP(t,{elementContext:"reference"}),a=uP(t,{altBoundary:!0}),l=mP(s,r),c=mP(a,i,o),u=gP(l),d=gP(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),yP=n(901),_P=n.n(yP),bP=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},wP="undefined"!==typeof window&&window.document&&window.document.createElement?o.useLayoutEffect:o.useEffect,xP=[];const kP=()=>(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),EP=e=>{let{label:t,isSelected:n,onClick:r}=e;const i=(0,o.useRef)(null);return(0,gS.jsx)("button",{ref:i,onClick:()=>{fS.to(i.current,{scale:.9,duration:.1,yoyo:!0,repeat:1,ease:"power1.inOut",onComplete:()=>{fS.set(i.current,{scale:1})}}),r()},className:"px-4 py-2 rounded-lg border-2 text-sm font-semibold transition-all duration-200 ".concat(n?"bg-primary border-primary text-on-primary":"bg-surface-container border-outline/50 text-on-surface-variant hover:bg-surface-container-high hover:border-outline"),children:t})},SP=e=>{let{max:t,value:n,onChange:r}=e;const i=t>0?n/t*100:0,s=(0,o.useRef)(null),a=()=>{fS.to(s.current,{scale:1.25,duration:.2,ease:"power2.out"})},l=()=>{fS.to(s.current,{scale:1,duration:.2,ease:"power2.in"})};return(0,gS.jsxs)("div",{className:"px-6 pt-4",children:[(0,gS.jsx)("style",{children:"\n      input[type=range]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none; \n        width: 0;\n        height: 0;\n        opacity: 0;\n      }\n      input[type=range]::-moz-range-thumb {\n        width: 0;\n        height: 0;\n        border: 0;\n      }\n      input[type=range]::-ms-thumb {\n        width: 0;\n        height: 0;\n      }\n    "}),(0,gS.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,gS.jsx)("label",{htmlFor:"price",className:"font-semibold text-on-surface",children:"Precio"}),(0,gS.jsxs)("span",{className:"px-3 py-1 text-sm font-bold rounded-full bg-primary/20 text-primary",children:["Hasta ",Math.round(n),"\u20ac"]})]}),(0,gS.jsxs)("div",{className:"relative w-full h-10 flex items-center",children:[(0,gS.jsx)("input",{type:"range",id:"price",min:0,max:t,value:n,onChange:e=>r(Number(e.target.value)),onMouseDown:a,onMouseUp:l,onTouchStart:a,onTouchEnd:l,className:"w-full h-2 bg-transparent appearance-none cursor-pointer z-10 relative"}),(0,gS.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-2 -translate-y-1/2 rounded-full bg-surface-container-highest overflow-hidden pointer-events-none",children:(0,gS.jsx)("div",{className:"h-full bg-primary",style:{width:"".concat(i,"%")}})}),(0,gS.jsx)("div",{ref:s,className:"absolute top-1/2 h-7 w-7 flex items-center justify-center bg-primary rounded-full text-on-primary font-bold text-base -translate-y-1/2 -translate-x-1/2 shadow-lg pointer-events-none",style:{left:"".concat(i,"%")},children:"\u20ac"})]})]})},CP=e=>{var t,n,r;let{isOpen:i,onClose:s,availableFilters:a,activeFilters:l,onFilterChange:c,onResetFilters:u,priceFilter:d,onPriceChange:h,maxPrice:f}=e;const p=(0,o.useRef)(),m=(0,o.useRef)(null),g=(0,o.useRef)(null),v=(0,o.useRef)(null),y=(0,o.useRef)(null);(0,o.useEffect)(()=>{m.current=fS.timeline({paused:!0}).to(".filter-backdrop",{autoAlpha:1,duration:.3}).to(p.current,{x:0,duration:.4,ease:"power3.out"},"-=0.2")},[]),(0,o.useEffect)(()=>(i?(document.body.style.overflow="hidden",m.current.play()):(document.body.style.overflow="auto",m.current&&m.current.progress()>0&&m.current.reverse()),()=>{document.body.style.overflow="auto"}),[i]);const _=()=>{fS.to(y.current,{rotation:"+=180",scale:.8,duration:.3,ease:"power2.inOut",onComplete:()=>{s(),fS.set(y.current,{rotation:"-=180",scale:1})}})},b=e=>{let{title:t,options:n,filterKey:r}=e;return(0,gS.jsxs)("div",{className:"py-6 border-b border-outline/30",children:[(0,gS.jsx)("h4",{className:"font-semibold text-on-surface mb-4 px-6",children:t}),(0,gS.jsx)("div",{className:"flex flex-wrap gap-3 px-6",children:n.map(e=>{var t;return(0,gS.jsx)(EP,{label:e,isSelected:null===(t=l[r])||void 0===t?void 0:t.includes(e),onClick:()=>c(r,e)},e)})})]})};return(0,gS.jsxs)("div",{className:"fixed inset-0 z-50 ".concat(i?"pointer-events-auto":"pointer-events-none"),children:[(0,gS.jsx)("div",{className:"filter-backdrop fixed inset-0 bg-black/30 opacity-0 backdrop-blur-sm",onClick:_}),(0,gS.jsxs)("div",{ref:p,className:"fixed top-0 right-0 h-full w-full max-w-md bg-surface-container shadow-2xl flex flex-col transform translate-x-full rounded-l-2xl overflow-hidden",children:[(0,gS.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-outline",children:[(0,gS.jsx)("h3",{className:"text-xl font-bold text-on-surface ml-2",children:"Filtros"}),(0,gS.jsx)("button",{ref:y,onClick:_,className:"p-2 rounded-full hover:bg-surface-container-high transition-colors",children:(0,gS.jsx)(kP,{})})]}),(0,gS.jsxs)("div",{className:"flex-grow overflow-y-auto",children:[(0,gS.jsx)("div",{className:"py-4 border-b border-outline/30",children:(0,gS.jsx)(SP,{max:f,value:d,onChange:h})}),(null===(t=a.sizes)||void 0===t?void 0:t.length)>0&&(0,gS.jsx)(b,{title:"Talla",options:a.sizes,filterKey:"size"}),(null===(n=a.eventTypes)||void 0===n?void 0:n.length)>0&&(0,gS.jsx)(b,{title:"Tipo de Evento",options:a.eventTypes,filterKey:"eventType"}),(null===(r=a.conditions)||void 0===r?void 0:r.length)>0&&(0,gS.jsx)(b,{title:"Condici\xf3n",options:a.conditions,filterKey:"condition"})]}),(0,gS.jsxs)("div",{className:"p-4 border-t border-outline flex items-center gap-4 bg-surface-container",children:[(0,gS.jsx)("button",{ref:g,onClick:()=>{fS.to(g.current,{scale:.95,yoyo:!0,repeat:1,duration:.15,ease:"power1.inOut"}),u()},className:"w-full h-12 rounded-full border border-outline text-on-surface-variant font-bold hover:bg-surface-container-high transition-colors text-sm",children:"Limpiar Filtros"}),(0,gS.jsx)("button",{ref:v,onClick:()=>{fS.to(v.current,{scale:.95,yoyo:!0,repeat:1,duration:.15,ease:"power1.inOut",onComplete:s})},className:"w-full h-12 rounded-full bg-primary text-on-primary font-bold hover:bg-primary/90 transition-colors text-sm",children:"Ver Resultados"})]})]})]})},TP=()=>(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),NP=()=>(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),IP=()=>(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.95.95c.45 0 .89.18 1.2.5l.44.44c.32.32.5.75.5 1.2v2.81c0 .45-.18.89-.5 1.2l-.44.44a1.7 1.7 0 01-1.2.5h-2.1a1.7 1.7 0 01-1.2-.5l-.44-.44a1.7 1.7 0 01-.5-1.2V2.6c0-.45.18-.89.5-1.2l.44-.44c.32-.32.75-.5 1.2-.5h2.1zm8.49 8.49c.45 0 .89.18 1.2.5l.44.44c.32.32.5.75.5 1.2v2.81c0 .45-.18.89-.5 1.2l-.44.44a1.7 1.7 0 01-1.2.5h-2.1a1.7 1.7 0 01-1.2-.5l-.44-.44a1.7 1.7 0 01-.5-1.2v-2.8c0-.45.18-.89.5-1.2l.44-.44c.32-.32.75-.5 1.2-.5h2.1zM1.4 9.44c.45 0 .89.18 1.2.5l.44.44c.32.32.5.75.5 1.2v2.81c0 .45-.18.89-.5 1.2l-.44.44a1.7 1.7 0 01-1.2.5H.45a1.7 1.7 0 01-1.2-.5L-.2 15.6a1.7 1.7 0 01-.5-1.2v-2.8c0-.45.18-.89.5-1.2l.44-.44a1.7 1.7 0 011.2-.5h2.1z"})}),PP=e=>{let{allSuits:t,onSearch:n}=e;const[r,i]=(0,o.useState)(""),[s,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)([]),u=se(),d=(0,o.useRef)(null);(0,o.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("searchHistory")||"[]");c(e)},[]),(0,o.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const h=e=>{e.trim()&&(i(e),n(e),(e=>{const t=[e,...l.filter(t=>t!==e)].slice(0,5);c(t),localStorage.setItem("searchHistory",JSON.stringify(t))})(e),a(!1),u("/?search=".concat(encodeURIComponent(e))))},f=r.length>1?t.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.marca.toLowerCase().includes(r.toLowerCase())||e.color.toLowerCase().includes(r.toLowerCase())||e.tipoEvento.toLowerCase().includes(r.toLowerCase())).slice(0,5):[];return(0,gS.jsxs)("div",{ref:d,className:"relative w-full max-w-lg mx-auto",children:[(0,gS.jsxs)("div",{className:"flex items-center bg-surface-container-high rounded-full shadow-md transition-all duration-300 ease-in-out focus-within:shadow-lg",children:[(0,gS.jsx)("div",{className:"pl-5 pr-2 text-on-surface-variant",children:(0,gS.jsx)(TP,{})}),(0,gS.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),onFocus:()=>a(!0),onKeyDown:e=>"Enter"===e.key&&h(r),placeholder:"Buscar trajes por nombre, marca, color...",className:"w-full h-12 bg-transparent text-on-surface placeholder:text-on-surface-variant focus:outline-none"})]}),s&&(0,gS.jsxs)("div",{className:"absolute top-full mt-2 w-full bg-surface-container rounded-2xl shadow-xl overflow-hidden z-20 animate-fade-in-fast",children:[r.length>1&&f.length>0&&(0,gS.jsxs)("div",{className:"py-2",children:[(0,gS.jsx)("h3",{className:"text-xs font-semibold text-on-surface-variant uppercase px-4 py-2",children:"Resultados"}),(0,gS.jsx)("ul",{children:f.map(e=>(0,gS.jsxs)("li",{onClick:()=>h(e.name),className:"px-4 py-3 hover:bg-surface-container-high cursor-pointer text-on-surface flex items-center gap-4",children:[(0,gS.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-10 h-10 object-cover rounded-lg"}),(0,gS.jsx)("span",{children:e.name})]},e.id))})]}),0===r.length&&l.length>0&&(0,gS.jsxs)("div",{className:"py-2",children:[(0,gS.jsx)("h3",{className:"text-xs font-semibold text-on-surface-variant uppercase px-4 py-2",children:"Historial"}),(0,gS.jsx)("ul",{children:l.map(e=>(0,gS.jsxs)("li",{onClick:()=>h(e),className:"px-4 py-2 hover:bg-surface-container-high cursor-pointer text-on-surface flex items-center gap-3",children:[(0,gS.jsx)(NP,{})," ",(0,gS.jsx)("span",{children:e})]},e))})]}),0===r.length&&(0,gS.jsxs)("div",{className:"py-2",children:[(0,gS.jsx)("h3",{className:"text-xs font-semibold text-on-surface-variant uppercase px-4 py-2",children:"Sugerencias"}),(0,gS.jsx)("ul",{children:["Boda","Esmoquin","Lino","Verano","Gala"].map(e=>(0,gS.jsxs)("li",{onClick:()=>h(e),className:"px-4 py-2 hover:bg-surface-container-high cursor-pointer text-on-surface flex items-center gap-3",children:[(0,gS.jsx)(IP,{})," ",(0,gS.jsx)("span",{children:e})]},e))})]})]})]})},OP=e=>(0,gS.jsx)("svg",ze(ze({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})})),AP=()=>(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 flex-shrink-0",children:(0,gS.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.052-.143z",clipRule:"evenodd"})}),RP=()=>{const e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{const t=fS.timeline({paused:!0,repeat:1,yoyo:!0});fS.utils.toArray(".knob",e.current).forEach((e,n)=>{t.to(e,{attr:{cx:n%2===0?17:7}},0)});const n=()=>t.play(0),r=e.current;return r.addEventListener("mouseenter",n),()=>r.removeEventListener("mouseenter",n)},[]),(0,gS.jsxs)("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5"}),(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5"}),(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 18h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5"}),(0,gS.jsx)("circle",{className:"knob",cx:"10.5",cy:"6",r:"1.5",fill:"currentColor"}),(0,gS.jsx)("circle",{className:"knob",cx:"10.5",cy:"12",r:"1.5",fill:"currentColor"}),(0,gS.jsx)("circle",{className:"knob",cx:"10.5",cy:"18",r:"1.5",fill:"currentColor"})]})},DP=e=>{let{selected:t,onSelect:n}=e;const r={default:"Relevancia","price-asc":"Precio: Menor a Mayor","price-desc":"Precio: Mayor a Menor"},[i,s]=(0,o.useState)(!1),a=(0,o.useRef)(null),c=(0,o.useRef)(null),{styles:u,attributes:d}=function(e,t,n){void 0===n&&(n={});var r=o.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||xP},s=o.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=s[0],c=s[1],u=o.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l.flushSync(function(){c({styles:bP(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:bP(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),d=o.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return _P()(r.current,e)?r.current||e:(r.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),h=o.useRef();return wP(function(){h.current&&h.current.setOptions(d)},[d]),wP(function(){if(null!=e&&null!=t){var r=(n.createPopper||vP)(e,t,d);return h.current=r,function(){r.destroy(),h.current=null}}},[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:a.styles,attributes:a.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}(c.current,a.current,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,8]}}]});return(0,o.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),fS.set(a.current,{autoAlpha:0,scale:.95}),()=>document.removeEventListener("mousedown",e)},[]),(0,o.useEffect)(()=>{fS.to(a.current,{autoAlpha:i?1:0,scale:i?1:.95,duration:.2,ease:"power2.out"})},[i]),(0,gS.jsxs)("div",{className:"relative",ref:c,children:[(0,gS.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center justify-between w-full h-10 px-4 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors text-sm font-medium text-on-surface focus:outline-none focus:ring-2 focus:ring-primary overflow-hidden",children:[(0,gS.jsx)("span",{className:"truncate pr-2",children:r[t]}),(0,gS.jsx)(OP,{className:"h-5 w-5 flex-shrink-0 text-on-surface-variant transition-transform duration-300 ".concat(i?"rotate-180":"")})]}),(0,gS.jsx)("div",ze(ze({ref:a,style:u.popper},d.popper),{},{className:"z-10 w-64 bg-surface-container-high rounded-xl shadow-lg border border-outline/30 overflow-hidden",children:Object.entries(r).map(e=>{let[r,i]=e;return(0,gS.jsxs)("button",{onClick:()=>{n(r),s(!1)},className:"flex items-center justify-between w-full text-left px-4 py-2.5 text-sm font-medium text-on-surface-variant hover:bg-primary/10 hover:text-on-surface transition-colors duration-150",children:[(0,gS.jsx)("span",{className:"truncate pr-2",children:i}),t===r&&(0,gS.jsx)(AP,{})]},r)})}))]})},MP=e=>{let{favorites:t,onToggleFavorite:n}=e;const{docs:r,loading:i,error:s}=pS("trajes"),{containerRef:a}=ZN(),l=ie(),c=(se(),(0,o.useMemo)(()=>r.map(e=>ze(ze({},e),{},{price:e.price||e.precioPorDia,name:e.name||e.nombre,eventType:e.eventType?e.eventType.charAt(0).toUpperCase()+e.eventType.slice(1):"No especificado",condition:e.condition?e.condition.charAt(0).toUpperCase()+e.condition.slice(1):"No especificado"})),[r])),[u,d]=(0,o.useState)(""),[h,f]=(0,o.useState)("default"),[p,m]=(0,o.useState)({size:[],eventType:[],condition:[]}),[g,v]=(0,o.useState)(0),[y,_]=(0,o.useState)(!1),{availableFilters:b,maxPrice:w}=(0,o.useMemo)(()=>{const e=new Set,t=new Set,n=new Set;let r=0;return c.forEach(i=>{i.size&&e.add(i.size),i.eventType&&t.add(i.eventType),i.condition&&n.add(i.condition),i.price>r&&(r=i.price)}),{availableFilters:{sizes:[...e].sort((e,t)=>e.localeCompare(t,void 0,{numeric:!0})),eventTypes:[...t].sort(),conditions:[...n].sort()},maxPrice:r>0?r:500}},[c]);(0,o.useEffect)(()=>{v(w)},[w]),(0,o.useEffect)(()=>{const e=new URLSearchParams(l.search).get("search")||"";d(e)},[l.search]);const x=(0,o.useMemo)(()=>{let e=[...c];if(u){const t=u.toLowerCase();e=e.filter(e=>e.name&&e.name.toLowerCase().includes(t)||e.marca&&e.marca.toLowerCase().includes(t)||e.color&&e.color.toLowerCase().includes(t)||e.eventType&&e.eventType.toLowerCase().includes(t)||e.material&&e.material.toLowerCase().includes(t))}return e=e.filter(e=>{const t=0===p.size.length||p.size.includes(e.size),n=0===p.eventType.length||p.eventType.includes(e.eventType),r=0===p.condition.length||p.condition.includes(e.condition),i=e.price<=g;return t&&n&&r&&i}),"price-asc"===h?e.sort((e,t)=>e.price-t.price):"price-desc"===h&&e.sort((e,t)=>t.price-e.price),e},[c,u,h,p,g]),k=Object.values(p).flat().length+(g<w?1:0);return(0,gS.jsxs)(gS.Fragment,{children:[(0,gS.jsx)(CP,{isOpen:y,onClose:()=>_(!1),availableFilters:b,activeFilters:p,onFilterChange:(e,t)=>{m(n=>ze(ze({},n),{},{[e]:n[e].includes(t)?n[e].filter(e=>e!==t):[...n[e],t]}))},onResetFilters:()=>{m({size:[],eventType:[],condition:[]}),v(w)},priceFilter:g,onPriceChange:v,maxPrice:w}),(0,gS.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col space-y-8 px-4 sm:px-6 lg:px-8 py-8",children:[(0,gS.jsxs)("header",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,gS.jsx)("div",{className:"flex-grow w-full",children:(0,gS.jsx)(PP,{allSuits:c,onSearch:e=>{d(e)}})}),(0,gS.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,gS.jsxs)("button",{onClick:()=>_(!0),className:"relative flex-grow sm:flex-grow-0 flex items-center justify-center space-x-2 h-10 px-4 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors text-sm",children:[(0,gS.jsx)(RP,{}),(0,gS.jsx)("span",{className:"font-medium text-on-surface",children:"Filtros"}),k>0&&(0,gS.jsx)("div",{className:"absolute -top-1 -right-1 h-5 w-5 grid place-items-center rounded-full bg-primary text-xs font-bold text-on-primary animate-pop-in",children:k})]}),(0,gS.jsx)("div",{className:"flex-grow sm:flex-grow-0",children:(0,gS.jsx)(DP,{selected:h,onSelect:f})})]})]}),(0,gS.jsx)("main",{className:"min-h-[400px]",children:i?(0,gS.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,gS.jsx)(tI,{},t))}):s?(0,gS.jsx)("p",{className:"text-center text-error p-8",children:"Error al cargar los trajes."}):0!==x.length||i?(0,gS.jsx)("div",{ref:a,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:x.map(e=>(0,gS.jsx)(nI,{suit:e,isFavorite:t.has(e.id),onToggleFavorite:n},e.id))}):(0,gS.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,gS.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"No se encontraron resultados"}),(0,gS.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Intenta ajustar tu b\xfasqueda o filtros para encontrar lo que buscas."})]})})]})]})},LP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function jP(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const FP={date:jP({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:jP({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:jP({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},UP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zP(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function VP(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,e=>e.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}function WP(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;return{value:s,rest:t.slice(i.length)}}}const BP={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=LP[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:FP,formatRelative:(e,t,n,r)=>UP[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:zP({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:zP({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:zP({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:zP({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:zP({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:WP({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:VP({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:VP({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:VP({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:VP({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:VP({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let qP={};function HP(){return qP}Math.pow(10,8);const YP=6048e5,GP=Symbol.for("constructDateFrom");function KP(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&GP in e?e[GP](t):e instanceof Date?new e.constructor(t):new Date(t)}function QP(e,t){return KP(t||e,e)}function XP(e){const t=QP(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function $P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=KP.bind(null,e||n.find(e=>"object"===typeof e));return n.map(i)}function JP(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function ZP(e,t,n){const[r,i]=$P(null===n||void 0===n?void 0:n.in,e,t),o=JP(r),s=JP(i),a=+o-XP(o),l=+s-XP(s);return Math.round((a-l)/864e5)}function eO(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tO(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in);return ZP(n,eO(n))+1}function nO(e,t){var n,r,i,o,s,a;const l=HP(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=QP(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function rO(e,t){return nO(e,ze(ze({},t),{},{weekStartsOn:1}))}function iO(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=KP(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=rO(i),s=KP(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=rO(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function oO(e,t){const n=iO(e,t),r=KP((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),rO(r)}function sO(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in),r=+rO(n)-+oO(n);return Math.round(r/YP)+1}function aO(e,t){var n,r,i,o,s,a;const l=QP(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=HP(),d=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,h=KP((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=nO(h,t),p=KP((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=nO(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function lO(e,t){var n,r,i,o,s,a;const l=HP(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=aO(e,t),d=KP((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return nO(d,t)}function cO(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in),r=+nO(n,t)-+lO(n,t);return Math.round(r/YP)+1}function uO(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const dO={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return uO("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):uO(n+1,2)},d:(e,t)=>uO(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>uO(e.getHours()%12||12,t.length),H:(e,t)=>uO(e.getHours(),t.length),m:(e,t)=>uO(e.getMinutes(),t.length),s:(e,t)=>uO(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return uO(Math.trunc(r*Math.pow(10,n-3)),t.length)}},hO="midnight",fO="noon",pO="morning",mO="afternoon",gO="evening",vO="night",yO={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return dO.y(e,t)},Y:function(e,t,n,r){const i=aO(e,r),o=i>0?i:1-i;if("YY"===t){return uO(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):uO(o,t.length)},R:function(e,t){return uO(iO(e),t.length)},u:function(e,t){return uO(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return uO(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return uO(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return dO.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return uO(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=cO(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):uO(i,t.length)},I:function(e,t,n){const r=sO(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):uO(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):dO.d(e,t)},D:function(e,t,n){const r=tO(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):uO(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return uO(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return uO(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return uO(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?fO:0===r?hO:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?gO:r>=12?mO:r>=4?pO:vO,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return dO.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):dO.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):uO(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):uO(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):dO.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):dO.s(e,t)},S:function(e,t){return dO.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return bO(r);case"XXXX":case"XX":return wO(r);default:return wO(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return bO(r);case"xxxx":case"xx":return wO(r);default:return wO(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_O(r,":");default:return"GMT"+wO(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_O(r,":");default:return"GMT"+wO(r,":")}},t:function(e,t,n){return uO(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return uO(+e,t.length)}};function _O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+uO(o,2)}function bO(e,t){if(e%60===0){return(e>0?"-":"+")+uO(Math.abs(e)/60,2)}return wO(e,t)}function wO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+uO(Math.trunc(r/60),2)+t+uO(r%60,2)}const xO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},kO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},EO={p:kO,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return xO(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",xO(r,t)).replace("{{time}}",kO(i,t))}},SO=/^D+$/,CO=/^Y+$/,TO=["D","DD","YY","YYYY"];function NO(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function IO(e){return!(!NO(e)&&"number"!==typeof e||isNaN(+QP(e)))}const PO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AO=/^'([^]*?)'?$/,RO=/''/g,DO=/[a-zA-Z]/;function MO(e,t,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g;const v=HP(),y=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:v.locale)&&void 0!==r?r:BP,_=null!==(o=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:v.firstWeekContainsDate)&&void 0!==s?s:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,b=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,w=QP(e,null===n||void 0===n?void 0:n.in);if(!IO(w))throw new RangeError("Invalid time value");let x=t.match(OO).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,EO[t])(e,y.formatLong)}return e}).join("").match(PO).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:LO(e)};if(yO[t])return{isToken:!0,value:e};if(t.match(DO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(x=y.localize.preprocessor(w,x));const k={firstWeekContainsDate:_,weekStartsOn:b,locale:y};return x.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return CO.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return SO.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),TO.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,yO[i[0]])(w,i,y.localize,k)}).join("")}function LO(e){const t=e.match(AO);return t?t[1].replace(RO,"'"):e}const jO=ze(ze({},BP),{},{labels:{labelDayButton:(e,t,n,r)=>{let i;i=r&&"function"===typeof r.format?r.format.bind(r):(e,t)=>MO(e,t,ze({locale:BP},n));let o=i(e,"PPPP");return t.today&&(o="Today, ".concat(o)),t.selected&&(o="".concat(o,", selected")),o},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>"Week ".concat(e),labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return r=n&&"function"===typeof n.format?n.format.bind(n):(e,n)=>MO(e,n,ze({locale:BP},t)),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let i;i=r&&"function"===typeof r.format?r.format.bind(r):(e,t)=>MO(e,t,ze({locale:BP},n));let o=i(e,"PPPP");return null!==t&&void 0!==t&&t.today&&(o="Today, ".concat(o)),o},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return r=n&&"function"===typeof n.format?n.format.bind(n):(e,n)=>MO(e,n,ze({locale:BP},t)),r(e,"cccc")}}});Symbol.for("constructDateFrom");const FO={},UO={};function zO(e,t){try{const n=(FO[e]||(FO[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return n in UO?UO[n]:WO(n,n.split(":"))}catch(n){if(e in UO)return UO[e];const t=null===e||void 0===e?void 0:e.match(VO);return t?WO(e,t.slice(1)):NaN}}const VO=/([+-]\d\d):?(\d\d)?/;function WO(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return UO[e]=60*n+r>0?60*n+r+i:60*n-r-i}class BO extends Date{constructor(){super();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length>1&&"string"===typeof t[t.length-1]&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(zO(this.timeZone,this))?this.setTime(NaN):t.length?"number"===typeof t[0]&&(1===t.length||2===t.length&&"number"!==typeof t[1])?this.setTime(t[0]):"string"===typeof t[0]?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),YO(this),HO(this)):this.setTime(Date.now())}static tz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?new BO(...n,e):new BO(Date.now(),e)}withTimeZone(e){return new BO(+this,e)}getTimezoneOffset(){const e=-zO(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),HO(this),+this}[Symbol.for("constructDateFrom")](e){return new BO(+new Date(e),this.timeZone)}}const qO=/^(get|set)(?!UTC)/;function HO(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(60*-zO(e.timeZone,e)))}function YO(e){const t=zO(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),o=i- -new Date(+r).getTimezoneOffset(),s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const a=i-n;a&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+a);const l=new Date(+e);l.setUTCSeconds(0);const c=i>0?l.getSeconds():(l.getSeconds()-60)%60,u=Math.round(-60*zO(e.timeZone,e))%60;(u||c)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+c));const d=zO(e.timeZone,e),h=d>0?Math.floor(d):Math.ceil(d),f=-new Date(+e).getTimezoneOffset()-h-a;if(h!==n&&f){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const t=zO(e.timeZone,e),n=h-(t>0?Math.floor(t):Math.ceil(t));n&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+n),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+n))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!qO.test(e))return;const t=e.replace(qO,"$1UTC");BO.prototype[t]&&(e.startsWith("get")?BO.prototype[e]=function(){return this.internal[t]()}:(BO.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),YO(e),+this},BO.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),HO(this),+this}))});class GO extends BO{static tz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?new GO(...n,e):new GO(Date.now(),e)}toISOString(){const[e,t,n]=this.tzComponents(),r="".concat(e).concat(t,":").concat(n);return this.internal.toISOString().slice(0,-1)+r}toString(){return"".concat(this.toDateString()," ").concat(this.toTimeString())}toDateString(){const[e,t,n,r]=this.internal.toUTCString().split(" ");return"".concat(null===e||void 0===e?void 0:e.slice(0,-1)," ").concat(n," ").concat(t," ").concat(r)}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,n,r]=this.tzComponents();return"".concat(e," GMT").concat(t).concat(n).concat(r," (").concat(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"long";return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}(this.timeZone,this),")")}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,ze(ze({},t),{},{timeZone:(null===t||void 0===t?void 0:t.timeZone)||this.timeZone}))}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,ze(ze({},t),{},{timeZone:(null===t||void 0===t?void 0:t.timeZone)||this.timeZone}))}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,ze(ze({},t),{},{timeZone:(null===t||void 0===t?void 0:t.timeZone)||this.timeZone}))}tzComponents(){const e=this.getTimezoneOffset();return[e>0?"-":"+",String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),String(Math.abs(e)%60).padStart(2,"0")]}withTimeZone(e){return new GO(+this,e)}[Symbol.for("constructDateFrom")](e){return new GO(+new Date(e),this.timeZone)}}function KO(e,t,n){const r=QP(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?KP((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function QO(e,t,n){const r=QP(e,null===n||void 0===n?void 0:n.in);if(isNaN(t))return KP((null===n||void 0===n?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),o=KP((null===n||void 0===n?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);return i>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function XO(e,t,n){return KO(e,7*t,n)}function $O(e,t,n){return QO(e,12*t,n)}function JO(e,t,n){const[r,i]=$P(null===n||void 0===n?void 0:n.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function ZO(e,t){const[n,r]=$P(e,t.start,t.end);return{start:n,end:r}}function eA(e,t){var n;const{start:r,end:i}=ZO(null===t||void 0===t?void 0:t.in,e);let o=+r>+i;const s=o?+r:+i,a=o?i:r;a.setHours(0,0,0,0),a.setDate(1);let l=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!l)return[];l<0&&(l=-l,o=!o);const c=[];for(;+a<=s;)c.push(KP(r,a)),a.setMonth(a.getMonth()+l);return o?c.reverse():c}function tA(e,t){var n;const{start:r,end:i}=ZO(null===t||void 0===t?void 0:t.in,e);let o=+r>+i;const s=o?+r:+i,a=o?i:r;a.setHours(0,0,0,0),a.setMonth(0,1);let l=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!l)return[];l<0&&(l=-l,o=!o);const c=[];for(;+a<=s;)c.push(KP(r,a)),a.setFullYear(a.getFullYear()+l);return o?c.reverse():c}function nA(e,t){var n,r,i,o,s,a;const l=HP(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=QP(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=6+(d<c?-7:0)-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function rA(e,t){return nA(e,ze(ze({},t),{},{weekStartsOn:1}))}function iA(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function oA(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function sA(e,t){return QP(e,null===t||void 0===t?void 0:t.in).getMonth()}function aA(e,t){return QP(e,null===t||void 0===t?void 0:t.in).getFullYear()}function lA(e,t){return+QP(e)>+QP(t)}function cA(e,t){return+QP(e)<+QP(t)}function uA(e,t,n){const[r,i]=$P(null===n||void 0===n?void 0:n.in,e,t);return+JP(r)===+JP(i)}function dA(e,t,n){const[r,i]=$P(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function hA(e,t,n){const[r,i]=$P(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function fA(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=KP.bind(null,e));const t=QP(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),KP(r,n||NaN)}function pA(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=KP.bind(null,e));const t=QP(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),KP(r,n||NaN)}function mA(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),o=KP(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function gA(e,t,n){const r=QP(e,null===n||void 0===n?void 0:n.in),i=r.getFullYear(),o=r.getDate(),s=KP((null===n||void 0===n?void 0:n.in)||e,0);s.setFullYear(i,t,15),s.setHours(0,0,0,0);const a=mA(s);return r.setMonth(t,Math.min(o,a)),r}function vA(e,t,n){const r=QP(e,null===n||void 0===n?void 0:n.in);return isNaN(+r)?KP((null===n||void 0===n?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function yA(e,t){const n=QP(e,null===t||void 0===t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function _A(e,t){const n=t.startOfMonth(e),r=n.getDay();return 1===r?n:0===r?t.addDays(n,-6):t.addDays(n,-1*(r-1))}class bA{constructor(e,t){this.Date=Date,this.today=()=>{var e;return null!==(e=this.overrides)&&void 0!==e&&e.today?this.overrides.today():this.options.timeZone?GO.tz(this.options.timeZone):new this.Date},this.newDate=(e,t,n)=>{var r;return null!==(r=this.overrides)&&void 0!==r&&r.newDate?this.overrides.newDate(e,t,n):this.options.timeZone?new GO(e,t,n,this.options.timeZone):new Date(e,t,n)},this.addDays=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.addDays?this.overrides.addDays(e,t):KO(e,t)},this.addMonths=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.addMonths?this.overrides.addMonths(e,t):QO(e,t)},this.addWeeks=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.addWeeks?this.overrides.addWeeks(e,t):XO(e,t)},this.addYears=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.addYears?this.overrides.addYears(e,t):$O(e,t)},this.differenceInCalendarDays=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.differenceInCalendarDays?this.overrides.differenceInCalendarDays(e,t):ZP(e,t)},this.differenceInCalendarMonths=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(e,t):JO(e,t)},this.eachMonthOfInterval=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.eachMonthOfInterval?this.overrides.eachMonthOfInterval(e):eA(e)},this.eachYearOfInterval=e=>{var t;const n=null!==(t=this.overrides)&&void 0!==t&&t.eachYearOfInterval?this.overrides.eachYearOfInterval(e):tA(e),r=new Set(n.map(e=>this.getYear(e)));if(r.size===n.length)return n;const i=[];return r.forEach(e=>{i.push(new Date(e,0,1))}),i},this.endOfBroadcastWeek=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(e):function(e,t){const n=_A(e,t),r=function(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,1-r),o=t.addDays(i,34);return t.getMonth(e)===t.getMonth(o)?5:4}(e,t);return t.addDays(n,7*r-1)}(e,this)},this.endOfISOWeek=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.endOfISOWeek?this.overrides.endOfISOWeek(e):rA(e)},this.endOfMonth=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.endOfMonth?this.overrides.endOfMonth(e):iA(e)},this.endOfWeek=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.endOfWeek?this.overrides.endOfWeek(e,t):nA(e,this.options)},this.endOfYear=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.endOfYear?this.overrides.endOfYear(e):oA(e)},this.format=(e,t,n)=>{var r;const i=null!==(r=this.overrides)&&void 0!==r&&r.format?this.overrides.format(e,t,this.options):MO(e,t,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(i):i},this.getISOWeek=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.getISOWeek?this.overrides.getISOWeek(e):sO(e)},this.getMonth=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.getMonth?this.overrides.getMonth(e,this.options):sA(e,this.options)},this.getYear=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.getYear?this.overrides.getYear(e,this.options):aA(e,this.options)},this.getWeek=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.getWeek?this.overrides.getWeek(e,this.options):cO(e,this.options)},this.isAfter=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.isAfter?this.overrides.isAfter(e,t):lA(e,t)},this.isBefore=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.isBefore?this.overrides.isBefore(e,t):cA(e,t)},this.isDate=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.isDate?this.overrides.isDate(e):NO(e)},this.isSameDay=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.isSameDay?this.overrides.isSameDay(e,t):uA(e,t)},this.isSameMonth=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.isSameMonth?this.overrides.isSameMonth(e,t):dA(e,t)},this.isSameYear=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.isSameYear?this.overrides.isSameYear(e,t):hA(e,t)},this.max=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.max?this.overrides.max(e):fA(e)},this.min=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.min?this.overrides.min(e):pA(e)},this.setMonth=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.setMonth?this.overrides.setMonth(e,t):gA(e,t)},this.setYear=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.setYear?this.overrides.setYear(e,t):vA(e,t)},this.startOfBroadcastWeek=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(e,this):_A(e,this)},this.startOfDay=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.startOfDay?this.overrides.startOfDay(e):JP(e)},this.startOfISOWeek=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.startOfISOWeek?this.overrides.startOfISOWeek(e):rO(e)},this.startOfMonth=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.startOfMonth?this.overrides.startOfMonth(e):yA(e)},this.startOfWeek=(e,t)=>{var n;return null!==(n=this.overrides)&&void 0!==n&&n.startOfWeek?this.overrides.startOfWeek(e,this.options):nO(e,this.options)},this.startOfYear=e=>{var t;return null!==(t=this.overrides)&&void 0!==t&&t.startOfYear?this.overrides.startOfYear(e):eO(e)},this.options=ze({locale:jO},e),this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),n={};for(let r=0;r<10;r++)n[r.toString()]=t.format(r);return n}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,e=>t[e]||e)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var e;const t=null===(e=this.options.locale)||void 0===e?void 0:e.code;return t&&bA.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(e){const{locale:t,timeZone:n,numerals:r}=this.options,i=null===t||void 0===t?void 0:t.code;if(i&&bA.yearFirstLocales.has(i))try{const t=new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:r});return t.format(e)}catch(s){}const o="year-first"===this.getMonthYearOrder()?"y LLLL":"LLLL y";return this.format(e,o)}}bA.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const wA=new bA;var xA,kA,EA,SA;function CA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wA,{from:i,to:o}=e;const{differenceInCalendarDays:s,isSameDay:a}=r;if(i&&o){s(o,i)<0&&([i,o]=[o,i]);return s(t,i)>=(n?1:0)&&s(o,t)>=(n?1:0)}return!n&&o?a(o,t):!(n||!i)&&a(i,t)}!function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"}(xA||(xA={})),function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"}(kA||(kA={})),function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"}(EA||(EA={})),function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"}(SA||(SA={}));function TA(e){return Boolean(e&&"object"===typeof e&&"before"in e&&"after"in e)}function NA(e){return Boolean(e&&"object"===typeof e&&"from"in e)}function IA(e){return Boolean(e&&"object"===typeof e&&"after"in e)}function PA(e){return Boolean(e&&"object"===typeof e&&"before"in e)}function OA(e){return Boolean(e&&"object"===typeof e&&"dayOfWeek"in e)}function AA(e,t){return Array.isArray(e)&&e.every(t.isDate)}function RA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wA;const r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:o,isAfter:s}=n;return r.some(t=>{if("boolean"===typeof t)return t;if(n.isDate(t))return i(e,t);if(AA(t,n))return t.some(t=>i(e,t));if(NA(t))return CA(t,e,!1,n);if(OA(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(TA(t)){const n=o(t.before,e)>0,r=o(t.after,e)<0;return s(t.before,t.after)?r&&n:n||r}return IA(t)?o(e,t.after)>0:PA(t)?o(t.before,e)>0:"function"===typeof t&&t(e)})}function DA(e){return o.createElement("button",ze({},e))}function MA(e){return o.createElement("span",ze({},e))}function LA(e){const{size:t=24,orientation:n="left",className:r}=e;return o.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},"up"===n&&o.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===n&&o.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===n&&o.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===n&&o.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}const jA=["day","modifiers"];function FA(e){const{day:t,modifiers:n}=e,r=Ve(e,jA);return o.createElement("td",ze({},r))}const UA=["day","modifiers"];function zA(e){const{day:t,modifiers:n}=e,r=Ve(e,UA),i=o.useRef(null);return o.useEffect(()=>{var e;n.focused&&(null===(e=i.current)||void 0===e||e.focus())},[n.focused]),o.createElement("button",ze({ref:i},r))}const VA=["options","className","components","classNames"];function WA(e){const{options:t,className:n,components:r,classNames:i}=e,s=Ve(e,VA),a=[i[xA.Dropdown],n].join(" "),l=null===t||void 0===t?void 0:t.find(e=>{let{value:t}=e;return t===s.value});return o.createElement("span",{"data-disabled":s.disabled,className:i[xA.DropdownRoot]},o.createElement(r.Select,ze({className:a},s),null===t||void 0===t?void 0:t.map(e=>{let{value:t,label:n,disabled:i}=e;return o.createElement(r.Option,{key:t,value:t,disabled:i},n)})),o.createElement("span",{className:i[xA.CaptionLabel],"aria-hidden":!0},null===l||void 0===l?void 0:l.label,o.createElement(r.Chevron,{orientation:"down",size:18,className:i[xA.Chevron]})))}function BA(e){return o.createElement("div",ze({},e))}function qA(e){return o.createElement("div",ze({},e))}const HA=["calendarMonth","displayIndex"];function YA(e){const{calendarMonth:t,displayIndex:n}=e,r=Ve(e,HA);return o.createElement("div",ze({},r),e.children)}const GA=["calendarMonth","displayIndex"];function KA(e){const{calendarMonth:t,displayIndex:n}=e,r=Ve(e,GA);return o.createElement("div",ze({},r))}function QA(e){return o.createElement("table",ze({},e))}function XA(e){return o.createElement("div",ze({},e))}const $A=(0,o.createContext)(void 0);function JA(){const e=(0,o.useContext)($A);if(void 0===e)throw new Error("useDayPicker() must be used within a custom component.");return e}function ZA(e){const{components:t}=JA();return o.createElement(t.Dropdown,ze({},e))}const eR=["onPreviousClick","onNextClick","previousMonth","nextMonth"];function tR(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i}=e,s=Ve(e,eR),{components:a,classNames:l,labels:{labelPrevious:c,labelNext:u}}=JA(),d=(0,o.useCallback)(e=>{i&&(null===n||void 0===n||n(e))},[i,n]),h=(0,o.useCallback)(e=>{r&&(null===t||void 0===t||t(e))},[r,t]);return o.createElement("nav",ze({},s),o.createElement(a.PreviousMonthButton,{type:"button",className:l[xA.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":!r||void 0,"aria-label":c(r),onClick:h},o.createElement(a.Chevron,{disabled:!r||void 0,className:l[xA.Chevron],orientation:"left"})),o.createElement(a.NextMonthButton,{type:"button",className:l[xA.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":!i||void 0,"aria-label":u(i),onClick:d},o.createElement(a.Chevron,{disabled:!i||void 0,orientation:"right",className:l[xA.Chevron]})))}function nR(e){const{components:t}=JA();return o.createElement(t.Button,ze({},e))}function rR(e){return o.createElement("option",ze({},e))}function iR(e){const{components:t}=JA();return o.createElement(t.Button,ze({},e))}const oR=["rootRef"];function sR(e){const{rootRef:t}=e,n=Ve(e,oR);return o.createElement("div",ze(ze({},n),{},{ref:t}))}function aR(e){return o.createElement("select",ze({},e))}const lR=["week"];function cR(e){const{week:t}=e,n=Ve(e,lR);return o.createElement("tr",ze({},n))}function uR(e){return o.createElement("th",ze({},e))}function dR(e){return o.createElement("thead",{"aria-hidden":!0},o.createElement("tr",ze({},e)))}const hR=["week"];function fR(e){const{week:t}=e,n=Ve(e,hR);return o.createElement("th",ze({},n))}function pR(e){return o.createElement("th",ze({},e))}function mR(e){return o.createElement("tbody",ze({},e))}function gR(e){const{components:t}=JA();return o.createElement(t.Dropdown,ze({},e))}function vR(){const e={};for(const t in xA)e[xA[t]]="rdp-".concat(xA[t]);for(const t in kA)e[kA[t]]="rdp-".concat(kA[t]);for(const t in EA)e[EA[t]]="rdp-".concat(EA[t]);for(const t in SA)e[SA[t]]="rdp-".concat(SA[t]);return e}function yR(e,t,n){return(null!==n&&void 0!==n?n:new bA(t)).formatMonthYear(e)}const _R=yR;function bR(e,t,n){return(null!==n&&void 0!==n?n:new bA(t)).format(e,"d")}function wR(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:wA).format(e,"LLLL")}function xR(e,t,n){return(null!==n&&void 0!==n?n:new bA(t)).format(e,"cccccc")}function kR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wA;return e<10?t.formatNumber("0".concat(e.toLocaleString())):t.formatNumber("".concat(e.toLocaleString()))}function ER(){return""}function SR(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:wA).format(e,"yyyy")}const CR=SR;function TR(e,t,n,r){let i=(null!==r&&void 0!==r?r:new bA(n)).format(e,"PPPP");return t.today&&(i="Today, ".concat(i)),t.selected&&(i="".concat(i,", selected")),i}const NR=TR;function IR(e,t,n){return(null!==n&&void 0!==n?n:new bA(t)).formatMonthYear(e)}const PR=IR;function OR(e,t,n,r){let i=(null!==r&&void 0!==r?r:new bA(n)).format(e,"PPPP");return null!==t&&void 0!==t&&t.today&&(i="Today, ".concat(i)),i}function AR(e){return"Choose the Month"}function RR(){return""}const DR="Go to the Next Month";function MR(e,t){return DR}function LR(e){return"Go to the Previous Month"}function jR(e,t,n){return(null!==n&&void 0!==n?n:new bA(t)).format(e,"cccc")}function FR(e,t){return"Week ".concat(e)}function UR(e){return"Week Number"}function zR(e){return"Choose the Year"}const VR=(e,t,n)=>t||(n?"function"===typeof n?n:function(){return n}:e);function WR(e,t){var n,i;const o=null!==(n=null===(i=t.locale)||void 0===i?void 0:i.labels)&&void 0!==n?n:{};return ze(ze(ze({},r),null!==e&&void 0!==e?e:{}),{},{labelDayButton:VR(TR,null===e||void 0===e?void 0:e.labelDayButton,o.labelDayButton),labelMonthDropdown:VR(AR,null===e||void 0===e?void 0:e.labelMonthDropdown,o.labelMonthDropdown),labelNext:VR(MR,null===e||void 0===e?void 0:e.labelNext,o.labelNext),labelPrevious:VR(LR,null===e||void 0===e?void 0:e.labelPrevious,o.labelPrevious),labelWeekNumber:VR(FR,null===e||void 0===e?void 0:e.labelWeekNumber,o.labelWeekNumber),labelYearDropdown:VR(zR,null===e||void 0===e?void 0:e.labelYearDropdown,o.labelYearDropdown),labelGrid:VR(IR,null===e||void 0===e?void 0:e.labelGrid,o.labelGrid),labelGridcell:VR(OR,null===e||void 0===e?void 0:e.labelGridcell,o.labelGridcell),labelNav:VR(RR,null===e||void 0===e?void 0:e.labelNav,o.labelNav),labelWeekNumberHeader:VR(UR,null===e||void 0===e?void 0:e.labelWeekNumberHeader,o.labelWeekNumberHeader),labelWeekday:VR(jR,null===e||void 0===e?void 0:e.labelWeekday,o.labelWeekday)})}function BR(e,t,n,r,i){const{startOfMonth:o,startOfYear:s,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=i;return l({start:s(e),end:a(e)}).map(e=>{const s=r.formatMonthDropdown(e,i);return{value:c(e),label:s,disabled:t&&e<o(t)||n&&e>o(n)||!1}})}function qR(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e)return;if(!t)return;const{startOfYear:o,endOfYear:s,eachYearOfInterval:a,getYear:l}=r,c=a({start:o(e),end:s(t)});return i&&c.reverse(),c.map(e=>{const t=n.formatYearDropdown(e,r);return{value:l(e),label:t,disabled:!1}})}const HR=e=>e instanceof HTMLElement?e:null,YR=e=>{var t;return[...null!==(t=e.querySelectorAll("[data-animated-month]"))&&void 0!==t?t:[]]},GR=e=>HR(e.querySelector("[data-animated-caption]")),KR=e=>HR(e.querySelector("[data-animated-weeks]"));function QR(e,t,n){let{classNames:r,months:i,focused:s,dateLib:a}=n;const l=(0,o.useRef)(null),c=(0,o.useRef)(i),u=(0,o.useRef)(!1);(0,o.useLayoutEffect)(()=>{const n=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||0===i.length||0===n.length||i.length!==n.length)return;const o=a.isSameMonth(i[0].date,n[0].date),d=a.isAfter(i[0].date,n[0].date),h=d?r[SA.caption_after_enter]:r[SA.caption_before_enter],f=d?r[SA.weeks_after_enter]:r[SA.weeks_before_enter],p=l.current,m=e.current.cloneNode(!0);if(m instanceof HTMLElement){YR(m).forEach(e=>{if(!(e instanceof HTMLElement))return;const t=HR(e.querySelector("[data-animated-month]"));t&&e.contains(t)&&e.removeChild(t);const n=GR(e);n&&n.classList.remove(h);const r=KR(e);r&&r.classList.remove(f)}),l.current=m}else l.current=null;if(u.current||o||s)return;const g=p instanceof HTMLElement?YR(p):[],v=YR(e.current);if(null!==v&&void 0!==v&&v.every(e=>e instanceof HTMLElement)&&g&&g.every(e=>e instanceof HTMLElement)){u.current=!0;const t=[];e.current.style.isolation="isolate";const n=(y=e.current,HR(y.querySelector("[data-animated-nav]")));n&&(n.style.zIndex="1"),v.forEach((i,o)=>{const s=g[o];if(!s)return;i.style.position="relative",i.style.overflow="hidden";const a=GR(i);a&&a.classList.add(h);const l=KR(i);l&&l.classList.add(f);const c=()=>{u.current=!1,e.current&&(e.current.style.isolation=""),n&&(n.style.zIndex=""),a&&a.classList.remove(h),l&&l.classList.remove(f),i.style.position="",i.style.overflow="",i.contains(s)&&i.removeChild(s)};t.push(c),s.style.pointerEvents="none",s.style.position="absolute",s.style.overflow="hidden",s.setAttribute("aria-hidden","true");const p=(e=>HR(e.querySelector("[data-animated-weekdays]")))(s);p&&(p.style.opacity="0");const m=GR(s);m&&(m.classList.add(d?r[SA.caption_before_exit]:r[SA.caption_after_exit]),m.addEventListener("animationend",c));const v=KR(s);v&&v.classList.add(d?r[SA.weeks_before_exit]:r[SA.weeks_after_exit]),i.insertBefore(s,i.firstChild)})}var y})}function XR(e,t,n,r){const{month:i,defaultMonth:o,today:s=r.today(),numberOfMonths:a=1}=e;let l=i||o||s;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=r;if(n&&c(n,l)<a-1){l=u(n,-1*(a-1))}return t&&c(l,t)<0&&(l=t),d(l)}class $R{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wA;this.date=e,this.displayMonth=t,this.outside=Boolean(t&&!n.isSameMonth(e,t)),this.dateLib=n,this.isoDate=n.format(e,"yyyy-MM-dd"),this.displayMonthId=n.format(t,"yyyy-MM"),this.dateMonthId=n.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class JR{constructor(e,t){this.days=t,this.weekNumber=e}}class ZR{constructor(e,t){this.date=e,this.weeks=t}}function eD(e,t){const[n,r]=(0,o.useState)(e);return[void 0===t?n:t,r]}function tD(e,t){var n;const[r,i]=function(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:i,startOfDay:o,startOfMonth:s,endOfMonth:a,addYears:l,endOfYear:c,newDate:u,today:d}=t,{fromYear:h,toYear:f,fromMonth:p,toMonth:m}=e;!n&&p&&(n=p),!n&&h&&(n=t.newDate(h,0,1)),!r&&m&&(r=m),!r&&f&&(r=u(f,11,31));const g="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;if(n)n=s(n);else if(h)n=u(h,0,1);else if(!n&&g){var v;n=i(l(null!==(v=e.today)&&void 0!==v?v:d(),-100))}if(r)r=a(r);else if(f)r=u(f,11,31);else if(!r&&g){var y;r=c(null!==(y=e.today)&&void 0!==y?y:d())}return[n?o(n):n,r?o(r):r]}(e,t),{startOfMonth:s,endOfMonth:a}=t,l=XR(e,r,i,t),[c,u]=eD(l,e.month?l:void 0);(0,o.useEffect)(()=>{const n=XR(e,r,i,t);u(n)},[e.timeZone]);const{months:d,weeks:h,days:f,previousMonth:p,nextMonth:m}=(0,o.useMemo)(()=>{const n=function(e,t,n,r){const{numberOfMonths:i=1}=n,o=[];for(let s=0;s<i;s++){const n=r.addMonths(e,s);if(t&&n>t)break;o.push(n)}return o}(c,i,{numberOfMonths:e.numberOfMonths},t),o=function(e,t,n,r){const i=e[0],o=e[e.length-1],{ISOWeek:s,fixedWeeks:a,broadcastCalendar:l}=null!==n&&void 0!==n?n:{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:f,endOfMonth:p,endOfWeek:m,isAfter:g,startOfBroadcastWeek:v,startOfISOWeek:y,startOfWeek:_}=r,b=l?v(i,r):s?y(i):_(i),w=l?h(o):s?f(p(o)):m(p(o)),x=t&&(l?h(t):s?f(t):m(t)),k=u(x&&g(w,x)?x:w,b),E=d(o,i)+1,S=[];for(let T=0;T<=k;T++){const e=c(b,T);S.push(e)}const C=(l?35:42)*E;if(a&&S.length<C){const e=C-S.length;for(let t=0;t<e;t++){const e=c(S[S.length-1],1);S.push(e)}}return S}(n,e.endMonth?a(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),s=function(e,t,n,r){const{addDays:i,endOfBroadcastWeek:o,endOfISOWeek:s,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:f}=r,p=e.reduce((e,p)=>{const m=n.broadcastCalendar?d(p,r):n.ISOWeek?h(p):f(p),g=n.broadcastCalendar?o(p):n.ISOWeek?s(a(p)):l(a(p)),v=t.filter(e=>e>=m&&e<=g),y=n.broadcastCalendar?35:42;if(n.fixedWeeks&&v.length<y){const e=t.filter(e=>{const t=y-v.length;return e>g&&e<=i(g,t)});v.push(...e)}const _=v.reduce((e,t)=>{const i=n.ISOWeek?c(t):u(t),o=e.find(e=>e.weekNumber===i),s=new $R(t,p,r);return o?o.days.push(s):e.push(new JR(i,[s])),e},[]),b=new ZR(p,_);return e.push(b),e},[]);return n.reverseMonths?p.reverse():p}(n,o,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),l=function(e){return e.reduce((e,t)=>e.concat(t.weeks.slice()),[].slice())}(s),u=function(e){const t=[];return e.reduce((e,n)=>{const r=n.weeks.reduce((e,t)=>e.concat(t.days.slice()),t.slice());return e.concat(r.slice())},t.slice())}(s),d=function(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o}=n,{startOfMonth:s,addMonths:a,differenceInCalendarMonths:l}=r,c=i&&null!==o&&void 0!==o?o:1,u=s(e);return t&&l(u,t)<=0?void 0:a(u,-c)}(c,r,e,t),h=function(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o=1}=n,{startOfMonth:s,addMonths:a,differenceInCalendarMonths:l}=r,c=i?o:1,u=s(e);return t&&l(t,e)<o?void 0:a(u,c)}(c,i,e,t);return{months:s,weeks:l,days:u,previousMonth:d,nextMonth:h}},[t,c.getTime(),null===i||void 0===i?void 0:i.getTime(),null===r||void 0===r?void 0:r.getTime(),e.disableNavigation,e.broadcastCalendar,null===(n=e.endMonth)||void 0===n?void 0:n.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:g,onMonthChange:v}=e,y=e=>{if(g)return;let t=s(e);r&&t<s(r)&&(t=s(r)),i&&t>s(i)&&(t=s(i)),u(t),null===v||void 0===v||v(t)};return{months:d,weeks:h,days:f,navStart:r,navEnd:i,previousMonth:p,nextMonth:m,goToMonth:y,goToDay:e=>{(e=>h.some(t=>t.days.some(t=>t.isEqualTo(e))))(e)||y(e.date)}}}var nD;function rD(e){return!e[kA.disabled]&&!e[kA.hidden]&&!e[kA.outside]}function iD(e,t,n,r,i,o,s){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(a>365)return;const l=function(e,t,n,r,i,o,s){const{ISOWeek:a,broadcastCalendar:l}=o,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:f,endOfISOWeek:p,endOfWeek:m,max:g,min:v,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:b}=s;let w={day:c,week:d,month:u,year:h,startOfWeek:e=>l?y(e,s):a?_(e):b(e),endOfWeek:e=>l?f(e):a?p(e):m(e)}[e](n,"after"===t?1:-1);return"before"===t&&r?w=g([r,w]):"after"===t&&i&&(w=v([i,w])),w}(e,t,n.date,r,i,o,s),c=Boolean(o.disabled&&RA(l,o.disabled,s)),u=Boolean(o.hidden&&RA(l,o.hidden,s)),d=new $R(l,l,s);return c||u?iD(e,t,d,r,i,o,s,a+1):d}function oD(e,t,n,r,i){const{autoFocus:s}=e,[a,l]=(0,o.useState)(),c=function(e,t,n,r){let i,o=-1;for(const s of e){const e=t(s);rD(e)&&(e[kA.focused]&&o<nD.FocusedModifier?(i=s,o=nD.FocusedModifier):null!==r&&void 0!==r&&r.isEqualTo(s)&&o<nD.LastFocused?(i=s,o=nD.LastFocused):n(s.date)&&o<nD.Selected?(i=s,o=nD.Selected):e[kA.today]&&o<nD.Today&&(i=s,o=nD.Today))}return i||(i=e.find(e=>rD(t(e)))),i}(t.days,n,r||(()=>!1),a),[u,d]=(0,o.useState)(s?c:void 0);return{isFocusTarget:e=>Boolean(null===c||void 0===c?void 0:c.isEqualTo(e)),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(n,r)=>{if(!u)return;const o=iD(n,r,u,t.navStart,t.navEnd,e,i);if(o){if(e.disableNavigation){if(!t.days.some(e=>e.isEqualTo(o)))return}t.goToDay(o),d(o)}}}}function sD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wA;return CA(e,t.from,!1,n)||CA(e,t.to,!1,n)||CA(t,e.from,!1,n)||CA(t,e.to,!1,n)}function aD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wA;const r=Array.isArray(t)?t:[t],i=r.filter(e=>"function"!==typeof e).some(t=>{if("boolean"===typeof t)return t;if(n.isDate(t))return CA(e,t,!1,n);if(AA(t,n))return t.some(t=>CA(e,t,!1,n));if(NA(t))return!(!t.from||!t.to)&&sD(e,{from:t.from,to:t.to},n);if(OA(t))return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wA;const r=Array.isArray(t)?t:[t];let i=e.from;const o=n.differenceInCalendarDays(e.to,e.from),s=Math.min(o,6);for(let a=0;a<=s;a++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}(e,t.dayOfWeek,n);if(TA(t)){return n.isAfter(t.before,t.after)?sD(e,{from:n.addDays(t.after,1),to:n.addDays(t.before,-1)},n):RA(e.from,t,n)||RA(e.to,t,n)}return!(!IA(t)&&!PA(t))&&(RA(e.from,t,n)||RA(e.to,t,n))});if(i)return!0;const o=r.filter(e=>"function"===typeof e);if(o.length){let t=e.from;const r=n.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=r;e++){if(o.some(e=>e(t)))return!0;t=n.addDays(t,1)}}return!1}function lD(e,t){const{disabled:n,excludeDisabled:r,selected:i,required:o,onSelect:s}=e,[a,l]=eD(i,s?i:void 0),c=s?i:a;return{selected:c,select:(i,a,u)=>{const{min:d,max:h}=e,f=i?function(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wA;const{from:l,to:c}=t||{},{isSameDay:u,isAfter:d,isBefore:h}=a;let f;if(l||c){if(l&&!c)f=u(l,e)?0===i?{from:l,to:e}:s?{from:l,to:void 0}:void 0:h(e,l)?{from:e,to:l}:{from:l,to:e};else if(l&&c)if(u(l,e)&&u(c,e))f=s?{from:l,to:c}:void 0;else if(u(l,e))f={from:l,to:i>0?void 0:e};else if(u(c,e))f={from:e,to:i>0?void 0:e};else if(h(e,l))f={from:e,to:c};else if(d(e,l))f={from:l,to:e};else{if(!d(e,c))throw new Error("Invalid range");f={from:l,to:e}}}else f={from:e,to:i>0?void 0:e};if(null!==(n=f)&&void 0!==n&&n.from&&null!==(r=f)&&void 0!==r&&r.to){const t=a.differenceInCalendarDays(f.to,f.from);(o>0&&t>o||i>1&&t<i)&&(f={from:e,to:void 0})}return f}(i,c,d,h,o,t):void 0;return r&&n&&null!==f&&void 0!==f&&f.from&&f.to&&aD({from:f.from,to:f.to},n,t)&&(f.from=i,f.to=void 0),s||l(f),null===s||void 0===s||s(f,i,a,u),f},isSelected:e=>c&&CA(c,e,!1,t)}}function cD(e,t){const n=function(e,t){const{selected:n,required:r,onSelect:i}=e,[o,s]=eD(n,i?n:void 0),a=i?n:o,{isSameDay:l}=t;return{selected:a,select:(e,t,n)=>{let o=e;return!r&&a&&a&&l(e,a)&&(o=void 0),i||s(o),null===i||void 0===i||i(o,e,t,n),o},isSelected:e=>!!a&&l(a,e)}}(e,t),r=function(e,t){const{selected:n,required:r,onSelect:i}=e,[o,s]=eD(n,i?n:void 0),a=i?n:o,{isSameDay:l}=t,c=e=>{var t;return null!==(t=null===a||void 0===a?void 0:a.some(t=>l(t,e)))&&void 0!==t&&t},{min:u,max:d}=e;return{selected:a,select:(e,t,n)=>{let o=[...null!==a&&void 0!==a?a:[]];if(c(e)){if((null===a||void 0===a?void 0:a.length)===u)return;if(r&&1===(null===a||void 0===a?void 0:a.length))return;o=null===a||void 0===a?void 0:a.filter(t=>!l(t,e))}else o=(null===a||void 0===a?void 0:a.length)===d?[e]:[...o,e];return i||s(o),null===i||void 0===i||i(o,e,t,n),o},isSelected:c}}(e,t),i=lD(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function uD(e,t){return e instanceof GO&&e.timeZone===t?e:new GO(e,t)}function dD(e,t,n){if(!n)return uD(e,t);const r=uD(e,t),i=new GO(r.getFullYear(),r.getMonth(),r.getDate(),12,0,0,t);return new Date(i.getTime())}function hD(e,t,n){return"boolean"===typeof e||"function"===typeof e?e:e instanceof Date?dD(e,t,n):Array.isArray(e)?e.map(e=>e instanceof Date?dD(e,t,n):e):NA(e)?ze(ze({},e),{},{from:e.from?uD(e.from,t):e.from,to:e.to?uD(e.to,t):e.to}):TA(e)?{before:dD(e.before,t,n),after:dD(e.after,t,n)}:IA(e)?{after:dD(e.after,t,n)}:PA(e)?{before:dD(e.before,t,n)}:e}function fD(e,t,n){return e?Array.isArray(e)?e.map(e=>hD(e,t,n)):hD(e,t,n):e}function pD(n){var r;let i=n;const s=i.timeZone;if(s){if(i=ze(ze({},n),{},{timeZone:s}),i.today&&(i.today=uD(i.today,s)),i.month&&(i.month=uD(i.month,s)),i.defaultMonth&&(i.defaultMonth=uD(i.defaultMonth,s)),i.startMonth&&(i.startMonth=uD(i.startMonth,s)),i.endMonth&&(i.endMonth=uD(i.endMonth,s)),"single"===i.mode&&i.selected)i.selected=uD(i.selected,s);else if("multiple"===i.mode&&i.selected){var a;i.selected=null===(a=i.selected)||void 0===a?void 0:a.map(e=>uD(e,s))}else"range"===i.mode&&i.selected&&(i.selected={from:i.selected.from?uD(i.selected.from,s):i.selected.from,to:i.selected.to?uD(i.selected.to,s):i.selected.to});if(void 0!==i.disabled&&(i.disabled=fD(i.disabled,s)),void 0!==i.hidden&&(i.hidden=fD(i.hidden,s)),i.modifiers){const e={};Object.keys(i.modifiers).forEach(t=>{var n;e[t]=fD(null===(n=i.modifiers)||void 0===n?void 0:n[t],s)}),i.modifiers=e}}const{components:l,formatters:c,labels:u,dateLib:d,locale:h,classNames:f}=(0,o.useMemo)(()=>{var n;const r=ze(ze({},jO),i.locale),o=i.broadcastCalendar?1:i.weekStartsOn,s=i.noonSafe&&i.timeZone?function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{weekStartsOn:i,locale:o}=r,s=null!==(t=null!==i&&void 0!==i?i:null===o||void 0===o||null===(n=o.options)||void 0===n?void 0:n.weekStartsOn)&&void 0!==t?t:0,a=t=>{const n="number"===typeof t||"string"===typeof t?new Date(t):t;return new GO(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0,e)},l=e=>{const t=a(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)};return{today:()=>a(GO.tz(e)),newDate:(t,n,r)=>new GO(t,n,r,12,0,0,e),startOfDay:e=>a(e),startOfWeek:(e,t)=>{var n;const r=a(e),i=null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:s,o=(r.getDay()-i+7)%7;return r.setDate(r.getDate()-o),r},startOfISOWeek:e=>{const t=a(e),n=(t.getDay()-1+7)%7;return t.setDate(t.getDate()-n),t},startOfMonth:e=>{const t=a(e);return t.setDate(1),t},startOfYear:e=>{const t=a(e);return t.setMonth(0,1),t},endOfWeek:(e,t)=>{var n;const r=a(e),i=(((null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:s)+6)%7-r.getDay()+7)%7;return r.setDate(r.getDate()+i),r},endOfISOWeek:e=>{const t=a(e),n=(7-t.getDay())%7;return t.setDate(t.getDate()+n),t},endOfMonth:e=>{const t=a(e);return t.setMonth(t.getMonth()+1,0),t},endOfYear:e=>{const t=a(e);return t.setMonth(11,31),t},eachMonthOfInterval:t=>{const n=a(t.start),r=a(t.end),i=[],o=new GO(n.getFullYear(),n.getMonth(),1,12,0,0,e),s=12*r.getFullYear()+r.getMonth();for(;12*o.getFullYear()+o.getMonth()<=s;)i.push(new GO(o,e)),o.setMonth(o.getMonth()+1,1);return i},addDays:(e,t)=>{const n=a(e);return n.setDate(n.getDate()+t),n},addWeeks:(e,t)=>{const n=a(e);return n.setDate(n.getDate()+7*t),n},addMonths:(e,t)=>{const n=a(e);return n.setMonth(n.getMonth()+t),n},addYears:(e,t)=>{const n=a(e);return n.setFullYear(n.getFullYear()+t),n},eachYearOfInterval:t=>{const n=a(t.start),r=a(t.end),i=[],o=new GO(n.getFullYear(),0,1,12,0,0,e);for(;o.getFullYear()<=r.getFullYear();)i.push(new GO(o,e)),o.setFullYear(o.getFullYear()+1,0,1);return i},getWeek:(e,t)=>{var n,r,i,a;return cO(l(e),{weekStartsOn:null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:s,firstWeekContainsDate:null!==(r=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===o||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:1})},getISOWeek:e=>sO(l(e)),differenceInCalendarDays:(e,t)=>ZP(l(e),l(t)),differenceInCalendarMonths:(e,t)=>JO(l(e),l(t))}}(i.timeZone,{weekStartsOn:o,locale:r}):void 0,a=i.dateLib&&s?ze(ze({},s),i.dateLib):null!==(n=i.dateLib)&&void 0!==n?n:s,l=new bA({locale:r,weekStartsOn:o,firstWeekContainsDate:i.firstWeekContainsDate,useAdditionalWeekYearTokens:i.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:i.useAdditionalDayOfYearTokens,timeZone:i.timeZone,numerals:i.numerals},a);return{dateLib:l,components:(u=i.components,ze(ze({},e),u)),formatters:(c=i.formatters,null!==c&&void 0!==c&&c.formatMonthCaption&&!c.formatCaption&&(c.formatCaption=c.formatMonthCaption),null!==c&&void 0!==c&&c.formatYearCaption&&!c.formatYearDropdown&&(c.formatYearDropdown=c.formatYearCaption),ze(ze({},t),c)),labels:WR(i.labels,l.options),locale:r,classNames:ze(ze({},vR()),i.classNames)};var c,u},[i.locale,i.broadcastCalendar,i.weekStartsOn,i.firstWeekContainsDate,i.useAdditionalWeekYearTokens,i.useAdditionalDayOfYearTokens,i.timeZone,i.numerals,i.dateLib,i.noonSafe,i.components,i.formatters,i.labels,i.classNames]);i.today||(i=ze(ze({},i),{},{today:d.today()}));const{captionLayout:p,mode:m,navLayout:g,numberOfMonths:v=1,onDayBlur:y,onDayClick:_,onDayFocus:b,onDayKeyDown:w,onDayMouseEnter:x,onDayMouseLeave:k,onNextClick:E,onPrevClick:S,showWeekNumber:C,styles:T}=i,{formatCaption:N,formatDay:I,formatMonthDropdown:P,formatWeekNumber:O,formatWeekNumberHeader:A,formatWeekdayName:R,formatYearDropdown:D}=c,M=tD(i,d),{days:L,months:j,navStart:F,navEnd:U,previousMonth:z,nextMonth:V,goToMonth:W}=M,B=function(e,t,n,r,i){const{disabled:o,hidden:s,modifiers:a,showOutsideDays:l,broadcastCalendar:c,today:u=i.today()}=t,{isSameDay:d,isSameMonth:h,startOfMonth:f,isBefore:p,endOfMonth:m,isAfter:g}=i,v=n&&f(n),y=r&&m(r),_={[kA.focused]:[],[kA.outside]:[],[kA.disabled]:[],[kA.hidden]:[],[kA.today]:[]},b={};for(const w of e){const{date:e,displayMonth:t}=w,n=Boolean(t&&!h(e,t)),r=Boolean(v&&p(e,v)),f=Boolean(y&&g(e,y)),m=Boolean(o&&RA(e,o,i)),x=Boolean(s&&RA(e,s,i))||r||f||!c&&!l&&n||c&&!1===l&&n,k=d(e,u);n&&_.outside.push(w),m&&_.disabled.push(w),x&&_.hidden.push(w),k&&_.today.push(w),a&&Object.keys(a).forEach(t=>{const n=null===a||void 0===a?void 0:a[t];n&&RA(e,n,i)&&(b[t]?b[t].push(w):b[t]=[w])})}return e=>{const t={[kA.focused]:!1,[kA.disabled]:!1,[kA.hidden]:!1,[kA.outside]:!1,[kA.today]:!1},n={};for(const r in _){const n=_[r];t[r]=n.some(t=>t===e)}for(const r in b)n[r]=b[r].some(t=>t===e);return ze(ze({},t),n)}}(L,i,F,U,d),{isSelected:q,select:H,selected:Y}=null!==(r=cD(i,d))&&void 0!==r?r:{},{blur:G,focused:K,isFocusTarget:Q,moveFocus:X,setFocused:$}=oD(i,M,B,null!==q&&void 0!==q?q:()=>!1,d),{labelDayButton:J,labelGridcell:Z,labelGrid:ee,labelMonthDropdown:te,labelNav:ne,labelPrevious:re,labelNext:ie,labelWeekday:oe,labelWeekNumber:se,labelWeekNumberHeader:ae,labelYearDropdown:le}=u,ce=(0,o.useMemo)(()=>function(e,t,n,r){const i=null!==r&&void 0!==r?r:e.today(),o=n?e.startOfBroadcastWeek(i,e):t?e.startOfISOWeek(i):e.startOfWeek(i),s=[];for(let a=0;a<7;a++){const t=e.addDays(o,a);s.push(t)}return s}(d,i.ISOWeek,i.broadcastCalendar,i.today),[d,i.ISOWeek,i.broadcastCalendar,i.today]),ue=void 0!==m||void 0!==_,de=(0,o.useCallback)(()=>{z&&(W(z),null===S||void 0===S||S(z))},[z,W,S]),he=(0,o.useCallback)(()=>{V&&(W(V),null===E||void 0===E||E(V))},[W,V,E]),fe=(0,o.useCallback)((e,t)=>n=>{n.preventDefault(),n.stopPropagation(),$(e),t.disabled||(null===H||void 0===H||H(e.date,t,n),null===_||void 0===_||_(e.date,t,n))},[H,_,$]),pe=(0,o.useCallback)((e,t)=>n=>{$(e),null===b||void 0===b||b(e.date,t,n)},[b,$]),me=(0,o.useCallback)((e,t)=>n=>{G(),null===y||void 0===y||y(e.date,t,n)},[G,y]),ge=(0,o.useCallback)((e,t)=>n=>{const r={ArrowLeft:[n.shiftKey?"month":"day","rtl"===i.dir?"after":"before"],ArrowRight:[n.shiftKey?"month":"day","rtl"===i.dir?"before":"after"],ArrowDown:[n.shiftKey?"year":"week","after"],ArrowUp:[n.shiftKey?"year":"week","before"],PageUp:[n.shiftKey?"year":"month","before"],PageDown:[n.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(r[n.key]){n.preventDefault(),n.stopPropagation();const[e,t]=r[n.key];X(e,t)}null===w||void 0===w||w(e.date,t,n)},[X,w,i.dir]),ve=(0,o.useCallback)((e,t)=>n=>{null===x||void 0===x||x(e.date,t,n)},[x]),ye=(0,o.useCallback)((e,t)=>n=>{null===k||void 0===k||k(e.date,t,n)},[k]),_e=(0,o.useCallback)(e=>t=>{const n=Number(t.target.value),r=d.setMonth(d.startOfMonth(e),n);W(r)},[d,W]),be=(0,o.useCallback)(e=>t=>{const n=Number(t.target.value),r=d.setYear(d.startOfMonth(e),n);W(r)},[d,W]),{className:we,style:xe}=(0,o.useMemo)(()=>({className:[f[xA.Root],i.className].filter(Boolean).join(" "),style:ze(ze({},null===T||void 0===T?void 0:T[xA.Root]),i.style)}),[f,i.className,i.style,T]),ke=function(e){var t;const n={"data-mode":null!==(t=e.mode)&&void 0!==t?t:void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(e=>{let[t,r]=e;t.startsWith("data-")&&(n[t]=r)}),n}(i),Ee=(0,o.useRef)(null);QR(Ee,Boolean(i.animate),{classNames:f,months:j,focused:K,dateLib:d});const Se={dayPickerProps:i,selected:Y,select:H,isSelected:q,months:j,nextMonth:V,previousMonth:z,goToMonth:W,getModifiers:B,components:l,classNames:f,styles:T,labels:u,formatters:c};return o.createElement($A.Provider,{value:Se},o.createElement(l.Root,ze({rootRef:i.animate?Ee:void 0,className:we,style:xe,dir:i.dir,id:i.id,lang:i.lang,nonce:i.nonce,title:i.title,role:i.role,"aria-label":i["aria-label"],"aria-labelledby":i["aria-labelledby"]},ke),o.createElement(l.Months,{className:f[xA.Months],style:null===T||void 0===T?void 0:T[xA.Months]},!i.hideNavigation&&!g&&o.createElement(l.Nav,{"data-animated-nav":i.animate?"true":void 0,className:f[xA.Nav],style:null===T||void 0===T?void 0:T[xA.Nav],"aria-label":ne(),onPreviousClick:de,onNextClick:he,previousMonth:z,nextMonth:V}),j.map((e,t)=>o.createElement(l.Month,{"data-animated-month":i.animate?"true":void 0,className:f[xA.Month],style:null===T||void 0===T?void 0:T[xA.Month],key:t,displayIndex:t,calendarMonth:e},"around"===g&&!i.hideNavigation&&0===t&&o.createElement(l.PreviousMonthButton,{type:"button",className:f[xA.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":!z||void 0,"aria-label":re(z),onClick:de,"data-animated-button":i.animate?"true":void 0},o.createElement(l.Chevron,{disabled:!z||void 0,className:f[xA.Chevron],orientation:"rtl"===i.dir?"right":"left"})),o.createElement(l.MonthCaption,{"data-animated-caption":i.animate?"true":void 0,className:f[xA.MonthCaption],style:null===T||void 0===T?void 0:T[xA.MonthCaption],calendarMonth:e,displayIndex:t},null!==p&&void 0!==p&&p.startsWith("dropdown")?o.createElement(l.DropdownNav,{className:f[xA.Dropdowns],style:null===T||void 0===T?void 0:T[xA.Dropdowns]},(()=>{const t="dropdown"===p||"dropdown-months"===p?o.createElement(l.MonthsDropdown,{key:"month",className:f[xA.MonthsDropdown],"aria-label":te(),classNames:f,components:l,disabled:Boolean(i.disableNavigation),onChange:_e(e.date),options:BR(e.date,F,U,c,d),style:null===T||void 0===T?void 0:T[xA.Dropdown],value:d.getMonth(e.date)}):o.createElement("span",{key:"month"},P(e.date,d)),n="dropdown"===p||"dropdown-years"===p?o.createElement(l.YearsDropdown,{key:"year",className:f[xA.YearsDropdown],"aria-label":le(d.options),classNames:f,components:l,disabled:Boolean(i.disableNavigation),onChange:be(e.date),options:qR(F,U,c,d,Boolean(i.reverseYears)),style:null===T||void 0===T?void 0:T[xA.Dropdown],value:d.getYear(e.date)}):o.createElement("span",{key:"year"},D(e.date,d));return"year-first"===d.getMonthYearOrder()?[n,t]:[t,n]})(),o.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(e.date,d.options,d))):o.createElement(l.CaptionLabel,{className:f[xA.CaptionLabel],role:"status","aria-live":"polite"},N(e.date,d.options,d))),"around"===g&&!i.hideNavigation&&t===v-1&&o.createElement(l.NextMonthButton,{type:"button",className:f[xA.NextMonthButton],tabIndex:V?void 0:-1,"aria-disabled":!V||void 0,"aria-label":ie(V),onClick:he,"data-animated-button":i.animate?"true":void 0},o.createElement(l.Chevron,{disabled:!V||void 0,className:f[xA.Chevron],orientation:"rtl"===i.dir?"left":"right"})),t===v-1&&"after"===g&&!i.hideNavigation&&o.createElement(l.Nav,{"data-animated-nav":i.animate?"true":void 0,className:f[xA.Nav],style:null===T||void 0===T?void 0:T[xA.Nav],"aria-label":ne(),onPreviousClick:de,onNextClick:he,previousMonth:z,nextMonth:V}),o.createElement(l.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===m||"range"===m,"aria-label":ee(e.date,d.options,d)||void 0,className:f[xA.MonthGrid],style:null===T||void 0===T?void 0:T[xA.MonthGrid]},!i.hideWeekdays&&o.createElement(l.Weekdays,{"data-animated-weekdays":i.animate?"true":void 0,className:f[xA.Weekdays],style:null===T||void 0===T?void 0:T[xA.Weekdays]},C&&o.createElement(l.WeekNumberHeader,{"aria-label":ae(d.options),className:f[xA.WeekNumberHeader],style:null===T||void 0===T?void 0:T[xA.WeekNumberHeader],scope:"col"},A()),ce.map(e=>o.createElement(l.Weekday,{"aria-label":oe(e,d.options,d),className:f[xA.Weekday],key:String(e),style:null===T||void 0===T?void 0:T[xA.Weekday],scope:"col"},R(e,d.options,d)))),o.createElement(l.Weeks,{"data-animated-weeks":i.animate?"true":void 0,className:f[xA.Weeks],style:null===T||void 0===T?void 0:T[xA.Weeks]},e.weeks.map(e=>o.createElement(l.Week,{className:f[xA.Week],key:e.weekNumber,style:null===T||void 0===T?void 0:T[xA.Week],week:e},C&&o.createElement(l.WeekNumber,{week:e,style:null===T||void 0===T?void 0:T[xA.WeekNumber],"aria-label":se(e.weekNumber,{locale:h}),className:f[xA.WeekNumber],scope:"row",role:"rowheader"},O(e.weekNumber,d)),e.days.map(e=>{const{date:t}=e,n=B(e);if(n[kA.focused]=!n.hidden&&Boolean(null===K||void 0===K?void 0:K.isEqualTo(e)),n[EA.selected]=(null===q||void 0===q?void 0:q(t))||n.selected,NA(Y)){const{from:e,to:r}=Y;n[EA.range_start]=Boolean(e&&r&&d.isSameDay(t,e)),n[EA.range_end]=Boolean(e&&r&&d.isSameDay(t,r)),n[EA.range_middle]=CA(Y,t,!0,d)}const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ze({},null===t||void 0===t?void 0:t[xA.Day]);return Object.entries(e).filter(e=>{let[,t]=e;return!0===t}).forEach(e=>{let[t]=e;r=ze(ze({},r),null===n||void 0===n?void 0:n[t])}),r}(n,T,i.modifiersStyles),s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(e).filter(e=>{let[,t]=e;return!0===t}).reduce((e,r)=>{let[i]=r;return n[i]?e.push(n[i]):t[kA[i]]?e.push(t[kA[i]]):t[EA[i]]&&e.push(t[EA[i]]),e},[t[xA.Day]])}(n,f,i.modifiersClassNames),a=ue||n.hidden?void 0:Z(t,n,d.options,d);return o.createElement(l.Day,{key:"".concat(e.isoDate,"_").concat(e.displayMonthId),day:e,modifiers:n,className:s.join(" "),style:r,role:"gridcell","aria-selected":n.selected||void 0,"aria-label":a,"data-day":e.isoDate,"data-month":e.outside?e.dateMonthId:void 0,"data-selected":n.selected||void 0,"data-disabled":n.disabled||void 0,"data-hidden":n.hidden||void 0,"data-outside":e.outside||void 0,"data-focused":n.focused||void 0,"data-today":n.today||void 0},!n.hidden&&ue?o.createElement(l.DayButton,{className:f[xA.DayButton],style:null===T||void 0===T?void 0:T[xA.DayButton],type:"button",day:e,modifiers:n,disabled:!n.focused&&n.disabled||void 0,"aria-disabled":n.focused&&n.disabled||void 0,tabIndex:Q(e)?0:-1,"aria-label":J(t,n,d.options,d),onClick:fe(e,n),onBlur:me(e,n),onFocus:pe(e,n),onKeyDown:ge(e,n),onMouseEnter:ve(e,n),onMouseLeave:ye(e,n)},I(t,d.options,d)):!n.hidden&&I(e.date,d.options,d))})))))))),i.footer&&o.createElement(l.Footer,{className:f[xA.Footer],style:null===T||void 0===T?void 0:T[xA.Footer],role:"status","aria-live":"polite"},i.footer)))}!function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"}(nD||(nD={}));const mD={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},gD={date:jP({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:jP({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:jP({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},vD={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},yD={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},_D={code:"es",formatDistance:(e,t,n)=>{let r;const i=mD[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},formatLong:gD,formatRelative:(e,t,n,r)=>1!==t.getHours()?yD[e]:vD[e],localize:{ordinalNumber:(e,t)=>Number(e)+"\xba",era:zP({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:zP({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:zP({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:zP({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:zP({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:WP({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:VP({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:VP({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:VP({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:VP({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[\xe1a])/i,abbreviated:/^(dom|lun|mar|mi[\xe9e]|jue|vie|s[\xe1a]b)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:VP({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},bD=e=>{let{isFavorite:t,onToggle:n}=e;const r=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(!0);(0,o.useEffect)(()=>{if(s.current)return fS.set(i.current,{fill:t?"#EF4444":"none",stroke:t?"#dc2626":"white"}),void(s.current=!1);const e=fS.timeline();t?e.to(r.current,{scale:1.2,ease:"power1.in",duration:.1}).set(i.current,{fill:"#EF4444",stroke:"#dc2626"}).to(r.current,{scale:1,ease:"elastic.out(1, 0.4)",duration:.4}):e.to(r.current,{scale:.8,ease:"power1.in",duration:.1}).set(i.current,{fill:"none",stroke:"white"}).to(r.current,{scale:1,ease:"power1.out",duration:.1})},[t]);return(0,gS.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},className:"absolute top-4 right-4 h-10 w-10 grid place-items-center bg-black/50 backdrop-blur-sm rounded-full cursor-pointer z-20 focus:outline-none",children:(0,gS.jsx)("div",{ref:r,children:(0,gS.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,className:"w-6 h-6",children:(0,gS.jsx)("path",{ref:i,strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})})},wD=e=>{let{iconName:t,title:n,value:r}=e;return(0,gS.jsxs)("div",{className:"flex flex-col items-center text-center p-3 bg-surface-container rounded-2xl",children:[(0,gS.jsx)("span",{className:"material-icons text-primary mb-1",children:t}),(0,gS.jsx)("p",{className:"text-xs text-on-surface-variant font-medium",children:n}),(0,gS.jsx)("p",{className:"text-sm font-semibold text-on-surface mt-0.5",children:r})]})},xD=e=>{let{suitId:t,onBack:n,favorites:r,onToggleFavorite:i}=e;const{user:s}=kb(),a=se(),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[h,f]=(0,o.useState)(!0),[p,m]=(0,o.useState)(!1),[g,v]=(0,o.useState)(null),[y,_]=(0,o.useState)({from:void 0,to:void 0}),[b,w]=(0,o.useState)([]),[x,k]=(0,o.useState)(0);(0,o.useEffect)(()=>{const e=fh(bb,"trajes/".concat(t));f(!0);const n=kh(e,e=>{const n=e.val();if(n){const e=ze(ze({},n),{},{id:t});c(e);kh(fh(bb,"users/".concat(n.ownerId)),e=>{const t=e.val();t?d(t):v("No se pudo encontrar al propietario del traje."),f(!1)},{onlyOnce:!0})}else v("No se pudo encontrar el traje."),f(!1)},e=>{console.error(e),v("Error al cargar el traje."),f(!1)}),r=kh(Oh(fh(bb,"bookings"),Nh("suitId"),Ph(t)),e=>{const t=[];e.forEach(e=>{const n=e.val();"accepted"===n.status&&t.push({from:new Date(n.startDate),to:new Date(n.endDate)})}),w(t)});return()=>{n(),r()}},[t]);const E=new Date,S=(0,o.useMemo)(()=>{let e=[{before:E}];return b.forEach(t=>e.push({from:t.from,to:t.to})),e},[b,E]);(0,o.useEffect)(()=>{if(y.from&&y.to&&l&&l.price){const e=Math.abs(y.to-y.from),t=Math.ceil(e/864e5)+1;k(t*l.price)}else k(0)},[y,l]);const C=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",T=l&&u?ze(ze({},l),{},{ownerName:u.displayName,ownerPhotoURL:u.photoURL}):null;return(0,gS.jsxs)("div",{className:"animate-fade-in",children:[h&&(0,gS.jsx)("div",{className:"w-full h-screen grid place-items-center",children:(0,gS.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}),g&&(0,gS.jsx)("p",{className:"text-center text-error font-medium py-10",children:g}),T&&(0,gS.jsxs)(gS.Fragment,{children:[(0,gS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-x-12 lg:gap-x-16",children:[(0,gS.jsxs)("div",{className:"relative aspect-[4/5] rounded-2xl overflow-hidden bg-surface-container shadow-lg",children:[(0,gS.jsx)("button",{onClick:n,className:"absolute top-4 left-4 z-20 h-10 w-10 grid place-items-center bg-background/70 backdrop-blur-sm rounded-full cursor-pointer transition-colors","aria-label":"Volver",children:(0,gS.jsx)("span",{className:"material-icons text-on-surface",children:"arrow_back"})}),(0,gS.jsx)("img",{src:T.imageUrl,alt:T.name,className:"w-full h-full object-cover"}),(0,gS.jsx)(bD,{isFavorite:r.has(T.id),onToggle:()=>i(T.id)}),T.ownerId&&(0,gS.jsxs)(Re,{to:"/user/".concat(T.ownerId),className:"absolute bottom-4 left-4 z-10 group flex items-center space-x-3",children:[(0,gS.jsx)("img",{src:T.ownerPhotoURL,alt:T.ownerName,className:"h-12 w-12 rounded-full object-cover border-2 border-white/80 shadow-lg transition-transform transform group-hover:scale-110 duration-300 ease-in-out"}),(0,gS.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/50 text-white text-xs px-2 py-1 rounded-md absolute left-16 whitespace-nowrap",children:["Ver perfil de ",T.ownerName]})]})]}),(0,gS.jsxs)("div",{className:"mt-8 md:mt-0",children:[(0,gS.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight text-on-surface",children:T.name}),(0,gS.jsx)("div",{className:"mt-4",children:(0,gS.jsx)("p",{className:"text-on-surface-variant leading-relaxed",children:T.description})}),(0,gS.jsxs)("div",{className:"mt-6 p-4 sm:p-6 bg-surface-container rounded-2xl",children:[(0,gS.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gS.jsx)("h2",{className:"text-xl font-bold text-on-surface",children:"Alquilar"}),(0,gS.jsxs)("p",{className:"text-2xl font-bold text-primary",children:[T.price,"\u20ac",(0,gS.jsx)("span",{className:"text-sm font-normal text-on-surface-variant",children:"/d\xeda"})]})]}),(0,gS.jsx)("div",{className:"flex justify-center mt-4",children:(0,gS.jsx)(pD,{mode:"range",locale:_D,selected:y,onSelect:_,disabled:S,numberOfMonths:1,styles:{root:{width:"100%",border:"none"},caption_label:{color:"var(--color-primary)"},day:{color:"var(--color-on-surface)"},day_selected:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},day_disabled:{opacity:.3}}})}),x>0&&(0,gS.jsxs)("div",{className:"mt-2 p-3 bg-primary/10 rounded-xl text-center",children:[(0,gS.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Precio total estimado:"}),(0,gS.jsxs)("p",{className:"text-xl font-bold text-primary",children:[x.toFixed(2),"\u20ac"]})]})]}),(0,gS.jsx)("div",{className:"mt-6 flex flex-col gap-4",children:(0,gS.jsx)("button",{onClick:async()=>{if(m(!0),!s)return alert("Debes iniciar sesi\xf3n para solicitar un alquiler."),void m(!1);if(!y.from||!y.to)return alert("Por favor, selecciona un rango de fechas."),void m(!1);if(!l||!u)return alert("Los datos del traje o del propietario no est\xe1n cargados."),void m(!1);if(s.uid===l.ownerId)return alert("No puedes alquilar tu propio traje."),void m(!1);try{const e=l.ownerId,n=s.uid,r=fh(bb,"chats"),i=Oh(r,Nh("suitId"),Ph(t)),o=await _h(i);let c=null;if(o.exists()){const t=o.val();for(const r in t)if(t[r].members&&t[r].members[n]&&t[r].members[e]){c=r;break}}const d=fh(bb),h={},f=mh(fh(bb,"bookings"));let p=c;if(!c){const t=mh(r);p=t.key;const i={id:t.key,bookingId:f.key,suitId:l.id,suitName:l.name,suitImageUrl:l.imageUrl,lastMessage:"Solicitud de alquiler enviada.",timestamp:jh(),members:{[e]:!0,[n]:!0},participantInfo:{[e]:{name:u.displayName,photo:u.photoURL},[n]:{name:s.displayName,photo:s.photoURL}}};h["/chats/".concat(t.key)]=i}const m={id:f.key,chatId:p,suitId:l.id,suitName:l.name,suitImageUrl:l.imageUrl,ownerId:e,renterId:n,renterName:s.displayName,renterPhotoURL:s.photoURL,startDate:y.from.toISOString(),endDate:y.to.toISOString(),totalPrice:x,status:"pending",createdAt:jh()};h["/bookings/".concat(f.key)]=m,await yh(d,h),a("/messages/".concat(p))}catch(g){console.error("Error al procesar la solicitud de alquiler:",g),alert("Hubo un error al enviar tu solicitud. Por favor, int\xe9ntalo de nuevo.")}finally{m(!1)}},disabled:!y.from||!y.to||p,className:"w-full h-12 rounded-full bg-primary text-on-primary font-bold hover:bg-primary-dark transition-all disabled:bg-on-surface/10 disabled:text-on-surface/50 disabled:cursor-not-allowed",children:p?"Enviando Solicitud...":"Solicitar Alquiler y Chatear"})})]})]}),(0,gS.jsx)("div",{className:"mt-10 sm:mt-12 pt-6 sm:pt-8 border-t border-outline/20",children:(0,gS.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,gS.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[T.size&&(0,gS.jsx)(wD,{iconName:"straighten",title:"Talla",value:T.size}),T.eventType&&(0,gS.jsx)(wD,{iconName:"celebration",title:"Evento",value:C(T.eventType)}),T.condition&&(0,gS.jsx)(wD,{iconName:"verified",title:"Condici\xf3n",value:C(T.condition)}),T.colors&&(0,gS.jsx)(wD,{iconName:"palette",title:"Color",value:C(T.colors)})]})})})]})]})},kD=(e,t)=>{if(!e||!e.members||!t)return null;return(Array.isArray(e.members)?e.members:Object.keys(e.members)).find(e=>e!==t.uid)},ED=e=>{let{booking:t,onUpdateStatus:n}=e;if(!t)return null;const{startDate:r,endDate:i,totalPrice:o,status:s}=t,a=MO(new Date(r),"d MMM yyyy",{locale:_D}),l=MO(new Date(i),"d MMM yyyy",{locale:_D}),c=(()=>{switch(s){case"accepted":return{text:"Solicitud Aceptada",style:"bg-green-500/20 text-green-700",icon:"check_circle"};case"rejected":return{text:"Solicitud Rechazada",style:"bg-red-500/20 text-red-700",icon:"cancel"};default:return null}})();return(0,gS.jsxs)("div",{className:"p-3 bg-surface-container rounded-t-xl border-b border-outline/30",children:[(0,gS.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-y-2",children:[(0,gS.jsxs)("div",{className:"flex flex-col",children:[(0,gS.jsx)("span",{className:"text-xs text-on-surface-variant",children:"Solicitud de Alquiler"}),(0,gS.jsxs)("span",{className:"font-bold text-on-surface text-sm",children:[a," - ",l]})]}),(0,gS.jsxs)("span",{className:"font-bold text-primary text-lg",children:[o.toFixed(2),"\u20ac"]})]}),"pending"===s&&(0,gS.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,gS.jsxs)("button",{onClick:()=>n("accepted"),className:"flex-1 h-9 flex items-center justify-center gap-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-colors text-sm font-bold",children:[(0,gS.jsx)("span",{className:"material-icons text-lg",children:"check"}),(0,gS.jsx)("span",{children:"Aceptar"})]}),(0,gS.jsxs)("button",{onClick:()=>n("rejected"),className:"flex-1 h-9 flex items-center justify-center gap-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors text-sm font-bold",children:[(0,gS.jsx)("span",{className:"material-icons text-lg",children:"close"}),(0,gS.jsx)("span",{children:"Rechazar"})]})]}),c&&(0,gS.jsxs)("div",{className:"mt-3 p-2 rounded-lg flex items-center justify-center text-sm font-bold ".concat(c.style),children:[(0,gS.jsx)("span",{className:"material-icons text-lg mr-2",children:c.icon}),c.text]})]})},SD=e=>{var t;let{chatId:n}=e;const{user:r}=kb(),[i,s]=(0,o.useState)([]),[a,l]=(0,o.useState)(""),[c,u]=(0,o.useState)(null),[d,h]=(0,o.useState)(null),[f,p]=(0,o.useState)(!0),m=(0,o.useRef)(null);(0,o.useEffect)(()=>{p(!0);const e=fh(bb,"chats/".concat(n));if(null!==r&&void 0!==r&&r.uid){yh(fh(bb,"chats/".concat(n,"/unreadCount")),{[r.uid]:0}).catch(e=>console.error("Failed to reset unread count",e))}const t=kh(e,e=>{const t=e.val();if(u(t),t&&t.bookingId){kh(fh(bb,"bookings/".concat(t.bookingId)),e=>{h(e.val())})}p(!1)},()=>p(!1)),i=kh(Oh(fh(bb,"messages/".concat(n)),Nh("timestamp")),e=>{const t=[];e.forEach(e=>{t.push(ze({id:e.key},e.val()))}),s(t)});return()=>{t(),i()}},[n,null===r||void 0===r?void 0:r.uid]),(0,o.useEffect)(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[i]);const g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e||void 0===e||e.preventDefault();const i=t||a;if(""===i.trim()||!r||!c)return;const o=kD(c,r);if(!o)return;const s={senderId:r.uid,text:i,timestamp:jh(),isSystem:!!t},u=fh(bb),d={},h=mh(fh(bb,"messages/".concat(n))).key;d["/messages/".concat(n,"/").concat(h)]=s,d["/chats/".concat(n,"/lastMessage")]=i,d["/chats/".concat(n,"/timestamp")]=jh(),t||(d["/chats/".concat(n,"/unreadCount/").concat(o)]={".sv":{increment:1}}),await yh(u,d),t||l("")};if(f)return(0,gS.jsx)("div",{className:"h-full grid place-items-center",children:(0,gS.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})});if(!c)return(0,gS.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8 bg-surface-container-low rounded-2xl",children:[(0,gS.jsx)("span",{className:"material-icons text-error text-8xl mb-4",children:"error_outline"}),(0,gS.jsx)("h2",{className:"text-xl font-bold text-on-surface mb-2",children:"Error al cargar el chat"}),(0,gS.jsx)("p",{className:"text-on-surface-variant max-w-sm",children:"No se pudo encontrar la conversaci\xf3n."})]});const v=kD(c,r),y=v&&(null===(t=c.participantInfo)||void 0===t?void 0:t[v])||{name:"Usuario",photo:""},_=d&&r&&d.ownerId===r.uid;return(0,gS.jsxs)("div",{className:"flex flex-col h-full bg-surface-container-low rounded-2xl",children:[(0,gS.jsxs)(Re,{to:"/user/".concat(v),className:"flex items-center p-3 border-b border-outline/30 rounded-t-2xl hover:bg-surface-container transition-colors",children:[(0,gS.jsx)("img",{src:y.photo,alt:y.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),(0,gS.jsxs)("div",{className:"flex-grow",children:[(0,gS.jsx)("h3",{className:"font-bold text-on-surface",children:y.name}),(0,gS.jsx)("p",{className:"text-sm text-on-surface-variant truncate",children:c.suitName})]})]}),_&&(0,gS.jsx)(ED,{booking:d,onUpdateStatus:async e=>{if(!d)return;const t=fh(bb,"bookings/".concat(d.id));try{await yh(t,{status:e});const n="La solicitud de alquiler ha sido ".concat("accepted"===e?"aceptada":"rechazada",".");g(null,n)}catch(la){console.error("Error actualizando el estado del alquiler:",la)}}}),(0,gS.jsxs)("div",{className:"flex-grow p-4 overflow-y-auto",children:[i.map(e=>(0,gS.jsx)("div",{className:"flex my-2 ".concat(e.isSystem?"justify-center":e.senderId===r.uid?"justify-end":"justify-start"),children:e.isSystem?(0,gS.jsx)("div",{className:"px-3 py-1 rounded-full bg-surface-container text-xs text-on-surface-variant",children:e.text}):(0,gS.jsx)("div",{className:"px-4 py-2 rounded-2xl max-w-xs lg:max-w-md ".concat(e.senderId===r.uid?"bg-primary text-on-primary":"bg-surface-container text-on-surface"),children:(0,gS.jsx)("p",{className:"text-sm",children:e.text})})},e.id)),(0,gS.jsx)("div",{ref:m})]}),(0,gS.jsx)("div",{className:"p-4 bg-surface-container rounded-b-2xl",children:(0,gS.jsxs)("form",{onSubmit:g,className:"flex items-center space-x-3",children:[(0,gS.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Escribe tu mensaje...",className:"flex-grow p-3 rounded-full bg-surface border border-outline focus:ring-2 focus:ring-primary focus:outline-none transition"}),(0,gS.jsx)("button",{type:"submit",className:"h-12 w-12 grid place-items-center rounded-full bg-primary text-on-primary hover:scale-110 transition-transform disabled:bg-surface-container-high",disabled:!a.trim(),children:(0,gS.jsx)("span",{className:"material-icons",children:"send"})})]})})]})},CD=e=>{var t,n;let{chat:r,active:i,onClick:o}=e;const{user:s}=kb();if(!r||!s)return null;const a=kD(r,s);if(!a||null===(t=r.participantInfo)||void 0===t||!t[a])return null;const l=r.participantInfo[a],c=(null===(n=r.unreadCount)||void 0===n?void 0:n[s.uid])||0;return(0,gS.jsxs)("div",{onClick:o,className:"flex items-center p-3 rounded-2xl cursor-pointer transition-colors ".concat(i?"bg-primary/10":"hover:bg-surface-container"),children:[(0,gS.jsx)("img",{src:l.photo,alt:l.name,className:"w-12 h-12 rounded-full mr-4 object-cover"}),(0,gS.jsxs)("div",{className:"flex-grow overflow-hidden",children:[(0,gS.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gS.jsx)("h4",{className:"font-bold text-on-surface truncate",children:l.name}),c>0&&(0,gS.jsx)("span",{className:"flex items-center justify-center h-5 min-w-[1.25rem] px-1.5 rounded-full bg-primary text-on-primary text-xs font-bold ml-2",children:c})]}),(0,gS.jsx)("p",{className:"text-sm mt-0.5 truncate ".concat(c>0?"text-primary font-semibold":"text-on-surface-variant"),children:r.lastMessage||"Haz clic para chatear"})]})]})},TD=()=>(0,gS.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8 bg-surface-container-low rounded-2xl",children:[(0,gS.jsx)("span",{className:"material-icons text-on-surface-variant/50 text-8xl mb-4",children:"chat"}),(0,gS.jsx)("h2",{className:"text-xl font-bold text-on-surface mb-2",children:"Selecciona un chat"}),(0,gS.jsx)("p",{className:"text-on-surface-variant max-w-sm",children:"Elige una conversaci\xf3n de la lista para ver los mensajes o inicia un nuevo chat desde la p\xe1gina de un traje."})]}),ND=()=>{const{user:e}=kb(),{chatId:t}=ae(),n=se(),[r,i]=(0,o.useState)([]),[s,a]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{if(!e)return void a(!1);a(!0);const t=kh(Oh(fh(bb,"chats"),Nh("members/".concat(e.uid)),Ph(!0)),e=>{const t=e.val()||{},n=Object.keys(t).map(e=>ze({id:e},t[e]));n.sort((e,t)=>(t.timestamp||0)-(e.timestamp||0)),i(n),a(!1)},()=>a(!1));return()=>t()},[e]),(0,gS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 h-[calc(100vh-10rem)] animate-fade-in",children:[(0,gS.jsxs)("div",{className:"md:col-span-1 lg:col-span-1 bg-surface-container p-2 rounded-2xl overflow-y-auto space-y-2",children:[(0,gS.jsx)("h2",{className:"text-xl font-bold text-on-surface p-3",children:"Conversaciones"}),s&&(0,gS.jsx)("div",{className:"p-3 text-center text-on-surface-variant",children:"Cargando chats..."}),!s&&0===r.length&&(0,gS.jsx)("div",{className:"p-4 text-center text-on-surface-variant",children:"A\xfan no tienes conversaciones. Inicia una al solicitar el alquiler de un traje."}),r.map(e=>(0,gS.jsx)(CD,{chat:e,active:t===e.id,onClick:()=>n("/messages/".concat(e.id))},e.id))]}),(0,gS.jsx)("div",{className:"md:col-span-2 lg:col-span-3 h-full",children:t?(0,gS.jsx)(SD,{chatId:t}):(0,gS.jsx)(TD,{})})]})},ID=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,gS.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-background/80 backdrop-blur-sm animate-fade-in",onClick:n,children:(0,gS.jsx)("div",{onClick:e=>e.stopPropagation(),className:"relative animate-scale-in",children:r})}):null},PD=["id","label"],OD=e=>{let{id:t,label:n,options:r,value:i,onChange:s}=e;const[a,l]=(0,o.useState)(!1),c=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,o.useEffect)(()=>{const e=i&&""!==i;fS.to(u.current,{y:a||e?-24:0,scale:a||e?.85:1,color:a?"#A855F7":"#9CA3AF",duration:.2,ease:"power2.out"}),fS.to(d.current,{opacity:a?1:0,y:a?0:-10,display:a?"block":"none",duration:.2,ease:"power2.out"})},[a,i]),(0,gS.jsxs)("div",{ref:c,className:"relative w-full",children:[(0,gS.jsx)("label",{ref:u,htmlFor:t,className:"absolute left-4 top-3.5 text-on-surface-variant origin-top-left transition-transform duration-200 pointer-events-none",children:n}),(0,gS.jsxs)("button",{type:"button",id:t,onClick:()=>l(!a),className:"flex items-center justify-between w-full h-14 px-4 text-left bg-surface-container rounded-lg border border-outline/50 focus:border-primary focus:ring-2 focus:ring-primary/50 transition",children:[(0,gS.jsx)("span",{className:"text-on-surface",children:i||""}),(0,gS.jsx)("span",{className:"material-icons text-on-surface-variant transition-transform duration-300 ".concat(a?"rotate-180":""),children:"expand_more"})]}),(0,gS.jsx)("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-surface-container-high rounded-lg shadow-xl overflow-hidden",children:(0,gS.jsx)("ul",{children:r.map(e=>(0,gS.jsx)("li",{onClick:()=>{return n=e.value,s({target:{name:t,value:n}}),void l(!1);var n},className:"px-4 py-3 hover:bg-primary/10 text-on-surface cursor-pointer transition-colors",children:e.label},e.value))})})]})},AD=e=>{let{imageUrls:t,onImagesChange:n}=e;const[r,i]=(0,o.useState)(""),s=(0,o.useRef)(null);return(0,gS.jsxs)("div",{className:"space-y-4",children:[(0,gS.jsx)("div",{className:"grid grid-cols-3 gap-2 min-h-[120px] p-2 rounded-lg bg-surface-container border border-dashed border-outline/30",children:t.map((e,r)=>(0,gS.jsxs)("div",{className:"relative group aspect-square",children:[(0,gS.jsx)("img",{src:e,alt:"Preview ".concat(r+1),className:"w-full h-full object-cover rounded-md"}),(0,gS.jsx)("button",{type:"button",onClick:()=>(e=>{n(t.filter((t,n)=>n!==e))})(r),className:"absolute top-1 right-1 h-6 w-6 grid place-items-center bg-black/50 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,gS.jsx)("span",{className:"material-icons text-sm",children:"close"})})]},r))}),(0,gS.jsxs)("div",{className:"flex gap-2",children:[(0,gS.jsxs)("div",{className:"relative flex-grow",children:[(0,gS.jsx)("span",{className:"material-icons absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant",children:"link"}),(0,gS.jsx)("input",{type:"url",value:r,onChange:e=>i(e.target.value),placeholder:"Pegar URL de la imagen",className:"w-full h-11 pl-10 pr-4 rounded-lg bg-surface-container border-outline/50 focus:border-primary focus:ring-primary transition"})]}),(0,gS.jsx)("button",{type:"button",onClick:()=>{r&&!t.includes(r)&&(n([...t,r]),i(""))},className:"h-11 px-4 bg-primary/20 text-primary font-semibold rounded-lg hover:bg-primary/30 transition",children:"A\xf1adir"})]}),(0,gS.jsxs)("button",{type:"button",onClick:()=>s.current.click(),className:"w-full h-12 flex items-center justify-center gap-2 rounded-lg bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,gS.jsx)("span",{className:"material-icons text-on-surface-variant",children:"upload"}),(0,gS.jsx)("span",{className:"font-semibold text-on-surface",children:"Subir desde dispositivo"})]}),(0,gS.jsx)("input",{type:"file",multiple:!0,accept:"image/*",ref:s,className:"hidden",onChange:e=>{const r=Array.from(e.target.files);0!==r.length&&r.forEach(e=>{const r=new FileReader;r.onload=e=>{const r=e.target.result;t.includes(r)||n(e=>[...e,r])},r.readAsDataURL(e)})}})]})},RD=e=>{let{id:t,label:n}=e,r=Ve(e,PD);return(0,gS.jsxs)("div",{className:"relative",children:[(0,gS.jsx)("input",ze(ze({id:t},r),{},{placeholder:" ",className:"block px-4 h-14 w-full text-on-surface bg-surface-container rounded-lg border border-outline/50 appearance-none focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary peer transition"})),(0,gS.jsx)("label",{htmlFor:t,className:"absolute text-sm text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] left-4 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4",children:n})]})},DD=e=>{let{onSubmit:t,onCancel:n,suitToEdit:r}=e;const[i,s]=(0,o.useState)({}),[a,l]=(0,o.useState)(""),c=!!r;(0,o.useEffect)(()=>{if(r){const e=r.imageUrls||(r.imageUrl?[r.imageUrl]:[]);s(ze(ze({},r),{},{imageUrls:e}))}else s({imageUrls:[]})},[r]);const u=e=>{const{name:t,value:n}=e.target;s(e=>ze(ze({},e),{},{[t]:n}))};return(0,gS.jsxs)("form",{onSubmit:e=>{e.preventDefault(),0!==i.imageUrls.length?(l(""),t(i)):l("Por favor, a\xf1ade al menos una imagen.")},className:"p-4 sm:p-6 bg-surface rounded-2xl w-full max-w-4xl mx-auto shadow-xl",children:[(0,gS.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-on-surface mb-8",children:c?"Editar Traje":"A\xf1adir Traje"}),(0,gS.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,gS.jsxs)("div",{className:"lg:col-span-1",children:[(0,gS.jsx)("h2",{className:"text-lg font-medium text-on-surface mb-2",children:"Im\xe1genes"}),(0,gS.jsx)(AD,{imageUrls:i.imageUrls||[],onImagesChange:e=>{s(t=>ze(ze({},t),{},{imageUrls:e}))}})]}),(0,gS.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,gS.jsx)("div",{className:"sm:col-span-2",children:(0,gS.jsx)(RD,{id:"name",name:"name",label:"Nombre del Traje",type:"text",required:!0,value:i.name||"",onChange:u})}),(0,gS.jsx)(RD,{id:"price",name:"price",label:"Precio por d\xeda (\u20ac)",type:"number",required:!0,value:i.price||"",onChange:u,step:"0.01"}),(0,gS.jsx)(RD,{id:"size",name:"size",label:"Talla",type:"text",required:!0,value:i.size||"",onChange:u}),(0,gS.jsx)(OD,{id:"eventType",name:"eventType",label:"Tipo de Evento",options:[{value:"boda",label:"Boda"},{value:"gala",label:"Gala"},{value:"negocios",label:"Negocios"},{value:"fiesta",label:"Fiesta"},{value:"otro",label:"Otro"}],value:i.eventType||"",onChange:u}),(0,gS.jsx)(OD,{id:"condition",name:"condition",label:"Estado",options:[{value:"nuevo",label:"Nuevo"},{value:"como-nuevo",label:"Como nuevo"},{value:"bueno",label:"Bueno"},{value:"usado",label:"Usado"}],value:i.condition||"",onChange:u}),(0,gS.jsx)("div",{className:"sm:col-span-2",children:(0,gS.jsx)(RD,{id:"colors",name:"colors",label:"Colores",type:"text",value:i.colors||"",onChange:u,placeholder:"Ej: Negro, Azul marino"})}),(0,gS.jsx)("div",{className:"sm:col-span-2",children:(0,gS.jsx)(RD,{id:"materials",name:"materials",label:"Materiales",type:"text",value:i.materials||"",onChange:u,placeholder:"Ej: Lana, Seda, Algod\xf3n"})}),(0,gS.jsx)("div",{className:"sm:col-span-2",children:(0,gS.jsx)(RD,{as:"textarea",id:"description",name:"description",label:"Descripci\xf3n",rows:"4",value:i.description||"",onChange:u})})]})]}),a&&(0,gS.jsx)("p",{className:"text-error text-sm mt-6 text-center",children:a}),(0,gS.jsxs)("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-outline/20",children:[(0,gS.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 rounded-full font-semibold text-on-surface hover:bg-on-surface/10 transition-colors",children:"Cancelar"}),(0,gS.jsx)("button",{type:"submit",className:"px-8 py-2 rounded-full bg-primary text-on-primary font-bold hover:bg-primary-dark transition-all",children:c?"Guardar Cambios":"A\xf1adir Traje"})]})]})},MD=e=>(0,gS.jsx)("svg",ze(ze({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})),LD=e=>(0,gS.jsx)("svg",ze(ze({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,gS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})),jD=()=>{const{user:e}=kb(),{docs:t,loading:n,error:r}=pS("trajes"),i=(0,o.useMemo)(()=>e?t.filter(t=>{const n=t.ownerId===e.uid,r=t.usuario===e.uid||e.displayName&&t.usuario===e.displayName,i=e.displayName&&t.publicadoPor===e.displayName;return n||r||i}):[],[t,e]),[s,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null);return(0,gS.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col space-y-6",children:[n?(0,gS.jsx)("div",{className:"text-center py-16",children:(0,gS.jsx)("p",{children:"Cargando tus art\xedculos..."})}):r?(0,gS.jsx)("div",{className:"text-center py-16 text-error",children:(0,gS.jsx)("p",{children:"Error al cargar los art\xedculos."})}):0===i.length?(0,gS.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,gS.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no has publicado nada"}),(0,gS.jsxs)("p",{className:"text-on-surface-variant mt-2",children:["Usa el bot\xf3n de ",(0,gS.jsx)("span",{className:"font-semibold text-primary",children:'"A\xf1adir traje"'})," para empezar a ganar dinero."]})]}):(0,gS.jsx)("div",{className:"space-y-4",children:i.map(e=>{const t=e.imageUrls&&e.imageUrls[0]||e.imageUrl;return(0,gS.jsxs)("div",{className:"flex items-center space-x-4 bg-surface p-3 rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,gS.jsx)("img",{src:t,alt:e.name,className:"h-24 w-24 rounded-lg object-cover bg-surface-container"}),(0,gS.jsxs)("div",{className:"flex-grow",children:[(0,gS.jsx)("h2",{className:"font-bold text-lg text-on-surface",children:e.name}),(0,gS.jsxs)("p",{className:"text-on-surface-variant",children:["\u20ac",e.price,"/d\xeda"]}),(0,gS.jsx)("p",{className:"text-sm font-semibold mt-1 ".concat(!1===e.isAvailable?"text-error":"text-tertiary"),children:!1===e.isAvailable?"Alquilado":"Disponible"})]}),(0,gS.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,gS.jsxs)("button",{onClick:()=>(c(e),void a(!0)),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,gS.jsx)(MD,{className:"h-5 w-5"}),(0,gS.jsx)("span",{className:"text-sm font-medium",children:"Editar"})]}),(0,gS.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este art\xedculo? Esta acci\xf3n no se puede deshacer."))try{await gh(fh(bb,"trajes/".concat(e)))}catch(r){console.error("Error al eliminar el art\xedculo:",r),alert("Hubo un error al eliminar el art\xedculo.")}})(e.id),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-error-container text-on-error-container hover:bg-error-container/80 transition-colors",children:[(0,gS.jsx)(LD,{className:"h-5 w-5"}),(0,gS.jsx)("span",{className:"text-sm font-medium",children:"Eliminar"})]})]})]},e.id)})}),(0,gS.jsx)(ID,{isOpen:s,onClose:()=>a(!1),children:(0,gS.jsx)(DD,{onSubmit:async t=>{if(null!==l&&void 0!==l&&l.id)try{const n=await Promise.all((t.imageUrls||[]).map(async t=>{if(t.startsWith("data:image")){const n=pb(wb,"suits/".concat(e.uid,"/").concat(Date.now())),r=await hb(n,t,"data_url");return await fb(r.ref)}return t})),r=ze(ze({},t),{},{ownerId:e.uid,imageUrls:n,imageUrl:n[0]||"",price:Number(t.price)||0,usuario:null,publicadoPor:null});await yh(fh(bb,"trajes/".concat(l.id)),r),a(!1),c(null)}catch(r){console.error("Error al actualizar el art\xedculo:",r),alert("Hubo un error al guardar los cambios.")}},onCancel:()=>{a(!1),c(null)},suitToEdit:l})})]})},FD=e=>{let{favorites:t,onSuitSelect:n,onToggleFavorite:r}=e;const{docs:i,loading:s,error:a}=pS("trajes"),{containerRef:l}=ZN(),c=(0,o.useMemo)(()=>t&&0!==i.length?i.filter(e=>t.has(e.id)):[],[i,t]);return(0,gS.jsx)("div",{className:"w-full max-w-7xl mx-auto flex flex-col space-y-8 px-4 sm:px-6 lg:px-8 py-8",children:(0,gS.jsx)("div",{className:"min-h-[400px]",children:s?(0,gS.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(3)].map((e,t)=>(0,gS.jsx)(tI,{},t))}):a?(0,gS.jsx)("p",{className:"text-center text-error",children:"Error al cargar tus favoritos."}):0===c.length?(0,gS.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,gS.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no tienes favoritos"}),(0,gS.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Haz clic en el coraz\xf3n de los trajes que te gusten para guardarlos aqu\xed."})]}):(0,gS.jsx)("div",{ref:l,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(e=>(0,gS.jsx)(nI,{suit:e,onSelect:n,isFavorite:!0,onToggleFavorite:r},e.id))})})})},UD=e=>{let{rental:t}=e;const n=se(),{user:r}=kb(),{suitName:i,suitImageUrl:o,startDate:s,endDate:a,totalPrice:l,status:c,renterName:u,renterPhotoURL:d,chatId:h,ownerId:f}=t,p=r&&(r.uid===f||r.displayName===f),m=()=>n("/messages/".concat(h)),g=MO(new Date(s),"d MMM yyyy",{locale:_D}),v=MO(new Date(a),"d MMM yyyy",{locale:_D});return(0,gS.jsxs)("div",{onClick:m,className:"flex items-start sm:items-center gap-4 bg-surface p-4 rounded-2xl shadow-sm hover:bg-surface-container transition-colors duration-200 cursor-pointer",children:[(0,gS.jsx)("img",{src:o,alt:i,className:"h-28 w-24 sm:h-32 sm:w-28 rounded-lg object-cover"}),(0,gS.jsxs)("div",{className:"flex-grow",children:[(0,gS.jsx)("h3",{className:"font-bold text-base sm:text-lg text-on-surface",children:i}),(0,gS.jsxs)("p",{className:"text-sm text-on-surface-variant font-medium mt-1",children:[g," - ",v]}),(0,gS.jsxs)("p",{className:"font-semibold text-base sm:text-lg text-primary mt-1",children:["\u20ac",l.toFixed(2)]}),p&&(0,gS.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,gS.jsx)("img",{src:d,alt:u,className:"w-6 h-6 rounded-full object-cover"}),(0,gS.jsxs)("p",{className:"text-xs text-on-surface-variant",children:["Solicitado por ",u]})]})]}),(0,gS.jsxs)("div",{className:"flex flex-col items-end justify-between self-stretch py-1",children:[(0,gS.jsx)("span",{className:"px-3 py-1 text-xs font-bold rounded-full ".concat((e=>{switch(e){case"pending":return"bg-yellow-400/30 text-yellow-700";case"accepted":return"bg-green-400/30 text-green-700";case"rejected":return"bg-red-400/30 text-red-700";default:return"bg-gray-400/30 text-gray-700"}})(c)),children:c.charAt(0).toUpperCase()+c.slice(1)}),(0,gS.jsx)("div",{className:"flex-grow"}),(0,gS.jsxs)("button",{onClick:e=>{e.stopPropagation(),m()},className:"h-9 px-4 flex items-center gap-2 rounded-full bg-primary/20 text-primary hover:bg-primary/30 transition-colors text-sm font-bold",children:[(0,gS.jsx)("span",{className:"material-icons text-lg",children:"chat"}),(0,gS.jsx)("span",{children:"Ver Chat"})]})]})]})},zD=e=>{let{message:t}=e;return(0,gS.jsx)("div",{className:"text-center py-12 px-6 bg-surface-container rounded-3xl",children:(0,gS.jsx)("p",{className:"text-on-surface-variant",children:t})})},VD=()=>{const{user:e}=kb(),[t,n]=(0,o.useState)("received"),{docs:r,loading:i,error:s}=pS("bookings"),a=(0,o.useMemo)(()=>e?r.filter(t=>t.ownerId===e.uid||e.displayName&&t.ownerId===e.displayName):[],[r,e]),l=(0,o.useMemo)(()=>e?r.filter(t=>t.renterId===e.uid||e.displayName&&t.renterId===e.displayName):[],[r,e]),c=e=>{let{label:r,tabName:i}=e;return(0,gS.jsx)("button",{onClick:()=>n(i),className:"px-6 py-2 rounded-full font-bold text-sm transition-colors ".concat(t===i?"bg-primary text-on-primary":"bg-surface-container text-on-surface-variant hover:bg-surface-container-high"),children:r})},u=(e,t)=>i?(0,gS.jsx)("p",{children:"Cargando..."}):s?(0,gS.jsx)(zD,{message:"Error al cargar los datos."}):e.length>0?e.map(e=>(0,gS.jsx)(UD,{rental:e},e.id)):(0,gS.jsx)(zD,{message:t});return(0,gS.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-6 p-4 animate-fade-in",children:[(0,gS.jsx)("header",{className:"flex justify-between items-center",children:(0,gS.jsxs)("div",{className:"p-1.5 bg-surface-container rounded-full flex gap-2",children:[(0,gS.jsx)(c,{label:"Solicitudes Recibidas",tabName:"received"}),(0,gS.jsx)(c,{label:"Mis Peticiones",tabName:"made"})]})}),(0,gS.jsx)("main",{children:(0,gS.jsx)("div",{className:"space-y-4",children:"received"===t?u(a,"Nadie ha solicitado alquilar tus trajes todav\xeda."):u(l,"No has alquilado ning\xfan traje todav\xeda.")})})]})},WD=e=>{let{user:t,onLogout:n}=e;se();return(0,gS.jsxs)("header",{className:"relative flex justify-center items-center flex-col w-full text-center p-6 bg-surface-container-lowest",children:[(0,gS.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-on-surface/10 transition-colors","aria-label":"Cerrar sesi\xf3n",children:(0,gS.jsx)("span",{className:"material-icons",children:"logout"})}),(0,gS.jsx)("div",{className:"relative w-28 h-28",children:(0,gS.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoURL)||"https://ui-avatars.com/api/?name=".concat((null===t||void 0===t?void 0:t.displayName)||"U","&background=random"),alt:"Foto de perfil",className:"w-full h-full rounded-full object-cover border-4 border-white shadow-lg"})}),(0,gS.jsx)("div",{className:"mt-4 flex items-center gap-2",children:(0,gS.jsx)("h1",{className:"text-2xl font-bold text-on-surface",children:(null===t||void 0===t?void 0:t.displayName)||"Nombre de Usuario"})}),(0,gS.jsx)("p",{className:"text-on-surface-variant",children:null===t||void 0===t?void 0:t.email})]})},BD=e=>{let{activeTab:t,setActiveTab:n}=e;return(0,gS.jsxs)("nav",{className:"w-full border-b border-outline/20 flex justify-around sticky top-0 bg-surface z-10",children:[(0,gS.jsx)(qD,{icon:"inventory_2",label:"",isActive:"wardrobe"===t,onClick:()=>n("wardrobe")}),(0,gS.jsx)(qD,{icon:"favorite",label:"",isActive:"favorites"===t,onClick:()=>n("favorites")}),(0,gS.jsx)(qD,{icon:"local_shipping",label:"",isActive:"orders"===t,onClick:()=>n("orders")})]})},qD=e=>{let{icon:t,label:n,onClick:r,isActive:i}=e;return(0,gS.jsxs)("button",{onClick:r,className:"flex-grow flex flex-col sm:flex-row justify-center items-center py-3 px-2 gap-2 transition-colors duration-200 ".concat(i?"border-b-2 border-primary text-primary":"text-on-surface-variant hover:text-on-surface"),"aria-label":n,children:[(0,gS.jsx)("span",{className:"material-icons-outlined",children:t}),(0,gS.jsx)("span",{className:"font-semibold text-sm sm:text-base",children:n})]})},HD=e=>{let{favorites:t,onToggleFavorite:n,onSuitSelect:r}=e;const{user:i,loading:s,logout:a}=kb(),l=se(),[c,u]=(0,o.useState)("wardrobe");return s?(0,gS.jsx)("div",{className:"w-full flex-grow flex items-center justify-center",children:(0,gS.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):i?(0,gS.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col items-center pb-12 min-h-screen bg-surface-container-low",children:[(0,gS.jsx)(WD,{user:i,onLogout:async()=>{await a(),l("/")}}),(0,gS.jsx)(BD,{activeTab:c,setActiveTab:u}),(0,gS.jsx)("main",{className:"w-full p-4 sm:p-6",children:(()=>{switch(c){case"wardrobe":default:return(0,gS.jsx)(jD,{});case"favorites":return(0,gS.jsx)(FD,{favorites:t,onToggleFavorite:n,onSuitSelect:r});case"orders":return(0,gS.jsx)(VD,{})}})()})]}):(l("/login"),null)},YD=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),{user:i}=kb(),s=se();return(0,gS.jsx)("div",{className:"bg-background min-h-screen",children:(0,gS.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n&&(0,gS.jsx)("div",{className:"bg-error-container text-on-error-container p-4 rounded-lg mb-6",children:(0,gS.jsx)("p",{children:n})}),(0,gS.jsx)(DD,{onSubmit:async e=>{if(i){t(!0),r(null);try{const n=[];for(const t of e.imageUrls)if(t.startsWith("data:image")){const e=pb(mb(),"trajes/".concat(i.uid,"/").concat(Date.now())),r=await hb(e,t,"data_url"),o=await fb(r.ref);n.push(o)}else n.push(t);const r=ze(ze({},e),{},{imageUrls:n,imageUrl:n[0]||"",ownerId:i.uid,createdAt:jh(),isAvailable:!0,price:Number(e.price)||0}),o=fh(bb,"trajes");await mh(o,r),t(!1),s("/profile")}catch(n){console.error("Error adding suit:",n),r("Hubo un error al guardar el traje. Por favor, int\xe9ntalo de nuevo."),t(!1)}}else r("Debes iniciar sesi\xf3n para a\xf1adir un traje.")},onCancel:()=>{s("/profile")},isLoading:e})]})})},GD=e=>{let{fill:t="currentColor"}=e;return(0,gS.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:(0,gS.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z"})})},KD=e=>{let{suit:t}=e;return(0,gS.jsxs)(Re,{to:"/suit/".concat(t.id),className:"block group",children:[(0,gS.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-xl bg-surface-container-high",children:(0,gS.jsx)("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover object-center group-hover:opacity-90 transition-opacity"})}),(0,gS.jsx)("h3",{className:"mt-2 text-sm font-semibold text-on-surface group-hover:text-primary transition-colors",children:t.name}),(0,gS.jsxs)("p",{className:"mt-1 text-xs text-on-surface-variant",children:[t.price,"\u20ac/d\xeda"]})]})},QD=()=>{const{userId:e}=ae(),t=se(),[n,r]=(0,o.useState)(null),[i,s]=(0,o.useState)(!0),{docs:a,loading:l}=pS("trajes");(0,o.useEffect)(()=>{if(!e)return;const t=fh(_b,"users/".concat(e));s(!0);const n=kh(t,e=>{e.exists()?r(e.val()):console.log("No user data found"),s(!1)},()=>s(!1));return()=>n()},[e]);const c=(0,o.useMemo)(()=>e?a.filter(t=>t.ownerId===e):[],[a,e]),u=(0,o.useMemo)(()=>{const t=a.filter(t=>t.ownerId===e&&t.rating).map(e=>e.rating);if(0===t.length)return 0;return(t.reduce((e,t)=>e+t,0)/t.length).toFixed(1)},[a,e]);if(i||l)return(0,gS.jsx)("div",{className:"w-full h-screen grid place-items-center",children:"Cargando perfil..."});if(!n)return(0,gS.jsxs)("div",{className:"w-full h-screen grid place-items-center text-center",children:[(0,gS.jsx)("h2",{className:"text-xl font-semibold",children:"Perfil no encontrado"}),(0,gS.jsx)("p",{className:"text-on-surface-variant mt-2",children:"El usuario que buscas no existe."}),(0,gS.jsx)("button",{onClick:()=>t(-1),className:"mt-4 px-4 py-2 rounded-full bg-primary text-on-primary",children:"Volver"})]});const d=n.creationTime?new Date(n.creationTime).getFullYear():"N/A";return(0,gS.jsx)("div",{className:"bg-surface min-h-screen animate-fade-in",children:(0,gS.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[(0,gS.jsx)("header",{className:"flex items-center mb-6",children:(0,gS.jsx)("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-surface-container-high transition-colors",children:(0,gS.jsx)("span",{className:"material-icons",children:"arrow_back"})})}),(0,gS.jsxs)("main",{className:"bg-surface-container rounded-2xl shadow-lg p-6 sm:p-8 max-w-2xl mx-auto",children:[(0,gS.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6 sm:gap-8",children:[(0,gS.jsx)("div",{className:"flex-shrink-0",children:(0,gS.jsx)("img",{src:n.photoURL,alt:"Foto de ".concat(n.displayName),className:"w-28 h-28 rounded-full object-cover border-4 border-surface-container-high shadow-md"})}),(0,gS.jsxs)("div",{className:"text-center sm:text-left",children:[(0,gS.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:n.displayName}),(0,gS.jsxs)("p",{className:"text-on-surface-variant mt-2 text-sm flex items-center justify-center sm:justify-start gap-3",children:[(0,gS.jsxs)("span",{children:["Miembro desde ",d]}),(0,gS.jsx)("span",{className:"font-bold",children:"\xb7"}),(0,gS.jsxs)("span",{children:[c.length," Trajes Publicados"]}),u>0&&(0,gS.jsxs)(gS.Fragment,{children:[(0,gS.jsx)("span",{className:"font-bold",children:"\xb7"}),(0,gS.jsxs)("span",{className:"flex items-center gap-1",children:[(0,gS.jsx)(GD,{})," ",u," Valoraci\xf3n"]})]})]})]})]}),(0,gS.jsxs)("div",{className:"mt-8 pt-8 border-t border-outline/30",children:[(0,gS.jsxs)("h2",{className:"text-xl font-bold text-on-surface mb-4",children:["Colecci\xf3n de ",n.displayName.split(" ")[0]]}),c.length>0?(0,gS.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-6",children:c.map(e=>(0,gS.jsx)(KD,{suit:e},e.id))}):(0,gS.jsxs)("div",{className:"text-center py-10 px-6 bg-surface rounded-xl",children:[(0,gS.jsx)("h3",{className:"text-lg font-semibold text-on-surface",children:"Este armario est\xe1 vac\xedo"}),(0,gS.jsx)("p",{className:"text-on-surface-variant mt-1 text-sm",children:"Este usuario todav\xeda no ha puesto ning\xfan traje en alquiler."})]})]}),(0,gS.jsxs)("div",{className:"mt-8 pt-6 flex flex-col sm:flex-row gap-3 border-t border-outline/30",children:[(0,gS.jsxs)("button",{className:"w-full h-11 rounded-full bg-primary text-on-primary font-bold hover:bg-primary/90 transition-colors text-sm flex items-center justify-center gap-2",children:["Seguir a ",n.displayName.split(" ")[0]]}),(0,gS.jsx)("button",{className:"w-full h-11 rounded-full border border-outline text-on-surface-variant font-bold hover:bg-surface-container-high transition-colors text-sm",children:"Contactar"})]})]})]})})},XD=e=>{const{suitId:t}=ae(),n=se();return(0,gS.jsx)(xD,ze(ze({suitId:t},e),{},{onBack:()=>n(-1)}))};const $D=function(){const{user:e,loading:t,favorites:n,toggleFavorite:r}=kb(),i=se();if(t)return(0,gS.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,gS.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-primary"})});if(!e)return(0,gS.jsx)(NS,{});const o={onSuitSelect:e=>{e?i("/suit/".concat(e)):console.error("handleSuitSelect called with an invalid suitId:",e)},favorites:n,onToggleFavorite:r};return(0,gS.jsxs)("div",{className:"bg-background min-h-screen flex flex-col",children:[(0,gS.jsx)(ES,{favoritesCount:n.size}),(0,gS.jsx)("main",{className:"flex-grow w-full max-w-7xl mx-auto p-4 pt-24 md:pt-28",children:(0,gS.jsxs)(Ee,{children:[(0,gS.jsx)(xe,{path:"/",element:(0,gS.jsx)(MP,ze({},o))}),(0,gS.jsx)(xe,{path:"/search",element:(0,gS.jsx)(MP,ze({},o))}),(0,gS.jsx)(xe,{path:"/suit/:suitId",element:(0,gS.jsx)(XD,{favorites:n,onToggleFavorite:r})}),(0,gS.jsx)(xe,{path:"/add-suit",element:(0,gS.jsx)(YD,{})}),(0,gS.jsx)(xe,{path:"/messages",element:(0,gS.jsx)(ND,{})}),(0,gS.jsx)(xe,{path:"/messages/:chatId",element:(0,gS.jsx)(ND,{})}),(0,gS.jsx)(xe,{path:"/profile",element:(0,gS.jsx)(HD,ze({},o))}),(0,gS.jsx)(xe,{path:"/user/:userId",element:(0,gS.jsx)(QD,{})})]})}),(0,gS.jsx)(IS,{}),(0,gS.jsx)(PS,{})]})},JD=(0,o.createContext)(),ZD=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(()=>{const e=localStorage.getItem("theme");return e||"light"});(0,o.useEffect)(()=>{const e=window.document.documentElement;e.classList.remove("dark"===n?"light":"dark"),e.classList.add(n),localStorage.setItem("theme",n)},[n]);return(0,gS.jsx)(JD.Provider,{value:{theme:n,toggleTheme:()=>{r(e=>"light"===e?"dark":"light")}},children:t})};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister().then(e=>{e&&(console.log("Service Worker unregistered successfully."),window.location.reload(!0))})}).catch(e=>{console.error("Error during service worker unregistration:",e)});a.createRoot(document.getElementById("root")).render((0,gS.jsx)(o.StrictMode,{children:(0,gS.jsx)(Pe,{children:(0,gS.jsx)(ZD,{children:(0,gS.jsx)($D,{})})})}))})()})();