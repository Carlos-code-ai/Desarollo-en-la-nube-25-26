/*! For license information please see main.1dbdcf54.js.LICENSE.txt */
(()=>{"use strict";var e={49(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=_.prototype=new y;w.constructor=_,m(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},119(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340(e,t,n){e.exports=n(761)},345(e,t,n){var r=n(569),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Ce=null;function Te(e){if(e=_i(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function ke(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Ce)&&(Ne(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,je=e}};function ze(e,t,n,r,i,s,o,a,l){Le=!1,je=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Et,Ct,Tt,St=!1,kt=[],It=null,Nt=null,Pt=null,Rt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(Ut),At.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<kt.length){zt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Pt&&zt(Pt,e),Rt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,qt.transition=s}}function Kt(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&bt(s),null===(s=Qt(e,t,n,r))&&Wr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),wn=sn(j({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Cn}var Sn=j({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Sn),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Rn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,jn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Cr={};function Tr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Tr("animationend"),kr=Tr("animationiteration"),Ir=Tr("animationstart"),Nr=Tr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(kr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=je;Le=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re(function(){var r=s,i=be(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Sr:case kr:case Ir:l=vn;break;case Nr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==h&&Yr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,_)).length&&(_=new wn(_,e,null,n,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Ae(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var xi=[],Ei=-1;function Ci(e){return{current:e}}function Ti(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Si(e,t){Ei++,xi[Ei]=e.current,e.current=t}var ki={},Ii=Ci(ki),Ni=Ci(!1),Pi=ki;function Ri(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(Ii)}function Di(e,t,n){if(Ii.current!==ki)throw Error(s(168));Si(Ii,t),Si(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Ii.current,Si(Ii,e),Si(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ii),Si(Ii,e)):Ti(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{_t=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=_s(!0),bs=_s(!1),xs=Ci(null),Es=null,Cs=null,Ts=null;function Ss(){Ts=Cs=Es=null}function ks(e){var t=xs.current;Ti(xs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Es=e,Ts=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Es)throw Error(s(308));Cs=e,Es.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Rs=null;function As(e){null===Rs?Rs=[e]:Rs.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Hs=Ci(Ws),Ks=Ci(Ws),Gs=Ci(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Qs(e,t){switch(Si(Gs,t),Si(Ks,e),Si(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Hs),Si(Hs,t)}function Xs(){Ti(Hs),Ti(Ks),Ti(Gs)}function $s(e){Ys(Gs.current);var t=Ys(Hs.current),n=le(t,e.type);t!==n&&(Si(Ks,e),Si(Hs,n))}function Js(e){Ks.current===e&&(Ti(Hs),Ti(Ks))}var Zs=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function Co(e,t){var n=oo,r=_o(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Lo(ko.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,So.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&No(e)}function ko(e,t,n){return n(function(){Io(t)&&No(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ds(e,1);null!==t&&rc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return _o().memoizedState}function Oo(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,s,r))}oo.flags|=e,i.memoizedState=Ro(1|t,n,s,r)}function Mo(e,t){return Oo(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function jo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,jl|=n,e.baseState=!0),t)}function Ho(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function Ko(){return _o().memoizedState}function Go(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=Os(e,t,n,r))){rc(n,e,r,tc()),$o(n,t,r)}}function Yo(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(rc(n,e,r,i=tc()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:zo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(ko.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Pl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:qo,useReducer:bo,useRef:Ao,useState:function(){return bo(wo)},useDebugValue:zo,useDeferredValue:function(e){return Wo(_o(),ao.memoizedState,e)},useTransition:function(){return[bo(wo)[0],_o().memoizedState]},useMutableSource:Eo,useSyncExternalStore:Co,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:qo,useReducer:xo,useRef:Ao,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],_o().memoizedState]},useMutableSource:Eo,useSyncExternalStore:Co,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(rc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(rc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(rc(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Ai(t)?Pi:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Ai(t)?Pi:Ii.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),ha(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,_a=!1;function wa(e,t,n,r){t.child=null===e?bs(t,null,n,r):ws(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||_a?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Sa(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Dl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Dl,Ol),Ol|=r;return wa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=Ai(n)?Pi:Ii.current;return s=Ri(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||_a?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function ka(e,t,n,r,i){if(Ai(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ba(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ri(t,c=Ai(n)?Pi:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ms=!1;var d=t.memoizedState;o.state=d,Bs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ms?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ms||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,js(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ri(t,l=Ai(n)?Pi:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ms=!1,d=t.memoizedState,o.state=d,Bs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ms?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ms||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),qa(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Ra,Aa,Oa,Da={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Da,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Da,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),rc(r,e,i,-1))}return gc(),Fa(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Ha(t),null;case 3:return r=t.stateNode,Xs(),Ti(Ni),Ti(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ha(t),null;case 5:Js(t);var i=Ys(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=Ys(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Oa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Xs(),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return ks(t.type._context),Ha(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Si(Zs,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ti(Ni),Ti(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Xs(),null;case 10:return ks(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Tc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,ml(t,e),Xa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){bl(d);continue}}null!==p?(p.return=f,Ja=p):bl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(Il){Tc(e,e.return,Il)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Ja=l):xl(i);for(;null!==s;)Ja=s,_l(s,t,n),s=s.sibling;Ja=i,Ya=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&il(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function bl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(Il){Tc(t,n,Il)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Il){Tc(t,i,Il)}}var s=t.return;try{il(t)}catch(Il){Tc(t,s,Il)}break;case 5:var o=t.return;try{il(t)}catch(Il){Tc(t,o,Il)}}}catch(Il){Tc(t,t.return,Il)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var El,Cl=Math.ceil,Tl=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,Nl=0,Pl=null,Rl=null,Al=0,Ol=0,Dl=Ci(0),Ml=0,Ll=null,jl=0,Fl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Yl=!1,Ql=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Al?Al&-Al:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Pl||(e===Pl&&(0===(2&Nl)&&(Fl|=n),4===Ml&&lc(e,Al)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=$e()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Pl?Al:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi(function(){0===(6&Nl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(Pl===e&&Al===t||(Wl=null,ql=$e()+500,fc(e,t));;)try{_c();break}catch(l){pc(e,l)}Ss(),Tl.current=o,Nl=i,null!==Rl?t=0:(Pl=null,Al=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,Wl),t);break}xc(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,Wl),r);break}xc(e,zl,Wl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Wl),ic(e,$e()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=$e()+500,Ui&&Bi())}}function hc(e){null!==Ql&&0===Ql.tag&&0===(6&Nl)&&Ec();var t=Nl;Nl|=1;var n=kl.transition,r=_t;try{if(kl.transition=null,_t=1,e)return e()}finally{_t=r,kl.transition=n,0===(6&(Nl=t))&&Bi()}}function dc(){Ol=Dl.current,Ti(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xs(),Ti(Ni),Ti(Ii),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:Ti(Zs);break;case 10:ks(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Rl=e=Dc(e.current,null),Al=Ol=t,Ml=0,Ll=null,Ul=Fl=jl=0,zl=Vl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Rs=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ss(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Sl.current=null,null===n||null===n.return){Ml=1,Ll=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fa(0,c,t));break e;case 1:l=c;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=Jo,null===e?Jo:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&jl)&&0===(268435455&Fl)||lc(Pl,Al)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(Pl===e&&Al===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Ss(),Nl=n,Tl.current=r,null!==Rl)throw Error(s(261));return Pl=null,Al=0,Ml}function yc(){for(;null!==Rl;)wc(Rl)}function _c(){for(;null!==Rl&&!Qe();)wc(Rl)}function wc(e){var t=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,Sl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ml=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ml&&(Ml=5)}function xc(e,t,n){var r=_t,i=kl.transition;try{kl.transition=null,_t=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Pl&&(Rl=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Pc(tt,function(){return Ec(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var a=_t;_t=1;var l=Nl;Nl|=4,Sl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Qa){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Qa){Tc(t,t.return,Qa)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Nl=l,_t=a,kl.transition=o}else e.current=n;if(Yl&&(Yl=!1,Ql=e,Xl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Jl?$l++:($l=0,Jl=e):$l=0,Bi()}(e,t,n,r)}finally{kl.transition=i,_t=r}return null}function Ec(){if(null!==Ql){var e=wt(Xl),t=kl.transition,n=_t;try{if(kl.transition=null,_t=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var _=e.current;for(Ja=_;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Tc(l,l.return,x)}if(l===a){Ja=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Ja=b;break e}Ja=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{_t=n,kl.transition=t}}return!1}function Cc(e,t,n){e=Us(e,t=fa(0,t=ca(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Us(t,e=pa(t,e=ca(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Ml||3===Ml&&(130023424&Al)===Al&&500>$e()-Bl?fc(e,0):Ul|=n),ic(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ds(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Pc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case C:a=8,i|=8;break;case T:return(e=Ac(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case k:a=9;break e;case I:a=11;break e;case R:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return ki;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Fs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(rc(e,i,o,s),Vs(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:$s(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Si(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);Si(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return qa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ba(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,js(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return La(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(xs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Ps(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ba(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ca(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){Wc(null,e,null,null)}),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Nl)&&(ql=$e()+500,Bi()))}break;case 13:hc(function(){var t=Ds(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ds(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Ct=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[_i,wi,bi,Se,ke,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352(e,t,n){var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414(e,t,n){e.exports=n(654)},569(e,t,n){e.exports=n(49)},654(e,t,n){var r=n(569),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},761(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(x);else{var t=r(u);null!==t&&D(b,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,T=null,S=-1,k=5,I=-1;function N(){return!(t.unstable_now()-I<k)}function P(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?E():(C=!1,T=null)}}else C=!1}if("function"===typeof _)E=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,E=function(){A.postMessage(null)}}else E=function(){v(P,0)};function O(e){T=e,C||(C=!0,E())}function D(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(b,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(569),i=n.t(r,2),s=n(352);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function _(){return S(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return E("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:C(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?T(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function C(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function T(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return k(e)}null==c&&(c=0,o.replaceState(h(h({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,d),l=e,()=>{i.removeEventListener(y,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=E(p.location,e,t);n&&n(r,e),c=u()+1;let h=x(r,c),d=p.createHref(r);try{o.pushState(h,"",d)}catch(Zm){if(Zm instanceof DOMException&&"DataCloneError"===Zm.name)throw Zm;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=E(p.location,e,t);n&&n(r,e),c=u();let i=x(r,c),h=p.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:C(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function I(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=W(("string"===typeof t?T(t):t).pathname||"/",n);if(null==i)return null;let s=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=q(i);o=V(s[a],e,r)}return o}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of R(e.path))s(e,t,!0,r);else s(e,t)}),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=R(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,O=3,D=2,M=1,L=10,j=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=j),t&&(r+=D),n.filter(e=>!F(e)).reduce((e,t)=>e+(A.test(t)?O:""===t?M:L),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:J([s,u.pathname]),pathnameBase:Z(J([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=J([s,u.pathnameBase]))}return o}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Zm){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Zm,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=e=>H.test(e);function G(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Y(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=Q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=T(e):(r=h({},e),w(!r.pathname||!r.pathname.includes("?"),Y("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),Y("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),Y("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:s=""}="string"===typeof e?T(e):e;if(r)if(K(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),b(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?G(r.substring(1),"/"):G(r,n)}else t=n;return{pathname:t,search:ee(i),hash:te(s)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ne=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ie(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function oe(e,t){let n=e;if("string"!==typeof n||!H.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(se)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=W(r.pathname,t);r.origin===e.origin&&null!=s?n=s+r.search+r.hash:i=!0}catch(s){b(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:i,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ae=["POST","PUT","PATCH","DELETE"],le=(new Set(ae),["GET",...ae]);new Set(le),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var ue=r.createContext(null);ue.displayName="DataRouterState";var he=r.createContext(!1);function de(){return r.useContext(he)}var fe=r.createContext({isTransitioning:!1});fe.displayName="ViewTransition";var pe=r.createContext(new Map);pe.displayName="Fetchers";var me=r.createContext(null);me.displayName="Await";var ge=r.createContext(null);ge.displayName="Navigation";var ve=r.createContext(null);ve.displayName="Location";var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var _e=r.createContext(null);_e.displayName="RouteError";var we="REACT_ROUTER_ERROR";function be(){return null!=r.useContext(ve)}function xe(){return w(be(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ve).location}var Ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ce(e){r.useContext(ge).static||r.useLayoutEffect(e)}function Te(){let{isDataRoute:e}=r.useContext(ye);return e?function(){let{router:e}=Le("useNavigate"),t=Fe("useNavigate"),n=r.useRef(!1);Ce(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,Ee),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,h({fromRouteId:t},i)))},[e,t]);return i}():function(){w(be(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:n}=r.useContext(ge),{matches:i}=r.useContext(ye),{pathname:s}=xe(),o=JSON.stringify(X(i)),a=r.useRef(!1);Ce(()=>{a.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,Ee),!a.current)return;if("number"===typeof r)return void n.go(r);let l=$(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,s,e]);return l}()}r.createContext(null);function Se(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ye),{pathname:i}=xe(),s=JSON.stringify(X(n));return r.useMemo(()=>$(e,JSON.parse(s),i,"path"===t),[e,s,i,t])}function ke(e,t,n,i,s){w(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(ge),{matches:a}=r.useContext(ye),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";ze(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=xe();if(t){var g;let e="string"===typeof t?T(t):t;w("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=I(e,{pathname:y});b(f||null!=_,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=De(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:J([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,n,i,s);return t&&x?r.createElement(ve.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},x):x}function Ie(){let e=Ue(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,a)}var Ne=r.createElement(Ie,null),Pe=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(we,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ne(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(_e.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Ae,{error:e},t):t}};Pe.contextType=he;var Re=new WeakMap;function Ae(e){let{children:t,error:n}=e,{basename:i}=r.useContext(ge);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(we,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Re.get(n);if(t)throw t;let s=oe(e.location,i);if(se&&!Re.get(n)){if(!s.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw Re.set(n,t),t}window.location.href=s.absoluteURL||s.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(s.absoluteURL||s.to)})}}return t}function Oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(ce);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}let c=n&&i?(e,t)=>{var r,s;i(e,{location:n.location,params:null!==(r=null===(s=n.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==r?r:{},unstable_pattern:ie(n.matches),errorInfo:t})}:void 0;return s.reduceRight((e,i,u)=>{let h,d=!1,f=null,p=null;n&&(h=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||Ne,a&&(l<0&&0===u?(ze("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===u&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=h?f:d?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?r.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Me(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Le(e){let t=r.useContext(ce);return w(t,Me(e)),t}function je(e){let t=r.useContext(ue);return w(t,Me(e)),t}function Fe(e){let t=function(e){let t=r.useContext(ye);return w(t,Me(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ue(){var e;let t=r.useContext(_e),n=je("useRouteError"),i=Fe("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ve={};function ze(e,t,n){t||Ve[e]||(Ve[e]=!0,b(!1,n))}var Be={};function qe(e,t){e||Be[t]||(Be[t]=!0,console.warn(t))}i.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:i}=e;return ke(t,void 0,r,i,n)});function We(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function He(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:a=!1,unstable_useTransitions:l}=e;w(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);"string"===typeof i&&(i=T(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=r.useMemo(()=>{let e=W(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:s}},[c,h,d,f,p,m,s]);return b(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(h).concat(d).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ge.Provider,{value:u},r.createElement(ve.Provider,{children:n,value:g}))}function Ke(e){let{children:t,location:n}=e;return ke(Ge(t),n)}r.Component;function Ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ge(e.props.children,s));w(e.type===We,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ge(e.props.children,s)),n.push(o)}),n}var Ye="get",Qe="application/x-www-form-urlencoded";function Xe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var $e=null;var Je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ze(e){return null==e||Je.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Qe,'"')),null)}function et(e,t){let n,r,i,s,o;if(Xe(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?W(o,t):null,n=e.getAttribute("method")||Ye,i=Ze(e.getAttribute("enctype"))||Qe,s=new FormData(e)}else if(function(e){return Xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?W(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ye,i=Ze(e.getAttribute("formenctype"))||Ze(o.getAttribute("enctype"))||Qe,s=new FormData(o,e),!function(){if(null===$e)try{new FormData(document.createElement("form"),0),$e=!1}catch(e){$e=!0}return $e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ye,r=null,i=Qe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function tt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function nt(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===W(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function rt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Zm){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Zm),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function it(e){return null!=e&&"string"===typeof e.page}function st(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ot(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function at(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function lt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!it(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function ct(e,t){return"lazy"===e.mode&&!0===t}function ut(){let e=r.useContext(ce);return tt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ht(){let e=r.useContext(ue);return tt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dt=r.createContext(void 0);function ft(){let e=r.useContext(dt);return tt(e,"You must render this element inside a <HydratedRouter> element"),e}function pt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mt(e,t,n){if(n&&!_t)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}dt.displayName="FrameworkContext";function gt(e){let{page:t}=e,n=o(e,f),{router:i}=ut(),s=r.useMemo(()=>I(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?r.createElement(yt,h({page:t,matches:s},n)):null}function vt(e){let{manifest:t,routeModules:n}=ft(),[i,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return lt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await rt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(st).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),i}function yt(e){let{page:t,matches:n}=e,i=o(e,p),s=xe(),{manifest:a,routeModules:l}=ft(),{basename:c}=ut(),{loaderData:u,matches:d}=ht(),f=r.useMemo(()=>ot(t,n,d,a,s,"data"),[t,n,d,a,s]),m=r.useMemo(()=>ot(t,n,d,a,s,"assets"),[t,n,d,a,s]),g=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=nt(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,s,a,f,n,t,l]),v=r.useMemo(()=>at(m,a),[m,a]),y=vt(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>r.createElement("link",h({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",h({key:t,nonce:i.nonce},n))}))}var _t=!1;function wt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:l}=ft(),{router:c,static:u,staticContext:f}=ut(),{matches:p}=ht(),m=de(),g=ct(a,l);s&&(s.didRenderScripts=!0);let v=mt(p,null,i);r.useEffect(()=>{_t=!0},[]);let y=r.useMemo(()=>{var i;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=u?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];tt(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let n=I(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return h(h({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),_=_t||m?[]:(w=t.entry.imports.concat(at(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let b="object"===typeof t.sri?t.sri:{};return qe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),_t||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),_.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0})),y)}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function xt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(Et,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Et,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Et(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=ft();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?r.createElement(wt,null):null)))}var Ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ct&&(window.__reactRouterVersion="7.11.0")}catch(CP){}function Tt(e){let{basename:t,children:n,unstable_useTransitions:i,window:s}=e,o=r.useRef();null==o.current&&(o.current=_({window:s,v5Compat:!0}));let a=o.current,[l,c]=r.useState({action:a.action,location:a.location}),u=r.useCallback(e=>{!1===i?c(e):r.startTransition(()=>c(e))},[i]);return r.useLayoutEffect(()=>a.listen(u),[a,u]),r.createElement(He,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:i})}var St=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=r.forwardRef(function(e,t){let{onClick:n,discover:i="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=o(e,m),{basename:_,unstable_useTransitions:b}=r.useContext(ge),x="string"===typeof f&&St.test(f),E=oe(f,_);f=E.to;let T=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ge),{hash:s,pathname:o,search:a}=Se(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:J([n,o])),i.createHref({pathname:l,search:a,hash:s})}(f,{relative:a}),[S,k,I]=function(e,t){let n=r.useContext(dt),[i,s]=r.useState(!1),[o,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:pt(l,p),onBlur:pt(c,m),onMouseEnter:pt(u,p),onMouseLeave:pt(h,m),onTouchStart:pt(d,p)}]:[!1,f,{}]}(s,y),N=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Te(),h=xe(),d=Se(e,{relative:o});return r.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,t)){f.preventDefault();let t=void 0!==n?n:C(h)===C(d),p=()=>u(e,{replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>p()):p()}},[h,u,d,n,i,t,e,s,o,a,l,c])}(f,{replace:c,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:b});let P=r.createElement("a",h(h(h({},y),I),{},{href:E.absoluteURL||T,onClick:E.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||N(e)},ref:bt(t,k),target:d,"data-discover":x||"render"!==i?void 0:"true"}));return S&&!x?r.createElement(r.Fragment,null,P,r.createElement(gt,{page:T})):P});kt.displayName="Link";var It=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,f=o(e,g),p=Se(c,{relative:f.relative}),m=xe(),v=r.useContext(ue),{navigator:y,basename:_}=r.useContext(ge),b=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(fe);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Rt("useViewTransitionState"),s=Se(e,{relative:t});if(!n.isTransitioning)return!1;let o=W(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=W(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=z(s.pathname,a)||null!=z(s.pathname,o)}(p)&&!0===u,x=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,E=m.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(E=E.toLowerCase(),C=C?C.toLowerCase():null,x=x.toLowerCase()),C&&_&&(C=W(C,_)||C);const T="/"!==x&&x.endsWith("/")?x.length-1:x.length;let S,k=E===x||!a&&E.startsWith(x)&&"/"===E.charAt(T),I=null!=C&&(C===x||!a&&C.startsWith(x)&&"/"===C.charAt(x.length)),N={isActive:k,isPending:I,isTransitioning:b},P=k?n:void 0;S="function"===typeof s?s(N):[s,k?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(N):l;return r.createElement(kt,h(h({},f),{},{"aria-current":P,className:S,ref:t,style:R,to:c,viewTransition:u}),"function"===typeof d?d(N):d)});It.displayName="NavLink";var Nt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:u=Ye,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,_=o(e,v),{unstable_useTransitions:b}=r.useContext(ge),x=Dt(),E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ge),i=r.useContext(ye);w(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=h({},Se(e||".",{relative:t})),a=xe();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:J([n,o.pathname]));return C(o)}(d,{relative:p}),T="get"===u.toLowerCase()?"get":"post",S="string"===typeof d&&St.test(d);return r.createElement("form",h(h({ref:t,method:T,action:E,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,o=()=>x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});b&&!1!==s?r.startTransition(()=>o()):o()}},_),{},{"data-discover":S||"render"!==n?void 0:"true"}))});function Pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Rt(e){let t=r.useContext(ce);return w(t,Pt(e)),t}Nt.displayName="Form";var At=0,Ot=()=>"__".concat(String(++At),"__");function Dt(){let{router:e}=Rt("useSubmit"),{basename:t}=r.useContext(ge),n=Fe("useRouteId"),i=e.fetch,s=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:l,formData:c,body:u}=et(e,t);if(!1===r.navigate){let e=r.fetcherKey||Ot();await i(e,n,r.action||o,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await s(r.action||o,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,t,n])}const Mt=!1,Lt=!1,jt="${JSCORE_VERSION}",Ft=function(e,t){if(!e)throw Ut(t)},Ut=function(e){return new Error("Firebase Database ("+jt+") INTERNAL ASSERT FAILED: "+e)},Vt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Bt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qt=function(e){const t=Vt(e);return zt.encodeByteArray(t,!0)},Wt=function(e){return qt(e).replace(/\./g,"")},Ht=function(e){try{return zt.decodeString(e,!0)}catch(CP){console.error("base64Decode failed: ",CP)}return null};function Kt(e){return Gt(void 0,e)}function Gt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Yt(n)&&(e[n]=Gt(e[n],t[n]));return e}function Yt(e){return"__proto__"!==e}function Qt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Xt=()=>{try{return Qt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(CP){return}const t=e&&Ht(e[1]);return t&&JSON.parse(t)})()}catch(CP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(CP))}},$t=e=>{var t;return null===(t=Xt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Jt=()=>{var e;return null===(e=Xt())||void 0===e?void 0:e.config},Zt=e=>{var t;return null===(t=Xt())||void 0===t?void 0:t["_".concat(e)]};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function tn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function nn(e){return(await fetch(e,{credentials:"include"})).ok}const rn={};let sn=!1;function on(e,t){if("undefined"===typeof window||"undefined"===typeof document||!tn(window.location.host)||rn[e]===t||rn[e]||sn)return;function n(e){return"__firebase__banner__".concat(e)}rn[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(rn))rn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{sn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function an(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ln(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function cn(){var e;const t=null===(e=Xt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(CP){return!1}}function un(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function hn(){return!0===Mt||!0===Lt}function dn(){return!cn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fn(){try{return"object"===typeof indexedDB}catch(CP){return!1}}class pn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(gn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new pn(n,s,t)}}const gn=/\{\$([^}]+)}/g;function vn(e){return JSON.parse(e)}function yn(e){return JSON.stringify(e)}const _n=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=vn(Ht(s[0])||""),n=vn(Ht(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(CP){}return{header:t,claims:n,data:r,signature:i}};function wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function xn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function En(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Cn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Tn(n)&&Tn(s)){if(!Cn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tn(e){return null!==e&&"object"===typeof e}function Sn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function kn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function In(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Nn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Pn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rn),void 0===r.error&&(r.error=Rn),void 0===r.complete&&(r.complete=Rn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(CP){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(CP){"undefined"!==typeof console&&console.error&&console.error(CP)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}function An(e,t){return"".concat(e," failed: ").concat(t," argument ")}const On=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Dn(e){return e&&e._delegate?e._delegate:e}class Mn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ln="[DEFAULT]";class jn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new en;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(CP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(CP){if(r)return null;throw CP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ln})}catch(CP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(CP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ln?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.component?this.component.multipleInstances?e:Ln:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Un=[];var Vn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vn||(Vn={}));const zn={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},Bn=Vn.INFO,qn={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},Wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=qn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Hn{constructor(e){this.name=e,this._logLevel=Bn,this._logHandler=Wn,this._userLogHandler=null,Un.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?zn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...t),this._logHandler(this,Vn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...t),this._logHandler(this,Vn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...t),this._logHandler(this,Vn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...t),this._logHandler(this,Vn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...t),this._logHandler(this,Vn.ERROR,...t)}}let Kn,Gn;const Yn=new WeakMap,Qn=new WeakMap,Xn=new WeakMap,$n=new WeakMap,Jn=new WeakMap;let Zn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function er(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gn||(Gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rr(this),n),nr(Yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nr(e.apply(rr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(rr(this),t,...r);return Xn.set(s,t.sort?t.sort():[t]),nr(s)}}function tr(e){return"function"===typeof e?er(e):(e instanceof IDBTransaction&&function(e){if(Qn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Qn.set(e,t)}(e),t=e,(Kn||(Kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Zn):e);var t}function nr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(nr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Yn.set(t,e)}).catch(()=>{}),Jn.set(t,e),t}(e);if($n.has(e))return $n.get(e);const t=tr(e);return t!==e&&($n.set(e,t),Jn.set(t,e)),t}const rr=e=>Jn.get(e);const ir=["get","getKey","getAll","getAllKeys","count"],sr=["put","add","delete","clear"],or=new Map;function ar(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(or.get(t))return or.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=sr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ir.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return or.set(t,s),s}Zn=(e=>h(h({},e),{},{get:(t,n,r)=>ar(t,n)||e.get(t,n,r),has:(t,n)=>!!ar(t,n)||e.has(t,n)}))(Zn);class lr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const cr="@firebase/app",ur="0.14.6",hr=new Hn("@firebase/app"),dr="@firebase/app-compat",fr="@firebase/analytics-compat",pr="@firebase/analytics",mr="@firebase/app-check-compat",gr="@firebase/app-check",vr="@firebase/auth",yr="@firebase/auth-compat",_r="@firebase/database",wr="@firebase/data-connect",br="@firebase/database-compat",xr="@firebase/functions",Er="@firebase/functions-compat",Cr="@firebase/installations",Tr="@firebase/installations-compat",Sr="@firebase/messaging",kr="@firebase/messaging-compat",Ir="@firebase/performance",Nr="@firebase/performance-compat",Pr="@firebase/remote-config",Rr="@firebase/remote-config-compat",Ar="@firebase/storage",Or="@firebase/storage-compat",Dr="@firebase/firestore",Mr="@firebase/ai",Lr="@firebase/firestore-compat",jr="firebase",Fr="[DEFAULT]",Ur={[cr]:"fire-core",[dr]:"fire-core-compat",[pr]:"fire-analytics",[fr]:"fire-analytics-compat",[gr]:"fire-app-check",[mr]:"fire-app-check-compat",[vr]:"fire-auth",[yr]:"fire-auth-compat",[_r]:"fire-rtdb",[wr]:"fire-data-connect",[br]:"fire-rtdb-compat",[xr]:"fire-fn",[Er]:"fire-fn-compat",[Cr]:"fire-iid",[Tr]:"fire-iid-compat",[Sr]:"fire-fcm",[kr]:"fire-fcm-compat",[Ir]:"fire-perf",[Nr]:"fire-perf-compat",[Pr]:"fire-rc",[Rr]:"fire-rc-compat",[Ar]:"fire-gcs",[Or]:"fire-gcs-compat",[Dr]:"fire-fst",[Lr]:"fire-fst-compat",[Mr]:"fire-vertex","fire-js":"fire-js",[jr]:"fire-js-all"},Vr=new Map,zr=new Map,Br=new Map;function qr(e,t){try{e.container.addComponent(t)}catch(CP){hr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),CP)}}function Wr(e){const t=e.name;if(Br.has(t))return hr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Br.set(t,e);for(const n of Vr.values())qr(n,e);for(const n of zr.values())qr(n,e);return!0}function Hr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Gr=new mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(e,t,n){this._isDeleted=!1,this._options=h({},e),this._config=h({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Qr="12.6.0";function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=h({name:Fr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=Jt()),!n)throw Gr.create("no-options");const s=Vr.get(i);if(s){if(Cn(n,s.options)&&Cn(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}const o=new Fn(i);for(const l of Br.values())o.addComponent(l);const a=new Yr(n,r,o);return Vr.set(i,a),a}function $r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr;const t=Vr.get(e);if(!t&&e===Fr&&Jt())return Xr();if(!t)throw Gr.create("no-app",{appName:e});return t}function Jr(e,t,n){var r;let i=null!==(r=Ur[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hr.warn(e.join(" "))}Wr(new Mn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Zr="firebase-heartbeat-store";let ei=null;function ti(){return ei||(ei=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=nr(o);return r&&o.addEventListener("upgradeneeded",e=>{r(nr(o.result),e.oldVersion,e.newVersion,nr(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Zr)}catch(CP){console.warn(CP)}}}).catch(e=>{throw Gr.create("idb-open",{originalErrorMessage:e.message})})),ei}async function ni(e,t){try{const n=(await ti()).transaction(Zr,"readwrite"),r=n.objectStore(Zr);await r.put(t,ri(e)),await n.done}catch(CP){if(CP instanceof pn)hr.warn(CP.message);else{const t=Gr.create("idb-set",{originalErrorMessage:null===CP||void 0===CP?void 0:CP.message});hr.warn(t.message)}}}function ri(e){return"".concat(e.name,"!").concat(e.options.appId)}class ii{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=si();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(CP){hr.warn(CP)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=si(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ai(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ai(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Wt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(CP){return hr.warn(CP),""}}}function si(){return(new Date).toISOString().substring(0,10)}class oi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!fn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Zm){t(Zm)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ti()).transaction(Zr),n=await t.objectStore(Zr).get(ri(e));return await t.done,n}catch(CP){if(CP instanceof pn)hr.warn(CP.message);else{const t=Gr.create("idb-get",{originalErrorMessage:null===CP||void 0===CP?void 0:CP.message});hr.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ni(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ni(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ai(e){return Wt(JSON.stringify({version:2,heartbeats:e})).length}var li;li="",Wr(new Mn("platform-logger",e=>new lr(e),"PRIVATE")),Wr(new Mn("heartbeat",e=>new ii(e),"PRIVATE")),Jr(cr,ur,li),Jr(cr,ur,"esm2020"),Jr("fire-js","");Jr("firebase","12.7.0","app");const ci=["providerId"],ui=["uid","auth","stsTokenManager"],hi=["providerId","signInMethod"];function di(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fi=di,pi=new mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mi=new Hn("@firebase/auth");function gi(e){if(mi.logLevel<=Vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mi.error("Auth (".concat(Qr,"): ").concat(e),...n)}}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xi(e,...n)}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xi(e,...n)}function _i(e,t,n){const r=h(h({},fi()),{},{[t]:n});return new mn("auth","Firebase",r).create(t,{appName:e.name})}function wi(e){return _i(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vi(e,"argument-error"),_i(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return pi.create(e,...n)}function Ei(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xi(t,...r)}}function Ci(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gi(t),new Error(t)}function Ti(e,t){e||Ci(t)}function Si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ki(){return"http:"===Ii()||"https:"===Ii()}function Ii(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ni(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ki()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Pi{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=ln()||un()}get(){return Ni()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ri(e,t){Ti(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ai{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Di=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mi=new Pi(3e4,6e4);function Li(e,t){return e.tenantId&&!t.tenantId?h(h({},t),{},{tenantId:e.tenantId}):t}async function ji(e,t,n,r){return Fi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Sn(h({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=h({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&tn(e.emulatorConfig.host)&&(l.credentials="include"),Ai.fetch()(await Vi(e,e.config.apiHost,n,o),l)})}async function Fi(e,t,n){e._canInitEmulator=!1;const r=h(h({},Oi),t);try{const t=new Bi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw qi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw qi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw qi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw qi(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _i(e,a,o);vi(e,a)}}catch(CP){if(CP instanceof pn)throw CP;vi(e,"network-request-failed",{message:String(CP)})}}async function Ui(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ji(e,t,n,r,i);return"mfaPendingCredential"in s&&vi(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Vi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?Ri(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Di.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function zi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(yi(this.auth,"network-request-failed")),Mi.get())})}}function qi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(e,t,r);return i.customData._tokenResponse=n,i}function Wi(e){return void 0!==e&&void 0!==e.enterprise}class Hi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ki(e,t){return ji(e,"GET","/v2/recaptchaConfig",Li(e,t))}async function Gi(e,t){return ji(e,"POST","/v1/accounts:lookup",t)}function Yi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(CP){}}function Qi(e){return 1e3*Number(e)}function Xi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gi("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ht(n);return e?JSON.parse(e):(gi("Failed to decode base64 JWT payload"),null)}catch(CP){return gi("Caught error parsing JWT payload as JSON",null===CP||void 0===CP?void 0:CP.toString()),null}}function $i(e){const t=Xi(e);return Ei(t,"internal-error"),Ei("undefined"!==typeof t.exp,"internal-error"),Ei("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ji(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(CP){throw CP instanceof pn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(CP)&&e.auth.currentUser===e&&await e.auth.signOut(),CP}}class Zi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(CP){return void((null===CP||void 0===CP?void 0:CP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class es{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ts(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ji(e,Gi(n,{idToken:r}));Ei(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?ns(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new es(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function ns(e){return e.map(e=>{let{providerId:t}=e,n=o(e,ci);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ei(e.idToken,"internal-error"),Ei("undefined"!==typeof e.idToken,"internal-error"),Ei("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$i(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ei(0!==e.length,"internal-error");const t=$i(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ei(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Fi(e,{},async()=>{const n=Sn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Vi(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&tn(e.emulatorConfig.host)&&(a.credentials="include"),Ai.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new rs;return n&&(Ei("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ei("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ei("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rs,this.toJSON())}_performRefresh(){return Ci("not implemented")}}function is(e,t){Ei("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ss{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,ui);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new es(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ji(this,this.stsTokenManager.getToken(this.auth,e));return Ei(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Dn(e),r=await n.getIdToken(t),i=Xi(r);Ei(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yi(Qi(i.auth_time)),issuedAtTime:Yi(Qi(i.iat)),expirationTime:Yi(Qi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Dn(e);await ts(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ei(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>h({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss(h(h({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ei(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ts(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await Ji(this,async function(e,t){return ji(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return h(h({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>h({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:E}=t;Ei(_&&E,e,"internal-error");const C=rs.fromJSON(this.name,E);Ei("string"===typeof _,e,"internal-error"),is(u,e.name),is(d,e.name),Ei("boolean"===typeof w,e,"internal-error"),Ei("boolean"===typeof b,e,"internal-error"),is(f,e.name),is(p,e.name),is(m,e.name),is(g,e.name),is(v,e.name),is(y,e.name);const T=new ss({uid:_,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:C,createdAt:v,lastLoginAt:y});return x&&Array.isArray(x)&&(T.providerData=x.map(e=>h({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new rs;r.updateFromServerResponse(t);const i=new ss({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ts(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ei(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ns(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new rs;o.updateFromIdToken(n);const a=new ss({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new es(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const os=new Map;function as(e){Ti(e instanceof Function,"Expected a class definition");let t=os.get(e);return t?(Ti(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,os.set(e,t),t)}class ls{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ls.type="NONE";const cs=ls;function us(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class hs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=us(this.userKey,r.apiKey,i),this.fullPersistenceKey=us("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Gi(this.auth,{idToken:e}).catch(()=>{});return t?ss._fromGetAccountInfoResponse(this.auth,t,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new hs(as(cs),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||as(cs);const s=us(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await Gi(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ss._fromGetAccountInfoResponse(e,r,t)}else n=ss._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new hs(i,e,n)):new hs(i,e,n)}}function ds(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ys(t))return"Blackberry";if(_s(t))return"Webos";if(ps(t))return"Safari";if((t.includes("chrome/")||ms(t))&&!t.includes("edge/"))return"Chrome";if(vs(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/firefox\//i.test(e)}function ps(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:an()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/crios\//i.test(e)}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iemobile/i.test(e)}function vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/android/i.test(e)}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/blackberry/i.test(e)}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/webos/i.test(e)}function ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bs(){return function(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function xs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return ws(e)||vs(e)||_s(e)||ys(e)||/windows phone/i.test(e)||gs(e)}function Es(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ds(an());break;case"Worker":t="".concat(ds(an()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qr,"/").concat(r)}class Cs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(CP){r(CP)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(CP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===CP||void 0===CP?void 0:CP.message})}}}class Ts{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ss{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new Cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=as(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await hs.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(CP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Gi(this,{idToken:e}),n=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(CP){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(CP))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ei(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(CP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ts(e)}catch(CP){if((null===CP||void 0===CP?void 0:CP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(wi(this));const t=e?Dn(e):null;return t&&Ei(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ei(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ji(e,"GET","/v2/passwordPolicy",Li(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ts(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ji(e,"POST","/v2/accounts:revokeToken",Li(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&as(e)||this._popupRedirectResolver;Ei(t,this,"argument-error"),this.redirectPersistenceManager=await hs.create(this,[as(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ei(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ei(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(mi.logLevel<=Vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mi.warn("Auth (".concat(Qr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ks(e){return Dn(e)}class Is{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Pn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Ei(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ns={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ps(e){return Ns.loadJS(e)}function Rs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class As{constructor(){this.enterprise=new Os}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Os{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ds="NO_RECAPTCHA";class Ms{constructor(e){this.type="recaptcha-enterprise",this.auth=ks(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Wi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ds)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new As).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Ki(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Hi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Wi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ns.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ps(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ls(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ms(e);let o;if(i)o=Ds;else try{o=await s.verify(n)}catch(Zm){o=await s.verify(n,!0)}const a=h({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function js(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ls(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ls(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Ls(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Ls(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ls(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Fs(e){const t=ks(e),n=await Ki(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Hi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ms(t).verify()}}function Us(e,t,n){const r=ks(e);Ei(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Vs(t),{host:o,port:a}=function(e){const t=Vs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:zs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:zs(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ei(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ei(Cn(c,r.config.emulator)&&Cn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,tn(o)?(nn("".concat(s,"//").concat(o).concat(l)),on("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Bs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function qs(e,t){return ji(e,"POST","/v1/accounts:signUp",t)}async function Ws(e,t){return Ui(e,"POST","/v1/accounts:signInWithPassword",Li(e,t))}class Hs extends Bs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hs(e,t,"password")}static _fromEmailAndCode(e,t){return new Hs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return js(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ws,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithEmailLink",Li(e,t))}(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return js(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithEmailLink",Li(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ks(e,t){return Ui(e,"POST","/v1/accounts:signInWithIdp",Li(e,t))}class Gs extends Bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,hi);if(!n||!r)return null;const s=new Gs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ks(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ks(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ks(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sn(t)}return e}}async function Ys(e,t){return ji(e,"POST","/v1/accounts:sendVerificationCode",Li(e,t))}const Qs={USER_NOT_FOUND:"user-not-found"};class Xs extends Bs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Xs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Xs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithPhoneNumber",Li(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ui(e,"POST","/v1/accounts:signInWithPhoneNumber",Li(e,t));if(n.temporaryProof)throw qi(e,"account-exists-with-different-credential",n);return n}(e,h({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ui(e,"POST","/v1/accounts:signInWithPhoneNumber",Li(e,h(h({},t),{},{operation:"REAUTH"})),Qs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Xs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class $s{constructor(e){var t,n,r,i,s,o;const a=kn(In(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ei(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=kn(In(e)).link,n=t?kn(In(t)).deep_link_id:null,r=kn(In(e)).deep_link_id;return(r?kn(In(r)).link:null)||r||n||t||e}(e);try{return new $s(t)}catch(n){return null}}}class Js{constructor(){this.providerId=Js.PROVIDER_ID}static credential(e,t){return Hs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$s.parseLink(t);return Ei(n,"argument-error"),Hs._fromEmailAndCode(e,n.code,n.tenantId)}}Js.PROVIDER_ID="password",Js.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eo extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class to extends eo{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return to.credential(t.oauthAccessToken)}catch(n){return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com",to.PROVIDER_ID="facebook.com";class no extends eo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gs._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return no.credential(n,r)}catch(i){return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com",no.PROVIDER_ID="google.com";class ro extends eo{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ro.credential(t.oauthAccessToken)}catch(n){return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com",ro.PROVIDER_ID="github.com";class io extends eo{constructor(){super("twitter.com")}static credential(e,t){return Gs._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return io.credential(n,r)}catch(i){return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com",io.PROVIDER_ID="twitter.com";class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ss._fromIdTokenResponse(e,n,r),s=oo(n);return new so({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=oo(n);return new so({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function oo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ao extends pn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ao(e,t,n,r)}}function lo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ao._fromErrorAndOperation(e,n,t,r);throw n})}async function co(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ji(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return so._forOperation(e,"link",r)}async function uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Kr(r.app))return Promise.reject(wi(r));const i="reauthenticate";try{const s=await Ji(e,lo(r,i,t,e),n);Ei(s.idToken,r,"internal-error");const o=Xi(s.idToken);Ei(o,r,"internal-error");const{sub:a}=o;return Ei(e.uid===a,r,"user-mismatch"),so._forOperation(e,i,s)}catch(CP){throw(null===CP||void 0===CP?void 0:CP.code)==="auth/".concat("user-not-found")&&vi(r,"user-mismatch"),CP}}async function ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kr(e.app))return Promise.reject(wi(e));const r="signIn",i=await lo(e,r,t),s=await so._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function fo(e,t){return ji(e,"POST","/v2/accounts/mfaEnrollment:start",Li(e,t))}new WeakMap;const po="__sak";class mo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(po,"1"),this.storage.removeItem(po),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class go extends mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);bs()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}go.type="LOCAL";const vo=go;function yo(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function _o(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class wo{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=_o(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return yo(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=_o(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=_o(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=yo(n);const i=setInterval(()=>{const e=yo(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}wo.type="COOKIE";class bo extends mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bo.type="SESSION";const xo=bo;class Eo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Eo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Eo.receivers=[];class To{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=Co("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function So(){return window}function ko(){return"undefined"!==typeof So().WorkerGlobalScope&&"function"===typeof So().importScripts}const Io="firebaseLocalStorageDb",No="firebaseLocalStorage",Po="fbase_key";class Ro{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ao(e,t){return e.transaction([No],t?"readwrite":"readonly").objectStore(No)}function Oo(){const e=indexedDB.open(Io,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(No,{keyPath:Po})}catch(CP){n(CP)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(No)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Io);return new Ro(e).toPromise()}(),t(await Oo()))})})}async function Do(e,t,n){const r=Ao(e,!0).put({[Po]:t,value:n});return new Ro(r).toPromise()}function Mo(e,t){const n=Ao(e,!0).delete(t);return new Ro(n).toPromise()}class Lo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Oo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(CP){if(t++>3)throw CP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ko()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eo._getInstance(ko()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new To(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oo();return await Do(e,po,"1"),await Mo(e,po),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Do(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ao(e,!1).get(t),r=await new Ro(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ao(e,!1).getAll();return new Ro(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Lo.type="LOCAL";const jo=Lo;function Fo(e,t){return ji(e,"POST","/v2/accounts/mfaSignIn:start",Li(e,t))}Rs("rcb"),new Pi(3e4,6e4);const Uo="recaptcha";async function Vo(e,t,n){if(!e._getRecaptchaConfig())try{await Fs(e)}catch(Zm){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ei("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=js(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ds){Ei((null===n||void 0===n?void 0:n.type)===Uo,e,"argument-error");return fo(e,await zo(e,t,n))}return fo(e,t)},"PHONE_PROVIDER"),o=await s.catch(e=>Promise.reject(e));return o.phoneSessionInfo.sessionInfo}{var r;Ei("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ei(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=js(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ds){Ei((null===n||void 0===n?void 0:n.type)===Uo,e,"argument-error");return Fo(e,await zo(e,t,n))}return Fo(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=js(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ds){Ei((null===n||void 0===n?void 0:n.type)===Uo,e,"argument-error");return Ys(e,await zo(e,t,n))}return Ys(e,t)},"PHONE_PROVIDER"),s=await r.catch(e=>Promise.reject(e));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function zo(e,t,n){Ei(n.type===Uo,e,"argument-error");const r=await n.verify();Ei("string"===typeof r,e,"argument-error");const i=h({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Bo{constructor(e){this.providerId=Bo.PROVIDER_ID,this.auth=ks(e)}verifyPhoneNumber(e,t){return Vo(this.auth,e,Dn(t))}static credential(e,t){return Xs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bo.credentialFromTaggedObject(t)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Xs._fromTokenResponse(n,r):null}}function qo(e,t){return t?as(t):(Ei(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bo.PROVIDER_ID="phone",Bo.PHONE_SIGN_IN_METHOD="phone";class Wo extends Bs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ho(e){return ho(e.auth,new Wo(e),e.bypassAuthState)}function Ko(e){const{auth:t,user:n}=e;return Ei(n,t,"internal-error"),uo(n,new Wo(e),e.bypassAuthState)}async function Go(e){const{auth:t,user:n}=e;return Ei(n,t,"internal-error"),co(n,new Wo(e),e.bypassAuthState)}class Yo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(CP){this.reject(CP)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(CP){this.reject(CP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ho;case"linkViaPopup":case"linkViaRedirect":return Go;case"reauthViaPopup":case"reauthViaRedirect":return Ko;default:vi(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qo=new Pi(2e3,1e4);async function Xo(e,t,n){if(Kr(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const r=ks(e);bi(e,t,Zs);const i=qo(r,n);return new $o(r,"signInViaPopup",t,i).executeNotNull()}class $o extends Yo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ei(e,this.auth,"internal-error"),e}async onExecution(){Ti(1===this.filter.length,"Popup operations only handle one event");const e=Co();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Qo.get())};e()}}$o.currentPopupAction=null;const Jo=new Map;class Zo extends Yo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Jo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=na(t),r=ta(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(CP){e=()=>Promise.reject(CP)}Jo.set(this.auth._key(),e)}return this.bypassAuthState||Jo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ea(e,t){Jo.set(e._key(),t)}function ta(e){return as(e._redirectPersistence)}function na(e){return us("pendingRedirect",e.config.apiKey,e.name)}async function ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kr(e.app))return Promise.reject(wi(e));const r=ks(e),i=qo(r,t),s=new Zo(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ia{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oa(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(e))}saveEventToCache(e){this.cachedEventUids.add(sa(e)),this.lastProcessedEventTime=Date.now()}}function sa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function oa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;async function ca(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ji(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ua(r))return}catch(n){}vi(e,"unauthorized-domain")}function ua(e){const t=Si(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!la.test(n))return!1;if(aa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ha=new Pi(3e4,6e4);function da(){const e=So().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fa(e){return new Promise((t,n)=>{var r,i;function s(){da(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{da(),n(yi(e,"network-request-failed"))},timeout:ha.get()})}if(null!==(r=So().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=So().gapi)||void 0===i||!i.load){const t=Rs("iframefcb");return So()[t]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},Ps("".concat(Ns.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw pa=null,e})}let pa=null;const ma=new Pi(5e3,15e3),ga={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},va=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ya(e){const t=e.config;Ei(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ri(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Qr},i=va.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Sn(r).slice(1))}async function _a(e){const t=await function(e){return pa=pa||fa(e),pa}(e),n=So().gapi;return Ei(n,e,"internal-error"),t.open({where:document.body,url:ya(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ga,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yi(e,"network-request-failed"),s=So().setTimeout(()=>{r(i)},ma.get());function o(){So().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const wa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ba{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(CP){}}}function xa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=h(h({},wa),{},{width:r.toString(),height:i.toString(),top:s,left:o}),c=an().toLowerCase();n&&(a=ms(c)?"_blank":n),fs(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ws(arguments.length>0&&void 0!==arguments[0]?arguments[0]:an())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ba(null);const d=window.open(t||"",a,u);Ei(d,e,"popup-blocked");try{d.focus()}catch(CP){}return new ba(d)}const Ea="__/auth/handler",Ca="emulator/auth/handler",Ta=encodeURIComponent("fac");async function Sa(e,t,n,r,i,s){Ei(e.config.authDomain,e,"auth-domain-config-required"),Ei(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qr,eventId:i};if(t instanceof Zs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",xn(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof eo){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ta,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ea);return Ri(t,Ca)}(e),"?").concat(Sn(a).slice(1)).concat(c)}const ka="webStorageSupport";const Ia=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xo,this._completeRedirectFn=ra,this._overrideRedirectResult=ea}async _openPopup(e,t,n,r){var i;Ti(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return xa(e,await Sa(e,t,n,Si(),r),Co())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){So().location.href=e}(await Sa(e,t,n,Si(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ti(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await _a(e),n=new ia(e);return t.register("authEvent",t=>{Ei(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ka,{type:ka},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[ka];void 0!==i&&t(!!i),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ca(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xs()||ps()||ws()}};var Na="@firebase/auth",Pa="1.12.0";class Ra{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ei(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Aa=Zt("authIdTokenMaxAge")||300;let Oa=null;var Da,Ma;Da={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ns=Da,Ma="Browser",Wr(new Mn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ei(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Ma,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(Ma)},c=new Ss(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(as);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Wr(new Mn("auth-internal",e=>(e=>new Ra(e))(ks(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Na,Pa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ma)),Jr(Na,Pa,"esm2020");var La,ja="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Fa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||c.l(e)>0;)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Fa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},La=Fa.Integer=r}).apply("undefined"!==typeof ja?ja:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ua,Va,za,Ba,qa,Wa,Ha,Ka,Ga="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ya={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ga&&Ga];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,_=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},b=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function E(){this.u=this.u,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function S(e){return/^[\s\xa0]*$/.test(e)}function k(e,t){C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(k,C),k.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&k.Z.h.call(this)},k.prototype.h=function(){k.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),N=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function R(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function A(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function O(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function j(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(R(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=F(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new P(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=X(n),e&&e[I]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=Y(e);if(l||(e[U]=l=new L(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[I]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[I]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,r,i))>-1&&(R(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Y(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])j(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Y(t))?(j(n,e),0==n.h&&(n.src=null,t[U]=null)):R(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new k(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function Y(e){return(e=e[U])instanceof L?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function $(){E.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;M(t=new C(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&j(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,E),$.prototype[I]=!0,$.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)R(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){E.call(this),this.h=e,this.g={}}u(ne,E);var re=[];function ie(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){C.call(this,"d")}function de(){C.call(this,"c")}u(he,C),u(de,C);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){C.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){C.call(this,fe.STAT_EVENT,e),this.stat=t}function _e(e){const t=me();J(t,new ye(t,e))}function we(e,t){C.call(this,fe.Ja,e),this.size=t}function be(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function xe(){this.g=!0}function Ee(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,C),fe.STAT_EVENT="statevent",u(ye,C),fe.Ja="timingevent",u(we,C),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var Ce,Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Se={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ke(){}function Ie(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}u(ke,le),ke.prototype.g=function(){return new XMLHttpRequest},Ce=new ke;var Ae={},Oe={};function De(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Re,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?O(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function je(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Oe:(n=Number(t.substring(n,r)),isNaN(n)?Ae:(r+=1)+n>t.length?Oe:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=be(l(e.aa,e),t)}function Ve(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ye(n.h,e)))if(!e.L&&Ye(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),_e(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=be(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!S(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Qe(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var a=o,c=r.O;c&&(a.H=c),a.D&&(Ve(a),Fe(a)),r.g=o}else Qt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,_e(12),Be(this),ze(this);break e}Ee(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=je(this,n),t==Oe){4==l&&(this.m=4,_e(14),e=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ae){this.m=4,_e(15),Ee(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ee(this.i,this.l,t,null),qe(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,_e(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,_e(11))}}else Ee(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else Ee(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),Be(this),ze(this)}}}catch(Il){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),_e(17)),Be(this),this.m=2,ze(this)):Ue(this,this.T-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Ye(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=bt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=bt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(bt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function _t(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(bt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function bt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Et(){this.g=new ae}function Ct(e){this.i=e.Sb||null,this.h=e.ab||!1}function Tt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function St(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function kt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function Rt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=bt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=bt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},u(Ct,le),Ct.prototype.g=function(){return new Tt(this.i,this.h)},u(Tt,$),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,kt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;St(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kt(this):It(this),3==this.readyState&&St(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,kt(this))},e.Na=function(e){this.g&&(this.response=e,kt(this))},e.ga=function(){this.g&&kt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Rt,$);var At=/^https?$/i,Ot=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),jt(e)}function Mt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!At.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=Ft(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Mt(e)}}finally{jt(e)}}}function jt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new Et,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Wt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Wt(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Ht(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||b(),_||(y(),_=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Yt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&A(e.H,function(e,n){it(t,n,e)}),e.l&&A({},function(e,n){it(t,n,e)})}function Yt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(Xa){throw e.push(s+"type="+encodeURIComponent("_badmap")),Xa}}catch(Xa){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Qt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||b(),_||(y(),_=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=be(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Me(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Ye(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Ht(e)}else Qt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=be(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new xe;if(s.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.I=0,e.l&&e.l.pa(t),rn(e),Wt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Rt(new Ct({ab:n})):new Rt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!S(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Rt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ce.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Dt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Ot,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Dt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),jt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jt(this,!0)),Rt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let s=this.o;if(this.U&&(s?(s=O(s),M(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Yt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),s&&(this.R?t="headers="+Ie(Nt(s))+"&"+t:this.u&&Pt(n,this.u,s)),Qe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),_e(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,an),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ka=Ya.createWebChannelTransport=function(){return new ln},Ha=Ya.getStatEventTarget=function(){return me()},Wa=Ya.Event=fe,qa=Ya.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Ba=Ya.ErrorCode=Te,Se.COMPLETE="complete",za=Ya.EventType=Se,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Va=Ya.WebChannel=ce,Ya.FetchXmlHttpFactory=Ct,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,Ua=Ya.XhrIo=Rt}).apply("undefined"!==typeof Ga?Ga:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qa="@firebase/firestore",Xa="4.9.3";class $a{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$a.UNAUTHENTICATED=new $a(null),$a.GOOGLE_CREDENTIALS=new $a("google-credentials-uid"),$a.FIRST_PARTY=new $a("first-party-uid"),$a.MOCK_USER=new $a("mock-user");let Ja="12.7.0";const Za=new Hn("@firebase/firestore");function el(){return Za.logLevel}function tl(e){if(Za.logLevel<=Vn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(il);Za.debug("Firestore (".concat(Ja,"): ").concat(e),...i)}}function nl(e){if(Za.logLevel<=Vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(il);Za.error("Firestore (".concat(Ja,"): ").concat(e),...i)}}function rl(e){if(Za.logLevel<=Vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(il);Za.warn("Firestore (".concat(Ja,"): ").concat(e),...i)}}function il(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function sl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,ol(e,r,n)}function ol(e,t,n){let r="FIRESTORE (".concat(Ja,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw nl(r),new Error(r)}function al(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||ol(t,i,r)}function ll(e,t){return e}const cl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ul extends pn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class hl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class fl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($a.UNAUTHENTICATED))}shutdown(){}}class pl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ml{constructor(e){this.t=e,this.currentUser=$a.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){al(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new hl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{tl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(tl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(tl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(al("string"==typeof t.accessToken,31837,{l:t}),new dl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return al(null===e||"string"==typeof e,2055,{h:e}),new $a(e)}}class gl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=$a.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new gl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t($a.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _l{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){al(void 0===this.o,3512);const n=e=>{null!=e.error&&tl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,tl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{tl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):tl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yl(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(al("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new yl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class bl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=wl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function xl(e,t){return e<t?-1:e>t?1:0}function El(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Sl(n)===Sl(i)?xl(n,i):Sl(n)?1:-1}return xl(e.length,t.length)}const Cl=55296,Tl=57343;function Sl(e){const t=e.charCodeAt(0);return t>=Cl&&t<=Tl}function kl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Il="__name__";class Nl{constructor(e,t,n){void 0===t?t=0:t>e.length&&sl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&sl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Nl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return xl(e.length,t.length)}static compareSegments(e,t){const n=Nl.isNumericId(e),r=Nl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Nl.extractNumericId(e).compare(Nl.extractNumericId(t)):El(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class Pl extends Nl{construct(e,t,n){return new Pl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ul(cl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Pl(e)}static emptyPath(){return new Pl([])}}const Rl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Al extends Nl{construct(e,t,n){return new Al(e,t,n)}static isValidIdentifier(e){return Rl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Al.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Il}static keyField(){return new Al([Il])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ul(cl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ul(cl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ul(cl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ul(cl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Al(t)}static emptyPath(){return new Al([])}}class Ol{constructor(e){this.path=e}static fromPath(e){return new Ol(Pl.fromString(e))}static fromName(e){return new Ol(Pl.fromString(e).popFirst(5))}static empty(){return new Ol(Pl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ol(new Pl(e.slice()))}}function Dl(e,t,n){if(!n)throw new ul(cl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ml(e){if(!Ol.isDocumentKey(e))throw new ul(cl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ll(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function jl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":sl(12329,{type:typeof e})}function Fl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ul(cl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jl(e);throw new ul(cl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Ul(e,t){const n={typeString:e};return t&&(n.value=t),n}function Vl(e,t){if(!Ll(e))throw new ul(cl.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new ul(cl.INVALID_ARGUMENT,n);return!0}const zl=-62135596800,Bl=1e6;class ql{static now(){return ql.fromMillis(Date.now())}static fromDate(e){return ql.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Bl);return new ql(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ul(cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ul(cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zl)throw new ul(cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ul(cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bl}_compareTo(e){return this.seconds===e.seconds?xl(this.nanoseconds,e.nanoseconds):xl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ql._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vl(e,ql._jsonSchema))return new ql(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ql._jsonSchemaVersion="firestore/timestamp/1.0",ql._jsonSchema={type:Ul("string",ql._jsonSchemaVersion),seconds:Ul("number"),nanoseconds:Ul("number")};class Wl{static fromTimestamp(e){return new Wl(e)}static min(){return new Wl(new ql(0,0))}static max(){return new Wl(new ql(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;class Kl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Kl.UNKNOWN_ID=-1;function Gl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Wl.fromTimestamp(1e9===r?new ql(n+1,0):new ql(n,r));return new Ql(i,Ol.empty(),t)}function Yl(e){return new Ql(e.readTime,e.key,Hl)}class Ql{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ql(Wl.min(),Ol.empty(),Hl)}static max(){return new Ql(Wl.max(),Ol.empty(),Hl)}}function Xl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ol.comparator(e.documentKey,t.documentKey),0!==n?n:xl(e.largestBatchId,t.largestBatchId))}const $l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Zl(e){if(e.code!==cl.FAILED_PRECONDITION||e.message!==$l)throw e;tl("LocalStore","Unexpectedly lost primary lease")}class ec{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ec((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ec?t:ec.resolve(t)}catch(e){return ec.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ec.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ec.reject(t)}static resolve(e){return new ec((t,n)=>{t(e)})}static reject(e){return new ec((t,n)=>{n(e)})}static waitFor(e){return new ec((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ec.resolve(!1);for(const n of e)t=t.next(e=>e?ec.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ec((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ec((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function tc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(e){return"IndexedDbTransactionError"===e.name}class rc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rc.ce=-1;const ic=-1;function sc(e){return null==e}function oc(e){return 0===e&&1/e==-1/0}function ac(e){return"number"==typeof e&&Number.isInteger(e)&&!oc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const lc="\x01";function cc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hc(t)),t=uc(e.get(n),t);return hc(t)}function uc(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case lc:n+="\x01\x11";break;default:n+=t}}return n}function hc(e){return e+lc+"\x01"}const dc="remoteDocuments",fc="owner",pc="mutationQueues",mc="mutations";const gc="documentMutations",vc="remoteDocumentsV14",yc="remoteDocumentGlobal",_c="targets",wc="targetDocuments",bc="targetGlobal",xc="collectionParents",Ec="clientMetadata",Cc="bundles",Tc="namedQueries",Sc="indexConfiguration",kc="indexState",Ic="indexEntries",Nc="documentOverlays",Pc="globals",Rc=[pc,mc,gc,dc,_c,fc,bc,wc,Ec,yc,xc,Cc,Tc],Ac=[pc,mc,gc,vc,_c,fc,bc,wc,Ec,yc,xc,Cc,Tc,Nc],Oc=Ac,Dc=[...Oc,Sc,kc,Ic];function Mc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Fc{constructor(e,t){this.comparator=e,this.root=t||Vc.EMPTY}insert(e,t){return new Fc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vc.BLACK,null,null))}remove(e){return new Fc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Vc.RED,this.left=null!=r?r:Vc.EMPTY,this.right=null!=i?i:Vc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Vc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sl(27949);return e+(this.isRed()?0:1)}}Vc.EMPTY=null,Vc.RED=!0,Vc.BLACK=!1,Vc.EMPTY=new class{constructor(){this.size=0}get key(){throw sl(57766)}get value(){throw sl(16141)}get color(){throw sl(16727)}get left(){throw sl(29726)}get right(){throw sl(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Vc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zc{constructor(e){this.comparator=e,this.data=new Fc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bc(this.data.getIterator())}getIteratorFrom(e){return new Bc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof zc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zc(this.comparator);return t.data=e,t}}class Bc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qc{constructor(e){this.fields=e,e.sort(Al.comparator)}static empty(){return new qc([])}unionWith(e){let t=new zc(Al.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Wc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Wc("Invalid base64 string: "+e):e}}(e);return new Hc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Hc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hc.EMPTY_BYTE_STRING=new Hc("");const Kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gc(e){if(al(!!e,39018),"string"==typeof e){let t=0;const n=Kc.exec(e);if(al(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yc(e.seconds),nanos:Yc(e.nanos)}}function Yc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Qc(e){return"string"==typeof e?Hc.fromBase64String(e):Hc.fromUint8Array(e)}const Xc="server_timestamp",$c="__type__",Jc="__previous_value__",Zc="__local_write_time__";function eu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[$c])||void 0===t?void 0:t.stringValue)===Xc}function tu(e){const t=e.mapValue.fields[Jc];return eu(t)?tu(t):t}function nu(e){const t=Gc(e.mapValue.fields[Zc].timestampValue);return new ql(t.seconds,t.nanos)}class ru{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const iu="(default)";class su{constructor(e,t){this.projectId=e,this.database=t||iu}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===iu}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const ou="__type__",au="__max__",lu={mapValue:{fields:{__type__:{stringValue:au}}}},cu="__vector__",uu="value";function hu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eu(e)?4:Tu(e)?9007199254740991:Eu(e)?10:11:sl(28295,{value:e})}function du(e,t){if(e===t)return!0;const n=hu(e);if(n!==hu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nu(e).isEqual(nu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Gc(e.timestampValue),r=Gc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Qc(e.bytesValue).isEqual(Qc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yc(e.geoPointValue.latitude)===Yc(t.geoPointValue.latitude)&&Yc(e.geoPointValue.longitude)===Yc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yc(e.integerValue)===Yc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Yc(e.doubleValue),r=Yc(t.doubleValue);return n===r?oc(n)===oc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return kl(e.arrayValue.values||[],t.arrayValue.values||[],du);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mc(n)!==Mc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!du(n[i],r[i])))return!1;return!0}(e,t);default:return sl(52216,{left:e})}}function fu(e,t){return void 0!==(e.values||[]).find(e=>du(e,t))}function pu(e,t){if(e===t)return 0;const n=hu(e),r=hu(t);if(n!==r)return xl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Yc(e.integerValue||e.doubleValue),r=Yc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return mu(e.timestampValue,t.timestampValue);case 4:return mu(nu(e),nu(t));case 5:return El(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Qc(e),r=Qc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=xl(n[i],r[i]);if(0!==e)return e}return xl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xl(Yc(e.latitude),Yc(t.latitude));return 0!==n?n:xl(Yc(e.longitude),Yc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return gu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[uu])||void 0===n?void 0:n.arrayValue,c=null===(r=a[uu])||void 0===r?void 0:r.arrayValue,u=xl((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:gu(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===lu.mapValue&&t===lu.mapValue)return 0;if(e===lu.mapValue)return 1;if(t===lu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=El(r[o],s[o]);if(0!==e)return e;const t=pu(n[r[o]],i[s[o]]);if(0!==t)return t}return xl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw sl(23264,{he:n})}}function mu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xl(e,t);const n=Gc(e),r=Gc(t),i=xl(n.seconds,r.seconds);return 0!==i?i:xl(n.nanos,r.nanos)}function gu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=pu(n[i],r[i]);if(e)return e}return xl(n.length,r.length)}function vu(e){return yu(e)}function yu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Gc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Qc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ol.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(yu(e.fields[i]));return n+"}"}(e.mapValue):sl(61005,{value:e})}function _u(e){switch(hu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tu(e);return t?16+_u(t):16;case 5:return 2*e.stringValue.length;case 6:return Qc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+_u(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Lc(e.fields,(e,n)=>{t+=e.length+_u(n)}),t}(e.mapValue);default:throw sl(13486,{value:e})}}function wu(e){return!!e&&"integerValue"in e}function bu(e){return!!e&&"arrayValue"in e}function xu(e){return!!e&&"mapValue"in e}function Eu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ou])||void 0===t?void 0:t.stringValue)===cu}function Cu(e){if(e.geoPointValue)return{geoPointValue:h({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:h({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Lc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Cu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cu(e.arrayValue.values[n]);return t}return h({},e)}function Tu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===au}class Su{constructor(e){this.value=e}static empty(){return new Su({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(t)}setAll(e){let t=Al.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Cu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return du(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Lc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Su(Cu(this.value))}}function ku(e){const t=[];return Lc(e.fields,(e,n)=>{const r=new Al([e]);if(xu(n)){const e=ku(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new qc(t)}class Iu{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Iu(e,0,Wl.min(),Wl.min(),Wl.min(),Su.empty(),0)}static newFoundDocument(e,t,n,r){return new Iu(e,1,t,Wl.min(),n,r,0)}static newNoDocument(e,t){return new Iu(e,2,t,Wl.min(),Wl.min(),Su.empty(),0)}static newUnknownDocument(e,t){return new Iu(e,3,t,Wl.min(),Wl.min(),Su.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Su.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Su.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Iu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Iu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Nu{constructor(e,t){this.position=e,this.inclusive=t}}function Pu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ol.comparator(Ol.fromName(o.referenceValue),n.key):pu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ru(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!du(e.position[n],t.position[n]))return!1;return!0}class Au{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ou(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Du{}class Mu extends Du{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new qu(e,t,n):"array-contains"===t?new Gu(e,n):"in"===t?new Yu(e,n):"not-in"===t?new Qu(e,n):"array-contains-any"===t?new Xu(e,n):new Mu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Wu(e,n):new Hu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(pu(t,this.value)):null!==t&&hu(this.value)===hu(t)&&this.matchesComparison(pu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lu extends Du{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Lu(e,t)}matches(e){return ju(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ju(e){return"and"===e.op}function Fu(e){return Uu(e)&&ju(e)}function Uu(e){for(const t of e.filters)if(t instanceof Lu)return!1;return!0}function Vu(e){if(e instanceof Mu)return e.field.canonicalString()+e.op.toString()+vu(e.value);if(Fu(e))return e.filters.map(e=>Vu(e)).join(",");{const t=e.filters.map(e=>Vu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function zu(e,t){return e instanceof Mu?function(e,t){return t instanceof Mu&&e.op===t.op&&e.field.isEqual(t.field)&&du(e.value,t.value)}(e,t):e instanceof Lu?function(e,t){return t instanceof Lu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&zu(n,t.filters[r]),!0)}(e,t):void sl(19439)}function Bu(e){return e instanceof Mu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(vu(e.value))}(e):e instanceof Lu?function(e){return e.op.toString()+" {"+e.getFilters().map(Bu).join(" ,")+"}"}(e):"Filter"}class qu extends Mu{constructor(e,t,n){super(e,t,n),this.key=Ol.fromName(n.referenceValue)}matches(e){const t=Ol.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wu extends Mu{constructor(e,t){super(e,"in",t),this.keys=Ku("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hu extends Mu{constructor(e,t){super(e,"not-in",t),this.keys=Ku("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ku(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ol.fromName(e.referenceValue))}class Gu extends Mu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bu(t)&&fu(t.arrayValue,this.value)}}class Yu extends Mu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fu(this.value.arrayValue,t)}}class Qu extends Mu{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!fu(this.value.arrayValue,t)}}class Xu extends Mu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>fu(this.value.arrayValue,e))}}class $u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Ju(e){return new $u(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zu(e){const t=ll(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Vu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),sc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>vu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>vu(e)).join(",")),t.Te=e}return t.Te}function eh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ou(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ru(e.startAt,t.startAt)&&Ru(e.endAt,t.endAt)}class th{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nh(e,t,n,r,i,s,o,a){return new th(e,t,n,r,i,s,o,a)}function rh(e){return new th(e)}function ih(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function sh(e){return null!==e.collectionGroup}function oh(e){const t=ll(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new zc(Al.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Au(r,n))}),e.has(Al.keyField().canonicalString())||t.Ie.push(new Au(Al.keyField(),n))}return t.Ie}function ah(e){const t=ll(e);return t.Ee||(t.Ee=lh(t,oh(e))),t.Ee}function lh(e,t){if("F"===e.limitType)return Ju(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Au(e.field,t)});const n=e.endAt?new Nu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nu(e.startAt.position,e.startAt.inclusive):null;return Ju(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ch(e,t,n){return new th(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uh(e,t){return eh(ah(e),ah(t))&&e.limitType===t.limitType}function hh(e){return"".concat(Zu(ah(e)),"|lt:").concat(e.limitType)}function dh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Bu(e)).join(", "),"]")),sc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>vu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>vu(e)).join(",")),"Target(".concat(t,")")}(ah(e)),"; limitType=").concat(e.limitType,")")}function fh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ol.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of oh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Pu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,oh(e),t))&&!(e.endAt&&!function(e,t,n){const r=Pu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,oh(e),t))}(e,t)}function ph(e){return(t,n)=>{let r=!1;for(const i of oh(e)){const e=mh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mh(e,t,n){const r=e.field.isKeyField()?Ol.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pu(r,i):sl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sl(19790,{direction:e.dir})}}class gh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Lc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return jc(this.inner)}size(){return this.innerSize}}const vh=new Fc(Ol.comparator);function yh(){return vh}const _h=new Fc(Ol.comparator);function wh(){let e=_h;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function bh(e){let t=_h;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function xh(){return Ch()}function Eh(){return Ch()}function Ch(){return new gh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Th=new Fc(Ol.comparator),Sh=new zc(Ol.comparator);function kh(){let e=Sh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ih=new zc(xl);function Nh(){return Ih}function Ph(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(t)?"-0":t}}function Rh(e){return{integerValue:""+e}}function Ah(e,t){return ac(t)?Rh(t):Ph(e,t)}class Oh{constructor(){this._=void 0}}function Dh(e,t,n){return e instanceof jh?function(e,t){const n={fields:{[$c]:{stringValue:Xc},[Zc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&eu(t)&&(t=tu(t)),t&&(n.fields[Jc]=t),{mapValue:n}}(n,t):e instanceof Fh?Uh(e,t):e instanceof Vh?zh(e,t):function(e,t){const n=Lh(e,t),r=qh(n)+qh(e.Ae);return wu(n)&&wu(e.Ae)?Rh(r):Ph(e.serializer,r)}(e,t)}function Mh(e,t,n){return e instanceof Fh?Uh(e,t):e instanceof Vh?zh(e,t):n}function Lh(e,t){return e instanceof Bh?function(e){return wu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class jh extends Oh{}class Fh extends Oh{constructor(e){super(),this.elements=e}}function Uh(e,t){const n=Wh(t);for(const r of e.elements)n.some(e=>du(e,r))||n.push(r);return{arrayValue:{values:n}}}class Vh extends Oh{constructor(e){super(),this.elements=e}}function zh(e,t){let n=Wh(t);for(const r of e.elements)n=n.filter(e=>!du(e,r));return{arrayValue:{values:n}}}class Bh extends Oh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qh(e){return Yc(e.integerValue||e.doubleValue)}function Wh(e){return bu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Hh{constructor(e,t){this.field=e,this.transform=t}}class Kh{constructor(e,t){this.version=e,this.transformResults=t}}class Gh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gh}static exists(e){return new Gh(void 0,e)}static updateTime(e){return new Gh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Qh{}function Xh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new od(e.key,Gh.none()):new td(e.key,e.data,Gh.none());{const n=e.data,r=Su.empty();let i=new zc(Al.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new nd(e.key,r,new qc(i.toArray()),Gh.none())}}function $h(e,t,n){e instanceof td?function(e,t,n){const r=e.value.clone(),i=id(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nd?function(e,t,n){if(!Yh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=id(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jh(e,t,n,r){return e instanceof td?function(e,t,n,r){if(!Yh(e.precondition,t))return n;const i=e.value.clone(),s=sd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof nd?function(e,t,n,r){if(!Yh(e.precondition,t))return n;const i=sd(e.fieldTransforms,r,t),s=t.data;return s.setAll(rd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Yh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Zh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Lh(r.transform,e||null);null!=i&&(null===n&&(n=Su.empty()),n.set(r.field,i))}return n||null}function ed(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&kl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fh&&t instanceof Fh||e instanceof Vh&&t instanceof Vh?kl(e.elements,t.elements,du):e instanceof Bh&&t instanceof Bh?du(e.Ae,t.Ae):e instanceof jh&&t instanceof jh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class td extends Qh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nd extends Qh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function id(e,t,n){const r=new Map;al(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Mh(o,a,n[i]))}return r}function sd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Dh(e,s,t))}return r}class od extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ad extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ld{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$h(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Jh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Jh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Eh();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Xh(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Wl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kh())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(e,t)=>ed(e,t))&&kl(this.baseMutations,e.baseMutations,(e,t)=>ed(e,t))}}class cd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){al(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Th;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new cd(e,t,n,r)}}class ud{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var hd,dd;function fd(e){switch(e){case cl.OK:return sl(64938);case cl.CANCELLED:case cl.UNKNOWN:case cl.DEADLINE_EXCEEDED:case cl.RESOURCE_EXHAUSTED:case cl.INTERNAL:case cl.UNAVAILABLE:case cl.UNAUTHENTICATED:return!1;case cl.INVALID_ARGUMENT:case cl.NOT_FOUND:case cl.ALREADY_EXISTS:case cl.PERMISSION_DENIED:case cl.FAILED_PRECONDITION:case cl.ABORTED:case cl.OUT_OF_RANGE:case cl.UNIMPLEMENTED:case cl.DATA_LOSS:return!0;default:return sl(15467,{code:e})}}function pd(e){if(void 0===e)return nl("GRPC error has no .code"),cl.UNKNOWN;switch(e){case hd.OK:return cl.OK;case hd.CANCELLED:return cl.CANCELLED;case hd.UNKNOWN:return cl.UNKNOWN;case hd.DEADLINE_EXCEEDED:return cl.DEADLINE_EXCEEDED;case hd.RESOURCE_EXHAUSTED:return cl.RESOURCE_EXHAUSTED;case hd.INTERNAL:return cl.INTERNAL;case hd.UNAVAILABLE:return cl.UNAVAILABLE;case hd.UNAUTHENTICATED:return cl.UNAUTHENTICATED;case hd.INVALID_ARGUMENT:return cl.INVALID_ARGUMENT;case hd.NOT_FOUND:return cl.NOT_FOUND;case hd.ALREADY_EXISTS:return cl.ALREADY_EXISTS;case hd.PERMISSION_DENIED:return cl.PERMISSION_DENIED;case hd.FAILED_PRECONDITION:return cl.FAILED_PRECONDITION;case hd.ABORTED:return cl.ABORTED;case hd.OUT_OF_RANGE:return cl.OUT_OF_RANGE;case hd.UNIMPLEMENTED:return cl.UNIMPLEMENTED;case hd.DATA_LOSS:return cl.DATA_LOSS;default:return sl(39323,{code:e})}}(dd=hd||(hd={}))[dd.OK=0]="OK",dd[dd.CANCELLED=1]="CANCELLED",dd[dd.UNKNOWN=2]="UNKNOWN",dd[dd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dd[dd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dd[dd.NOT_FOUND=5]="NOT_FOUND",dd[dd.ALREADY_EXISTS=6]="ALREADY_EXISTS",dd[dd.PERMISSION_DENIED=7]="PERMISSION_DENIED",dd[dd.UNAUTHENTICATED=16]="UNAUTHENTICATED",dd[dd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dd[dd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dd[dd.ABORTED=10]="ABORTED",dd[dd.OUT_OF_RANGE=11]="OUT_OF_RANGE",dd[dd.UNIMPLEMENTED=12]="UNIMPLEMENTED",dd[dd.INTERNAL=13]="INTERNAL",dd[dd.UNAVAILABLE=14]="UNAVAILABLE",dd[dd.DATA_LOSS=15]="DATA_LOSS";new La([4294967295,4294967295],0);Error;class md{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yd(e,t){return gd(e,t.toTimestamp())}function _d(e){return al(!!e,49232),Wl.fromTimestamp(function(e){const t=Gc(e);return new ql(t.seconds,t.nanos)}(e))}function wd(e,t){return bd(e,t).canonicalString()}function bd(e,t){const n=function(e){return new Pl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function xd(e){const t=Pl.fromString(e);return al(Od(t),10190,{key:t.toString()}),t}function Ed(e,t){return wd(e.databaseId,t.path)}function Cd(e){const t=xd(e);return 4===t.length?Pl.emptyPath():Sd(t)}function Td(e){return new Pl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sd(e){return al(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function kd(e,t,n){return{name:Ed(e,t),fields:n.value.mapValue.fields}}function Id(e,t){let n;if(t instanceof td)n={update:kd(e,t.key,t.value)};else if(t instanceof od)n={delete:Ed(e,t.key)};else if(t instanceof nd)n={update:kd(e,t.key,t.data),updateMask:Ad(t.fieldMask)};else{if(!(t instanceof ad))return sl(16599,{Vt:t.type});n={verify:Ed(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof jh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bh)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw sl(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sl(27497)}(e,t.precondition)),n}function Nd(e){let t=Cd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){al(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Pd(e);return t instanceof Lu&&Fu(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Au(Rd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,sc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Nu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Nu(n,t)}(n.endAt)),nh(t,i,o,s,a,"F",l,c)}function Pd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rd(e.unaryFilter.field);return Mu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rd(e.unaryFilter.field);return Mu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rd(e.unaryFilter.field);return Mu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rd(e.unaryFilter.field);return Mu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sl(61313);default:return sl(60726)}}(e):void 0!==e.fieldFilter?function(e){return Mu.create(Rd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sl(58110);default:return sl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Lu.create(e.compositeFilter.filters.map(e=>Pd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sl(1026)}}(e.compositeFilter.op))}(e):sl(30097,{filter:e})}function Rd(e){return Al.fromServerFormat(e.fieldPath)}function Ad(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Dd{constructor(e){this.yt=e}}function Md(e){const t=Nd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ch(t,t.limit,"L"):t}class Ld{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Yc(e.integerValue));else if("doubleValue"in e){const n=Yc(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),oc(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Gc(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Qc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Tu(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Eu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):sl(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=uu,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Yc(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ol.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ld.Kt=new Ld;class jd{constructor(){this.Cn=new Fd}addToCollectionParentIndex(e,t){return this.Cn.add(t),ec.resolve()}getCollectionParents(e,t){return ec.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ec.resolve()}deleteFieldIndex(e,t){return ec.resolve()}deleteAllFieldIndexes(e){return ec.resolve()}createTargetIndexes(e,t){return ec.resolve()}getDocumentsMatchingTarget(e,t){return ec.resolve(null)}getIndexType(e,t){return ec.resolve(0)}getFieldIndexes(e,t){return ec.resolve([])}getNextCollectionGroupToUpdate(e){return ec.resolve(null)}getMinOffset(e,t){return ec.resolve(Ql.min())}getMinOffsetFromCollectionGroup(e,t){return ec.resolve(Ql.min())}updateCollectionGroup(e,t,n){return ec.resolve()}updateIndexEntries(e,t){return ec.resolve()}}class Fd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new zc(Pl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new zc(Pl.comparator)).toArray()}}new Uint8Array(0);const Ud={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vd=41943040;class zd{static withCacheSize(e){return new zd(e,zd.DEFAULT_COLLECTION_PERCENTILE,zd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}zd.DEFAULT_COLLECTION_PERCENTILE=10,zd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zd.DEFAULT=new zd(Vd,zd.DEFAULT_COLLECTION_PERCENTILE,zd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zd.DISABLED=new zd(-1,0,0);class Bd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bd(0)}static cr(){return new Bd(-1)}}const qd="LruGarbageCollector",Wd=1048576;function Hd(e,t){let[n,r]=e,[i,s]=t;const o=xl(n,i);return 0===o?xl(r,s):o}class Kd{constructor(e){this.Ir=e,this.buffer=new zc(Hd),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Hd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){tl(qd,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nc(e)?tl(qd,"Ignoring IndexedDB error during garbage collection: ",e):await Zl(e)}await this.Vr(3e5)})}}class Yd{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ec.resolve(rc.ce);const n=new Kd(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tl("LruGarbageCollector","Garbage collection skipped; disabled"),ec.resolve(Ud)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(tl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ud):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(tl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),el()<=Vn.DEBUG&&tl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ec.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Qd(e,t){return new Yd(e,t)}class Xd{constructor(){this.changes=new gh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Iu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ec.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $d{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Jh(n.mutation,e,qc.empty(),ql.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,kh()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kh();const r=xh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=wh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=xh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,kh()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=yh();const s=Ch(),o=Ch();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof nd)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Jh(o.mutation,t,o.mutation.getFieldMask(),ql.now())):s.set(t.key,qc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new $d(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Ch();let r=new Fc((e,t)=>e-t),i=kh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||qc.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||kh()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Eh();l.forEach(e=>{if(!i.has(e)){const r=Xh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ec.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ol.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ec.resolve(xh());let o=Hl,a=i;return s.next(t=>ec.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ec.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,kh())).next(e=>({batchId:o,changes:bh(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ol(t)).next(e=>{let t=wh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=wh();return this.indexManager.getCollectionParents(e,i).next(o=>ec.forEach(o,o=>{const a=function(e,t){return new th(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Iu.newInvalidDocument(r)))});let n=wh();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Jh(s.mutation,r,qc.empty(),ql.now()),fh(t,r)&&(n=n.insert(e,r))}),n})}}class Zd{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ec.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_d(e.createTime)}}(t)),ec.resolve()}getNamedQuery(e,t){return ec.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Md(e.bundledQuery),readTime:_d(e.readTime)}}(t)),ec.resolve()}}class ef{constructor(){this.overlays=new Fc(Ol.comparator),this.qr=new Map}getOverlay(e,t){return ec.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xh();return ec.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ec.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ec.resolve()}getOverlaysForCollection(e,t,n){const r=xh(),i=t.length+1,s=new Ol(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ec.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Fc((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=xh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=xh(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ec.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ud(t,n));let i=this.qr.get(t);void 0===i&&(i=kh(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class tf{constructor(){this.sessionToken=Hc.EMPTY_BYTE_STRING}getSessionToken(e){return ec.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ec.resolve()}}class nf{constructor(){this.Qr=new zc(rf.$r),this.Ur=new zc(rf.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new rf(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new rf(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ol(new Pl([])),n=new rf(t,e),r=new rf(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ol(new Pl([])),n=new rf(t,e),r=new rf(t,e+1);let i=kh();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new rf(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rf{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ol.comparator(e.key,t.key)||xl(e.Yr,t.Yr)}static Kr(e,t){return xl(e.Yr,t.Yr)||Ol.comparator(e.key,t.key)}}class sf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new zc(rf.$r)}checkEmpty(e){return ec.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ld(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new rf(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ec.resolve(s)}lookupMutationBatch(e,t){return ec.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return ec.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ec.resolve(0===this.mutationQueue.length?ic:this.tr-1)}getAllMutationBatches(e){return ec.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rf(t,0),r=new rf(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),ec.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zc(xl);return t.forEach(e=>{const t=new rf(e,0),r=new rf(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ec.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ol.isDocumentKey(i)||(i=i.child(""));const s=new rf(new Ol(i),0);let o=new zc(xl);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),ec.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){al(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ec.forEach(t.mutations,r=>{const i=new rf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new rf(t,0),r=this.Zr.firstAfterOrEqual(n);return ec.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ec.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class of{constructor(e){this.ri=e,this.docs=new Fc(Ol.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ec.resolve(n?n.document.mutableCopy():Iu.newInvalidDocument(t))}getEntries(e,t){let n=yh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Iu.newInvalidDocument(e))}),ec.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=yh();const s=t.path,o=new Ol(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Xl(Yl(o),n)<=0||(r.has(o.key)||fh(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ec.resolve(i)}getAllFromCollectionGroup(e,t,n,r){sl(9500)}ii(e,t){return ec.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new af(this)}getSize(e){return ec.resolve(this.size)}}class af extends Xd{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ec.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class lf{constructor(e){this.persistence=e,this.si=new gh(e=>Zu(e),eh),this.lastRemoteSnapshotVersion=Wl.min(),this.highestTargetId=0,this.oi=0,this._i=new nf,this.targetCount=0,this.ai=Bd.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ec.resolve()}getLastRemoteSnapshotVersion(e){return ec.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ec.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ec.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ec.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ec.resolve()}updateTargetData(e,t){return this.Pr(t),ec.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ec.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ec.waitFor(i).next(()=>r)}getTargetCount(e){return ec.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ec.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ec.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ec.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ec.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ec.resolve(n)}containsKey(e,t){return ec.resolve(this._i.containsKey(t))}}class cf{constructor(e,t){this.ui={},this.overlays={},this.ci=new rc(0),this.li=!1,this.li=!0,this.hi=new tf,this.referenceDelegate=e(this),this.Pi=new lf(this),this.indexManager=new jd,this.remoteDocumentCache=function(e){return new of(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Dd(t),this.Ii=new Zd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ef,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new sf(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){tl("MemoryPersistence","Starting transaction:",e);const r=new uf(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ec.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class uf extends Jl{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Ri=new nf,this.Vi=null}static mi(e){return new hf(e)}get fi(){if(this.Vi)return this.Vi;throw sl(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ec.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ec.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ec.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ec.forEach(this.fi,n=>{const r=Ol.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Wl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ec.or([()=>ec.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class df{constructor(e,t){this.persistence=e,this.pi=new gh(e=>cc(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Qd(this,t)}static mi(e,t){return new df(e,t)}Ei(){}di(e){return ec.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ec.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ec.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Wl.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ec.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ec.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ec.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ec.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_u(e.data.value)),t}br(e,t,n){return ec.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ec.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ff{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=kh(),r=kh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ff(e,t.fromCache,n,r)}}class pf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mf{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=dn()?8:tc(an())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new pf;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(el()<=Vn.DEBUG&&tl("QueryEngine","SDK will not create cache indexes for query:",dh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ec.resolve()):(el()<=Vn.DEBUG&&tl("QueryEngine","Query:",dh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(el()<=Vn.DEBUG&&tl("QueryEngine","The SDK decides to create cache indexes for query:",dh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ah(t))):ec.resolve())}ys(e,t){if(ih(t))return ec.resolve(null);let n=ah(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ch(t,null,"F"),n=ah(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=kh(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,ch(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return ih(t)||r.isEqual(Wl.min())?ec.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?ec.resolve(null):(el()<=Vn.DEBUG&&tl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dh(t)),this.vs(e,s,t,Gl(r,Hl)).next(e=>e))})}Ds(e,t){let n=new zc(ph(e));return t.forEach((t,r)=>{fh(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return el()<=Vn.DEBUG&&tl("QueryEngine","Using full collection scan to execute query:",dh(t)),this.ps.getDocumentsMatchingQuery(e,t,Ql.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const gf="LocalStore";class vf{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Fc(xl),this.xs=new gh(e=>Zu(e),eh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jd(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function yf(e,t,n,r){return new vf(e,t,n,r)}async function _f(e,t){const n=ll(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=kh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function wf(e){const t=ll(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function bf(e,t){const n=ll(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ic),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}class xf{constructor(){this.activeTargetIds=Nh()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ef{constructor(){this.Mo=new xf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cf{Oo(e){}shutdown(){}}const Tf="ConnectivityMonitor";class Sf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tl(Tf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){tl(Tf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kf=null;function If(){return null===kf?kf=268435456+Math.round(2147483648*Math.random()):kf++,"0x"+kf.toString(16)}const Nf="RestConnection",Pf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===iu?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=If(),o=this.zo(e,t.toUriEncodedString());tl(Nf,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),c=tn(l);return this.Jo(e,o,a,n,c).then(t=>(tl(Nf,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw rl(Nf,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Pf[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Af{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Of="WebChannelConnection";class Df extends Rf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=If();return new Promise((i,o)=>{const a=new Ua;a.setWithCredentials(!0),a.listenOnce(za.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ba.NO_ERROR:const n=a.getResponseJson();tl(Of,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case Ba.TIMEOUT:tl(Of,"RPC '".concat(e,"' ").concat(s," timed out")),o(new ul(cl.DEADLINE_EXCEEDED,"Request time out"));break;case Ba.HTTP_ERROR:const r=a.getStatus();if(tl(Of,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cl).indexOf(t)>=0?t:cl.UNKNOWN}(n.status);o(new ul(e,n.message))}else o(new ul(cl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ul(cl.UNAVAILABLE,"Connection failed."));break;default:sl(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{tl(Of,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);tl(Of,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=If(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ka(),o=Ha(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");tl(Of,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let h=!1,d=!1;const f=new Af({Yo:t=>{d?tl(Of,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(tl(Of,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),tl(Of,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Va.EventType.OPEN,()=>{d||(tl(Of,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Va.EventType.CLOSE,()=>{d||(d=!0,tl(Of,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Va.EventType.ERROR,t=>{d||(d=!0,rl(Of,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ul(cl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Va.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];al(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){tl(Of,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=hd[e];if(void 0!==t)return pd(t)}(t),i=o.message;void 0===n&&(n=cl.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new ul(n,i)),u.close()}else tl(Of,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,Wa.STAT_EVENT,t=>{t.stat===qa.PROXY?tl(Of,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===qa.NOPROXY&&tl(Of,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Mf(){return"undefined"!=typeof document?document:null}function Lf(e){return new md(e,!0)}class jf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&tl("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ff="PersistentStream";class Uf{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jf(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===cl.RESOURCE_EXHAUSTED?(nl(t.toString()),nl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===cl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new ul(cl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return tl(Ff,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(tl(Ff,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Uf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return al(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,al(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){al(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(al(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?_d(e.updateTime):_d(t);return n.isEqual(Wl.min())&&(n=_d(t)),new Kh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_d(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Td(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Id(this.serializer,e))};this.q_(t)}}class zf{}class Bf extends zf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ul(cl.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,bd(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===cl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ul(cl.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,bd(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===cl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ul(cl.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(nl(t),this.aa=!1):tl("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Wf="RemoteStore";class Hf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Yf(this)&&(tl(Wf,"Restarting streams for network reachability change."),await async function(e){const t=ll(e);t.Ea.add(4),await Gf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Kf(t)}(this))})}),this.Ra=new qf(n,r)}}async function Kf(e){if(Yf(e))for(const t of e.da)await t(!0)}async function Gf(e){for(const t of e.da)await t(!1)}function Yf(e){return 0===ll(e).Ea.size}async function Qf(e,t,n){if(!nc(t))throw t;e.Ea.add(1),await Gf(e),e.Ra.set("Offline"),n||(n=()=>wf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tl(Wf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Kf(e)})}function Xf(e,t){return t().catch(n=>Qf(e,n,t))}async function $f(e){const t=ll(e),n=lp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ic;for(;Jf(t);)try{const e=await bf(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Zf(t,e)}catch(e){await Qf(t,e)}ep(t)&&tp(t)}function Jf(e){return Yf(e)&&e.Ta.length<10}function Zf(e,t){e.Ta.push(t);const n=lp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function ep(e){return Yf(e)&&!lp(e).x_()&&e.Ta.length>0}function tp(e){lp(e).start()}async function np(e){lp(e).ra()}async function rp(e){const t=lp(e);for(const n of e.Ta)t.ea(n.mutations)}async function ip(e,t,n){const r=e.Ta.shift(),i=cd.from(r,t,n);await Xf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await $f(e)}async function sp(e,t){t&&lp(e).X_&&await async function(e,t){if(function(e){return fd(e)&&e!==cl.ABORTED}(t.code)){const n=e.Ta.shift();lp(e).B_(),await Xf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await $f(e)}}(e,t),ep(e)&&tp(e)}async function op(e,t){const n=ll(e);n.asyncQueue.verifyOperationInProgress(),tl(Wf,"RemoteStore received new credentials");const r=Yf(n);n.Ea.add(3),await Gf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Kf(n)}async function ap(e,t){const n=ll(e);t?(n.Ea.delete(2),await Kf(n)):t||(n.Ea.add(2),await Gf(n),n.Ra.set("Unknown"))}function lp(e){return e.fa||(e.fa=function(e,t,n){const r=ll(e);return r.sa(),new Vf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:np.bind(null,e),r_:sp.bind(null,e),ta:rp.bind(null,e),na:ip.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await $f(e)):(await e.fa.stop(),e.Ta.length>0&&(tl(Wf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class cp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new cp(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ul(cl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(e,t){if(nl("AsyncQueue","".concat(t,": ").concat(e)),nc(e))return new ul(cl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class hp{constructor(){this.queries=dp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ll(e),r=n.queries;n.queries=dp(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ul(cl.ABORTED,"Firestore shutting down"))}}function dp(){return new gh(e=>hh(e),uh)}function fp(e){e.Ca.forEach(e=>{e.next()})}var pp,mp;(mp=pp||(pp={})).Ma="default",mp.Cache="cache";const gp="SyncEngine";class vp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new gh(e=>hh(e),uh),this.Iu=new Map,this.Eu=new Set,this.du=new Fc(Ol.comparator),this.Au=new Map,this.Ru=new nf,this.Vu={},this.mu=new Map,this.fu=Bd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function yp(e,t,n){const r=ll(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ll(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&fp(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _p(e,t){const n=ll(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ll(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ec.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);al(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=kh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);xp(n,r,null),bp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ep(n,e)}catch(e){await Zl(e)}}async function wp(e,t,n){const r=ll(e);try{const e=await function(e,t){const n=ll(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(al(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);xp(r,t,n),bp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ep(r,e)}catch(n){await Zl(n)}}function bp(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function xp(e,t,n){const r=ll(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}async function Ep(e,t,n){const r=ll(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ff.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=ll(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ec.forEach(t,t=>ec.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ec.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!nc(e))throw e;tl(gf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Cp(e,t){const n=ll(e);if(!n.currentUser.isEqual(t)){tl(gp,"User change. New user:",t.toKey());const e=await _f(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ul(cl.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ep(n,e.Ls)}}function Tp(e){const t=ll(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_p.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wp.bind(null,t),t}class Sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yf(this.persistence,new mf,e.initialUser,this.serializer)}Cu(e){return new cf(hf.mi,this.serializer)}Du(e){return new Ef}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sp.provider={build:()=>new Sp};class kp extends Sp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){al(this.persistence.referenceDelegate instanceof df,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Gd(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?zd.withCacheSize(this.cacheSizeBytes):zd.DEFAULT;return new cf(e=>df.mi(e,t),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cp.bind(null,this.syncEngine),await ap(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hp}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),n=function(e){return new Df(e)}(e.databaseInfo);return function(e,t,n,r){return new Bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Hf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>yp(this.syncEngine,e,0),Sf.v()?new Sf:new Cf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new vp(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ll(e);tl(Wf,"RemoteStore shutting down."),t.Ea.add(5),await Gf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ip.provider={build:()=>new Ip};const Np="FirestoreClient";class Pp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=$a.UNAUTHENTICATED,this.clientId=bl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{tl(Np,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(tl(Np,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=up(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Rp(e,t){e.asyncQueue.verifyOperationInProgress(),tl(Np,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await _f(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ap(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Op(e);tl(Np,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>op(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>op(t.remoteStore,n)),e._onlineComponents=t}async function Op(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tl(Np,"Using user provided OfflineComponentProvider");try{await Rp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===cl.FAILED_PRECONDITION||e.code===cl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),await Rp(e,new Sp)}}else tl(Np,"Using default OfflineComponentProvider"),await Rp(e,new kp(void 0));return e._offlineComponents}async function Dp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tl(Np,"Using user provided OnlineComponentProvider"),await Ap(e,e._uninitializedComponentsProvider._online)):(tl(Np,"Using default OnlineComponentProvider"),await Ap(e,new Ip))),e._onlineComponents}function Mp(e){return Dp(e).then(e=>e.syncEngine)}function Lp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jp=new Map,Fp="firestore.googleapis.com",Up=!0;class Vp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ul(cl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fp,this.ssl=Up}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Up;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Vd;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Wd)throw new ul(cl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ul(cl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ul(cl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ul(cl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ul(cl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ul(cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ul(cl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fl;switch(e.type){case"firstParty":return new vl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ul(cl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jp.get(e);t&&(tl("ComponentProvider","Removing Datastore"),jp.delete(e),t.terminate())}(this),Promise.resolve()}}function Bp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Fl(e,zp);const i=tn(t),s=e._getSettings(),o=h(h({},s),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(nn("https://".concat(a)),on("Firestore",!0)),s.host!==Fp&&s.host!==a&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=h(h({},s),{},{host:a,ssl:i,emulatorOptions:r});if(!Cn(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=$a.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=h({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wt(JSON.stringify({alg:"none",type:"JWT"})),Wt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ul(cl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new $a(i)}e._authCredentials=new pl(new dl(t,n))}}class qp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qp(this.firestore,e,this._query)}}class Wp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wp(this.firestore,e,this._key)}toJSON(){return{type:Wp._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Vl(t,Wp._jsonSchema))return new Wp(e,n||null,new Ol(Pl.fromString(t.referencePath)))}}Wp._jsonSchemaVersion="firestore/documentReference/1.0",Wp._jsonSchema={type:Ul("string",Wp._jsonSchemaVersion),referencePath:Ul("string")};class Hp extends qp{constructor(e,t,n){super(e,t,rh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wp(this.firestore,null,new Ol(e))}withConverter(e){return new Hp(this.firestore,e,this._path)}}function Kp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dn(e),1===arguments.length&&(t=bl.newId()),Dl("doc","path",t),e instanceof zp){const n=Pl.fromString(t,...r);return Ml(n),new Wp(e,null,new Ol(n))}{if(!(e instanceof Wp||e instanceof Hp))throw new ul(cl.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pl.fromString(t,...r));return Ml(n),new Wp(e.firestore,e instanceof Hp?e.converter:null,new Ol(n))}}const Gp="AsyncQueue";class Yp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jf(this,"async_queue_retry"),this._c=()=>{const e=Mf();e&&tl(Gp,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Mf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new hl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(CP){if(!nc(CP))throw CP;tl(Gp,"Operation failed with retryable error: "+CP)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,nl("INTERNAL UNHANDLED ERROR: ",Qp(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=cp.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&sl(47125,{Pc:Qp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Qp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Xp extends zp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Yp,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yp(e),this._firestoreClient=void 0,await e}}}function $p(e){if(e._terminated)throw new ul(cl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Jp(e),e._firestoreClient}function Jp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ru(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lp(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Pp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Zp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zp(Hc.fromBase64String(e))}catch(e){throw new ul(cl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Zp(Hc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vl(e,Zp._jsonSchema))return Zp.fromBase64String(e.bytes)}}Zp._jsonSchemaVersion="firestore/bytes/1.0",Zp._jsonSchema={type:Ul("string",Zp._jsonSchemaVersion),bytes:Ul("string")};class em{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ul(cl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Al(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tm{constructor(e){this._methodName=e}}class nm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ul(cl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ul(cl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xl(this._lat,e._lat)||xl(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nm._jsonSchemaVersion}}static fromJSON(e){if(Vl(e,nm._jsonSchema))return new nm(e.latitude,e.longitude)}}nm._jsonSchemaVersion="firestore/geoPoint/1.0",nm._jsonSchema={type:Ul("string",nm._jsonSchemaVersion),latitude:Ul("number"),longitude:Ul("number")};class rm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vl(e,rm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new rm(e.vectorValues);throw new ul(cl.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rm._jsonSchemaVersion="firestore/vectorValue/1.0",rm._jsonSchema={type:Ul("string",rm._jsonSchemaVersion),vectorValues:Ul("object")};const im=/^__.*__$/;class sm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}function om(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sl(40011,{Ac:e})}}class am{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new am(h(h({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(om(this.Ac)&&im.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lf(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new am({Ac:e,methodName:t,Dc:n,path:Al.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cm(e){const t=e._freezeSettings(),n=Lf(e._databaseId);return new lm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function um(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);mm("Data must be an object, but it was:",o,r);const a=fm(r,o);let l,c;if(s.merge)l=new qc(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=gm(t,r,n);if(!o.contains(i))throw new ul(cl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));wm(e,i)||e.push(i)}l=new qc(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new sm(new Su(a),l,c)}class hm extends tm{_toFieldTransform(e){return new Hh(e.path,new jh)}isEqual(e){return e instanceof hm}}function dm(e,t){if(pm(e=Dn(e)))return mm("Unsupported field value:",t,e),fm(e,t);if(e instanceof tm)return function(e,t){if(!om(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=dm(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Dn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ah(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ql.fromDate(e);return{timestampValue:gd(t.serializer,n)}}if(e instanceof ql){const n=new ql(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gd(t.serializer,n)}}if(e instanceof nm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zp)return{bytesValue:vd(t.serializer,e._byteString)};if(e instanceof Wp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:wd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof rm)return function(e,t){return{mapValue:{fields:{[ou]:{stringValue:cu},[uu]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Ph(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(jl(e)))}(e,t)}function fm(e,t){const n={};return jc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lc(e,(e,r)=>{const i=dm(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function pm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ql||e instanceof nm||e instanceof Zp||e instanceof Wp||e instanceof tm||e instanceof rm)}function mm(e,t,n){if(!pm(n)||!Ll(n)){const r=jl(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function gm(e,t,n){if((t=Dn(t))instanceof em)return t._internalPath;if("string"==typeof t)return ym(e,t);throw _m("Field path arguments must be of type string or ",e,!1,void 0,n)}const vm=new RegExp("[~\\*/\\[\\]]");function ym(e,t,n){if(t.search(vm)>=0)throw _m("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new em(...t.split("."))._internalPath}catch(r){throw _m("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _m(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new ul(cl.INVALID_ARGUMENT,a+e+l)}function wm(e,t){return e.some(e=>e.isEqual(t))}class bm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Em("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xm extends bm{data(){return super.data()}}function Em(e,t){return"string"==typeof t?ym(e,t):t instanceof em?t._internalPath:t._delegate._internalPath}function Cm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Tm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sm extends bm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ul(cl.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Sm._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Sm._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sm._jsonSchema={type:Ul("string",Sm._jsonSchemaVersion),bundleSource:Ul("string","DocumentSnapshot"),bundleName:Ul("string"),bundle:Ul("string")};class km extends Sm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Im{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new km(this._firestore,this._userDataWriter,n.key,n,new Tm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ul(cl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new km(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Tm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new km(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Nm(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ul(cl.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Im._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sl(61501,{type:e})}}Im._jsonSchemaVersion="firestore/querySnapshot/1.0",Im._jsonSchema={type:Ul("string",Im._jsonSchemaVersion),bundleSource:Ul("string","QuerySnapshot"),bundleName:Ul("string"),bundle:Ul("string")};function Pm(e,t){return function(e,t){const n=new hl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Tp(e);try{const e=await function(e,t){const n=ll(e),r=ql.now(),i=t.reduce((e,t)=>e.add(t.key),kh());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=yh(),l=kh();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Zh(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new nd(e.key,t,ku(t.value.mapValue),Gh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:bh(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Fc(xl)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ep(r,e.changes),await $f(r.remoteStore)}catch(e){const t=up(e,"Failed to persist write");n.reject(t)}}(await Mp(e),t,n)),n.promise}($p(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ja=e}(Qr),Wr(new Mn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Xp(new ml(e.getProvider("auth-internal")),new _l(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ul(cl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(e.options.projectId,t)}(s,r),s);return i=h({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Jr(Qa,Xa,e),Jr(Qa,Xa,"esm2020")}();const Rm=Xr({apiKey:"AIzaSyD8GWx4ry3hgM6jV0qtTMHBrT7JoWHQCAk",authDomain:"desarollogit-68916509-89c54.firebaseapp.com",databaseURL:"https://desarollogit-68916509-89c54-default-rtdb.europe-west1.firebasedatabase.app",projectId:"desarollogit-68916509-89c54",storageBucket:"desarollogit-68916509-89c54.firebasestorage.app",messagingSenderId:"464708937070",appId:"1:464708937070:web:41e91b162694b2bb7c8d7f"}),Am=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r();const t=Hr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Hr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Cn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ia,persistence:[jo,vo,xo]}),r=Zt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Aa)return;const r=null===t||void 0===t?void 0:t.token;Oa!==r&&(Oa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Dn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Dn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=$t("auth");return s&&Us(n,"http://".concat(s)),n}(Rm),Om=function(e,t){const n="object"==typeof e?e:$r(),r="string"==typeof e?e:t||iu,i=Hr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=$t(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Bp(i,...e)}return i}(Rm),Dm=new no,Mm="@firebase/database",Lm="1.1.0";let jm="";function Fm(e){jm=e}class Um{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:vn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Vm{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const zm=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Um(t)}}catch(CP){}return new Vm},Bm=zm("localStorage"),qm=zm("sessionStorage"),Wm=new Hn("@firebase/database"),Hm=function(){let e=1;return function(){return e++}}(),Km=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ft(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Nn;n.update(t);const r=n.digest();return zt.encodeByteArray(r)},Gm=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Gm.apply(null,n):e+="object"===typeof n?yn(n):n,e+=" "}return e};let Ym=null,Qm=!0;const Xm=function(e,t){Ft(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Wm.logLevel=Vn.VERBOSE,Ym=Wm.log.bind(Wm),t&&qm.set("logging_enabled",!0)):"function"===typeof e?Ym=e:(Ym=null,qm.remove("logging_enabled"))},$m=function(){if(!0===Qm&&(Qm=!1,null===Ym&&!0===qm.get("logging_enabled")&&Xm(!0)),Ym){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Gm.apply(null,t);Ym(r)}},Jm=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$m(e,...n)}},Zm=function(){const e="FIREBASE INTERNAL ERROR: "+Gm(...arguments);Wm.error(e)},eg=function(){const e="FIREBASE FATAL ERROR: ".concat(Gm(...arguments));throw Wm.error(e),new Error(e)},tg=function(){const e="FIREBASE WARNING: "+Gm(...arguments);Wm.warn(e)},ng=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},rg="[MIN_NAME]",ig="[MAX_NAME]",sg=function(e,t){if(e===t)return 0;if(e===rg||t===ig)return-1;if(t===rg||e===ig)return 1;{const n=fg(e),r=fg(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},og=function(e,t){return e===t?0:e<t?-1:1},ag=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yn(t))},lg=function(e){if("object"!==typeof e||null===e)return yn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=yn(t[r]),n+=":",n+=lg(e[t[r]]);return n+="}",n},cg=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ug(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const hg=function(e){Ft(!ng(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const dg=new RegExp("^-?(0*)\\d{1,10}$"),fg=function(e){if(dg.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},pg=function(e){try{e()}catch(CP){setTimeout(()=>{const t=CP.stack||"";throw tg("Exception was thrown by user callback.",t),CP},Math.floor(0))}},mg=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class gg{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Kr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){tg('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class vg{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?($m("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tg(e)}}class yg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yg.OWNER="owner";const _g="5",wg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bg="ac",xg="websocket",Eg="long_polling";class Cg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Tg(e,t,n){let r;if(Ft("string"===typeof t,"typeof type must == string"),Ft("object"===typeof n,"typeof params must == object"),t===xg)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Eg)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return ug(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Sg{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Kt(this.counters_)}}const kg={},Ig={};function Ng(e){const t=e.toString();return kg[t]||(kg[t]=new Sg),kg[t]}class Pg{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&pg(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Rg="start";class Ag{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jm(e),this.stats_=Ng(t),this.urlFn=e=>(this.appCheckToken&&(e[bg]=this.appCheckToken),Tg(t,Eg,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Pg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(hn()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Og(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Rg)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[Rg]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=_g,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[bg]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&wg.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ag.forceAllow_=!0}static forceDisallow(){Ag.forceDisallow_=!0}static isAvailable(){return!hn()&&(!!Ag.forceAllow_||!Ag.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=yn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=qt(t),r=cg(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(hn())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=yn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Og{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,hn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Hm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Og.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(CP){$m("frame writing exception"),CP.stack&&$m(CP.stack),$m(CP)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$m("No IE domain setting required")}catch(CP){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){hn()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{$m("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(CP){}},Math.floor(1))}}let Dg=null;"undefined"!==typeof MozWebSocket?Dg=MozWebSocket:"undefined"!==typeof WebSocket&&(Dg=WebSocket);class Mg{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jm(this.connId),this.stats_=Ng(t),this.connURL=Mg.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=_g,!hn()&&"undefined"!==typeof location&&location.hostname&&wg.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[bg]=r),i&&(s.p=i),Tg(e,xg,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bm.set("previous_websocket_failure",!0);try{let e;if(hn()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(_g,"/").concat(jm,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Dg(this.connURL,[],e)}catch(CP){this.log_("Error instantiating WebSocket.");const t=CP.message||CP.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Mg.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Dg&&!Mg.forceDisallow_}static previouslyFailed(){return Bm.isInMemoryStorage||!0===Bm.get("previous_websocket_failure")}markConnectionHealthy(){Bm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=vn(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ft(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=yn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=cg(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(CP){this.log_("Exception thrown from WebSocket.send():",CP.message||CP.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mg.responsesRequiredToBeHealthy=2,Mg.healthyTimeout=3e4;class Lg{static get ALL_TRANSPORTS(){return[Ag,Mg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Mg&&Mg.isAvailable();let n=t&&!Mg.previouslyFailed();if(e.webSocketOnly&&(t||tg("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Mg];else{const e=this.transports_=[];for(const t of Lg.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Lg.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lg.globalTransportInitialized_=!1;class jg{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jm("c:"+this.id+":"),this.transportManager_=new Lg(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=mg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ag("t",e),n=ag("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ag("t",e),n=ag("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ag("t",e);if("d"in e){const n=e.d;if("h"===t){const e=h({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Zm("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zm("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_g!==n&&tg("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),mg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Fg{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Ug{constructor(e){this.allowedEvents_=e,this.listeners_={},Ft(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ft(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Vg extends Ug{static getInstance(){return new Vg}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||ln()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ft("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class zg{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Bg(){return new zg("")}function qg(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Wg(e){return e.pieces_.length-e.pieceNum_}function Hg(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new zg(e.pieces_,t)}function Kg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Gg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Yg(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new zg(t,0)}function Qg(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof zg)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new zg(n,0)}function Xg(e){return e.pieceNum_>=e.pieces_.length}function $g(e,t){const n=qg(e),r=qg(t);if(null===n)return t;if(n===r)return $g(Hg(e),Hg(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Jg(e,t){const n=Gg(e,0),r=Gg(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=sg(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Zg(e,t){if(Wg(e)!==Wg(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ev(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Wg(e)>Wg(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class tv{constructor(e,t){this.errorPrefix_=t,this.parts_=Gg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=On(this.parts_[n]);nv(this)}}function nv(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rv(e))}function rv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class iv extends Ug{static getInstance(){return new iv}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return Ft("visible"===e,"Unknown event type: "+e),[this.visible_]}}const sv=1e3;class ov extends Fg{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=ov.nextPersistentConnectionId_++,this.log_=Jm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!hn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Vg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(yn(i)),Ft(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new en,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Ft(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ft(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,o=i.s;ov.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&wn(e,"w")){const n=bn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();tg("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=_n(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=_n(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ft(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Zm("Unrecognized action received from server: "+yn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ft(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ov.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Ft(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?$m("getToken() completed but was canceled"):($m("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new jg(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{tg(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(Zm){this.log_("Failed to get token: "+Zm),s||(this.repoInfo_.nodeAdmin&&tg(Zm),a())}}}interrupt(e){$m("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$m("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xn(this.interruptReasons_)&&(this.reconnectDelay_=sv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>lg(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new zg(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){$m("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){$m("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";hn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+jm.replace(/\./g,"-")]=1,ln()?e["framework.cordova"]=1:un()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vg.getInstance().currentlyOnline();return xn(this.interruptReasons_)&&e}}ov.nextPersistentConnectionId_=0,ov.nextConnectionId_=0;class av{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new av(e,t)}}class lv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new av(rg,e),r=new av(rg,t);return 0!==this.compare(n,r)}minPost(){return av.MIN}}let cv;class uv extends lv{static get __EMPTY_NODE(){return cv}static set __EMPTY_NODE(e){cv=e}compare(e,t){return sg(e.name,t.name)}isDefinedOn(e){throw Ut("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return av.MIN}maxPost(){return new av(ig,cv)}makePost(e,t){return Ft("string"===typeof e,"KeyIndex indexValue must always be a string."),new av(e,cv)}toString(){return".key"}}const hv=new uv;class dv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fv.RED,this.left=null!=r?r:pv.EMPTY_NODE,this.right=null!=i?i:pv.EMPTY_NODE}copy(e,t,n,r,i){return new fv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return pv.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return pv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fv.RED=!0,fv.BLACK=!1;class pv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pv.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new pv(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,fv.BLACK,null,null))}remove(e){return new pv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fv.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new dv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new dv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new dv(this.root_,null,this.comparator_,!0,e)}}function mv(e,t){return sg(e.name,t.name)}function gv(e,t){return sg(e,t)}let vv;pv.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new fv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yv=function(e){return"number"===typeof e?"number:"+hg(e):"string:"+e},_v=function(e){if(e.isLeafNode()){const t=e.val();Ft("string"===typeof t||"number"===typeof t||"object"===typeof t&&wn(t,".sv"),"Priority must be a string or number.")}else Ft(e===vv||e.isEmpty(),"priority of unexpected type.");Ft(e===vv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wv,bv,xv;class Ev{static set __childrenNodeConstructor(e){wv=e}static get __childrenNodeConstructor(){return wv}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ev.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ft(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),_v(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ev(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ev.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xg(e)?this:".priority"===qg(e)?this.priorityNode_:Ev.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ev.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=qg(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ft(".priority"!==n||1===Wg(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ev.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hg(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?hg(this.value_):this.value_,this.lazyHash_=Km(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ev.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ev.__childrenNodeConstructor?-1:(Ft(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ev.VALUE_TYPE_ORDER.indexOf(t),i=Ev.VALUE_TYPE_ORDER.indexOf(n);return Ft(r>=0,"Unknown leaf type: "+t),Ft(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ev.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Cv=new class extends lv{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?sg(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return av.MIN}maxPost(){return new av(ig,new Ev("[PRIORITY-POST]",xv))}makePost(e,t){const n=bv(e);return new av(t,new Ev("[PRIORITY-POST]",n))}toString(){return".priority"}},Tv=Math.log(2);class Sv{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Tv,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kv=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new fv(a,o.node,fv.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new fv(a,o.node,fv.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new fv(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,fv.BLACK):(a(r,fv.BLACK),a(r,fv.RED))}return s}(new Sv(e.length));return new pv(r||t,s)};let Iv;const Nv={};class Pv{static get Default(){return Ft(Nv&&Cv,"ChildrenNode.ts has not been loaded"),Iv=Iv||new Pv({".priority":Nv},{".priority":Cv}),Iv}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=bn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof pv?t:null}hasIndex(e){return wn(this.indexSet_,e.toString())}addIndex(e,t){Ft(e!==hv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(av.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?kv(n,e.getCompare()):Nv;const a=e.toString(),l=h({},this.indexSet_);l[a]=e;const c=h({},this.indexes_);return c[a]=s,new Pv(c,l)}addToIndexes(e,t){const n=En(this.indexes_,(n,r)=>{const i=bn(this.indexSet_,r);if(Ft(i,"Missing index implementation for "+r),n===Nv){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(av.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),kv(n,i.getCompare())}return Nv}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new av(e.name,r))),i.insert(e,e.node)}});return new Pv(n,this.indexSet_)}removeFromIndexes(e,t){const n=En(this.indexes_,n=>{if(n===Nv)return n;{const r=t.get(e.name);return r?n.remove(new av(e.name,r)):n}});return new Pv(n,this.indexSet_)}}let Rv;class Av{static get EMPTY_NODE(){return Rv||(Rv=new Av(new pv(gv),null,Pv.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&_v(this.priorityNode_),this.children_.isEmpty()&&Ft(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rv}updatePriority(e){return this.children_.isEmpty()?this:new Av(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Rv:t}}getChild(e){const t=qg(e);return null===t?this:this.getImmediateChild(t).getChild(Hg(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ft(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new av(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Rv:this.priorityNode_;return new Av(r,s,i)}}updateChild(e,t){const n=qg(e);if(null===n)return t;{Ft(".priority"!==qg(e)||1===Wg(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Hg(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Cv,(s,o)=>{t[s]=o.val(e),n++,i&&Av.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+yv(this.getPriority().val())+":"),this.forEachChild(Cv,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Km(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new av(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new av(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new av(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,av.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,av.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ov?-1:0}withIndex(e){if(e===hv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Av(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===hv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Cv),n=t.getIterator(Cv);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===hv?null:this.indexMap_.get(e.toString())}}Av.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ov=new class extends Av{constructor(){super(new pv(gv),Av.EMPTY_NODE,Pv.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Av.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(av,{MIN:{value:new av(rg,Av.EMPTY_NODE)},MAX:{value:new av(ig,Ov)}}),uv.__EMPTY_NODE=Av.EMPTY_NODE,Ev.__childrenNodeConstructor=Av,vv=Ov,function(e){xv=e}(Ov);function Dv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Av.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ft(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Ev(e,Dv(t))}if(e instanceof Array){let n=Av.EMPTY_NODE;return ug(e,(t,r)=>{if(wn(e,t)&&"."!==t.substring(0,1)){const e=Dv(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Dv(t))}{const n=[];let r=!1;if(ug(e,(e,t)=>{if("."!==e.substring(0,1)){const i=Dv(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new av(e,i)))}}),0===n.length)return Av.EMPTY_NODE;const i=kv(n,mv,e=>e.name,gv);if(r){const e=kv(n,Cv.getCompare());return new Av(i,Dv(t),new Pv({".priority":e},{".priority":Cv}))}return new Av(i,Dv(t),Pv.Default)}}!function(e){bv=e}(Dv);class Mv extends lv{constructor(e){super(),this.indexPath_=e,Ft(!Xg(e)&&".priority"!==qg(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?sg(e.name,t.name):i}makePost(e,t){const n=Dv(e),r=Av.EMPTY_NODE.updateChild(this.indexPath_,n);return new av(t,r)}maxPost(){const e=Av.EMPTY_NODE.updateChild(this.indexPath_,Ov);return new av(ig,e)}toString(){return Gg(this.indexPath_,0).join("/")}}const Lv=new class extends lv{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?sg(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return av.MIN}maxPost(){return av.MAX}makePost(e,t){const n=Dv(e);return new av(t,n)}toString(){return".value"}};function jv(e){return{type:"value",snapshotNode:e}}function Fv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Uv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class zv{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Ft(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Uv(t,o)):Ft(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Fv(t,n)):s.trackChildChange(Vv(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Cv,(e,r)=>{t.hasChild(e)||n.trackChildChange(Uv(e,r))}),t.isLeafNode()||t.forEachChild(Cv,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Vv(t,r,i))}else n.trackChildChange(Fv(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Av.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bv{constructor(e){this.indexedFilter_=new zv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bv.getStartPost_(e),this.endPost_=Bv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new av(t,n))||(n=Av.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Av.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Av.EMPTY_NODE);const i=this;return t.forEachChild(Cv,(e,t)=>{i.matches(new av(e,t))||(r=r.updateImmediateChild(e,Av.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class qv{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Bv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new av(t,n))||(n=Av.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Av.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Av.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Av.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Av.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;Ft(o.numChildren()===this.limit_,"");const a=new av(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Vv(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Uv(t,e));const n=o.updateImmediateChild(t,Av.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Fv(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Uv(l.name,l.node)),i.trackChildChange(Fv(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Av.EMPTY_NODE)):e}}class Wv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cv}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ft(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ft(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rg}hasEnd(){return this.endSet_}getIndexEndValue(){return Ft(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ft(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ig}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ft(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cv}copy(){const e=new Wv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Hv(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Cv?n="$priority":e.index_===Lv?n="$value":e.index_===hv?n="$key":(Ft(e.index_ instanceof Mv,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=yn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=yn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+yn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=yn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+yn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Kv(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Cv&&(t.i=e.index_.toString()),t}class Gv extends Fg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ft(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Jm("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Gv.getListenId_(e,n),o={};this.listens_[s]=o;const a=Hv(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),bn(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Gv.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Hv(e._queryParams),n=e._path.toString(),r=new en;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sn(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=vn(a.responseText)}catch(CP){tg("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&tg("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class Yv{constructor(){this.rootNode_=Av.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Qv(){return{value:null,children:new Map}}function Xv(e,t,n){if(Xg(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=qg(t);e.children.has(r)||e.children.set(r,Qv());Xv(e.children.get(r),t=Hg(t),n)}}function $v(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{$v(r,new zg(t.toString()+"/"+e),n)})}class Jv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=h({},e);return this.last_&&ug(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Zv{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Jv(e);const n=1e4+2e4*Math.random();mg(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;ug(e,(e,r)=>{r>0&&wn(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),mg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ey;function ty(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ey||(ey={}));class ny{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ey.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Xg(this.path)){if(null!=this.affectedTree.value)return Ft(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new zg(e));return new ny(Bg(),t,this.revert)}}return Ft(qg(this.path)===e,"operationForChild called for unrelated child."),new ny(Hg(this.path),this.affectedTree,this.revert)}}class ry{constructor(e,t){this.source=e,this.path=t,this.type=ey.LISTEN_COMPLETE}operationForChild(e){return Xg(this.path)?new ry(this.source,Bg()):new ry(this.source,Hg(this.path))}}class iy{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ey.OVERWRITE}operationForChild(e){return Xg(this.path)?new iy(this.source,Bg(),this.snap.getImmediateChild(e)):new iy(this.source,Hg(this.path),this.snap)}}class sy{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ey.MERGE}operationForChild(e){if(Xg(this.path)){const t=this.children.subtree(new zg(e));return t.isEmpty()?null:t.value?new iy(this.source,Bg(),t.value):new sy(this.source,Bg(),t)}return Ft(qg(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sy(this.source,Hg(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class oy{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xg(e))return this.isFullyInitialized()&&!this.filtered_;const t=qg(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ay{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ly(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ut("Should only compare child_ events.");const r=new av(t.childName,t.snapshotNode),i=new av(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function cy(e,t){return{eventCache:e,serverCache:t}}function uy(e,t,n,r){return cy(new oy(t,n,r),e.serverCache)}function hy(e,t,n,r){return cy(e.eventCache,new oy(t,n,r))}function dy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let py;class my{static fromObject(e){let t=new my(null);return ug(e,(e,n)=>{t=t.set(new zg(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(py||(py=new pv(og)),py);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Bg(),value:this.value};if(Xg(e))return null;{const n=qg(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Hg(e),t);if(null!=i){return{path:Qg(new zg(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xg(e))return this;{const t=qg(e),n=this.children.get(t);return null!==n?n.subtree(Hg(e)):new my(null)}}set(e,t){if(Xg(e))return new my(t,this.children);{const n=qg(e),r=(this.children.get(n)||new my(null)).set(Hg(e),t),i=this.children.insert(n,r);return new my(this.value,i)}}remove(e){if(Xg(e))return this.children.isEmpty()?new my(null):new my(null,this.children);{const t=qg(e),n=this.children.get(t);if(n){const r=n.remove(Hg(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new my(null):new my(this.value,i)}return this}}get(e){if(Xg(e))return this.value;{const t=qg(e),n=this.children.get(t);return n?n.get(Hg(e)):null}}setTree(e,t){if(Xg(e))return t;{const n=qg(e),r=(this.children.get(n)||new my(null)).setTree(Hg(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new my(this.value,i)}}fold(e){return this.fold_(Bg(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Qg(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Bg(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Xg(e))return null;{const r=qg(e),i=this.children.get(r);return i?i.findOnPath_(Hg(e),Qg(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Bg(),t)}foreachOnPath_(e,t,n){if(Xg(e))return this;{this.value&&n(t,this.value);const r=qg(e),i=this.children.get(r);return i?i.foreachOnPath_(Hg(e),Qg(t,r),n):new my(null)}}foreach(e){this.foreach_(Bg(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Qg(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class gy{constructor(e){this.writeTree_=e}static empty(){return new gy(new my(null))}}function vy(e,t,n){if(Xg(t))return new gy(new my(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=$g(i,t);return s=s.updateChild(o,n),new gy(e.writeTree_.set(i,s))}{const r=new my(n),i=e.writeTree_.setTree(t,r);return new gy(i)}}}function yy(e,t,n){let r=e;return ug(n,(e,n)=>{r=vy(r,Qg(t,e),n)}),r}function _y(e,t){if(Xg(t))return gy.empty();{const n=e.writeTree_.setTree(t,new my(null));return new gy(n)}}function wy(e,t){return null!=by(e,t)}function by(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild($g(n.path,t)):null}function xy(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Cv,(e,n)=>{t.push(new av(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new av(e,n.value))}),t}function Ey(e,t){if(Xg(t))return e;{const n=by(e,t);return new gy(null!=n?new my(n):e.writeTree_.subtree(t))}}function Cy(e){return e.writeTree_.isEmpty()}function Ty(e,t){return Sy(Bg(),e.writeTree_,t)}function Sy(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(Ft(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Sy(Qg(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Qg(e,".priority"),r)),n}}function ky(e,t){return Vy(t,e)}function Iy(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Ft(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Ny(t,r.path)?i=!1:ev(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=Ry(e.allWrites,Py,Bg()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=_y(e.visibleWrites,r.path);else{ug(r.children,t=>{e.visibleWrites=_y(e.visibleWrites,Qg(r.path,t))})}return!0}return!1}function Ny(e,t){if(e.snap)return ev(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ev(Qg(e.path,n),t))return!0;return!1}function Py(e){return e.visible}function Ry(e,t,n){let r=gy.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)ev(n,e)?(t=$g(n,e),r=vy(r,t,s.snap)):ev(e,n)&&(t=$g(e,n),r=vy(r,Bg(),s.snap.getChild(t)));else{if(!s.children)throw Ut("WriteRecord should have .snap or .children");if(ev(n,e))t=$g(n,e),r=yy(r,t,s.children);else if(ev(e,n))if(t=$g(e,n),Xg(t))r=yy(r,Bg(),s.children);else{const e=bn(s.children,qg(t));if(e){const n=e.getChild(Hg(t));r=vy(r,Bg(),n)}}}}}return r}function Ay(e,t,n,r,i){if(r||i){const s=Ey(e.visibleWrites,t);if(!i&&Cy(s))return n;if(i||null!=n||wy(s,Bg())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ev(e.path,t)||ev(t,e.path))};return Ty(Ry(e.allWrites,s,t),n||Av.EMPTY_NODE)}return null}{const r=by(e.visibleWrites,t);if(null!=r)return r;{const r=Ey(e.visibleWrites,t);if(Cy(r))return n;if(null!=n||wy(r,Bg())){return Ty(r,n||Av.EMPTY_NODE)}return null}}}function Oy(e,t,n,r){return Ay(e.writeTree,e.treePath,t,n,r)}function Dy(e,t){return function(e,t,n){let r=Av.EMPTY_NODE;const i=by(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Cv,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Ey(e.visibleWrites,t);return n.forEachChild(Cv,(e,t)=>{const n=Ty(Ey(i,new zg(e)),t);r=r.updateImmediateChild(e,n)}),xy(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return xy(Ey(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function My(e,t,n,r){return function(e,t,n,r,i){Ft(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qg(t,n);if(wy(e.visibleWrites,s))return null;{const t=Ey(e.visibleWrites,s);return Cy(t)?i.getChild(n):Ty(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ly(e,t){return function(e,t){return by(e.visibleWrites,t)}(e.writeTree,Qg(e.treePath,t))}function jy(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=Ey(e.visibleWrites,t),c=by(l,Bg());if(null!=c)a=c;else{if(null==n)return[];a=Ty(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Fy(e,t,n){return function(e,t,n,r){const i=Qg(t,n),s=by(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Ty(Ey(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Uy(e,t){return Vy(Qg(e.treePath,t),e.writeTree)}function Vy(e,t){return{treePath:e,writeTree:t}}class zy{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ft("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ft(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Vv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Uv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Fv(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ut("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Vv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const By=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class qy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new oy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fy(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fy(this.viewCache_),i=jy(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Wy(e,t,n,r,i){const s=new zy;let o,a;if(n.type===ey.OVERWRITE){const l=n;l.source.fromUser?o=Gy(e,t,l.path,l.snap,r,i,s):(Ft(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Xg(l.path),o=Ky(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===ey.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=Qg(n,r);Yy(t,qg(c))&&(a=Gy(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=Qg(n,r);Yy(t,qg(c))||(a=Gy(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):(Ft(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Xy(e,t,l.path,l.children,r,i,a,s))}else if(n.type===ey.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Ly(r,n))return t;{const a=new qy(r,t,i),l=t.eventCache.getNode();let c;if(Xg(n)||".priority"===qg(n)){let n;if(t.serverCache.isFullyInitialized())n=Oy(r,fy(t));else{const e=t.serverCache.getNode();Ft(e instanceof Av,"serverChildren would be complete if leaf node"),n=Dy(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=qg(n);let u=Fy(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Hg(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Av.EMPTY_NODE,Hg(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Oy(r,fy(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Ly(r,Bg()),uy(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Ly(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Xg(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ky(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Xg(n)){let r=new my(null);return l.getNode().forEachChild(hv,(e,t)=>{r=r.set(new zg(e),t)}),Xy(e,t,n,r,i,s,a,o)}return t}{let c=new my(null);return r.foreach((e,t)=>{const r=Qg(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Xy(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==ey.LISTEN_COMPLETE)throw Ut("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=hy(t,s.getNode(),s.isFullyInitialized()||Xg(n),s.isFiltered());return Hy(e,o,n,r,By,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(jv(dy(t)))}}(t,o,l),{viewCache:o,changes:l}}function Hy(e,t,n,r,i,s){const o=t.eventCache;if(null!=Ly(r,n))return t;{let a,l;if(Xg(n))if(Ft(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=fy(t),i=Dy(r,n instanceof Av?n:Av.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Oy(r,fy(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=qg(n);if(".priority"===c){Ft(1===Wg(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=My(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=Hg(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=My(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Fy(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return uy(t,a,o.isFullyInitialized()||Xg(n),e.filter.filtersNodes())}}function Ky(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Xg(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=qg(n);if(!l.isCompleteForPath(n)&&Wg(n)>1)return t;const i=Hg(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,By,null)}const h=hy(t,c,l.isFullyInitialized()||Xg(n),u.filtersNodes());return Hy(e,h,n,i,new qy(i,h,s),a)}function Gy(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new qy(i,t,s);if(Xg(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=uy(t,c,!0,e.filter.filtersNodes());else{const i=qg(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=uy(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=Hg(n),c=a.getNode().getImmediateChild(i);let h;if(Xg(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Kg(s)&&e.getChild(Yg(s)).isEmpty()?e:e.updateChild(s,r):Av.EMPTY_NODE}if(c.equals(h))l=t;else{l=uy(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Yy(e,t){return e.eventCache.isCompleteForChild(t)}function Qy(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Xy(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Xg(n)?r:new my(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Qy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ky(e,c,new zg(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Qy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ky(e,c,new zg(n),l,i,s,o,a)}}),c}class $y{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new zv(n.getIndex()),i=(s=n).loadsAllData()?new zv(s.getIndex()):s.hasLimit()?new qv(s):new Bv(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Av.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Av.EMPTY_NODE,a.getNode(),null),u=new oy(l,o.isFullyInitialized(),r.filtersNodes()),h=new oy(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=cy(h,u),this.eventGenerator_=new ay(this.query_)}get query(){return this.query_}}function Jy(e,t){const n=fy(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xg(t)&&!n.getImmediateChild(qg(t)).isEmpty())?n.getChild(t):null}function Zy(e){return 0===e.eventRegistrations_.length}function e_(e,t,n){const r=[];if(n){Ft(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function t_(e,t,n,r){t.type===ey.MERGE&&null!==t.source.queryId&&(Ft(fy(e.viewCache_),"We should always have a full cache before handling merges"),Ft(dy(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Wy(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,Ft(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Ft(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Ft(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,n_(e,s.changes,s.viewCache.eventCache.getNode(),null)}function n_(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),ly(e,i,"child_removed",t,r,n),ly(e,i,"child_added",t,r,n),ly(e,i,"child_moved",s,r,n),ly(e,i,"child_changed",t,r,n),ly(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let r_,i_;class s_{constructor(){this.views=new Map}}function o_(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Ft(null!=s,"SyncTree gave us an op for an invalid query."),t_(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(t_(s,t,n,r));return i}}function a_(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Oy(n,i?r:null),s=!1;e?s=!0:r instanceof Av?(e=Dy(n,r),s=!1):(e=Av.EMPTY_NODE,s=!1);const o=cy(new oy(e,s,!1),new oy(r,i,!1));return new $y(t,o)}return o}function l_(e,t,n,r,i,s){const o=a_(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Cv,(e,t)=>{r.push(Fv(e,t))});return n.isFullyInitialized()&&r.push(jv(n.getNode())),n_(e,r,n.getNode(),t)}(o,n)}function c_(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=p_(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(e_(c,n,r)),Zy(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(e_(t,n,r)),Zy(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!p_(e)&&s.push(new(Ft(r_,"Reference.ts has not been loaded"),r_)(t._repo,t._path)),{removed:s,events:o}}function u_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function h_(e,t){let n=null;for(const r of e.views.values())n=n||Jy(r,t);return n}function d_(e,t){if(t._queryParams.loadsAllData())return m_(e);{const n=t._queryIdentifier;return e.views.get(n)}}function f_(e,t){return null!=d_(e,t)}function p_(e){return null!=m_(e)}function m_(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let g_=1;class v_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new my(null),this.pendingWriteTree_={visibleWrites:gy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function y_(e,t,n,r,i){return function(e,t,n,r,i){Ft(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=vy(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?S_(e,new iy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function __(e,t,n,r){!function(e,t,n,r){Ft(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=yy(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=my.fromObject(n);return S_(e,new sy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function w_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Iy(e.pendingWriteTree_,t)){let t=new my(null);return null!=r.snap?t=t.set(Bg(),!0):ug(r.children,e=>{t=t.set(new zg(e),!0)}),S_(e,new ny(r.path,t,n))}return[]}function b_(e,t,n){return S_(e,new iy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function x_(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||f_(o,t))){const l=c_(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>p_(t));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&p_(t)){return[m_(t)]}{let e=[];return t&&(e=u_(t)),ug(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=N_(e,r);e.listenProvider_.startListening(M_(i),P_(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(M_(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(R_(t));e.listenProvider_.stopListening(M_(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=R_(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function E_(e,t,n,r){const i=A_(e,r);if(null!=i){const r=O_(i),s=r.path,o=r.queryId,a=$g(s,t);return D_(e,s,new iy(ty(o),a,n))}return[]}function C_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=$g(e,i);s=s||h_(t,n),o=o||p_(t)});let a,l=e.syncPointTree_.get(i);if(l?(o=o||p_(l),s=s||h_(l,Bg())):(l=new s_,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=Av.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=h_(t,Bg());n&&(s=s.updateImmediateChild(e,n))})}const c=f_(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=R_(t);Ft(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=g_++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=l_(l,t,n,ky(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=d_(l,t);u=u.concat(function(e,t,n){const r=t._path,i=P_(e,t),s=N_(e,n),o=e.listenProvider_.startListening(M_(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ft(!p_(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Xg(e)&&t&&p_(t))return[m_(t).query];{let e=[];return t&&(e=e.concat(u_(t).map(e=>e.query))),ug(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(M_(r),P_(e,r))}}return o}(e,t,n))}return u}function T_(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=h_(n,$g(e,t));if(r)return r});return Ay(r,t,i,n,!0)}function S_(e,t){return k_(t,e.syncPointTree_,null,ky(e.pendingWriteTree_,Bg()))}function k_(e,t,n,r){if(Xg(e.path))return I_(e,t,n,r);{const i=t.get(Bg());null==n&&null!=i&&(n=h_(i,Bg()));let s=[];const o=qg(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Uy(r,o);s=s.concat(k_(a,l,e,t))}return i&&(s=s.concat(o_(i,e,r,n))),s}}function I_(e,t,n,r){const i=t.get(Bg());null==n&&null!=i&&(n=h_(i,Bg()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Uy(r,t),l=e.operationForChild(t);l&&(s=s.concat(I_(l,i,o,a)))}),i&&(s=s.concat(o_(i,e,r,n))),s}function N_(e,t){const n=t.query,r=P_(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Av.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=A_(e,n);if(r){const n=O_(r),i=n.path,s=n.queryId,o=$g(i,t);return D_(e,i,new ry(ty(s),o))}return[]}(e,n._path,r):function(e,t){return S_(e,new ry({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return x_(e,n,null,r)}}}}function P_(e,t){const n=R_(t);return e.queryToTagMap.get(n)}function R_(e){return e._path.toString()+"$"+e._queryIdentifier}function A_(e,t){return e.tagToQueryMap.get(t)}function O_(e){const t=e.indexOf("$");return Ft(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new zg(e.substr(0,t))}}function D_(e,t,n){const r=e.syncPointTree_.get(t);Ft(r,"Missing sync point for query tag that we're tracking");return o_(r,n,ky(e.pendingWriteTree_,t),null)}function M_(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ft(i_,"Reference.ts has not been loaded"),i_)(e._repo,e._path):e}class L_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new L_(t)}node(){return this.node_}}class j_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qg(this.path_,e);return new j_(this.syncTree_,t)}node(){return T_(this.syncTree_,this.path_)}}const F_=function(e,t,n){return e&&"object"===typeof e?(Ft(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?U_(e[".sv"],t,n):"object"===typeof e[".sv"]?V_(e[".sv"],t):void Ft(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},U_=function(e,t,n){if("timestamp"===e)return n.timestamp;Ft(!1,"Unexpected server value: "+e)},V_=function(e,t,n){e.hasOwnProperty("increment")||Ft(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ft(!1,"Unexpected increment value: "+r);const i=t.node();if(Ft(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},z_=function(e,t,n,r){return q_(t,new j_(n,e),r)},B_=function(e,t,n){return q_(e,new L_(t),n)};function q_(e,t,n){const r=e.getPriority().val(),i=F_(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=F_(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Ev(s,Dv(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Ev(i))),r.forEachChild(Cv,(e,r)=>{const i=q_(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class W_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function H_(e,t){let n=t instanceof zg?t:new zg(t),r=e,i=qg(n);for(;null!==i;){const e=bn(r.node.children,i)||{children:{},childCount:0};r=new W_(i,r,e),n=Hg(n),i=qg(n)}return r}function K_(e){return e.node.value}function G_(e,t){e.node.value=t,J_(e)}function Y_(e){return e.node.childCount>0}function Q_(e,t){ug(e.node.children,(n,r)=>{t(new W_(n,e,r))})}function X_(e,t,n,r){n&&!r&&t(e),Q_(e,e=>{X_(e,t,!0,r)}),n&&r&&t(e)}function $_(e){return new zg(null===e.parent?e.name:$_(e.parent)+"/"+e.name)}function J_(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===K_(e)&&!Y_(e)}(n),i=wn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,J_(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,J_(e))}(e.parent,e.name,e)}const Z_=/[\[\].#$\/\u0000-\u001F\u007F]/,ew=/[\[\].#$\u0000-\u001F\u007F]/,tw=10485760,nw=function(e){return"string"===typeof e&&0!==e.length&&!Z_.test(e)},rw=function(e){return"string"===typeof e&&0!==e.length&&!ew.test(e)},iw=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!ng(e)||e&&"object"===typeof e&&wn(e,".sv")},sw=function(e,t,n,r){r&&void 0===t||ow(An(e,"value"),t,n)},ow=function(e,t,n){const r=n instanceof zg?new tv(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+rv(r));if("function"===typeof t)throw new Error(e+"contains a function "+rv(r)+" with contents = "+t.toString());if(ng(t))throw new Error(e+"contains "+t.toString()+" "+rv(r));if("string"===typeof t&&t.length>tw/3&&On(t)>tw)throw new Error(e+"contains a string greater than "+tw+" utf8 bytes "+rv(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(ug(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!nw(t)))throw new Error(e+" contains an invalid key ("+t+") "+rv(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=On(t),nv(e)}(r,t),ow(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=On(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+rv(r)+" in addition to actual children.")}},aw=function(e,t,n,r){if(r&&void 0===t)return;const i=An(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];ug(t,(e,t)=>{const r=new zg(e);if(ow(i,t,Qg(n,r)),".priority"===Kg(r)&&!iw(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Gg(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!nw(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Jg);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&ev(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},lw=function(e,t,n,r){if((!r||void 0!==n)&&!rw(n))throw new Error(An(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},cw=function(e,t){if(".info"===qg(t))throw new Error(e+" failed = Can't modify data under /.info/")},uw=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!nw(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),rw(e)}(n))throw new Error(An(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class hw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dw(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Zg(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function fw(e,t,n){dw(e,n),mw(e,e=>Zg(e,t))}function pw(e,t,n){dw(e,n),mw(e,e=>ev(e,t)||ev(t,e))}function mw(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(gw(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function gw(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ym&&$m("event: "+n.toString()),pg(r)}}}const vw="repo_interrupt";class yw{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qv(),this.transactionQueueTree_=new W_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _w(e,t,n){if(e.stats_=Ng(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Gv(e.repoInfo_,(t,n,r,i)=>{xw(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ew(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yn(n)}catch(CP){throw new Error("Invalid authOverride provided: "+CP)}}e.persistentConnection_=new ov(e.repoInfo_,t,(t,n,r,i)=>{xw(e,t,n,r,i)},t=>{Ew(e,t)},t=>{!function(e,t){ug(t,(t,n)=>{Cw(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return Ig[n]||(Ig[n]=t()),Ig[n]}(e.repoInfo_,()=>new Zv(e.stats_,e.server_)),e.infoData_=new Yv,e.infoSyncTree_=new v_({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=b_(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),Cw(e,"connected",!1),e.serverSyncTree_=new v_({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);pw(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ww(e){const t=e.infoData_.getNode(new zg(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function bw(e){return(t=(t={timestamp:ww(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function xw(e,t,n,r,i){e.dataUpdateCount++;const s=new zg(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=En(n,e=>Dv(e));o=function(e,t,n,r){const i=A_(e,r);if(i){const r=O_(i),s=r.path,o=r.queryId,a=$g(s,t),l=my.fromObject(n);return D_(e,s,new sy(ty(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Dv(n);o=E_(e.serverSyncTree_,s,t,i)}else if(r){const t=En(n,e=>Dv(e));o=function(e,t,n){const r=my.fromObject(n);return S_(e,new sy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Dv(n);o=b_(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Ow(e,s)),pw(e.eventQueue_,a,o)}function Ew(e,t){Cw(e,"connected",t),!1===t&&function(e){Nw(e,"onDisconnectEvents");const t=bw(e),n=Qv();$v(e.onDisconnect_,Bg(),(r,i)=>{const s=z_(r,i,e.serverSyncTree_,t);Xv(n,r,s)});let r=[];$v(n,Bg(),(t,n)=>{r=r.concat(b_(e.serverSyncTree_,t,n));const i=Fw(e,t);Ow(e,i)}),e.onDisconnect_=Qv(),pw(e.eventQueue_,Bg(),r)}(e)}function Cw(e,t,n){const r=new zg("/.info/"+t),i=Dv(n);e.infoData_.updateSnapshot(r,i);const s=b_(e.infoSyncTree_,r,i);pw(e.eventQueue_,r,s)}function Tw(e){return e.nextWriteId_++}function Sw(e,t,n,r,i){Nw(e,"set",{path:t.toString(),value:n,priority:r});const s=bw(e),o=Dv(n,r),a=T_(e.serverSyncTree_,t),l=B_(o,a,s),c=Tw(e),u=y_(e.serverSyncTree_,t,l,c,!0);dw(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||tg("set at "+t+" failed: "+n);const o=w_(e.serverSyncTree_,c,!s);pw(e.eventQueue_,t,o),Pw(e,i,n,r)});const h=Fw(e,t);Ow(e,h),pw(e.eventQueue_,h,[])}function kw(e,t,n){let r;r=".info"===qg(t._path)?x_(e.infoSyncTree_,t,n):x_(e.serverSyncTree_,t,n),fw(e.eventQueue_,t._path,r)}function Iw(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vw)}function Nw(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];$m(t,...r)}function Pw(e,t,n,r){t&&pg(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function Rw(e,t,n){return T_(e.serverSyncTree_,t,n)||Av.EMPTY_NODE}function Aw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||jw(e,t),K_(t)){const n=Mw(e,t);Ft(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Rw(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ft(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=$g(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Nw(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(w_(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();jw(e,H_(e.transactionQueueTree_,t)),Aw(e,e.transactionQueueTree_),pw(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)pg(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{tg("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ow(e,t)}},o)}(e,$_(t),n)}else Y_(t)&&Q_(t,t=>{Aw(e,t)})}function Ow(e,t){const n=Dw(e,t),r=$_(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const s=t[a],l=$g(n,s.path);let c,u=!1;if(Ft(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(w_(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(w_(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Rw(e,s.path,o);s.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){ow("transaction failed: Data returned ",r,s.path);let t=Dv(r);"object"===typeof r&&null!=r&&wn(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=bw(e),c=B_(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=Tw(e),o.splice(o.indexOf(a),1),i=i.concat(y_(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(w_(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(w_(e.serverSyncTree_,s.currentWriteId,!0))}pw(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}jw(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)pg(r[a]);Aw(e,e.transactionQueueTree_)}(e,Mw(e,n),r),r}function Dw(e,t){let n,r=e.transactionQueueTree_;for(n=qg(t);null!==n&&void 0===K_(r);)r=H_(r,n),n=qg(t=Hg(t));return r}function Mw(e,t){const n=[];return Lw(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Lw(e,t,n){const r=K_(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Q_(t,t=>{Lw(e,t,n)})}function jw(e,t){const n=K_(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,G_(t,n.length>0?n:void 0)}Q_(t,t=>{jw(e,t)})}function Fw(e,t){const n=$_(Dw(e,t)),r=H_(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Uw(e,t)}),Uw(e,r),X_(r,t=>{Uw(e,t)}),n}function Uw(e,t){const n=K_(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ft(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Ft(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(w_(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?G_(t,void 0):n.length=s+1,pw(e.eventQueue_,$_(t),i);for(let e=0;e<r.length;e++)pg(r[e])}}const Vw=function(e,t){const n=zw(e),r=n.namespace;"firebase.com"===n.domain&&eg(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||eg("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tg("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Cg(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new zg(n.pathString)}},zw=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(CP){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tg("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Bw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qw=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Bw.charAt(n%64),n=Math.floor(n/64);Ft(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Bw.charAt(t[i]);return Ft(20===o.length,"nextPushId: Length should be 20."),o}}();class Ww{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yn(this.snapshot.exportVal())}}class Hw{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Kw{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ft(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Gw{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Xg(this._path)?null:Kg(this._path)}get ref(){return new Yw(this._repo,this._path)}get _queryIdentifier(){const e=Kv(this._queryParams),t=lg(e);return"{}"===t?"default":t}get _queryObject(){return Kv(this._queryParams)}isEqual(e){if(!((e=Dn(e))instanceof Gw))return!1;const t=this._repo===e._repo,n=Zg(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Yw extends Gw{constructor(e,t){super(e,t,new Wv,!1)}get parent(){const e=Yg(this._path);return null===e?null:new Yw(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qw{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new zg(e),n=$w(this.ref,e);return new Qw(this._node.getChild(t),n,Cv)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Qw(n,$w(this.ref,t),Cv)))}hasChild(e){const t=new zg(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xw(e,t){return(e=Dn(e))._checkNotDeleted("ref"),void 0!==t?$w(e._root,t):e._root}function $w(e,t){var n,r,i,s;return null===qg((e=Dn(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lw(n,r,i,s)):lw("child","path",t,!1),new Yw(e._repo,Qg(e._path,t))}function Jw(e){return cw("remove",e._path),Zw(e,null)}function Zw(e,t){e=Dn(e),cw("set",e._path),sw("set",t,e._path,!1);const n=new en;return Sw(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function eb(e,t){aw("update",t,e._path,!1);const n=new en;return function(e,t,n,r){Nw(e,"update",{path:t.toString(),value:n});let i=!0;const s=bw(e),o={};if(ug(n,(n,r)=>{i=!1,o[n]=z_(Qg(t,n),Dv(r),e.serverSyncTree_,s)}),i)$m("update() called with empty data.  Don't do anything."),Pw(0,r,"ok",void 0);else{const i=Tw(e),s=__(e.serverSyncTree_,t,o,i);dw(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||tg("update at "+t+" failed: "+n);const a=w_(e.serverSyncTree_,i,!o),l=a.length>0?Ow(e,t):t;pw(e.eventQueue_,l,a),Pw(0,r,n,s)}),ug(n,n=>{const r=Fw(e,Qg(t,n));Ow(e,r)}),pw(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class tb{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ww("value",this,new Qw(e.snapshotNode,new Yw(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Hw(this,e,t):null}matches(e){return e instanceof tb&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class nb{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Hw(this,e,t):null}createEvent(e,t){Ft(null!=e.childName,"Child events should have a childName.");const n=$w(new Yw(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ww(e.type,this,new Qw(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof nb&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function rb(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{kw(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Kw(n,s||void 0),a="value"===t?new tb(o):new nb(t,o);return function(e,t,n){let r;r=".info"===qg(t._path)?C_(e.infoSyncTree_,t,n):C_(e.serverSyncTree_,t,n),fw(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>kw(e._repo,e,a)}function ib(e,t,n,r){return rb(e,"value",t,n,r)}!function(e){Ft(!r_,"__referenceConstructor has already been defined"),r_=e}(Yw),function(e){Ft(!i_,"__referenceConstructor has already been defined"),i_=e}(Yw);const sb={};let ob=!1;function ab(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||eg("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$m("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=Vw(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=Vw(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new yg(yg.OWNER):new vg(e.name,e.options,t);uw("Invalid Firebase Database URL",l),Xg(l.path)||eg("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=sb[t.name];i||(i={},sb[t.name]=i);let s=i[e.toURLString()];s&&eg("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new yw(e,ob,n,r),i[e.toURLString()]=s,s}(c,e,u,new gg(e,n));return new lb(h,e)}class lb{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_w(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yw(this._repo,Bg())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=sb[t];n&&n[e.key]===e||eg("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Iw(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&eg("Cannot call "+e+" on a deleted database.")}}ov.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ov.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Fm(Qr),Wr(new Mn("database",(e,t)=>{let{instanceIdentifier:n}=t;return ab(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Jr(Mm,Lm,e),Jr(Mm,Lm,"esm2020")}();const cb=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=function(e,t,n,r){return Dn(e).onAuthStateChanged(t,n,r)}(Am,e=>{t(e),i(!1)});return()=>e()},[]);const s=async e=>{if(!e)return;const t=Kp(Om,"users",e.uid);await function(e,t,n){e=Fl(e,Wp);const r=Fl(e.firestore,Xp),i=Cm(e.converter,t,n);return Pm(r,[um(cm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Gh.none())])}(t,{displayName:e.displayName,email:e.email,photoURL:e.photoURL,lastLogin:new hm("serverTimestamp")},{merge:!0})};return{user:e,loading:n,signInWithGoogle:async()=>{i(!0);try{const e=new no,t=await Xo(Am,e);await s(t.user)}catch(Zm){console.error("Error durante el inicio de sesi\xf3n con Google:",Zm)}finally{i(!1)}},logout:async()=>{try{await function(e){return Dn(e).signOut()}(Am)}catch(Zm){console.error("Error al cerrar sesi\xf3n:",Zm)}}}};var ub=n(414);const hb=(0,r.createContext)(),db=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(()=>{const e=localStorage.getItem("theme");return e||"light"});(0,r.useEffect)(()=>{const e=window.document.documentElement;e.classList.remove("dark"===n?"light":"dark"),e.classList.add(n),localStorage.setItem("theme",n)},[n]);return(0,ub.jsx)(hb.Provider,{value:{theme:n,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")}},children:t})},fb=()=>{const e=(0,r.useContext)(hb);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},pb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.59-1.591M3.75 12H6m.386-6.364L7.926 7.23M12 12a6 6 0 100-12 6 6 0 000 12z"})})),mb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})})),gb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})})),vb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ub.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})),yb=()=>{const{user:e,logout:t}=cb(),{theme:n,toggleTheme:i}=fb(),s=Te(),[o,a]=(0,r.useState)(!1),l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e?(0,ub.jsxs)("div",{className:"relative",ref:l,children:[(0,ub.jsxs)("button",{onClick:()=>a(!o),className:"flex items-center space-x-2 rounded-full hover:bg-surface-container-high transition-colors p-1",children:[(0,ub.jsx)("img",{src:e.photoURL||"https://ui-avatars.com/api/?name=".concat(e.displayName||e.email,"&background=random"),alt:"Avatar",className:"h-10 w-10 rounded-full object-cover border-2 border-outline"}),(0,ub.jsx)(vb,{className:"h-5 w-5 text-on-surface-variant transition-transform duration-200 ".concat(o?"rotate-180":"")})]}),o&&(0,ub.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-surface-container rounded-lg shadow-xl z-20 animate-fade-in-fast origin-top-right",children:(0,ub.jsxs)("div",{className:"p-2",children:[(0,ub.jsxs)("div",{className:"px-2 py-2 border-b border-outline/50",children:[(0,ub.jsx)("p",{className:"font-bold text-on-surface text-sm truncate",children:e.displayName||"Usuario"}),(0,ub.jsx)("p",{className:"text-on-surface-variant text-xs truncate",children:e.email})]}),(0,ub.jsxs)("nav",{className:"mt-2",children:[(0,ub.jsx)(kt,{to:"/my-items",onClick:()=>a(!1),className:"block px-3 py-2 text-on-surface-variant hover:bg-surface-container-high rounded-md text-sm font-medium",children:"Mis Art\xedculos"}),(0,ub.jsx)(kt,{to:"/favorites",onClick:()=>a(!1),className:"block px-3 py-2 text-on-surface-variant hover:bg-surface-container-high rounded-md text-sm font-medium",children:"Mis Favoritos"}),(0,ub.jsx)(kt,{to:"/profile",onClick:()=>a(!1),className:"block px-3 py-2 text-on-surface-variant hover:bg-surface-container-high rounded-md text-sm font-medium",children:"Mi Perfil"})]}),(0,ub.jsxs)("div",{className:"mt-2 pt-2 border-t border-outline/50",children:[(0,ub.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 text-on-surface-variant text-sm",children:[(0,ub.jsx)("span",{className:"font-medium",children:"Tema"}),(0,ub.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ub.jsx)(pb,{className:"h-6 w-6 cursor-pointer ".concat("light"===n?"text-primary":""),onClick:()=>"dark"===n&&i()}),(0,ub.jsx)("div",{onClick:i,className:"w-10 h-5 flex items-center rounded-full cursor-pointer transition-colors ".concat("light"===n?"bg-primary/50":"bg-surface-container-highest"),children:(0,ub.jsx)("div",{className:"w-4 h-4 rounded-full bg-white shadow-md transform transition-transform ".concat("light"===n?"translate-x-5":"translate-x-1")})}),(0,ub.jsx)(mb,{className:"h-6 w-6 cursor-pointer ".concat("dark"===n?"text-primary":""),onClick:()=>"light"===n&&i()})]})]}),(0,ub.jsxs)("button",{onClick:async()=>{try{await t(),s("/")}catch(Zm){console.error("Error al cerrar sesi\xf3n:",Zm)}},className:"w-full flex items-center space-x-2 px-3 py-2 text-error hover:bg-error-container hover:text-on-error-container rounded-md text-sm font-medium mt-1",children:[(0,ub.jsx)(gb,{className:"h-5 w-5"}),(0,ub.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]})]})})]}):null},_b=()=>{const{user:e}=cb();return(0,ub.jsx)("header",{className:"fixed top-0 left-0 w-full z-50 transition-all duration-300",children:(0,ub.jsxs)("nav",{className:"mx-auto flex max-w-7xl items-center justify-between p-4 md:px-6 lg:px-8 backdrop-blur-lg bg-surface/80 border-b border-outline/50",children:[(0,ub.jsx)("div",{className:"flex lg:flex-1",children:(0,ub.jsx)(kt,{to:"/",className:"-m-1.5 p-1.5 text-left",children:(0,ub.jsxs)("span",{className:"text-2xl font-bold tracking-tight text-on-surface",children:["Ready",(0,ub.jsx)("span",{className:"text-primary",children:"2"}),"Wear"]})})}),e&&(0,ub.jsx)("div",{className:"flex items-center gap-x-2 sm:gap-x-4",children:(0,ub.jsx)(yb,{})})]})})},wb=()=>(0,ub.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,ub.jsx)("div",{className:"container mx-auto text-center",children:(0,ub.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Ready2Wear. All rights reserved."]})})}),bb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ub.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"})})),xb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ub.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})})),Eb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ub.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zM12 11L4 6h16l-8 5z"})})),Cb=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ub.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})),Tb=e=>{let{icon:t,label:n,onClick:r,isActive:i}=e;return(0,ub.jsxs)("button",{onClick:r,className:"flex flex-col items-center justify-center w-full h-full transition-colors duration-200 ".concat(i?"text-primary":"text-on-surface-variant"),children:[(0,ub.jsx)(t,{className:"h-6 w-6"}),(0,ub.jsx)("span",{className:"text-xs font-medium mt-1",children:n})]})},Sb=e=>{let{activeView:t,onNavClick:n,onAddClick:r}=e;return(0,ub.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 h-16 bg-surface-container shadow-[0_-2px_5px_rgba(0,0,0,0.1)] grid grid-cols-5 items-center z-50",children:[(0,ub.jsx)(Tb,{icon:bb,label:"Inicio",isActive:"home"===t,onClick:()=>n("home")}),(0,ub.jsx)(Tb,{icon:Eb,label:"Mensajes",isActive:"messages"===t,onClick:()=>n("messages")}),(0,ub.jsx)("div",{className:"relative w-full flex justify-center items-center",children:(0,ub.jsx)("button",{onClick:r,className:"absolute bottom-4 bg-primary text-on-primary rounded-full h-16 w-16 flex items-center justify-center shadow-lg hover:bg-primary-dark transition-transform duration-200 hover:scale-105 ring-4 ring-surface-container",children:(0,ub.jsx)(xb,{className:"h-8 w-8"})})}),(0,ub.jsx)(Tb,{icon:Cb,label:"Perfil",isActive:"profile"===t,onClick:()=>n("profile")}),(0,ub.jsx)("div",{})]})},kb=()=>(0,ub.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:(0,ub.jsxs)("div",{className:"text-center p-8",children:[(0,ub.jsxs)("h1",{className:"text-5xl font-bold tracking-tight text-on-surface mb-4",children:["Ready",(0,ub.jsx)("span",{className:"text-primary",children:"2"}),"Wear"]}),(0,ub.jsx)("p",{className:"text-lg text-on-surface-variant mb-8",children:"Tu guardarropa de lujo, a un solo clic."}),(0,ub.jsx)("button",{onClick:async()=>{try{await Xo(Am,Dm)}catch(Zm){console.error("Error signing in:",Zm)}},className:"rounded-full bg-primary px-8 py-3 text-lg font-semibold text-on-primary shadow-lg hover:scale-105 transition-transform duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:"Empezar con Google"})]})}),Ib=e=>{const[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[o,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const t=ib(Xw(Om,e),e=>{try{s(!0);const t=e.val();if(t){const e=Object.keys(t).map(e=>h({id:e},t[e]));n(e)}else n([]);a(null)}catch(t){console.error(t),a("Error al procesar los datos. Por favor, int\xe9ntelo de nuevo m\xe1s tarde.")}finally{s(!1)}},e=>{console.error(e),a("Error al acceder a los datos. Verifique su conexi\xf3n y los permisos de la base de datos."),s(!1)});return()=>t()},[e]),{docs:t,loading:i,error:o}};function Nb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Rb,Ab,Ob,Db,Mb,Lb,jb,Fb,Ub,Vb,zb,Bb={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},qb={duration:.5,overwrite:!1,delay:0},Wb=1e8,Hb=1e-8,Kb=2*Math.PI,Gb=Kb/4,Yb=0,Qb=Math.sqrt,Xb=Math.cos,$b=Math.sin,Jb=function(e){return"string"===typeof e},Zb=function(e){return"function"===typeof e},ex=function(e){return"number"===typeof e},tx=function(e){return"undefined"===typeof e},nx=function(e){return"object"===typeof e},rx=function(e){return!1!==e},ix=function(){return"undefined"!==typeof window},sx=function(e){return Zb(e)||Jb(e)},ox="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ax=Array.isArray,lx=/random\([^)]+\)/g,cx=/,\s*/g,ux=/(?:-?\.?\d|\.)+/gi,hx=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,dx=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,fx=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,px=/[+-]=-?[.\d]+/,mx=/[^,'"\[\]\s]+/gi,gx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,vx={},yx={},_x=function(e){return(yx=Qx(e,vx))&&XC},wx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},bx=function(e,t){return!t&&console.warn(e)},xx=function(e,t){return e&&(vx[e]=t)&&yx&&(yx[e]=t)||vx},Ex=function(){return 0},Cx={suppressEvents:!0,isStart:!0,kill:!1},Tx={suppressEvents:!0,kill:!1},Sx={suppressEvents:!0},kx={},Ix=[],Nx={},Px={},Rx={},Ax=30,Ox=[],Dx="",Mx=function(e){var t,n,r=e[0];if(nx(r)||Zb(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Ox.length;n--&&!Ox[n].targetTest(r););t=Ox[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new uC(e[n],t)))||e.splice(n,1);return e},Lx=function(e){return e._gsap||Mx(kE(e))[0]._gsap},jx=function(e,t,n){return(n=e[t])&&Zb(n)?e[t]():tx(n)&&e.getAttribute&&e.getAttribute(t)||n},Fx=function(e,t){return(e=e.split(",")).forEach(t)||e},Ux=function(e){return Math.round(1e5*e)/1e5||0},Vx=function(e){return Math.round(1e7*e)/1e7||0},zx=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Bx=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},qx=function(){var e,t,n=Ix.length,r=Ix.slice(0);for(Nx={},Ix.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Wx=function(e){return!!(e._initted||e._startAt||e.add)},Hx=function(e,t,n,r){Ix.length&&!Ab&&qx(),e.render(t,n,r||!!(Ab&&t<0&&Wx(e))),Ix.length&&!Ab&&qx()},Kx=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(mx).length<2?t:Jb(e)?e.trim():e},Gx=function(e){return e},Yx=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Qx=function(e,t){for(var n in t)e[n]=t[n];return e},Xx=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=nx(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},$x=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Jx=function(e){var t,n=e.parent||Db,r=e.keyframes?(t=ax(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Yx;if(rx(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Zx=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},eE=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},tE=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},nE=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},rE=function(e,t,n,r){return e._startAt&&(Ab?e._startAt.revert(Tx):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},iE=function e(t){return!t||t._ts&&e(t.parent)},sE=function(e){return e._repeat?oE(e._tTime,e=e.duration()+e._rDelay)*e:0},oE=function(e,t){var n=Math.floor(e=Vx(e/t));return e&&n===e?n-1:n},aE=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},lE=function(e){return e._end=Vx(e._start+(e._tDur/Math.abs(e._ts||e._rts||Hb)||0))},cE=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Vx(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),lE(e),n._dirty||nE(n,e)),e},uE=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=aE(e.rawTime(),t),(!t._dur||xE(0,t.totalDuration(),n)-t._tTime>Hb)&&t.render(n,!0)),nE(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},hE=function(e,t,n,r){return t.parent&&tE(t),t._start=Vx((ex(n)?n:n||e!==Db?_E(e,n,t):e._time)+t._delay),t._end=Vx(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Zx(e,t,"_first","_last",e._sort?"_start":0),mE(t)||(e._recent=t),r||uE(e,t),e._ts<0&&cE(e,e._tTime),e},dE=function(e,t){return(vx.ScrollTrigger||wx("scrollTrigger",t))&&vx.ScrollTrigger.create(t,e)},fE=function(e,t,n,r,i){return yC(e,t,i),e._initted?!n&&e._pt&&!Ab&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Ub!==$E.frame?(Ix.push(e),e._lazy=[i,r],1):void 0:1},pE=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},mE=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},gE=function(e,t,n,r){var i=e._repeat,s=Vx(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:Vx(s*(i+1)+e._rDelay*i):s,o>0&&!r&&cE(e,e._tTime=e._tDur*o),e.parent&&lE(e),n||nE(e.parent,e),e},vE=function(e){return e instanceof dC?nE(e):gE(e,e._dur)},yE={_start:0,endTime:Ex,totalDuration:Ex},_E=function e(t,n,r){var i,s,o,a=t.labels,l=t._recent||yE,c=t.duration()>=Wb?l.endTime(!1):t._dur;return Jb(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(ax(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},wE=function(e,t,n){var r,i,s=ex(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=rx(i.vars.inherit)&&i.parent;a.immediateRender=rx(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new EC(t[0],a,t[o+1])},bE=function(e,t){return e||0===e?t(e):t},xE=function(e,t,n){return n<e?e:n>t?t:n},EE=function(e,t){return Jb(e)&&(t=gx.exec(e))?t[1]:""},CE=[].slice,TE=function(e,t){return e&&nx(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&nx(e[0]))&&!e.nodeType&&e!==Mb},SE=function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return Jb(e)&&!t||TE(e,1)?(r=n).push.apply(r,kE(e)):n.push(e)})||n},kE=function(e,t,n){return Ob&&!t&&Ob.selector?Ob.selector(e):!Jb(e)||n||!Lb&&JE()?ax(e)?SE(e,n):TE(e)?CE.call(e,0):e?[e]:[]:CE.call((t||jb).querySelectorAll(e),0)},IE=function(e){return e=kE(e)[0]||bx("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return kE(t,n.querySelectorAll?n:n===e?bx("Invalid scope")||jb.createElement("div"):e)}},NE=function(e){return e.sort(function(){return.5-Math.random()})},PE=function(e){if(Zb(e))return e;var t=nx(e)?e:{each:e},n=sC(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,c=r,u=r;return Jb(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(e,o,h){var d,f,p,m,g,v,y,_,w,b=(h||t).length,x=s[b];if(!x){if(!(w="auto"===t.grid?0:(t.grid||[1,Wb])[1])){for(y=-Wb;y<(y=h[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(x=s[b]=[],d=a?Math.min(w,b)*c-.5:r%w,f=w===Wb?0:a?b*u/w-.5:r/w|0,y=0,_=Wb,v=0;v<b;v++)p=v%w-d,m=f-(v/w|0),x[v]=g=l?Math.abs("y"===l?m:p):Qb(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===r&&NE(x),x.max=y-_,x.min=_,x.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(w>b?b-1:l?"y"===l?b/w:w:Math.max(w,b/w))||0)*("edges"===r?-1:1),x.b=b<0?i-b:i,x.u=EE(t.amount||t.each)||0,n=n&&b<0?rC(n):n}return b=(x[e]-x.min)/x.max||0,Vx(x.b+(n?n(b):b)*x.v)+x.u}},RE=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Vx(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(ex(n)?0:EE(n))}},AE=function(e,t){var n,r,i=ax(e);return!i&&nx(e)&&(n=i=e.radius||Wb,e.values?(e=kE(e.values),(r=!ex(e[0]))&&(n*=n)):e=RE(e.increment)),bE(t,i?Zb(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=Wb,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(s=e[u].y-a)*s:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||ex(t)?c:c+EE(t)}:RE(e))},OE=function(e,t,n,r){return bE(ax(e)?!t:!0===n?!!(n=0):!r,function(){return ax(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},DE=function(e,t,n){return bE(n,function(n){return e[~~t(n)]})},ME=function(e){return e.replace(lx,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(cx);return OE(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},LE=function(e,t,n,r,i){var s=t-e,o=r-n;return bE(i,function(t){return n+((t-e)/s*o||0)})},jE=function(e,t,n){var r,i,s,o=e.labels,a=Wb;for(r in o)(i=o[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},FE=function(e,t,n){var r,i,s,o=e.vars,a=o[t],l=Ob,c=e._ctx;if(a)return r=o[t+"Params"],i=o.callbackScope||e,n&&Ix.length&&qx(),c&&(Ob=c),s=r?a.apply(i,r):a.call(i),Ob=l,s},UE=function(e){return tE(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ab),e.progress()<1&&FE(e,"onInterrupt"),e},VE=[],zE=function(e){if(e)if(e=!e.name&&e.default||e,ix()||e.headless){var t=e.name,n=Zb(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Ex,render:AC,add:gC,kill:DC,modifier:OC,rawVars:0},s={targetTest:0,get:0,getSetter:IC,aliases:{},register:0};if(JE(),e!==r){if(Px[t])return;Yx(r,Yx($x(e,i),s)),Qx(r.prototype,Qx(i,$x(e,s))),Px[r.prop=t]=r,e.targetTest&&(Ox.push(r),kx[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}xx(t,r),e.register&&e.register(XC,r,jC)}else VE.push(e)},BE=255,qE={aqua:[0,BE,BE],lime:[0,BE,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,BE],navy:[0,0,128],white:[BE,BE,BE],olive:[128,128,0],yellow:[BE,BE,0],orange:[BE,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[BE,0,0],pink:[BE,192,203],cyan:[0,BE,BE],transparent:[BE,BE,BE,0]},WE=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*BE+.5|0},HE=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f=e?ex(e)?[e>>16,e>>8&BE,e&BE]:0:qE.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),qE[e])f=qE[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&BE,f&BE,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&BE,e&BE]}else if("hsl"===e.substr(0,3))if(f=d=e.match(ux),t){if(~e.indexOf("="))return f=e.match(hx),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=WE(o+1/3,r,i),f[1]=WE(o,r,i),f[2]=WE(o-1/3,r,i);else f=e.match(ux)||qE.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/BE,i=f[1]/BE,s=f[2]/BE,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?o=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},KE=function(e){var t=[],n=[],r=-1;return e.split(YE).forEach(function(e){var i=e.match(dx)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},GE=function(e,t,n){var r,i,s,o,a="",l=(e+a).match(YE),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=HE(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(s=KE(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(YE,"1").split(dx)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=e.split(YE)).length-1;u<o;u++)a+=i[u]+l[u];return a+i[o]},YE=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in qE)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),QE=/hsl[a]?\(/,XE=function(e){var t,n=e.join(" ");if(YE.lastIndex=0,YE.test(n))return t=QE.test(n),e[1]=GE(e[1],t),e[0]=GE(e[0],t,KE(e[1])),!0},$E=function(){var e,t,n,r,i,s,o=Date.now,a=500,l=33,c=o(),u=c,h=1e3/240,d=h,f=[],p=function n(p){var m,g,v,y,_=o()-u,w=!0===p;if((_>a||_<0)&&(c+=_-l),((m=(v=(u+=_)-c)-d)>0||w)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,d+=m+(m>=h?4:h-m),g=1),w||(e=t(n)),g)for(s=0;s<f.length;s++)f[s](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){Fb&&(!Lb&&ix()&&(Mb=Lb=window,jb=Mb.document||{},vx.gsap=XC,(Mb.gsapVersions||(Mb.gsapVersions=[])).push(XC.version),_x(yx||Mb.GreenSockGlobals||!Mb.gsap&&Mb||{}),VE.forEach(zE)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},zb=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),zb=0,t=Ex},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,s,o){e(t,n,s,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),JE(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&s>=t&&s--},_listeners:f},r}(),JE=function(){return!zb&&$E.wake()},ZE={},eC=/^[\d.\-M][\d.\-,\s]/,tC=/["']/g,nC=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(tC,"").trim():+r,o=n.substr(t+1).trim();return i},rC=function(e){return function(t){return 1-e(1-t)}},iC=function e(t,n){for(var r,i=t._first;i;)i instanceof dC?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},sC=function(e,t){return e&&(Zb(e)?e:ZE[e]||function(e){var t=(e+"").split("("),n=ZE[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[nC(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(Kx)):ZE._CE&&eC.test(e)?ZE._CE("",e):n}(e))||t},oC=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return Fx(e,function(e){for(var t in ZE[e]=vx[e]=s,ZE[i=e.toLowerCase()]=n,s)ZE[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ZE[e+"."+t]=s[t]}),s},aC=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},lC=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/Kb*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*$b((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:aC(a);return s=Kb/s,l.config=function(n,r){return e(t,n,r)},l},cC=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:aC(r);return i.config=function(n){return e(t,n)},i};Fx("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;oC(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),ZE.Linear.easeNone=ZE.none=ZE.Linear.easeIn,oC("Elastic",lC("in"),lC("out"),lC()),function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};oC("Bounce",function(e){return 1-s(1-e)},s)}(7.5625,2.75),oC("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),oC("Circ",function(e){return-(Qb(1-e*e)-1)}),oC("Sine",function(e){return 1===e?1:1-Xb(e*Gb)}),oC("Back",cC("in"),cC("out"),cC()),ZE.SteppedEase=ZE.steps=vx.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*xE(0,.99999999,e)|0)+i)*n}}},qb.ease=ZE["quad.out"],Fx("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Dx+=e+","+e+"Params,"});var uC=function(e,t){this.id=Yb++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:jx,this.set=t?t.getSetter:IC},hC=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,gE(this,+e.duration,1,1),this.data=e.data,Ob&&(this._ctx=Ob,Ob.data.push(this)),zb||$E.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,gE(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(JE(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(cE(this,e),!n._dp||n.parent||uE(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&hE(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Hb||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Hx(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+sE(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+sE(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?oE(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?aE(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(xE(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),lE(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(JE(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Hb&&(this._tTime-=Hb)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=Vx(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&hE(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+(rx(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?aE(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=Sx);var t=Ab;return Ab=e,Wx(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Ab=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,vE(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,vE(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(_E(this,e),rx(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,rx(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-Hb))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=Zb(e)?e:Gx,s=function(){var e=t.then;t.then=null,n&&n(),Zb(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?s():t._prom=s})},t.kill=function(){UE(this)},e}();Yx(hC.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var dC=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=rx(t.sortChildren),Db&&hE(t.parent||Db,Nb(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&dE(Nb(r),t.scrollTrigger),r}Pb(t,e);var n=t.prototype;return n.to=function(e,t,n){return wE(0,arguments,this),this},n.from=function(e,t,n){return wE(1,arguments,this),this},n.fromTo=function(e,t,n,r){return wE(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Jx(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new EC(e,t,_E(this,n),1),this},n.call=function(e,t,n){return hE(this,EC.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new EC(e,n,_E(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,Jx(n).immediateRender=rx(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},n.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,Jx(r).immediateRender=rx(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:Vx(e),_=this._zTime<0!==e<0&&(this._initted||!v);if(this!==Db&&y>g&&e>=0&&(y=g),y!==this._tTime||n||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(u=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=Vx(y%a),y===g?(o=this._repeat,r=v):((o=~~(d=Vx(y/a)))&&o===d&&(r=v,o--),r>v&&(r=v)),d=oE(this._tTime,a),!m&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(r=v-r,p=1),o!==d&&!this._lock){var w=f&&1&d,b=w===(f&&1&o);if(o<d&&(w=!w),m=w?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Vx(o*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&FE(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,d=o),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,b&&(this._lock=2,m=w?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;iC(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Vx(m),Vx(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!d&&(FE(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,s&&(y+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var x=e<0?e:r;i;){if(s=i._prev,(i._act||x<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,n||Ab&&Wx(i)),r!==this._time||!this._ts&&!l){c=0,s&&(y+=this._zTime=x?-1e-8:Hb);break}}i=s}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,lE(this),this.render(e,t,n);this._onUpdate&&!t&&FE(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&tE(this,1),t||e<0&&!m||!y&&!m&&g||(FE(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(ex(t)||(t=_E(this,t,e)),!(e instanceof hC)){if(ax(e))return e.forEach(function(e){return n.add(e,t)}),this;if(Jb(e))return this.addLabel(e,t);if(!Zb(e))return this;e=EC.delayedCall(0,e)}return this!==e?hE(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-Wb);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof EC?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return Jb(e)?this.removeLabel(e):Zb(e)?this.killTweensOf(e):(e.parent===this&&eE(this,e),e===this._recent&&(this._recent=this._last),nE(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vx($E.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=_E(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=EC.delayedCall(0,t||Ex,n);return r.data="isPause",this._hasPause=1,hE(this,r,_E(this,e))},n.removePause=function(e){var t=this._first;for(e=_E(this,e);t;)t._start===e&&"isPause"===t.data&&tE(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)fC!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=kE(e),s=this._first,o=ex(t);s;)s instanceof EC?Bx(s._targets,i)&&(o?(!fC||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=_E(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,c=s.immediateRender,u=EC.to(r,Yx({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||Hb,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&gE(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Yx({startAt:{time:_E(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),jE(this,_E(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),jE(this,_E(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Hb)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,s=this.labels;for(e=Vx(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return nE(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),nE(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,a=Wb;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,hE(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=Vx(n/s._ts),s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=t;gE(s,s===Db&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(Db._ts&&(Hx(Db,aE(e,Db)),Ub=$E.frame),$E.frame>=Ax){Ax+=Bb.autoSleep||120;var t=Db._first;if((!t||!t._ts)&&Bb.autoSleep&&$E._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||$E.sleep()}}},t}(hC);Yx(dC.prototype,{_lock:0,_hasPause:0,_forcing:0});var fC,pC,mC=function(e,t,n,r,i,s,o){var a,l,c,u,h,d,f,p,m=new jC(this._pt,e,t,0,1,RC,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=ME(r)),s&&(s(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(fx)||[];a=fx.exec(r);)u=a[0],h=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?zx(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},g=fx.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(px.test(r)||f)&&(m.e=0),this._pt=m,m},gC=function(e,t,n,r,i,s,o,a,l,c){Zb(r)&&(r=r(i||0,e,s));var u,h=e[t],d="get"!==n?n:Zb(h)?l?e[t.indexOf("set")||!Zb(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=Zb(h)?l?SC:TC:CC;if(Jb(r)&&(~r.indexOf("random(")&&(r=ME(r)),"="===r.charAt(1)&&((u=zx(d,r)+(EE(d)||0))||0===u)&&(r=u)),!c||d!==r||pC)return isNaN(d*r)||""===r?(!h&&!(t in e)&&wx(t,r),mC.call(this,e,t,d,r,f,a||Bb.stringFilter,l)):(u=new jC(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?PC:NC,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},vC=function(e,t,n,r,i,s){var o,a,l,c;if(Px[e]&&!1!==(o=new Px[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(Zb(e)&&(e=wC(e,i,t,n,r)),!nx(e)||e.style&&e.nodeType||ax(e)||ox(e))return Jb(e)?wC(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=wC(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new jC(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==Vb))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},yC=function e(t,n,r){var i,s,o,a,l,c,u,h,d,f,p,m,g,v=t.vars,y=v.ease,_=v.startAt,w=v.immediateRender,b=v.lazy,x=v.onUpdate,E=v.runBackwards,C=v.yoyoEase,T=v.keyframes,S=v.autoRevert,k=t._dur,I=t._startAt,N=t._targets,P=t.parent,R=P&&"nested"===P.data?P.vars.targets:N,A="auto"===t._overwrite&&!Rb,O=t.timeline;if(O&&(!T||!y)&&(y="none"),t._ease=sC(y,qb.ease),t._yEase=C?rC(sC(!0===C?y:C,qb.ease)):0,C&&t._yoyo&&!t._repeat&&(C=t._yEase,t._yEase=t._ease,t._ease=C),t._from=!O&&!!v.runBackwards,!O||T&&!v.stagger){if(m=(h=N[0]?Lx(N[0]).harness:0)&&v[h.prop],i=$x(v,kx),I&&(I._zTime<0&&I.progress(1),n<0&&E&&w&&!S?I.render(-1,!0):I.revert(E&&k?Tx:Cx),I._lazy=0),_){if(tE(t._startAt=EC.set(N,Yx({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!I&&rx(b),startAt:null,delay:0,onUpdate:x&&function(){return FE(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Ab||!w&&!S)&&t._startAt.revert(Tx),w&&k&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(E&&k&&!I)if(n&&(w=!1),o=Yx({overwrite:!1,data:"isFromStart",lazy:w&&!I&&rx(b),immediateRender:w,stagger:0,parent:P},i),m&&(o[h.prop]=m),tE(t._startAt=EC.set(N,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Ab?t._startAt.revert(Tx):t._startAt.render(-1,!0)),t._zTime=n,w){if(!n)return}else e(t._startAt,Hb,Hb);for(t._pt=t._ptCache=0,b=k&&rx(b)||b&&!k,s=0;s<N.length;s++){if(u=(l=N[s])._gsap||Mx(N)[s]._gsap,t._ptLookup[s]=f={},Nx[u.id]&&Ix.length&&qx(),p=R===N?s:R.indexOf(l),h&&!1!==(d=new h).init(l,m||i,t,p,R)&&(t._pt=a=new jC(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(e){f[e]=a}),d.priority&&(c=1)),!h||m)for(o in i)Px[o]&&(d=vC(o,i,t,p,l,R))?d.priority&&(c=1):f[o]=a=gC.call(t,l,o,"get",i[o],p,R,0,v.stringFilter);t._op&&t._op[s]&&t.kill(l,t._op[s]),A&&t._pt&&(fC=t,Db.killTweensOf(l,f,t.globalTime(n)),g=!t.parent,fC=0),t._pt&&b&&(Nx[u.id]=1)}c&&LC(t),t._onInit&&t._onInit(t)}t._onUpdate=x,t._initted=(!t._op||t._pt)&&!g,T&&n<=0&&O.render(Wb,!0,!0)},_C=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(ax(t))s=n[e]||(n[e]=[]),t.forEach(function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})});else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},wC=function(e,t,n,r,i){return Zb(e)?e.call(t,n,r,i):Jb(e)&&~e.indexOf("random(")?ME(e):e},bC=Dx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xC={};Fx(bC+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return xC[e]=1});var EC=function(e){function t(t,n,r,i){var s;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,a,l,c,u,h,d,f,p=(s=e.call(this,i?n:Jx(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,w=p.keyframes,b=p.defaults,x=p.scrollTrigger,E=p.yoyoEase,C=n.parent||Db,T=(ax(t)||ox(t)?ex(t[0]):"length"in n)?[t]:kE(t);if(s._targets=T.length?Mx(T):bx("GSAP target "+t+" not found. https://gsap.com",!Bb.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=_,w||y||sx(m)||sx(g)){if(n=s.vars,(o=s.timeline=new dC({data:"nested",defaults:b||{},targets:C&&"nested"===C.data?C.vars.targets:T})).kill(),o.parent=o._dp=Nb(s),o._start=0,y||sx(m)||sx(g)){if(c=T.length,d=y&&PE(y),nx(y))for(u in y)~bC.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(a=0;a<c;a++)(l=$x(n,xC)).stagger=0,E&&(l.yoyoEase=E),f&&Qx(l,f),h=T[a],l.duration=+wC(m,Nb(s),a,h,T),l.delay=(+wC(g,Nb(s),a,h,T)||0)-s._delay,!y&&1===c&&l.delay&&(s._delay=g=l.delay,s._start+=g,l.delay=0),o.to(h,l,d?d(a,h,T):0),o._ease=ZE.none;o.duration()?m=g=0:s.timeline=0}else if(w){Jx(Yx(o.vars.defaults,{ease:"none"})),o._ease=sC(w.ease||n.ease||"none");var S,k,I,N=0;if(ax(w))w.forEach(function(e){return o.to(T,e,">")}),o.duration();else{for(u in l={},w)"ease"===u||"easeEach"===u||_C(u,w[u],l,w.easeEach);for(u in l)for(S=l[u].sort(function(e,t){return e.t-t.t}),N=0,a=0;a<S.length;a++)(I={ease:(k=S[a]).e,duration:(k.t-(a?S[a-1].t:0))/100*m})[u]=k.v,o.to(T,I,N),N+=I.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||s.duration(m=o.duration())}else s.timeline=0;return!0!==_||Rb||(fC=Nb(s),Db.killTweensOf(T),fC=0),hE(C,Nb(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(v||!m&&!w&&s._start===Vx(C._time)&&rx(v)&&iE(Nb(s))&&"nested"!==C.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),x&&dE(Nb(s),x),s}Pb(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-Hb&&!m?f:e<Hb?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=Vx(g%o),g===f?(s=this._repeat,r=p):(s=~~(a=Vx(g/o)))&&s===a?(r=p,s--):r>p&&(r=p),(l=this._yoyo&&1&s)&&(h=this._yEase,r=p-r),a=oE(this._tTime,o),r===d&&!n&&this._initted&&s===a)return this._tTime=g,this;s!==a&&(u&&this._yEase&&iC(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==o&&this._initted&&(this._lock=n=1,this.render(Vx(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(fE(this,m?e:r,n,t,g))return this._tTime=0,this;if(d!==this._time&&(!n||!this.vars.repeatRefresh||s===a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!d&&g&&!t&&!a&&(FE(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&rE(this,e,0,n),FE(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!t&&this.parent&&FE(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&rE(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&tE(this,1),t||m&&!d||!(g||d||l)||(FE(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,o,a=e.ratio,l=t<0||!t&&(!e._start&&pE(e)&&(e._initted||!mE(e))||(e._ts<0||e._dp._ts<0)&&!mE(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=xE(0,e._tDur,t),s=oE(u,c),e._yoyo&&1&s&&(l=1-l),s!==oE(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||Ab||r||e._zTime===Hb||!t&&e._zTime){if(!e._initted&&fE(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?Hb:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&rE(e,t,0,!0),e._onUpdate&&!n&&FE(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&FE(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&tE(e,1),n||Ab||(FE(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){zb||$E.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||yC(this,s),function(e,t,n,r,i,s,o,a){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return pC=1,e.vars[t]="+=0",yC(e,o),pC=0,a?bx(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=Ux(n)+EE(c.e)),c.b&&(c.b=l.s+EE(c.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(cE(this,0),this.parent||Zx(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?UE(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ab),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,fC&&!0!==fC.vars.overwrite)._first||UE(this),this.parent&&n!==this.timeline.totalDuration()&&gE(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,a,l,c,u=this._targets,h=e?kE(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),UE(this);for(r=this._op=this._op||[],"all"!==t&&(Jb(t)&&(a={},Fx(t,function(e){return a[e]=1}),t=a),t=function(e,t){var n,r,i,s,o=e[0]?Lx(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=Qx({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=d[c],"all"===t?(r[c]=t,o=i,s={}):(s=r[c]=r[c]||{},o=t),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||eE(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&UE(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return wE(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return wE(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return Db.killTweensOf(e,t,n)},t}(hC);Yx(EC.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Fx("staggerTo,staggerFrom,staggerFromTo",function(e){EC[e]=function(){var t=new dC,n=CE.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var CC=function(e,t,n){return e[t]=n},TC=function(e,t,n){return e[t](n)},SC=function(e,t,n,r){return e[t](r.fp,n)},kC=function(e,t,n){return e.setAttribute(t,n)},IC=function(e,t){return Zb(e[t])?TC:tx(e[t])&&e.setAttribute?kC:CC},NC=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},PC=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},RC=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},AC=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},OC=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},DC=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?eE(this,r,"_pt"):r.dep||(t=1),r=n;return!t},MC=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},LC=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},jC=function(){function e(e,t,n,r,i,s,o,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||NC,this.d=o||this,this.set=a||CC,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=MC,this.m=e,this.mt=n,this.tween=t},e}();Fx(Dx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return kx[e]=1}),vx.TweenMax=vx.TweenLite=EC,vx.TimelineLite=vx.TimelineMax=dC,Db=new dC({sortChildren:!1,defaults:qb,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Bb.stringFilter=XE;var FC=[],UC={},VC=[],zC=0,BC=0,qC=function(e){return(UC[e]||VC).map(function(e){return e()})},WC=function(){var e=Date.now(),t=[];e-zC>2&&(qC("matchMediaInit"),FC.forEach(function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=Mb.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))}),qC("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),zC=e,qC("matchMedia"))},HC=function(){function e(e,t){this.selector=t&&IE(t),this.data=[],this._r=[],this.isReverted=!1,this.id=BC++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){Zb(e)&&(n=t,t=e,e=Zb);var r=this,i=function(){var e,i=Ob,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=IE(n)),Ob=r,e=t.apply(r,arguments),Zb(e)&&r._r.push(e),Ob=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===Zb?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=Ob;Ob=null,e(this),Ob=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof EC&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof dC?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof EC)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=FC.length;r--;)FC[r].id===this.id&&FC.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),KC=function(){function e(e){this.contexts=[],this.scope=e,Ob&&Ob.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){nx(e)||(e={matches:e});var r,i,s,o=new HC(0,n||this.scope),a=o.conditions={};for(i in Ob&&!o.selector&&(o.selector=Ob.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?s=1:(r=Mb.matchMedia(e[i]))&&(FC.indexOf(o)<0&&FC.push(o),(a[i]=r.matches)&&(s=1),r.addListener?r.addListener(WC):r.addEventListener("change",WC));return s&&t(o,function(e){return o.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),GC={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return zE(e)})},timeline:function(e){return new dC(e)},getTweensOf:function(e,t){return Db.getTweensOf(e,t)},getProperty:function(e,t,n,r){Jb(e)&&(e=kE(e)[0]);var i=Lx(e||{}).get,s=n?Gx:Kx;return"native"===n&&(n=""),e?t?s((Px[t]&&Px[t].get||i)(e,t,n,r)):function(t,n,r){return s((Px[t]&&Px[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=kE(e)).length>1){var r=e.map(function(e){return XC.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=Px[t],o=Lx(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;Vb._pt=0,r.init(e,n?t+n:t,Vb,0,[e]),r.render(1,r),Vb._pt&&AC(1,Vb)}:o.set(e,a);return s?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=XC.to(e,Yx(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return Db.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=sC(e.ease,qb.ease)),Xx(qb,e||{})},config:function(e){return Xx(Bb,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!Px[e]&&!vx[e]&&bx(t+" effect requires "+e+" plugin.")}),Rx[t]=function(e,t,r){return n(kE(e),Yx(t||{},i),r)},s&&(dC.prototype[t]=function(e,n,r){return this.add(Rx[t](e,nx(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){ZE[e]=sC(t)},parseEase:function(e,t){return arguments.length?sC(e,t):ZE},getById:function(e){return Db.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new dC(e);for(i.smoothChildTiming=rx(e.smoothChildTiming),Db.remove(i),i._dp=0,i._time=i._tTime=Db._time,n=Db._first;n;)r=n._next,!t&&!n._dur&&n instanceof EC&&n.vars.onComplete===n._targets[0]||hE(i,n,n._start-n._delay),n=r;return hE(Db,i,0),i},context:function(e,t){return e?new HC(e,t):Ob},matchMedia:function(e){return new KC(e)},matchMediaRefresh:function(){return FC.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||WC()},addEventListener:function(e,t){var n=UC[e]||(UC[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=UC[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return ax(t)?DE(t,e(0,t.length),n):bE(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return ax(t)?DE(t,e(0,t.length-1),n):bE(r,function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)})},distribute:PE,random:OE,snap:AE,normalize:function(e,t,n){return LE(e,t,0,1,n)},getUnit:EE,clamp:function(e,t,n){return bE(n,function(n){return xE(e,t,n)})},splitColor:HE,toArray:kE,selector:IE,mapRange:LE,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||EE(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,l,c,u,h=Jb(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(ax(t)&&!ax(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,s=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Qx(ax(t)?[]:{},t));if(!l){for(o in n)gC.call(d,t,o,"get",n[o]);s=function(e){return AC(e,d)||(h?t.p:t)}}}return bE(r,s)},shuffle:NE},install:_x,effects:Rx,ticker:$E,updateRoot:dC.updateRoot,plugins:Px,globalTimeline:Db,core:{PropTween:jC,globals:xx,Tween:EC,Timeline:dC,Animation:hC,getCache:Lx,_removeLinkedListItem:eE,reverting:function(){return Ab},context:function(e){return e&&Ob&&(Ob.data.push(e),e._ctx=Ob),Ob},suppressOverwrites:function(e){return Rb=e}}};Fx("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return GC[e]=EC[e]}),$E.add(dC.updateRoot),Vb=GC.to({},{duration:0});var YC=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},QC=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(Jb(n)&&(r={},Fx(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=YC(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},XC=GC.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)Ab?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},QC("roundProps",RE),QC("modifiers"),QC("snap",AE))||GC;EC.version=dC.version=XC.version="3.14.2",Fb=1,ix()&&JE();ZE.Power0,ZE.Power1,ZE.Power2,ZE.Power3,ZE.Power4,ZE.Linear,ZE.Quad,ZE.Cubic,ZE.Quart,ZE.Quint,ZE.Strong,ZE.Elastic,ZE.Back,ZE.SteppedEase,ZE.Bounce,ZE.Sine,ZE.Expo,ZE.Circ;var $C,JC,ZC,eT,tT,nT,rT,iT,sT={},oT=180/Math.PI,aT=Math.PI/180,lT=Math.atan2,cT=/([A-Z])/g,uT=/(left|right|width|margin|padding|x)/i,hT=/[\s,\(]\S/,dT={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},fT=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},pT=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},mT=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},gT=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},vT=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},yT=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_T=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},wT=function(e,t,n){return e.style[t]=n},bT=function(e,t,n){return e.style.setProperty(t,n)},xT=function(e,t,n){return e._gsap[t]=n},ET=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},CT=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},TT=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},ST="transform",kT=ST+"Origin",IT=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in sT&&s){if(this.tfm=this.tfm||{},"transform"===t)return dT.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=dT[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=KT(i,e)}):this.tfm[t]=o.x?o[t]:KT(i,t),t===kT&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(ST)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(kT,n,"")),t=ST}(s||n)&&this.props.push(t,n,s[t])},NT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},PT=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(cT,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=rT())&&e.isStart||i[ST]||(NT(i),s.zOrigin&&i[kT]&&(i[kT]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},RT=function(e,t){var n={target:e,props:[],revert:PT,save:IT};return e._gsap||XC.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},AT=function(e,t){var n=JC.createElementNS?JC.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):JC.createElement(e);return n&&n.style?n:JC.createElement(e)},OT=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(cT,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,MT(n)||n,1)||""},DT="O,Moz,ms,Ms,Webkit".split(","),MT=function(e,t,n){var r=(t||tT).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(DT[i]+e in r););return i<0?null:(3===i?"ms":i>=0?DT[i]:"")+e},LT=function(){"undefined"!==typeof window&&window.document&&($C=window,JC=$C.document,ZC=JC.documentElement,tT=AT("div")||{style:{}},AT("div"),ST=MT(ST),kT=ST+"Origin",tT.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",iT=!!MT("perspective"),rT=XC.core.reverting,eT=1)},jT=function(e){var t,n=e.ownerSVGElement,r=AT("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),ZC.appendChild(r);try{t=i.getBBox()}catch(CP){}return r.removeChild(i),ZC.removeChild(r),t},FT=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},UT=function(e){var t,n;try{t=e.getBBox()}catch(Zm){t=jT(e),n=1}return t&&(t.width||t.height)||n||(t=jT(e)),!t||t.width||t.x||t.y?t:{x:+FT(e,["x","cx","x1"])||0,y:+FT(e,["y","cy","y1"])||0,width:0,height:0}},VT=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!UT(e))},zT=function(e,t){if(t){var n,r=e.style;t in sT&&t!==kT&&(t=ST),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(cT,"-$1").toLowerCase())):r.removeAttribute(t)}},BT=function(e,t,n,r,i,s){var o=new jC(e._pt,t,n,0,1,s?_T:yT);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},qT={deg:1,rad:1,turn:1},WT={grid:1,flex:1},HT=function e(t,n,r,i){var s,o,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=tT.style,d=uT.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||qT[i]||qT[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&VT(t),(v||"%"===u)&&(sT[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[p],Ux(v?c/s*m:c/100*s);if(h[d?"width":"height"]=m+(g?u:i),o="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==JC&&o.appendChild||(o=JC.body),(a=o._gsap)&&v&&a.width&&d&&a.time===$E.time&&!a.uncache)return Ux(c/a.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!WT[OT(o,"display")]&&(h.position=OT(t,"position")),o===t&&(h.position="static"),o.appendChild(tT),s=tT[p],o.removeChild(tT),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,s=t[p],y?t.style[n]=y:zT(t,n)}return d&&v&&((a=Lx(o)).time=$E.time,a.width=o[p]),Ux(g?s*c/m:s&&c?m/s*c:0)},KT=function(e,t,n,r){var i;return eT||LT(),t in dT&&"transform"!==t&&~(t=dT[t]).indexOf(",")&&(t=t.split(",")[0]),sT[t]&&"transform"!==t?(i=iS(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:sS(OT(e,kT))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=$T[t]&&$T[t](e,t,n)||OT(e,t)||jx(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?HT(e,t,i,n)+n:i},GT=function(e,t,n,r){if(!n||"none"===n){var i=MT(t,e,1),s=i&&OT(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=OT(e,"borderTopColor"))}var o,a,l,c,u,h,d,f,p,m,g,v=new jC(this._pt,e.style,t,0,1,RC),y=0,_=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=OT(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(h=e.style[t],e.style[t]=r,r=OT(e,t)||r,h?e.style[t]=h:zT(e,t)),XE(o=[n,r]),r=o[1],l=(n=o[0]).match(dx)||[],(r.match(dx)||[]).length){for(;a=dx.exec(r);)d=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[_++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===d.charAt(1)&&(d=zx(c,d)+g),f=parseFloat(d),m=d.substr((f+"").length),y=dx.lastIndex-m.length,m||(m=m||Bb.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=HT(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?_T:yT;return px.test(r)&&(v.e=0),this._pt=v,v},YT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},QT=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=YT[n]||n,t[1]=YT[r]||r,t.join(" ")},XT=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],sT[n]&&(r=1,n="transformOrigin"===n?kT:ST),zT(s,n);r&&(zT(s,ST),l&&(l.svg&&s.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",iS(s,1),l.uncache=1,NT(o)))}},$T={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new jC(e._pt,t,n,0,0,XT);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},JT=[1,0,0,1,0,0],ZT={},eS=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},tS=function(e){var t=OT(e,ST);return eS(t)?JT:t.substr(7).match(hx).map(Ux)},nS=function(e,t){var n,r,i,s,o=e._gsap||Lx(e),a=e.style,l=tS(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?JT:l:(l!==JT||e.offsetParent||e===ZC||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,r=e.nextElementSibling,ZC.appendChild(e)),l=tS(e),i?a.display=i:zT(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):ZC.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},rS=function(e,t,n,r,i,s){var o,a,l,c=e._gsap,u=i||nS(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],_=u[4],w=u[5],b=t.split(" "),x=parseFloat(b[0])||0,E=parseFloat(b[1])||0;n?u!==JT&&(a=m*y-g*v)&&(l=x*(-g/a)+E*(m/a)-(m*w-g*_)/a,x=x*(y/a)+E*(-v/a)+(v*w-y*_)/a,E=l):(x=(o=UT(e)).x+(~b[0].indexOf("%")?x/100*o.width:x),E=o.y+(~(b[1]||b[0]).indexOf("%")?E/100*o.height:E)),r||!1!==r&&c.smooth?(_=x-h,w=E-d,c.xOffset=f+(_*m+w*v)-_,c.yOffset=p+(_*g+w*y)-w):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=E,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[kT]="0px 0px",s&&(BT(s,c,"xOrigin",h,x),BT(s,c,"yOrigin",d,E),BT(s,c,"xOffset",f,c.xOffset),BT(s,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",x+" "+E)},iS=function(e,t){var n=e._gsap||new uC(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,x,E,C,T,S,k,I,N,P,R,A,O,D,M=e.style,L=n.scaleX<0,j="px",F="deg",U=getComputedStyle(e),V=OT(e,kT)||"0";return r=i=s=l=c=u=h=d=f=0,o=a=1,n.svg=!(!e.getCTM||!VT(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(M[ST]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[ST]?U[ST]:"")),M.scale=M.rotate=M.translate="none"),g=nS(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),V=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",S=""):S=!t&&e.getAttribute("data-svg-origin"),rS(e,S||V,!!S||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==JT&&(w=g[0],b=g[1],x=g[2],E=g[3],r=C=g[4],i=T=g[5],6===g.length?(o=Math.sqrt(w*w+b*b),a=Math.sqrt(E*E+x*x),l=w||b?lT(b,w)*oT:0,(h=x||E?lT(x,E)*oT+l:0)&&(a*=Math.abs(Math.cos(h*aT))),n.svg&&(r-=p-(p*w+m*x),i-=m-(p*b+m*E))):(D=g[6],A=g[7],N=g[8],P=g[9],R=g[10],O=g[11],r=g[12],i=g[13],s=g[14],c=(v=lT(D,R))*oT,v&&(S=C*(y=Math.cos(-v))+N*(_=Math.sin(-v)),k=T*y+P*_,I=D*y+R*_,N=C*-_+N*y,P=T*-_+P*y,R=D*-_+R*y,O=A*-_+O*y,C=S,T=k,D=I),u=(v=lT(-x,R))*oT,v&&(y=Math.cos(-v),O=E*(_=Math.sin(-v))+O*y,w=S=w*y-N*_,b=k=b*y-P*_,x=I=x*y-R*_),l=(v=lT(b,w))*oT,v&&(S=w*(y=Math.cos(v))+b*(_=Math.sin(v)),k=C*y+T*_,b=b*y-w*_,T=T*y-C*_,w=S,C=k),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=Ux(Math.sqrt(w*w+b*b+x*x)),a=Ux(Math.sqrt(T*T+D*D)),v=lT(C,T),h=Math.abs(v)>2e-4?v*oT:0,f=O?1/(O<0?-O:O):0),n.svg&&(S=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!eS(OT(e,ST)),S&&e.setAttribute("transform",S))),Math.abs(h)>90&&Math.abs(h)<270&&(L?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+j,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+j,n.z=s+j,n.scaleX=Ux(o),n.scaleY=Ux(a),n.rotation=Ux(l)+F,n.rotationX=Ux(c)+F,n.rotationY=Ux(u)+F,n.skewX=h+F,n.skewY=d+F,n.transformPerspective=f+j,(n.zOrigin=parseFloat(V.split(" ")[2])||!t&&n.zOrigin||0)&&(M[kT]=sS(V)),n.xOffset=n.yOffset=0,n.force3D=Bb.force3D,n.renderTransform=n.svg?dS:iT?hS:aS,n.uncache=0,n},sS=function(e){return(e=e.split(" "))[0]+" "+e[1]},oS=function(e,t,n){var r=EE(t);return Ux(parseFloat(t)+parseFloat(HT(e,"x",n+"px",r)))+r},aS=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,hS(e,t)},lS="0deg",cS="0px",uS=") ",hS=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",w="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==lS||c!==lS)){var b,x=parseFloat(c)*aT,E=Math.sin(x),C=Math.cos(x);x=parseFloat(u)*aT,b=Math.cos(x),s=oS(v,s,E*b*-y),o=oS(v,o,-Math.sin(x)*-y),a=oS(v,a,C*b*-y+y)}m!==cS&&(_+="perspective("+m+uS),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(w||s!==cS||o!==cS||a!==cS)&&(_+=a!==cS||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+uS),l!==lS&&(_+="rotate("+l+uS),c!==lS&&(_+="rotateY("+c+uS),u!==lS&&(_+="rotateX("+u+uS),h===lS&&d===lS||(_+="skew("+h+", "+d+uS),1===f&&1===p||(_+="scale("+f+", "+p+uS),v.style[ST]=_||"translate(0, 0)"},dS=function(e,t){var n,r,i,s,o,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,w=a.xOffset,b=a.yOffset,x=a.forceCSS,E=parseFloat(u),C=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=aT,f*=aT,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-f)*-g,s=Math.cos(d-f)*g,f&&(p*=aT,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=Ux(n),r=Ux(r),i=Ux(i),s=Ux(s)):(n=m,s=g,r=i=0),(E&&!~(u+"").indexOf("px")||C&&!~(h+"").indexOf("px"))&&(E=HT(v,"x",u,"px"),C=HT(v,"y",h,"px")),(y||_||w||b)&&(E=Ux(E+y-(y*n+_*i)+w),C=Ux(C+_-(y*r+_*s)+b)),(l||c)&&(o=v.getBBox(),E=Ux(E+l/100*o.width),C=Ux(C+c/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+E+","+C+")",v.setAttribute("transform",o),x&&(v.style[ST]=o)},fS=function(e,t,n,r,i){var s,o,a=360,l=Jb(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?oT:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===s&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===s&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=o=new jC(e._pt,t,n,r,c,pT),o.e=u,o.u="deg",e._props.push(n),o},pS=function(e,t){for(var n in t)e[n]=t[n];return e},mS=function(e,t,n){var r,i,s,o,a,l,c,u=pS({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[ST]=t,r=iS(n,1),zT(n,ST),n.setAttribute("transform",s)):(s=getComputedStyle(n)[ST],h[ST]=t,r=iS(n,1),h[ST]=s),sT)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=EE(s)!==(c=EE(o))?HT(n,i,s,c):parseFloat(s),l=parseFloat(o),e._pt=new jC(e._pt,r,i,a,l-a,fT),e._pt.u=c||0,e._props.push(i));pS(r,u)};Fx("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(n){return t<2?e+n:"border"+n+e});$T[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map(function(t){return KT(e,t,n)}),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach(function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]}),e.init(t,a,i)}});var gS={name:"css",register:LT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,x=this._props,E=e.style,C=n.vars.startAt;for(h in eT||LT(),this.styles=this.styles||RT(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!Px[h]||!vC(h,t,n,r,e,i)))if(c=typeof o,u=$T[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=ME(o)),u)u(this,e,h,o,n)&&(_=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",YE.lastIndex=0,YE.test(s)||(d=EE(s),(f=EE(o))?d!==f&&(s=HT(e,h,s,f)+f):d&&(o+=d)),this.add(E,"setProperty",s,o,r,i,0,0,h),x.push(h),w.push(h,0,E[h]);else if("undefined"!==c){if(C&&h in C?(s="function"===typeof C[h]?C[h].call(n,r,e,i):C[h],Jb(s)&&~s.indexOf("random(")&&(s=ME(s)),EE(s+"")||"auto"===s||(s+=Bb.units[h]||EE(KT(e,h))||""),"="===(s+"").charAt(1)&&(s=KT(e,h))):s=KT(e,h),l=parseFloat(s),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in dT&&("autoAlpha"===h&&(1===l&&"hidden"===KT(e,"visibility")&&a&&(l=0),w.push("visibility",0,E.visibility),BT(this,E,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=dT[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in sT){if(this.styles.save(h),b=o,"string"===c&&"var(--"===o.substring(0,6)){if("calc("===(o=OT(e,o.substring(4,o.indexOf(")")))).substring(0,5)){var T=e.style.perspective;e.style.perspective=o,o=OT(e,"perspective"),T?e.style.perspective=T:zT(e,"perspective")}a=parseFloat(o)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||iS(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new jC(this._pt,E,ST,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new jC(this._pt,v,"scaleY",v.scaleY,(p?zx(v.scaleY,p+a):a)-v.scaleY||0,fT),this._pt.u=0,x.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w.push(kT,0,E[kT]),o=QT(o),v.svg?rS(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&BT(this,v,"zOrigin",v.zOrigin,f),BT(this,E,h,sS(s),sS(o)));continue}if("svgOrigin"===h){rS(e,o,1,y,0,this);continue}if(h in ZT){fS(this,v,h,l,p?zx(l,p+o):o);continue}if("smoothOrigin"===h){BT(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){mS(this,o,e);continue}}}else h in E||(h=MT(h)||h);if(m||(a||0===a)&&(l||0===l)&&!hT.test(o)&&h in E)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=EE(o)||(h in Bb.units?Bb.units[h]:d))&&(l=HT(e,h,s,f)),this._pt=new jC(this._pt,m?v:E,h,l,(p?zx(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==h||!1===t.autoRound?fT:vT),this._pt.u=f||0,m&&b!==o?(this._pt.b=s,this._pt.e=b,this._pt.r=gT):d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=mT);else if(h in E)GT.call(this,e,h,s,p?p+o:o);else if(h in e)this.add(e,h,s||e[h],p?p+o:o,r,i);else if("parseTransform"!==h){wx(h,o);continue}m||(h in E?w.push(h,0,E[h]):"function"===typeof e[h]?w.push(h,2,e[h]()):w.push(h,1,s||e[h])),x.push(h)}_&&LC(this)},render:function(e,t){if(t.tween._time||!rT())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:KT,aliases:dT,getSetter:function(e,t,n){var r=dT[t];return r&&r.indexOf(",")<0&&(t=r),t in sT&&t!==kT&&(e._gsap.x||KT(e,"x"))?n&&nT===n?"scale"===t?ET:xT:(nT=n||{})&&("scale"===t?CT:TT):e.style&&!tx(e.style[t])?wT:~t.indexOf("-")?bT:IC(e,t)},core:{_removeProperty:zT,_getMatrix:nS}};XC.utils.checkPrefix=MT,XC.core.getStyleSaver=RT,function(e,t){var n=Fx(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){sT[e]=1});Fx(t,function(e){Bb.units[e]="deg",ZT[e]=1}),dT[n[13]]=e+","+t,Fx("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");dT[t[1]]=n[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Fx("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Bb.units[e]="px"}),XC.registerPlugin(gS);var vS=XC.registerPlugin(gS)||XC;vS.core.Tween;let yS="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,_S=e=>e&&!Array.isArray(e)&&"object"===typeof e,wS=[],bS={},xS=vS;const ES=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wS,n=bS;_S(e)?(n=e,e=null,t="dependencies"in n?n.dependencies:wS):_S(t)&&(n=t,t="dependencies"in n?n.dependencies:wS),e&&"function"!==typeof e&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=n,o=(0,r.useRef)(!1),a=(0,r.useRef)(xS.context(()=>{},i)),l=(0,r.useRef)(e=>a.current.add(null,e)),c=t&&t.length&&!s;return c&&yS(()=>(o.current=!0,()=>a.current.revert()),wS),yS(()=>{if(e&&a.current.add(e,i),!c||!o.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:l.current}};function CS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ES.register=e=>{xS=e},ES.headless=!0;var TS,SS,kS,IS,NS,PS,RS,AS,OS,DS,MS,LS,jS,FS=function(){return TS||"undefined"!==typeof window&&(TS=window.gsap)&&TS.registerPlugin&&TS},US=1,VS=[],zS=[],BS=[],qS=Date.now,WS=function(e,t){return t},HS=function(e,t){return~BS.indexOf(e)&&BS[BS.indexOf(e)+1][t]},KS=function(e){return!!~DS.indexOf(e)},GS=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},YS=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},QS="scrollLeft",XS="scrollTop",$S=function(){return MS&&MS.isPressed||zS.cache++},JS=function(e,t){var n=function n(r){if(r||0===r){US&&(kS.history.scrollRestoration="manual");var i=MS&&MS.isPressed;r=n.v=Math.round(r)||(MS&&MS.iOS?1:0),e(r),n.cacheID=zS.cache,i&&WS("ss",r)}else(t||zS.cache!==n.cacheID||WS("ref"))&&(n.cacheID=zS.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},ZS={s:QS,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:JS(function(e){return arguments.length?kS.scrollTo(e,ek.sc()):kS.pageXOffset||IS[QS]||NS[QS]||PS[QS]||0})},ek={s:XS,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ZS,sc:JS(function(e){return arguments.length?kS.scrollTo(ZS.sc(),e):kS.pageYOffset||IS[XS]||NS[XS]||PS[XS]||0})},tk=function(e,t){return(t&&t._ctx&&t._ctx.selector||TS.utils.toArray)(e)[0]||("string"===typeof e&&!1!==TS.config().nullTargetWarn?console.warn("Element not found:",e):null)},nk=function(e,t){var n=t.s,r=t.sc;KS(e)&&(e=IS.scrollingElement||NS);var i=zS.indexOf(e),s=r===ek.sc?1:2;!~i&&(i=zS.push(e)-1),zS[i+s]||GS(e,"scroll",$S);var o=zS[i+s],a=o||(zS[i+s]=JS(HS(e,n),!0)||(KS(e)?r:JS(function(t){return arguments.length?e[n]=t:e[n]})));return a.target=e,o||(a.smooth="smooth"===TS.getProperty(e,"scrollBehavior")),a},rk=function(e,t,n){var r=e,i=e,s=qS(),o=s,a=t||50,l=Math.max(500,3*a),c=function(e,t){var l=qS();t||l-s>a?(i=r,r=e,o=s,s=l):n?r+=e:r=i+(e-i)/(l-o)*(s-o)};return{update:c,reset:function(){i=r=n?0:r,o=s=0},getVelocity:function(e){var t=o,a=i,u=qS();return(e||0===e)&&e!==r&&c(e),s===o||u-o>l?0:(r+(n?a:-a))/((n?u:s)-t)*1e3}}},ik=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},sk=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},ok=function(){(OS=TS.core.globals().ScrollTrigger)&&OS.core&&function(){var e=OS.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,zS),r.push.apply(r,BS),zS=n,BS=r,WS=function(e,n){return t[e](n)}}()},ak=function(e){return TS=e||FS(),!SS&&TS&&"undefined"!==typeof document&&document.body&&(kS=window,IS=document,NS=IS.documentElement,PS=IS.body,DS=[kS,IS,NS,PS],TS.utils.clamp,jS=TS.core.context||function(){},AS="onpointerenter"in PS?"pointer":"mouse",RS=lk.isTouch=kS.matchMedia&&kS.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in kS||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,LS=lk.eventTypes=("ontouchstart"in NS?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in NS?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return US=0},500),ok(),SS=1),SS};ZS.op=ek,zS.cache=0;var lk=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){SS||ak(TS)||console.warn("Please gsap.registerPlugin(Observer)"),OS||ok();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,s=e.lineHeight,o=e.debounce,a=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,d=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,_=e.onLeft,w=e.onUp,b=e.onDown,x=e.onChangeX,E=e.onChangeY,C=e.onChange,T=e.onToggleX,S=e.onToggleY,k=e.onHover,I=e.onHoverEnd,N=e.onMove,P=e.ignoreCheck,R=e.isNormalizer,A=e.onGestureStart,O=e.onGestureEnd,D=e.onWheel,M=e.onEnable,L=e.onDisable,j=e.onClick,F=e.scrollSpeed,U=e.capture,V=e.allowClicks,z=e.lockAxis,B=e.onLockAxis;this.target=i=tk(i)||NS,this.vars=e,u&&(u=TS.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,F=F||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(kS.getComputedStyle(PS).lineHeight)||22);var q,W,H,K,G,Y,Q,X=this,$=0,J=0,Z=e.passive||!a&&!1!==e.passive,ee=nk(i,ZS),te=nk(i,ek),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===LS[0],se=KS(i),oe=i.ownerDocument||IS,ae=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=qS()},he=function(e,t){return(X.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||P&&P(e,t)},de=function(){var e=X.deltaX=sk(ae),n=X.deltaY=sk(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;C&&(r||i)&&C(X,e,n,ae,le),r&&(y&&X.deltaX>0&&y(X),_&&X.deltaX<0&&_(X),x&&x(X),T&&X.deltaX<0!==$<0&&T(X),$=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(b&&X.deltaY>0&&b(X),w&&X.deltaY<0&&w(X),E&&E(X),S&&X.deltaY<0!==J<0&&S(X),J=X.deltaY,le[0]=le[1]=le[2]=0),(K||H)&&(N&&N(X),H&&(f&&1===H&&f(X),m&&m(X),H=0),K=!1),Y&&!(Y=!1)&&B&&B(X),G&&(D(X),G=!1),q=0},fe=function(e,t,n){ae[n]+=e,le[n]+=t,X._vx.update(e),X._vy.update(t),o?q||(q=requestAnimationFrame(de)):de()},pe=function(e,t){z&&!Q&&(X.axis=Q=Math.abs(e)>Math.abs(t)?"x":"y",Y=!0),"y"!==Q&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Q&&(le[2]+=t,X._vy.update(t,!0)),o?q||(q=requestAnimationFrame(de)):de()},me=function(e){if(!he(e,1)){var t=(e=ik(e,a)).clientX,r=e.clientY,i=t-X.x,s=r-X.y,o=X.isDragging;X.x=t,X.y=r,(o||(i||s)&&(Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n))&&(H||(H=o?2:1),o||(X.isDragging=!0),pe(i,s))}},ge=X.onPress=function(e){he(e,1)||e&&e.button||(X.axis=Q=null,W.pause(),X.isPressed=!0,e=ik(e),$=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),GS(R?i:oe,LS[1],me,Z,!0),X.deltaX=X.deltaY=0,g&&g(X))},ve=X.onRelease=function(e){if(!he(e,1)){YS(R?i:oe,LS[1],me,!0);var t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),s=ik(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&V&&TS.delayedCall(.08,function(){if(qS()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){var t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,kS,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),X.isDragging=X.isGesturing=X.isPressed=!1,l&&n&&!R&&W.restart(!0),H&&de(),p&&n&&p(X),v&&v(X,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&A(e,X.isDragging)},_e=function(){return(X.isGesturing=!1)||O(X)},we=function(e){if(!he(e)){var t=ee(),n=te();fe((t-ne)*F,(n-re)*F,1),ne=t,re=n,l&&W.restart(!0)}},be=function(e){if(!he(e)){e=ik(e,a),D&&(G=!0);var t=(1===e.deltaMode?s:2===e.deltaMode?kS.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),l&&!R&&W.restart(!0)}},xe=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,K=!0,l&&W.restart(!0),(r||i)&&pe(r,i)}},Ee=function(e){X.event=e,k(X)},Ce=function(e){X.event=e,I(X)},Te=function(e){return he(e)||ik(e,a)&&j(X)};W=X._dc=TS.delayedCall(c||.25,function(){X._vx.reset(),X._vy.reset(),W.pause(),l&&l(X)}).pause(),X.deltaX=X.deltaY=0,X._vx=rk(0,50,!0),X._vy=rk(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,jS(this),X.enable=function(e){return X.isEnabled||(GS(se?oe:i,"scroll",$S),r.indexOf("scroll")>=0&&GS(se?oe:i,"scroll",we,Z,U),r.indexOf("wheel")>=0&&GS(i,"wheel",be,Z,U),(r.indexOf("touch")>=0&&RS||r.indexOf("pointer")>=0)&&(GS(i,LS[0],ge,Z,U),GS(oe,LS[2],ve),GS(oe,LS[3],ve),V&&GS(i,"click",ue,!0,!0),j&&GS(i,"click",Te),A&&GS(oe,"gesturestart",ye),O&&GS(oe,"gestureend",_e),k&&GS(i,AS+"enter",Ee),I&&GS(i,AS+"leave",Ce),N&&GS(i,AS+"move",xe)),X.isEnabled=!0,X.isDragging=X.isGesturing=X.isPressed=K=H=!1,X._vx.reset(),X._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),M&&M(X)),X},X.disable=function(){X.isEnabled&&(VS.filter(function(e){return e!==X&&KS(e.target)}).length||YS(se?oe:i,"scroll",$S),X.isPressed&&(X._vx.reset(),X._vy.reset(),YS(R?i:oe,LS[1],me,!0)),YS(se?oe:i,"scroll",we,U),YS(i,"wheel",be,U),YS(i,LS[0],ge,U),YS(oe,LS[2],ve),YS(oe,LS[3],ve),YS(i,"click",ue,!0),YS(i,"click",Te),YS(oe,"gesturestart",ye),YS(oe,"gestureend",_e),YS(i,AS+"enter",Ee),YS(i,AS+"leave",Ce),YS(i,AS+"move",xe),X.isEnabled=X.isPressed=X.isDragging=!1,L&&L(X))},X.kill=X.revert=function(){X.disable();var e=VS.indexOf(X);e>=0&&VS.splice(e,1),MS===X&&(MS=0)},VS.push(X),R&&KS(i)&&(MS=X),X.enable(d)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&CS(t.prototype,n),r&&CS(t,r),e}();lk.version="3.14.2",lk.create=function(e){return new lk(e)},lk.register=ak,lk.getAll=function(){return VS.slice()},lk.getById=function(e){return VS.filter(function(t){return t.vars.id===e})[0]},FS()&&TS.registerPlugin(lk);var ck,uk,hk,dk,fk,pk,mk,gk,vk,yk,_k,wk,bk,xk,Ek,Ck,Tk,Sk,kk,Ik,Nk,Pk,Rk,Ak,Ok,Dk,Mk,Lk,jk,Fk,Uk,Vk,zk,Bk,qk,Wk,Hk,Kk,Gk=1,Yk=Date.now,Qk=Yk(),Xk=0,$k=0,Jk=function(e,t,n){var r=dI(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},Zk=function(e,t){return!t||dI(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},eI=function e(){return $k&&requestAnimationFrame(e)},tI=function(){return xk=1},nI=function(){return xk=0},rI=function(e){return e},iI=function(e){return Math.round(1e5*e)/1e5||0},sI=function(){return"undefined"!==typeof window},oI=function(){return ck||sI()&&(ck=window.gsap)&&ck.registerPlugin&&ck},aI=function(e){return!!~mk.indexOf(e)},lI=function(e){return("Height"===e?Uk:hk["inner"+e])||fk["client"+e]||pk["client"+e]},cI=function(e){return HS(e,"getBoundingClientRect")||(aI(e)?function(){return EN.width=hk.innerWidth,EN.height=Uk,EN}:function(){return MI(e)})},uI=function(e,t){var n=t.s,r=t.d2,i=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=HS(e,n))?s()-cI(e)()[i]:aI(e)?(fk[n]||pk[n])-lI(r):e[n]-e["offset"+r])},hI=function(e,t){for(var n=0;n<kk.length;n+=3)(!t||~t.indexOf(kk[n+1]))&&e(kk[n],kk[n+1],kk[n+2])},dI=function(e){return"string"===typeof e},fI=function(e){return"function"===typeof e},pI=function(e){return"number"===typeof e},mI=function(e){return"object"===typeof e},gI=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},vI=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},yI=Math.abs,_I="left",wI="right",bI="bottom",xI="width",EI="height",CI="Right",TI="Left",SI="Top",kI="Bottom",II="padding",NI="margin",PI="Width",RI="Height",AI="px",OI=function(e){return hk.getComputedStyle(e)},DI=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},MI=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==OI(e)[Ek]&&ck.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},LI=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},jI=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},FI=function(e){var t=ck.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var s;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=i;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=t(n);return!r||Math.abs(s-n)<i||s-n<0===r<0?s:t(r<0?n-e:n+e)}},UI=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},VI=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},zI=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},BI=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},qI={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},WI={toggleActions:"play",anticipatePin:0},HI={top:0,left:0,center:.5,bottom:1,right:1},KI=function(e,t){if(dI(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in HI?HI[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},GI=function(e,t,n,r,i,s,o,a){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,f=dk.createElement("div"),p=aI(n)||"fixed"===HS(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?pk:n,v=-1!==e.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(_+=(r===ek?wI:bI)+":"+(s+parseFloat(h))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=_,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],YI(f,0,r,v),f},YI=function(e,t,n,r){var i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+PI]=1,i["border"+o+PI]=0,i[n.p]=t+"px",ck.set(e,i)},QI=[],XI={},$I=function(){return Yk()-Xk>34&&(qk||(qk=requestAnimationFrame(gN)))},JI=function(){(!Rk||!Rk.isPressed||Rk.startX>pk.clientWidth)&&(zS.cache++,Rk?qk||(qk=requestAnimationFrame(gN)):gN(),Xk||iN("scrollStart"),Xk=Yk())},ZI=function(){Dk=hk.innerWidth,Ok=hk.innerHeight},eN=function(e){zS.cache++,(!0===e||!bk&&!Pk&&!dk.fullscreenElement&&!dk.webkitFullscreenElement&&(!Ak||Dk!==hk.innerWidth||Math.abs(hk.innerHeight-Ok)>.25*hk.innerHeight))&&gk.restart(!0)},tN={},nN=[],rN=function e(){return zI(PN,"scrollEnd",e)||fN(!0)},iN=function(e){return tN[e]&&tN[e].map(function(e){return e()})||nN},sN=[],oN=function(e){for(var t=0;t<sN.length;t+=5)(!e||sN[t+4]&&sN[t+4].query===e)&&(sN[t].style.cssText=sN[t+1],sN[t].getBBox&&sN[t].setAttribute("transform",sN[t+2]||""),sN[t+3].uncache=1)},aN=function(){return zS.forEach(function(e){return fI(e)&&++e.cacheID&&(e.rec=e())})},lN=function(e,t){var n;for(Ck=0;Ck<QI.length;Ck++)!(n=QI[Ck])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));Vk=!0,t&&oN(t),t||iN("revert")},cN=function(e,t){zS.cache++,(t||!Wk)&&zS.forEach(function(e){return fI(e)&&e.cacheID++&&(e.rec=0)}),dI(e)&&(hk.history.scrollRestoration=jk=e)},uN=0,hN=function(){pk.appendChild(Fk),Uk=!Rk&&Fk.offsetHeight||hk.innerHeight,pk.removeChild(Fk)},dN=function(e){return vk(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},fN=function(e,t){if(fk=dk.documentElement,pk=dk.body,mk=[hk,dk,fk,pk],!Xk||e||Vk){hN(),Wk=PN.isRefreshing=!0,Vk||aN();var n=iN("refreshInit");Ik&&PN.sort(),t||lN(),zS.forEach(function(e){fI(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),QI.slice(0).forEach(function(e){return e.refresh()}),Vk=!1,QI.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),zk=1,dN(!0),QI.forEach(function(e){var t=uI(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),dN(!1),zk=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),zS.forEach(function(e){fI(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),cN(jk,1),gk.pause(),uN++,Wk=2,gN(2),QI.forEach(function(e){return fI(e.vars.onRefresh)&&e.vars.onRefresh(e)}),Wk=PN.isRefreshing=!1,iN("refresh")}else VI(PN,"scrollEnd",rN)},pN=0,mN=1,gN=function(e){if(2===e||!Wk&&!Vk){PN.isUpdating=!0,Kk&&Kk.update(0);var t=QI.length,n=Yk(),r=n-Qk>=50,i=t&&QI[0].scroll();if(mN=pN>i?-1:1,Wk||(pN=i),r&&(Xk&&!xk&&n-Xk>200&&(Xk=0,iN("scrollEnd")),_k=Qk,Qk=n),mN<0){for(Ck=t;Ck-- >0;)QI[Ck]&&QI[Ck].update(0,r);mN=1}else for(Ck=0;Ck<t;Ck++)QI[Ck]&&QI[Ck].update(0,r);PN.isUpdating=!1}qk=0},vN=[_I,"top",bI,wI,NI+kI,NI+CI,NI+SI,NI+TI,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],yN=vN.concat([xI,EI,"boxSizing","max"+PI,"max"+RI,"position",NI,II,II+SI,II+CI,II+kI,II+TI]),_N=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,s=vN.length,o=t.style,a=e.style;s--;)o[i=vN[s]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a[bI]=a[wI]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[xI]=LI(e,ZS)+AI,o[EI]=LI(e,ek)+AI,o[II]=a[NI]=a.top=a[_I]="0",bN(r),a[xI]=a["max"+PI]=n[xI],a[EI]=a["max"+RI]=n[EI],a[II]=n[II],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},wN=/([A-Z])/g,bN=function(e){if(e){var t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||ck.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(wN,"-$1").toLowerCase())}},xN=function(e){for(var t=yN.length,n=e.style,r=[],i=0;i<t;i++)r.push(yN[i],n[yN[i]]);return r.t=e,r},EN={left:0,top:0},CN=function(e,t,n,r,i,s,o,a,l,c,u,h,d,f){fI(e)&&(e=e(a)),dI(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?KI("0"+e.substr(3),n):0));var p,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),pI(e))d&&(e=ck.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&YI(o,n,r,!0);else{fI(t)&&(t=t(a));var y,_,w,b,x=(e||"0").split(" ");g=tk(t,a)||pk,(y=MI(g)||{})&&(y.left||y.top)||"none"!==OI(g).display||(b=g.style.display,g.style.display="block",y=MI(g),b?g.style.display=b:g.style.removeProperty("display")),_=KI(x[0],y[r.d]),w=KI(x[1]||"0",n),e=y[r.p]-l[r.p]-c+_+i-w,o&&YI(o,w,r,n-w<20||o._isStart&&w>20),n-=n-w}if(f&&(a[f]=e||-.001,e<0&&(e=0)),s){var E=e+n,C=s._isStart;p="scroll"+r.d2,YI(s,E,r,C&&E>20||!C&&(u?Math.max(pk[p],fk[p]):s.parentNode[p])<=E+1),u&&(l=MI(o),u&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+AI))}return d&&g&&(p=MI(g),d.seek(h),m=MI(g),d._caScrollDist=p[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},TN=/(webkit|moz|length|cssText|inset)/i,SN=function(e,t,n,r){if(e.parentNode!==t){var i,s,o=e.style;if(t===pk){for(i in e._stOrig=o.cssText,s=OI(e))+i||TN.test(i)||!s[i]||"string"!==typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;ck.core.getCache(e).uncache=1,t.appendChild(e)}},kN=function(e,t,n){var r=t,i=r;return function(t){var s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=Math.round(t)}},IN=function(e,t,n){var r={};r[t.p]="+="+n,ck.set(e,r)},NN=function(e,t){var n=nk(e,t),r="_scroll"+t.p2,i=function t(i,s,o,a,l){var c=t.tween,u=s.onComplete,h={};o=o||n();var d=kN(n,o,function(){c.kill(),t.tween=0});return l=a&&l||0,a=a||i-o,c&&c.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(o+a*c.ratio+l*c.ratio*c.ratio)},s.onUpdate=function(){zS.cache++,t.tween&&gN()},s.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=ck.to(e,s)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},VI(e,"wheel",n.wheelHandler),PN.isTouch&&VI(e,"touchmove",n.wheelHandler),i},PN=function(){function e(t,n){uk||e.register(ck)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Lk(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),$k){var r,i,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,x,E,C,T,S,k,I,N,P,R,A,O,D,M,L,j,F,U,V,z,B,q=t=DI(dI(t)||pI(t)||t.nodeType?{trigger:t}:t,WI),W=q.onUpdate,H=q.toggleClass,K=q.id,G=q.onToggle,Y=q.onRefresh,Q=q.scrub,X=q.trigger,$=q.pin,J=q.pinSpacing,Z=q.invalidateOnRefresh,ee=q.anticipatePin,te=q.onScrubComplete,ne=q.onSnapComplete,re=q.once,ie=q.snap,se=q.pinReparent,oe=q.pinSpacer,ae=q.containerAnimation,le=q.fastScrollEnd,ce=q.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?ZS:ek,he=!Q&&0!==Q,de=tk(t.scroller||hk),fe=ck.core.getCache(de),pe=aI(de),me="fixed"===("pinType"in t?t.pinType:HS(de,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=he&&t.toggleActions.split(" "),ye="markers"in t?t.markers:WI.markers,_e=pe?0:parseFloat(OI(de)["border"+ue.p2+PI])||0,we=this,be=t.onRefreshInit&&function(){return t.onRefreshInit(we)},xe=function(e,t,n){var r=n.d,i=n.d2,s=n.a;return(s=HS(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?lI(i):e["client"+i])||0}}(de,pe,ue),Ee=function(e,t){return!t||~BS.indexOf(e)?cI(e):function(){return EN}}(de,pe),Ce=0,Te=0,Se=0,ke=nk(de,ue);if(we._startClamp=we._endClamp=!1,we._dir=ue,ee*=45,we.scroller=de,we.scroll=ae?ae.time.bind(ae):ke,o=ke(),we.vars=t,n=n||t.animation,"refreshPriority"in t&&(Ik=1,-9999===t.refreshPriority&&(Kk=we)),fe.tweenScroll=fe.tweenScroll||{top:NN(de,ek),left:NN(de,ZS)},we.tweenTo=r=fe.tweenScroll[ue.p],we.scrubDuration=function(e){(M=pI(e)&&e)?D?D.duration(e):D=ck.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:M,paused:!0,onComplete:function(){return te&&te(we)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!we.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),we.animation=n.pause(),n.scrollTrigger=we,we.scrubDuration(Q),A=0,K||(K=n.vars.id)),ie&&(mI(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in pk.style&&ck.set(pe?[pk,fk]:de,{scrollBehavior:"auto"}),zS.forEach(function(e){return fI(e)&&e.target===(pe?dk.scrollingElement||fk:de)&&(e.smooth=!1)}),s=fI(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return ck.utils.snap(jI(e),t)}}(n):"labelsDirectional"===ie.snapTo?(B=n,function(e,t){return FI(jI(B))(e,t.direction)}):!1!==ie.directional?function(e,t){return FI(ie.snapTo)(e,Yk()-Te<500?0:t.direction)}:ck.utils.snap(ie.snapTo),L=ie.duration||{min:.1,max:2},L=mI(L)?yk(L.min,L.max):yk(L,L),j=ck.delayedCall(ie.delay||M/2||.1,function(){var e=ke(),t=Yk()-Te<500,i=r.tween;if(!(t||Math.abs(we.getVelocity())<10)||i||xk||Ce===e)we.isActive&&Ce!==e&&j.restart(!0);else{var o,a,u=(e-l)/g,h=n&&!he?n.totalProgress():u,d=t?0:(h-O)/(Yk()-_k)*1e3||0,f=ck.utils.clamp(-u,1-u,yI(d/2)*d/.185),p=u+(!1===ie.inertia?0:f),m=ie,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(o=s(p,we),pI(o)||(o=p),a=Math.max(0,Math.round(l+o*g)),e<=c&&e>=l&&a!==e){if(i&&!i._initted&&i.data<=yI(a-e))return;!1===ie.inertia&&(f=o-u),r(a,{duration:L(yI(.185*Math.max(yI(p-h),yI(o-h))/d/.05||0)),ease:ie.ease||"power3",data:yI(a-e),onInterrupt:function(){return j.restart(!0)&&y&&y(we)},onComplete:function(){we.update(),Ce=ke(),n&&!he&&(D?D.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),A=O=n&&!he?n.totalProgress():we.progress,ne&&ne(we),_&&_(we)}},e,f*g,a-e-f*g),v&&v(we,r.tween)}}}).pause()),K&&(XI[K]=we),(z=(X=we.trigger=tk(X||!0!==$&&$))&&X._gsap&&X._gsap.stRevert)&&(z=z(we)),$=!0===$?X:tk($),dI(H)&&(H={targets:X,className:H}),$&&(!1===J||J===NI||(J=!(!J&&$.parentNode&&$.parentNode.style&&"flex"===OI($.parentNode).display)&&II),we.pin=$,(i=ck.core.getCache($)).spacer?v=i.pinState:(oe&&((oe=tk(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),i.spacerIsNative=!!oe,oe&&(i.spacerState=xN(oe))),i.spacer=w=oe||dk.createElement("div"),w.classList.add("pin-spacer"),K&&w.classList.add("pin-spacer-"+K),i.pinState=v=xN($)),!1!==t.force3D&&ck.set($,{force3D:!0}),we.spacer=w=i.spacer,R=OI($),S=R[J+ue.os2],x=ck.getProperty($),E=ck.quickSetter($,ue.a,AI),_N($,w,R),_=xN($)),ye){p=mI(ye)?DI(ye,qI):qI,d=GI("scroller-start",K,de,ue,p,0),f=GI("scroller-end",K,de,ue,p,0,d),b=d["offset"+ue.op.d2];var Ie=tk(HS(de,"content")||de);u=this.markerStart=GI("start",K,Ie,ue,p,b,0,ae),h=this.markerEnd=GI("end",K,Ie,ue,p,b,0,ae),ae&&(V=ck.quickSetter([u,h],ue.a,AI)),me||BS.length&&!0===HS(de,"fixedMarkers")||(!function(e){var t=OI(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?pk:de),ck.set([d,f],{force3D:!0}),I=ck.quickSetter(d,ue.a,AI),P=ck.quickSetter(f,ue.a,AI))}if(ae){var Ne=ae.vars.onUpdate,Pe=ae.vars.onUpdateParams;ae.eventCallback("onUpdate",function(){we.update(0,0,1),Ne&&Ne.apply(ae,Pe||[])})}if(we.previous=function(){return QI[QI.indexOf(we)-1]},we.next=function(){return QI[QI.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var r=!1!==e||!we.enabled,i=bk;r!==we.isReverted&&(r&&(F=Math.max(ke(),we.scroll.rec||0),Se=we.progress,U=n&&n.progress()),u&&[u,h,d,f].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(bk=we,we.update(r)),!$||se&&we.isActive||(r?function(e,t,n){bN(n);var r=e._gsap;if(r.spacerIsNative)bN(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}($,w,v):_N($,w,OI($),k)),r||we.update(r),bk=i,we.isReverted=r)},we.refresh=function(i,s,p,b){if(!bk&&we.enabled||s)if($&&i&&Xk)VI(e,"scrollEnd",rN);else{!Wk&&be&&be(we),bk=we,r.tween&&!p&&(r.tween.kill(),r.tween=0),D&&D.pause(),Z&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var E,S,I,P,R,A,O,M,L,V,z,B,q,W=xe(),H=Ee(),K=ae?ae.duration():uI(de,ue),G=g<=.01||!g,Q=0,ee=b||0,te=mI(p)?p.end:t.end,ne=t.endTrigger||X,re=mI(p)?p.start:t.start||(0!==t.start&&X?$?"0 0":"0 100%":0),ie=we.pinnedContainer=t.pinnedContainer&&tk(t.pinnedContainer,we),oe=X&&Math.max(0,QI.indexOf(we))||0,le=oe;for(ye&&mI(p)&&(B=ck.getProperty(d,ue.p),q=ck.getProperty(f,ue.p));le-- >0;)(A=QI[le]).end||A.refresh(0,1)||(bk=we),!(O=A.pin)||O!==X&&O!==$&&O!==ie||A.isReverted||(V||(V=[]),V.unshift(A),A.revert(!0,!0)),A!==QI[le]&&(oe--,le--);for(fI(re)&&(re=re(we)),re=Jk(re,"start",we),l=CN(re,X,W,ue,ke(),u,d,we,H,_e,me,K,ae,we._startClamp&&"_startClamp")||($?-.001:0),fI(te)&&(te=te(we)),dI(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(dI(re)?re.split(" ")[0]:"")+te:(Q=KI(te.substr(2),W),te=dI(re)?re:(ae?ck.utils.mapRange(0,ae.duration(),ae.scrollTrigger.start,ae.scrollTrigger.end,l):l)+Q,ne=X)),te=Jk(te,"end",we),c=Math.max(l,CN(te||(ne?"100% 0":K),ne,W,ue,ke()+Q,h,f,we,H,_e,me,K,ae,we._endClamp&&"_endClamp"))||-.001,Q=0,le=oe;le--;)(O=(A=QI[le]||{}).pin)&&A.start-A._pinPush<=l&&!ae&&A.end>0&&(E=A.end-(we._startClamp?Math.max(0,A.start):A.start),(O===X&&A.start-A._pinPush<l||O===ie)&&isNaN(re)&&(Q+=E*(1-A.progress)),O===$&&(ee+=E));if(l+=Q,c+=Q,we._startClamp&&(we._startClamp+=Q),we._endClamp&&!Wk&&(we._endClamp=c||-.001,c=Math.min(c,uI(de,ue))),g=c-l||(l-=.01)&&.001,G&&(Se=ck.utils.clamp(0,1,ck.utils.normalize(l,c,F))),we._pinPush=ee,u&&Q&&((E={})[ue.a]="+="+Q,ie&&(E[ue.p]="-="+ke()),ck.set([u,h],E)),!$||zk&&we.end>=uI(de,ue)){if(X&&ke()&&!ae)for(S=X.parentNode;S&&S!==pk;)S._pinOffset&&(l-=S._pinOffset,c-=S._pinOffset),S=S.parentNode}else E=OI($),P=ue===ek,I=ke(),C=parseFloat(x(ue.a))+ee,!K&&c>1&&(z={style:z=(pe?dk.scrollingElement||fk:de).style,value:z["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==OI(pk)["overflow"+ue.a.toUpperCase()]&&(z.style["overflow"+ue.a.toUpperCase()]="scroll")),_N($,w,E),_=xN($),S=MI($,!0),M=me&&nk(de,P?ZS:ek)(),J?((k=[J+ue.os2,g+ee+AI]).t=w,(le=J===II?LI($,ue)+g+ee:0)&&(k.push(ue.d,le+AI),"auto"!==w.style.flexBasis&&(w.style.flexBasis=le+AI)),bN(k),ie&&QI.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),me&&ke(F)):(le=LI($,ue))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=le+AI),me&&((R={top:S.top+(P?I-l:M)+AI,left:S.left+(P?M:I-l)+AI,boxSizing:"border-box",position:"fixed"})[xI]=R["max"+PI]=Math.ceil(S.width)+AI,R[EI]=R["max"+RI]=Math.ceil(S.height)+AI,R[NI]=R[NI+SI]=R[NI+CI]=R[NI+kI]=R[NI+TI]="0",R[II]=E[II],R[II+SI]=E[II+SI],R[II+CI]=E[II+CI],R[II+kI]=E[II+kI],R[II+TI]=E[II+TI],y=function(e,t,n){for(var r,i=[],s=e.length,o=n?8:0;o<s;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(v,R,se),Wk&&ke(0)),n?(L=n._initted,Nk(1),n.render(n.duration(),!0,!0),T=x(ue.a)-C+g+ee,N=Math.abs(g-T)>1,me&&N&&y.splice(y.length-2,2),n.render(0,!0,!0),L||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Nk(0)):T=g,z&&(z.value?z.style["overflow"+ue.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+ue.a));V&&V.forEach(function(e){return e.revert(!1,!0)}),we.start=l,we.end=c,o=a=Wk?F:ke(),ae||Wk||(o<F&&ke(F),we.scroll.rec=0),we.revert(!1,!0),Te=Yk(),j&&(Ce=-1,j.restart(!0)),bk=0,n&&he&&(n._initted||U)&&n.progress()!==U&&n.progress(U||0,!0).render(n.time(),!0,!0),(G||Se!==we.progress||ae||Z||n&&!n._initted)&&(n&&!he&&(n._initted||Se||!1!==n.vars.immediateRender)&&n.totalProgress(ae&&l<-.001&&!Se?ck.utils.normalize(l,c,0):Se,!0),we.progress=G||(o-l)/g===Se?0:Se),$&&J&&(w._pinOffset=Math.round(we.progress*T)),D&&D.invalidate(),isNaN(B)||(B-=ck.getProperty(d,ue.p),q-=ck.getProperty(f,ue.p),IN(d,ue,B),IN(u,ue,B-(b||0)),IN(f,ue,q),IN(h,ue,q-(b||0))),G&&!Wk&&we.update(),!Y||Wk||m||(m=!0,Y(we),m=!1)}},we.getVelocity=function(){return(ke()-a)/(Yk()-_k)*1e3||0},we.endAnimation=function(){gI(we.callbackAnimation),n&&(D?D.progress(1):n.paused()?he||gI(n,we.direction<0,1):gI(n,n.reversed()))},we.labelToScroll=function(e){return n&&n.labels&&(l||we.refresh()||l)+n.labels[e]/n.duration()*g||0},we.getTrailing=function(e){var t=QI.indexOf(we),n=we.direction>0?QI.slice(0,t).reverse():QI.slice(t+1);return(dI(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return we.direction>0?e.end<=l:e.start>=c})},we.update=function(e,t,i){if(!ae||i||e){var s,u,h,f,p,m,v,b=!0===Wk?F:we.scroll(),x=e?0:(b-l)/g,k=x<0?0:x>1?1:x||0,R=we.progress;if(t&&(a=o,o=ae?ke():b,ie&&(O=A,A=n&&!he?n.totalProgress():k)),ee&&$&&!bk&&!Gk&&Xk&&(!k&&l<b+(b-a)/(Yk()-_k)*ee?k=1e-4:1===k&&c>b+(b-a)/(Yk()-_k)*ee&&(k=.9999)),k!==R&&we.enabled){if(f=(p=(s=we.isActive=!!k&&k<1)!==(!!R&&R<1))||!!k!==!!R,we.direction=k>R?1:-1,we.progress=k,f&&!bk&&(u=k&&!R?0:1===k?1:1===R?2:3,he&&(h=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===h||"reset"===h||h in n))),ce&&(p||v)&&(v||Q||!n)&&(fI(ce)?ce(we):we.getTrailing(ce).forEach(function(e){return e.endAnimation()})),he||(!D||bk||Gk?n&&n.totalProgress(k,!(!bk||!Te&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",k,n._tTime/n._tDur):(D.vars.totalProgress=k,D.invalidate().restart()))),$)if(e&&J&&(w.style[J+ue.os2]=S),me){if(f){if(m=!e&&k>R&&c+1>b&&b+1>=uI(de,ue),se)if(e||!s&&!m)SN($,w);else{var M=MI($,!0),L=b-l;SN($,pk,M.top+(ue===ek?L:0)+AI,M.left+(ue===ek?0:L)+AI)}bN(s||m?y:_),N&&k<1&&s||E(C+(1!==k||m?0:T))}}else E(iI(C+T*k));ie&&!r.tween&&!bk&&!Gk&&j.restart(!0),H&&(p||re&&k&&(k<1||!Bk))&&vk(H.targets).forEach(function(e){return e.classList[s||re?"add":"remove"](H.className)}),W&&!he&&!e&&W(we),f&&!bk?(he&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),W&&W(we)),!p&&Bk||(G&&p&&vI(we,G),ge[u]&&vI(we,ge[u]),re&&(1===k?we.kill(!1,1):ge[u]=0),p||ge[u=1===k?1:3]&&vI(we,ge[u])),le&&!s&&Math.abs(we.getVelocity())>(pI(le)?le:2500)&&(gI(we.callbackAnimation),D?D.progress(1):gI(n,"reverse"===h?1:!k,1))):he&&W&&!bk&&W(we)}if(P){var U=ae?b/ae.duration()*(ae._caScrollDist||0):b;I(U+(d._isFlipped?1:0)),P(U)}V&&V(-b/ae.duration()*(ae._caScrollDist||0))}},we.enable=function(t,n){we.enabled||(we.enabled=!0,VI(de,"resize",eN),pe||VI(de,"scroll",JI),be&&VI(e,"refreshInit",be),!1!==t&&(we.progress=Se=0,o=a=Ce=ke()),!1!==n&&we.refresh())},we.getTween=function(e){return e&&r?r.tween:D},we.setPositions=function(e,t,n,r){if(ae){var i=ae.scrollTrigger,s=ae.duration(),o=i.end-i.start;e=i.start+o*e/s,t=i.start+o*t/s}we.refresh(!1,!1,{start:Zk(e,n&&!!we._startClamp),end:Zk(t,n&&!!we._endClamp)},r),we.update()},we.adjustPinSpacing=function(e){if(k&&e){var t=k.indexOf(ue.d)+1;k[t]=parseFloat(k[t])+e+AI,k[1]=parseFloat(k[1])+e+AI,bN(k)}},we.disable=function(t,n){if(!1!==t&&we.revert(!0,!0),we.enabled&&(we.enabled=we.isActive=!1,n||D&&D.pause(),F=0,i&&(i.uncache=1),be&&zI(e,"refreshInit",be),j&&(j.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var s=QI.length;s--;)if(QI[s].scroller===de&&QI[s]!==we)return;zI(de,"resize",eN),pe||zI(de,"scroll",JI)}},we.kill=function(e,r){we.disable(e,r),D&&!r&&D.kill(),K&&delete XI[K];var s=QI.indexOf(we);s>=0&&QI.splice(s,1),s===Ck&&mN>0&&Ck--,s=0,QI.forEach(function(e){return e.scroller===we.scroller&&(s=1)}),s||Wk||(we.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,f].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),Kk===we&&(Kk=0),$&&(i&&(i.uncache=1),s=0,QI.forEach(function(e){return e.pin===$&&s++}),s||(i.spacer=0)),t.onKill&&t.onKill(we)},QI.push(we),we.enable(!1,!1),z&&z(we),n&&n.add&&!g){var Re=we.update;we.update=function(){we.update=Re,zS.cache++,l||c||we.refresh()},ck.delayedCall(.01,we.update),g=.01,l=c=0}else we.refresh();$&&function(){if(Hk!==uN){var e=Hk=uN;requestAnimationFrame(function(){return e===uN&&fN(!0)})}}()}else this.update=this.refresh=this.kill=rI},e.register=function(t){return uk||(ck=t||oI(),sI()&&window.document&&e.enable(),uk=$k),uk},e.defaults=function(e){if(e)for(var t in e)WI[t]=e[t];return WI},e.disable=function(e,t){$k=0,QI.forEach(function(n){return n[t?"kill":"disable"](e)}),zI(hk,"wheel",JI),zI(dk,"scroll",JI),clearInterval(wk),zI(dk,"touchcancel",rI),zI(pk,"touchstart",rI),UI(zI,dk,"pointerdown,touchstart,mousedown",tI),UI(zI,dk,"pointerup,touchend,mouseup",nI),gk.kill(),hI(zI);for(var n=0;n<zS.length;n+=3)BI(zI,zS[n],zS[n+1]),BI(zI,zS[n],zS[n+2])},e.enable=function(){if(hk=window,dk=document,fk=dk.documentElement,pk=dk.body,ck&&(vk=ck.utils.toArray,yk=ck.utils.clamp,Lk=ck.core.context||rI,Nk=ck.core.suppressOverwrites||rI,jk=hk.history.scrollRestoration||"auto",pN=hk.pageYOffset||0,ck.core.globals("ScrollTrigger",e),pk)){$k=1,(Fk=document.createElement("div")).style.height="100vh",Fk.style.position="absolute",hN(),eI(),lk.register(ck),e.isTouch=lk.isTouch,Mk=lk.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ak=1===lk.isTouch,VI(hk,"wheel",JI),mk=[hk,dk,fk,pk],ck.matchMedia?(e.matchMedia=function(e){var t,n=ck.matchMedia();for(t in e)n.add(t,e[t]);return n},ck.addEventListener("matchMediaInit",function(){aN(),lN()}),ck.addEventListener("matchMediaRevert",function(){return oN()}),ck.addEventListener("matchMedia",function(){fN(0,1),iN("matchMedia")}),ck.matchMedia().add("(orientation: portrait)",function(){return ZI(),ZI})):console.warn("Requires GSAP 3.11.0 or later"),ZI(),VI(dk,"scroll",JI);var t,n,r=pk.hasAttribute("style"),i=pk.style,s=i.borderTopStyle,o=ck.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=MI(pk),ek.m=Math.round(t.top+ek.sc())||0,ZS.m=Math.round(t.left+ZS.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(pk.setAttribute("style",""),pk.removeAttribute("style")),wk=setInterval($I,250),ck.delayedCall(.5,function(){return Gk=0}),VI(dk,"touchcancel",rI),VI(pk,"touchstart",rI),UI(VI,dk,"pointerdown,touchstart,mousedown",tI),UI(VI,dk,"pointerup,touchend,mouseup",nI),Ek=ck.utils.checkPrefix("transform"),yN.push(Ek),uk=Yk(),gk=ck.delayedCall(.2,fN).pause(),kk=[dk,"visibilitychange",function(){var e=hk.innerWidth,t=hk.innerHeight;dk.hidden?(Tk=e,Sk=t):Tk===e&&Sk===t||eN()},dk,"DOMContentLoaded",fN,hk,"load",fN,hk,"resize",eN],hI(VI),QI.forEach(function(e){return e.enable(0,1)}),n=0;n<zS.length;n+=3)BI(zI,zS[n],zS[n+1]),BI(zI,zS[n],zS[n+2])}},e.config=function(t){"limitCallbacks"in t&&(Bk=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(wk)||(wk=n)&&setInterval($I,n),"ignoreMobileResize"in t&&(Ak=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(hI(zI)||hI(VI,t.autoRefreshEvents||"none"),Pk=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=tk(e),r=zS.indexOf(n),i=aI(n);~r&&zS.splice(r,i?6:2),t&&(i?BS.unshift(hk,t,pk,t,fk,t):BS.unshift(n,t))},e.clearMatchMedia=function(e){QI.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(dI(e)?tk(e):e).getBoundingClientRect(),i=r[n?xI:EI]*t||0;return n?r.right-i>0&&r.left+i<hk.innerWidth:r.bottom-i>0&&r.top+i<hk.innerHeight},e.positionInViewport=function(e,t,n){dI(e)&&(e=tk(e));var r=e.getBoundingClientRect(),i=r[n?xI:EI],s=null==t?i/2:t in HI?HI[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/hk.innerWidth:(r.top+s)/hk.innerHeight},e.killAll=function(e){if(QI.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=tN.killAll||[];tN={},t.forEach(function(e){return e()})}},e}();PN.version="3.14.2",PN.saveStyles=function(e){return e?vk(e).forEach(function(e){if(e&&e.style){var t=sN.indexOf(e);t>=0&&sN.splice(t,5),sN.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ck.core.getCache(e),Lk())}}):sN},PN.revert=function(e,t){return lN(!e,t)},PN.create=function(e,t){return new PN(e,t)},PN.refresh=function(e){return e?eN(!0):(uk||PN.register())&&fN(!0)},PN.update=function(e){return++zS.cache&&gN(!0===e?2:0)},PN.clearScrollMemory=cN,PN.maxScroll=function(e,t){return uI(e,t?ZS:ek)},PN.getScrollFunc=function(e,t){return nk(tk(e),t?ZS:ek)},PN.getById=function(e){return XI[e]},PN.getAll=function(){return QI.filter(function(e){return"ScrollSmoother"!==e.vars.id})},PN.isScrolling=function(){return!!Xk},PN.snapDirectional=FI,PN.addEventListener=function(e,t){var n=tN[e]||(tN[e]=[]);~n.indexOf(t)||n.push(t)},PN.removeEventListener=function(e,t){var n=tN[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},PN.batch=function(e,t){var n,r=[],i={},s=t.interval||.016,o=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=ck.delayedCall(s,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&fI(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return fI(o)&&(o=o(),VI(PN,"refresh",function(){return o=t.batchMax()})),vk(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(PN.create(t))}),r};var RN,AN=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},ON=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(lk.isTouch?" pinch-zoom":""):"none",t===fk&&e(pk,n)},DN={auto:1,scroll:1},MN=function(e){var t,n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||ck.core.getCache(s),a=Yk();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==pk&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!DN[(t=OI(s)).overflowY]&&!DN[t.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!aI(s)&&(DN[(t=OI(s)).overflowY]||DN[t.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},LN=function(e,t,n,r){return lk.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&MN,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&VI(dk,lk.eventTypes[0],FN,!1,!0)},onDisable:function(){return zI(dk,lk.eventTypes[0],FN,!0)}})},jN=/(input|label|select|textarea)/i,FN=function(e){var t=jN.test(e.target.tagName);(t||RN)&&(e._gsapAllow=!0,RN=t)},UN=function(e){mI(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,s,o,a,l,c=e,u=c.normalizeScrollX,h=c.momentum,d=c.allowNestedScroll,f=c.onRelease,p=tk(e.target)||fk,m=ck.core.globals().ScrollSmoother,g=m&&m.get(),v=Mk&&(e.content&&tk(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=nk(p,ek),_=nk(p,ZS),w=1,b=(lk.isTouch&&hk.visualViewport?hk.visualViewport.scale*hk.visualViewport.width:hk.outerWidth)/hk.innerWidth,x=0,E=fI(h)?function(){return h(t)}:function(){return h||2.8},C=LN(p,e.type,!0,d),T=function(){return i=!1},S=rI,k=rI,I=function(){n=uI(p,ek),k=yk(Mk?1:0,n),u&&(S=yk(0,uI(p,ZS))),r=uN},N=function(){v._gsap.y=iI(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){I(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&ck.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return Mk&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=iI(t.deltaY/2),n=k(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=iI((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=zS.cache,gN()}return!0}y.offset&&N(),i=!0}()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=w;w=iI((hk.visualViewport&&hk.visualViewport.scale||1)/b),s.pause(),e!==w&&ON(p,w>1.01||!u&&"x"),o=_(),a=y(),I(),r=uN},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&N(),t){zS.cache++;var r,i,o=E();u&&(i=(r=_())+.05*o*-e.velocityX/.227,o*=AN(_,r,i,uI(p,ZS)),s.vars.scrollX=S(i)),i=(r=y())+.05*o*-e.velocityY/.227,o*=AN(y,r,i,uI(p,ek)),s.vars.scrollY=k(i),s.invalidate().duration(o).play(.01),(Mk&&s.vars.scrollY>=n||r>=n-1)&&ck.to({},{onUpdate:P,duration:o})}else l.restart(!0);f&&f(e)},e.onWheel=function(){s._ts&&s.pause(),Yk()-x>1e3&&(r=0,x=Yk())},e.onChange=function(e,t,n,i,s){if(uN!==r&&I(),t&&u&&_(S(i[2]===t?o+(e.startX-e.x):_()+t-i[1])),n){y.offset&&N();var l=s[2]===n,c=l?a+e.startY-e.y:y()+n-s[1],h=k(c);l&&c!==h&&(a+=h-c),y(h)}(n||t)&&gN()},e.onEnable=function(){ON(p,!u&&"x"),PN.addEventListener("refresh",P),VI(hk,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),C.enable()},e.onDisable=function(){ON(p,!0),zI(hk,"resize",P),PN.removeEventListener("refresh",P),C.kill()},e.lockAxis=!1!==e.lockAxis,(t=new lk(e)).iOS=Mk,Mk&&!y()&&y(1),Mk&&ck.ticker.add(rI),l=t._dc,s=ck.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:kN(y,y(),function(){return s.pause()})},onUpdate:gN,onComplete:l.vars.onComplete}),t};PN.sort=function(e){if(fI(e))return QI.sort(e);var t=hk.pageYOffset||0;return PN.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+hk.innerHeight}),QI.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},PN.observe=function(e){return new lk(e)},PN.normalizeScroll=function(e){if("undefined"===typeof e)return Rk;if(!0===e&&Rk)return Rk.enable();if(!1===e)return Rk&&Rk.kill(),void(Rk=e);var t=e instanceof lk?e:UN(e);return Rk&&Rk.target===t.target&&Rk.kill(),aI(t.target)&&(Rk=t),t},PN.core={_getVelocityProp:rk,_inputObserver:LN,_scrollers:zS,_proxies:BS,bridge:{ss:function(){Xk||iN("scrollStart"),Xk=Yk()},ref:function(){return bk}}},oI()&&ck.registerPlugin(PN),vS.registerPlugin(PN);const VN=()=>{const e=(0,r.useRef)(null);return ES(()=>{e.current&&vS.from(".suit-card",{opacity:0,y:50,duration:.6,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:e.current,start:"top 85%",toggleActions:"play none none none"}})},{scope:e,dependencies:[]}),{containerRef:e}},zN=()=>(0,ub.jsxs)("div",{className:"bg-surface rounded-3xl shadow-lg animate-pulse",children:[(0,ub.jsx)("div",{className:"aspect-[3/4] bg-surface-variant rounded-t-3xl"}),(0,ub.jsxs)("div",{className:"p-4",children:[(0,ub.jsx)("div",{className:"h-6 bg-surface-variant rounded w-3/4 mb-2"}),(0,ub.jsx)("div",{className:"h-4 bg-surface-variant rounded w-1/2"})]})]}),BN=e=>{let{isFavorite:t,onToggle:n}=e;return(0,ub.jsx)("div",{className:"absolute top-3 right-3 h-8 w-8 grid place-items-center bg-background/70 backdrop-blur-sm rounded-full cursor-pointer hover:scale-110 transition-transform",onClick:n,children:(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,className:"w-5 h-5 transition-colors duration-200 ".concat(t?"fill-red-500 stroke-red-600":"fill-none stroke-currentColor text-on-surface"),children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})},qN=e=>{let{suit:t,onSelect:n,isFavorite:r,onToggleFavorite:i}=e;const{name:s="Traje Elegante",price:o=99,size:a="N/A",imageUrl:l,eventType:c="Gala"}=t;return(0,ub.jsxs)("div",{className:"suit-card group cursor-pointer bg-surface rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",onClick:()=>n(t.id),children:[(0,ub.jsxs)("div",{className:"relative aspect-[3/4] w-full overflow-hidden rounded-t-3xl",children:[(0,ub.jsx)("img",{src:l||"https://via.placeholder.com/400x533.png/f0f0f0/333333?text=Ready2Wear",alt:s,className:"h-full w-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),c&&(0,ub.jsx)("div",{className:"absolute top-3 left-3 bg-primary/80 backdrop-blur-sm text-on-primary text-xs font-semibold px-3 py-1 rounded-full",children:(u=c,u?u.charAt(0).toUpperCase()+u.slice(1):"")}),(0,ub.jsx)(BN,{isFavorite:r,onToggle:e=>{e.stopPropagation(),i(t.id)}})]}),(0,ub.jsxs)("div",{className:"p-4",children:[(0,ub.jsx)("div",{className:"flex justify-between items-start",children:(0,ub.jsxs)("div",{children:[(0,ub.jsx)("h3",{className:"text-lg font-semibold text-on-surface leading-tight",children:s}),(0,ub.jsxs)("p",{className:"text-sm text-on-surface-variant",children:["Talla: ",a]})]})}),(0,ub.jsxs)("p",{className:"mt-2 text-lg font-bold text-primary",children:["\u20ac",o,(0,ub.jsx)("span",{className:"text-sm font-normal text-on-surface-variant",children:"/d\xeda"})]})]})]});var u},WN=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ub.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})),HN=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})})),KN=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})})),GN=()=>(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),YN=e=>{let{isOpen:t,onClose:n,availableFilters:r,activeFilters:i,onFilterChange:s,onResetFilters:o}=e;if(!t)return null;const a=e=>{let{title:t,options:n,filterKey:r}=e;return(0,ub.jsxs)("div",{className:"py-4 border-b border-outline/50",children:[(0,ub.jsx)("h4",{className:"font-semibold text-on-surface mb-3 px-4",children:t}),(0,ub.jsx)("div",{className:"space-y-1",children:n.map(e=>{var t;const n=null===(t=i[r])||void 0===t?void 0:t.includes(e);return(0,ub.jsxs)("label",{className:"flex items-center px-4 py-2 hover:bg-surface-container-highest rounded-lg mx-2 transition-colors duration-150 cursor-pointer",children:[(0,ub.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-outline text-primary focus:ring-primary",checked:n,onChange:()=>s(r,e)}),(0,ub.jsx)("span",{className:"ml-3 text-sm text-on-surface-variant font-medium",children:e})]},e)})})]})};return(0,ub.jsx)("div",{className:"fixed inset-0 bg-black/40 z-40 animate-fade-in-fast",onClick:n,children:(0,ub.jsxs)("div",{className:"fixed top-0 right-0 h-full w-full max-w-xs bg-surface-container shadow-2xl z-50 flex flex-col animate-slide-in-right",onClick:e=>e.stopPropagation(),children:[(0,ub.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-outline",children:[(0,ub.jsx)("h3",{className:"text-lg font-bold text-on-surface",children:"Filtros"}),(0,ub.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-surface-container-high",children:(0,ub.jsx)(GN,{})})]}),(0,ub.jsxs)("div",{className:"flex-grow overflow-y-auto",children:[r.sizes.length>0&&(0,ub.jsx)(a,{title:"Talla",options:r.sizes,filterKey:"size"}),r.eventTypes.length>0&&(0,ub.jsx)(a,{title:"Tipo de Evento",options:r.eventTypes,filterKey:"eventType"}),r.conditions.length>0&&(0,ub.jsx)(a,{title:"Condici\xf3n",options:r.conditions,filterKey:"condition"})]}),(0,ub.jsxs)("div",{className:"p-4 border-t border-outline flex items-center gap-2",children:[(0,ub.jsx)("button",{onClick:o,className:"w-1/3 h-11 rounded-full border border-outline text-on-surface-variant font-bold hover:bg-surface-container-high transition-colors text-sm",children:"Limpiar"}),(0,ub.jsx)("button",{onClick:n,className:"w-2/3 h-11 rounded-full bg-primary text-on-primary font-bold hover:scale-105 transition-transform",children:"Mostrar Resultados"})]})]})})},QN=e=>{let{onSuitSelect:t,favorites:n,onToggleFavorite:i}=e;const{docs:s,loading:o,error:a}=Ib("trajes"),{containerRef:l}=VN(),c=(0,r.useMemo)(()=>s.map(e=>h(h({},e),{},{size:e.size||e.talla,price:e.price||e.precioPorDia,name:e.name||e.nombre,description:e.description||e.descripcion})),[s]),[u,d]=(0,r.useState)(""),[f,p]=(0,r.useState)("default"),[m,g]=(0,r.useState)({size:[],eventType:[],condition:[]}),[v,y]=(0,r.useState)([]),[_,w]=(0,r.useState)(!1),b=(0,r.useMemo)(()=>{const e=new Set,t=new Set,n=new Set;return c.forEach(r=>{r.size&&e.add(r.size),r.eventType&&t.add(r.eventType.charAt(0).toUpperCase()+r.eventType.slice(1)),r.condition&&n.add(r.condition.charAt(0).toUpperCase()+r.condition.slice(1))}),{sizes:[...e].sort((e,t)=>String(e).localeCompare(String(t),void 0,{numeric:!0})),eventTypes:[...t].sort(),conditions:[...n].sort()}},[c]);(0,r.useEffect)(()=>{let e=[...c];if(u){const t=u.toLowerCase();e=e.filter(e=>{var n,r,i,s,o;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(i=e.size)||void 0===i?void 0:i.toLowerCase().includes(t))||(null===(s=e.eventType)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(o=e.colors)||void 0===o?void 0:o.toLowerCase().includes(t))})}e=e.filter(e=>{var t,n,r,i;const s=0===m.size.length||m.size.includes(e.size),o=0===m.eventType.length||m.eventType.includes((null===(t=e.eventType)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.eventType)||void 0===n?void 0:n.slice(1))),a=0===m.condition.length||m.condition.includes((null===(r=e.condition)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===(i=e.condition)||void 0===i?void 0:i.slice(1)));return s&&o&&a}),"price-asc"===f?e.sort((e,t)=>e.price-t.price):"price-desc"===f&&e.sort((e,t)=>t.price-e.price),y(e)},[c,u,f,m]);const x=Object.values(m).reduce((e,t)=>e+t.length,0);return(0,ub.jsxs)(ub.Fragment,{children:[(0,ub.jsx)(YN,{isOpen:_,onClose:()=>w(!1),availableFilters:b,activeFilters:m,onFilterChange:(e,t)=>{g(n=>{const r=n[e],i=r.includes(t)?r.filter(e=>e!==t):[...r,t];return h(h({},n),{},{[e]:i})})},onResetFilters:()=>{g({size:[],eventType:[],condition:[]}),w(!1)}}),(0,ub.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col space-y-8 px-4 sm:px-6 lg:px-8 py-8",children:[(0,ub.jsxs)("div",{className:"space-y-4",children:[(0,ub.jsxs)("div",{className:"relative",children:[(0,ub.jsx)("input",{type:"text",placeholder:"Buscar por nombre, color, evento...",className:"w-full h-12 pl-12 pr-4 rounded-full bg-surface-container-high text-on-surface focus:outline-none focus:ring-2 focus:ring-primary shadow-sm",value:u,onChange:e=>d(e.target.value)}),(0,ub.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,ub.jsx)(WN,{className:"h-6 w-6 text-on-surface-variant"})})]}),(0,ub.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ub.jsxs)("button",{onClick:()=>w(!0),className:"relative flex items-center space-x-2 h-10 px-4 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors text-sm",children:[(0,ub.jsx)(HN,{className:"h-5 w-5 text-on-surface-variant"}),(0,ub.jsx)("span",{className:"font-medium text-on-surface",children:"Filtros"}),x>0&&(0,ub.jsx)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-xs font-bold text-on-primary",children:x})]}),(0,ub.jsxs)("div",{className:"relative",children:[(0,ub.jsxs)("select",{className:"appearance-none cursor-pointer h-10 pl-4 pr-10 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors text-sm font-medium text-on-surface focus:outline-none",value:f,onChange:e=>p(e.target.value),children:[(0,ub.jsx)("option",{value:"default",children:"Ordenar por"}),(0,ub.jsx)("option",{value:"price-asc",children:"Precio: de menor a mayor"}),(0,ub.jsx)("option",{value:"price-desc",children:"Precio: de mayor a menor"})]}),(0,ub.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,ub.jsx)(KN,{className:"h-5 w-5 text-on-surface-variant"})})]})]})]}),(0,ub.jsx)("div",{className:"min-h-[400px]",children:o?(0,ub.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,ub.jsx)(zN,{},t))}):a?(0,ub.jsx)("p",{className:"text-center text-error",children:"Error al cargar los trajes."}):0!==v.length||o?(0,ub.jsx)("div",{ref:l,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(e=>(0,ub.jsx)(qN,{suit:e,onSelect:t,isFavorite:n.has(e.id),onToggleFavorite:i},e.id))}):(0,ub.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"No se encontraron resultados"}),(0,ub.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Intenta ajustar tu b\xfasqueda o filtros para encontrar lo que buscas."})]})})]})]})},XN=()=>(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h16.5M3.75 12h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"})}),$N=()=>(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.518a.562.562 0 01.321.988l-4.204 3.055a.563.563 0 00-.182.557l1.528 4.7-3.976-2.888a.563.563 0 00-.64 0L7.02 21.03l1.528-4.7a.563.563 0 00-.182-.557l-4.204-3.055a.563.563 0 01.321-.988h5.518a.563.563 0 00.475-.345L11.48 3.5z"})}),JN=()=>(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a15.998 15.998 0 001.622-3.385m3.388 1.62a15.998 15.998 0 00-1.622 3.385m-5.043-.025a15.998 15.998 0 01-3.388-1.62m-1.622 3.385a15.998 15.998 0 01-3.388 1.62m16.5 0a48.11 48.11 0 00-16.5 0"})}),ZN=()=>(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402a3.75 3.75 0 00-.625-6.25l-6.402-6.401a3.75 3.75 0 00-5.304 0 3.75 3.75 0 000 5.304l6.402 6.401a3.75 3.75 0 006.25.625"})}),eP=()=>(0,ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})}),tP=e=>{let{icon:t,title:n,value:r}=e;return(0,ub.jsxs)("div",{className:"flex flex-col items-center text-center p-3 bg-surface-container rounded-2xl",children:[(0,ub.jsx)("div",{className:"text-primary mb-1",children:t}),(0,ub.jsx)("p",{className:"text-xs text-on-surface-variant font-medium",children:n}),(0,ub.jsx)("p",{className:"text-sm font-semibold text-on-surface mt-0.5",children:r})]})},nP=e=>{let{suitId:t,onBack:n}=e;const{user:i}=cb(),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[d,f]=(0,r.useState)("description"),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(null),[y,_]=(0,r.useState)(0);(0,r.useEffect)(()=>{const e=Xw(Om,"trajes/".concat(t));l(!0);const n=ib(e,e=>{const n=e.val();n?o(h(h({},n),{},{id:t})):u("No se pudo encontrar el traje."),l(!1)},e=>{console.error(e),u("Error al cargar el traje."),l(!1)});return()=>n()},[t]),(0,r.useEffect)(()=>{if(p&&g&&s&&s.price){const e=new Date(p),t=new Date(g),n=Math.abs(t-e),r=Math.ceil(n/864e5)+1;_(r*s.price)}else _(0)},[p,g,s]);const w=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";return(0,ub.jsxs)("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[(0,ub.jsx)("button",{onClick:n,children:"Volver"}),a&&(0,ub.jsx)("p",{children:"Cargando..."}),c&&(0,ub.jsx)("p",{children:c}),s&&(0,ub.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,ub.jsxs)("div",{className:"space-y-6",children:[(0,ub.jsx)("div",{className:"aspect-[3/4] bg-surface-container rounded-3xl shadow-lg overflow-hidden animate-scale-in",children:(0,ub.jsx)("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover"})}),(0,ub.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,ub.jsx)(tP,{icon:(0,ub.jsx)(XN,{}),title:"Talla",value:s.size||"N/A"}),(0,ub.jsx)(tP,{icon:(0,ub.jsx)($N,{}),title:"Evento",value:w(s.eventType)||"N/A"}),(0,ub.jsx)(tP,{icon:(0,ub.jsx)(JN,{}),title:"Estado",value:w(s.condition)||"N/A"}),(0,ub.jsx)(tP,{icon:(0,ub.jsx)(ZN,{}),title:"Color",value:s.colors||"N/A"})]})]}),(0,ub.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,ub.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-on-surface",children:s.name}),(0,ub.jsxs)("p",{className:"text-3xl font-light text-primary mt-2",children:["\u20ac",s.price,(0,ub.jsx)("span",{className:"text-lg font-normal text-on-surface-variant",children:"/d\xeda"})]}),(0,ub.jsxs)("div",{className:"flex items-center gap-3 my-6 p-3 bg-surface-container rounded-2xl",children:[(0,ub.jsx)("img",{src:s.ownerPhotoURL||"https://i.pravatar.cc/150?u=a042581f4e29026704d",alt:s.ownerName||"Propietario no disponible",className:"w-12 h-12 rounded-full"}),(0,ub.jsxs)("div",{children:[(0,ub.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Propietario"}),(0,ub.jsx)("p",{className:"font-bold text-on-surface",children:s.ownerName||"Dato no disponible"})]})]}),(0,ub.jsxs)("div",{className:"bg-surface-container p-4 rounded-2xl mb-6",children:[(0,ub.jsxs)("h3",{className:"font-bold text-on-surface flex items-center mb-3",children:[(0,ub.jsx)(eP,{})," Selecciona las fechas"]}),(0,ub.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ub.jsxs)("div",{children:[(0,ub.jsx)("label",{htmlFor:"start-date",className:"text-sm font-medium text-on-surface-variant",children:"Desde"}),(0,ub.jsx)("input",{type:"date",id:"start-date",value:p||"",onChange:e=>m(e.target.value),className:"w-full p-2 mt-1 rounded-lg bg-surface border border-outline focus:border-primary focus:ring-0"})]}),(0,ub.jsxs)("div",{children:[(0,ub.jsx)("label",{htmlFor:"end-date",className:"text-sm font-medium text-on-surface-variant",children:"Hasta"}),(0,ub.jsx)("input",{type:"date",id:"end-date",value:g||"",onChange:e=>v(e.target.value),min:p,className:"w-full p-2 mt-1 rounded-lg bg-surface border border-outline focus:border-primary focus:ring-0"})]})]}),y>0&&(0,ub.jsx)("div",{className:"mt-4 text-center bg-surface-container-high p-3 rounded-lg",children:(0,ub.jsxs)("p",{className:"font-bold text-on-surface",children:["Precio Total Estimado: ",(0,ub.jsxs)("span",{className:"text-primary",children:["\u20ac",y]})]})})]}),(0,ub.jsx)("div",{className:"border-b border-outline/50 mb-4",children:(0,ub.jsxs)("nav",{className:"-mb-px flex gap-6",children:[(0,ub.jsx)("button",{onClick:()=>f("description"),className:"shrink-0 px-1 pb-4 text-sm font-medium ".concat("description"===d?"border-b-2 border-primary text-primary":"border-transparent text-on-surface-variant hover:text-on-surface"),children:"Descripci\xf3n"}),(0,ub.jsx)("button",{onClick:()=>f("materials"),className:"shrink-0 px-1 pb-4 text-sm font-medium ".concat("materials"===d?"border-b-2 border-primary text-primary":"border-transparent text-on-surface-variant hover:text-on-surface"),children:"Materiales"})]})}),(0,ub.jsxs)("div",{className:"text-on-surface-variant text-sm leading-relaxed min-h-[4rem]",children:["description"===d&&(0,ub.jsx)("p",{children:s.description||"No hay descripci\xf3n."}),"materials"===d&&(0,ub.jsx)("p",{children:s.materials||"No se especificaron materiales."})]}),(0,ub.jsxs)("div",{className:"mt-auto pt-6 flex flex-col sm:flex-row gap-4",children:[(0,ub.jsx)("button",{onClick:async()=>{if(!i)return void alert("Debes iniciar sesi\xf3n para alquilar un traje.");if(!p||!g)return void alert("Por favor, selecciona un rango de fechas v\xe1lido.");if(!s.ownerId)return alert("Error cr\xedtico: Este traje no tiene un propietario asignado y no puede ser alquilado. Por favor, contacta con soporte."),void console.error("Fallo en handleRental: El objeto 'suit' no contiene 'ownerId'.",s);const e={suitId:s.id,suitName:s.name,suitImageUrl:s.imageUrl,ownerId:s.ownerId,renterId:i.uid,renterName:i.displayName,renterPhotoURL:i.photoURL,startDate:p,endDate:g,totalPrice:y,status:"pending"};try{const t=Xw(Om,"alquileres");await function(e,t){e=Dn(e),cw("push",e._path),sw("push",t,e._path,!0);const n=ww(e._repo),r=qw(n),i=$w(e,r),s=$w(e,r);let o;return o=null!=t?Zw(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(t,e),alert("\xa1Solicitud de alquiler enviada!\nRecibir\xe1s una notificaci\xf3n cuando ".concat(s.ownerName||"el propietario"," confirme la reserva.")),m(null),v(null)}catch(c){console.error("Error al crear la reserva:",c),alert("Hubo un error al procesar tu solicitud. Por favor, int\xe9ntalo de nuevo.")}},disabled:!p||!g,className:"w-full h-12 rounded-full bg-primary text-on-primary font-bold hover:scale-105 transition-transform disabled:bg-surface-container-high disabled:text-on-surface-variant disabled:scale-100",children:"Solicitar Alquiler"}),(0,ub.jsx)("button",{className:"w-full h-12 rounded-full border-2 border-primary text-primary font-bold hover:bg-primary/10 transition-colors",children:"Enviar Mensaje"})]})]})]})]})},rP=()=>(0,ub.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8 bg-surface rounded-2xl shadow-lg animate-fade-in",children:[(0,ub.jsx)("h2",{className:"text-2xl font-bold text-on-surface mb-2",children:"Mensajes"}),(0,ub.jsx)("p",{className:"text-on-surface-variant",children:"Esta secci\xf3n est\xe1 en construcci\xf3n."}),(0,ub.jsx)("p",{className:"text-on-surface-variant mt-4 max-w-md",children:"En esta secci\xf3n podr\xe1s comunicarte directamente con otros usuarios para coordinar el alquiler, hacer preguntas sobre los trajes y gestionar tus reservas."})]}),iP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})),sP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})),oP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0h1.5m15 0h-1.5m-15 0l-.375-.375M21 12l-.375-.375m-17.25 0l-.375.375M3.375 12l.375.375m16.5 0l.375-.375M4.5 19.5l-1.5-1.5M19.5 4.5l-1.5-1.5"})})),aP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})),lP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})})),cP=e=>{let{onNavClick:t}=e;const{user:n}=cb(),r={owner:4.8,renter:5};return n?(0,ub.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col space-y-6 pb-8",children:[(0,ub.jsxs)("div",{className:"flex flex-col items-center space-y-4 p-6 bg-surface-container rounded-3xl shadow-sm",children:[(0,ub.jsx)("img",{src:n.photoURL,alt:"Foto de perfil",className:"h-24 w-24 rounded-full object-cover border-4 border-primary"}),(0,ub.jsxs)("div",{className:"text-center",children:[(0,ub.jsx)("h1",{className:"text-2xl font-bold text-on-surface",children:n.displayName}),(0,ub.jsx)("p",{className:"text-on-surface-variant",children:n.email})]}),(0,ub.jsx)("button",{className:"mt-2 text-sm font-semibold text-primary hover:underline",children:"Editar Perfil"})]}),(0,ub.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,ub.jsxs)("div",{className:"bg-surface-container p-4 rounded-xl",children:[(0,ub.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Puntuaci\xf3n como Due\xf1o"}),(0,ub.jsxs)("p",{className:"text-2xl font-bold text-on-surface",children:["\u2b50 ",r.owner.toFixed(1)]})]}),(0,ub.jsxs)("div",{className:"bg-surface-container p-4 rounded-xl",children:[(0,ub.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Puntuaci\xf3n como Inquilino"}),(0,ub.jsxs)("p",{className:"text-2xl font-bold text-on-surface",children:["\u2b50 ",r.renter.toFixed(1)]})]})]}),(0,ub.jsx)("div",{className:"bg-surface-container rounded-xl overflow-hidden",children:(0,ub.jsxs)("ul",{className:"divide-y divide-outline/50",children:[(0,ub.jsxs)("li",{onClick:()=>t("my-items"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ub.jsx)(iP,{className:"h-6 w-6 text-on-surface-variant"}),(0,ub.jsx)("span",{className:"font-medium text-on-surface",children:"Mis Art\xedculos"})]}),(0,ub.jsx)(aP,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,ub.jsxs)("li",{onClick:()=>t("my-rentals"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ub.jsx)(lP,{className:"h-6 w-6 text-on-surface-variant"}),(0,ub.jsx)("span",{className:"font-medium text-on-surface",children:"Mis Alquileres"})]}),(0,ub.jsx)(aP,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,ub.jsxs)("li",{onClick:()=>t("my-favorites"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ub.jsx)(sP,{className:"h-6 w-6 text-on-surface-variant"}),(0,ub.jsx)("span",{className:"font-medium text-on-surface",children:"Favoritos"})]}),(0,ub.jsx)(aP,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,ub.jsxs)("li",{className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ub.jsx)(oP,{className:"h-6 w-6 text-on-surface-variant"}),(0,ub.jsx)("span",{className:"font-medium text-on-surface",children:"Ajustes"})]}),(0,ub.jsx)(aP,{className:"h-5 w-5 text-on-surface-variant"})]})]})})]}):(0,ub.jsx)("div",{children:"Cargando perfil..."})},uP=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,ub.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-background/80 backdrop-blur-sm animate-fade-in",onClick:n,children:(0,ub.jsx)("div",{onClick:e=>e.stopPropagation(),className:"relative animate-scale-in",children:r})}):null},hP=e=>{let{id:t,label:n,type:r="text",value:i,onChange:s,placeholder:o,required:a=!0}=e;return(0,ub.jsxs)("div",{className:"relative",children:[(0,ub.jsx)("input",{type:r,id:t,value:i,onChange:s,placeholder:o||" ",required:a,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer"}),(0,ub.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},dP=e=>{let{id:t,label:n,value:r,onChange:i,placeholder:s,required:o=!0}=e;return(0,ub.jsxs)("div",{className:"relative",children:[(0,ub.jsx)("textarea",{id:t,value:r,onChange:i,placeholder:s||" ",required:o,rows:4,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer"}),(0,ub.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-4 peer-placeholder-shown:top-6 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},fP=e=>{let{id:t,label:n,value:r,onChange:i,children:s,required:o=!0}=e;return(0,ub.jsxs)("div",{className:"relative",children:[(0,ub.jsx)("select",{id:t,value:r,onChange:i,required:o,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer",children:s}),(0,ub.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},pP=e=>{let{onAdd:t,onUpdate:n,onCancel:i,suitToEdit:s}=e;const o=!!s,[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[E,C]=(0,r.useState)("");(0,r.useEffect)(()=>{o&&(l(s.name||""),u(s.description||""),d(s.size||""),p(s.price||""),g(s.materials||""),y(s.colors||""),w(s.eventType||""),x(s.condition||""),C(s.imageUrl||""))},[s,o]);return(0,ub.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r={name:a,description:c,size:h,price:Number(f),materials:m,colors:v,eventType:_,condition:b,imageUrl:E};o?n(s.id,r):t(r)},className:"p-6 bg-surface-container-low rounded-4xl w-full max-w-lg mx-auto",children:[(0,ub.jsx)("h2",{className:"text-2xl font-bold text-on-surface mb-8 text-center",children:o?"Editar Traje":"A\xf1adir Nuevo Traje"}),(0,ub.jsxs)("div",{className:"space-y-7",children:[(0,ub.jsx)(hP,{id:"name",label:"T\xedtulo",value:a,onChange:e=>l(e.target.value)}),(0,ub.jsx)(dP,{id:"description",label:"Descripci\xf3n",value:c,onChange:e=>u(e.target.value)}),(0,ub.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ub.jsx)(hP,{id:"size",label:"Talla",value:h,onChange:e=>d(e.target.value)}),(0,ub.jsx)(hP,{id:"price",label:"Precio por d\xeda (\u20ac)",type:"number",value:f,onChange:e=>p(e.target.value)})]}),(0,ub.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ub.jsx)(hP,{id:"materials",label:"Materiales",value:m,onChange:e=>g(e.target.value)}),(0,ub.jsx)(hP,{id:"colors",label:"Colores",value:v,onChange:e=>y(e.target.value)})]}),(0,ub.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ub.jsxs)(fP,{id:"eventType",label:"Tipo de Evento",value:_,onChange:e=>w(e.target.value),children:[(0,ub.jsx)("option",{value:"",children:"Elige una opci\xf3n"}),(0,ub.jsx)("option",{value:"boda",children:"Boda"}),(0,ub.jsx)("option",{value:"gala",children:"Gala"}),(0,ub.jsx)("option",{value:"negocios",children:"Negocios"}),(0,ub.jsx)("option",{value:"casual",children:"Casual"}),(0,ub.jsx)("option",{value:"otro",children:"Otro"})]}),(0,ub.jsxs)(fP,{id:"condition",label:"Estado del Art\xedculo",value:b,onChange:e=>x(e.target.value),children:[(0,ub.jsx)("option",{value:"",children:"Elige una opci\xf3n"}),(0,ub.jsx)("option",{value:"nuevo",children:"Nuevo"}),(0,ub.jsx)("option",{value:"como-nuevo",children:"Como Nuevo"}),(0,ub.jsx)("option",{value:"bueno",children:"Bueno"}),(0,ub.jsx)("option",{value:"usado",children:"Usado"})]})]}),(0,ub.jsx)(hP,{id:"imageUrl",label:"URL de la Imagen",value:E,onChange:e=>C(e.target.value)})]}),(0,ub.jsxs)("div",{className:"mt-10 flex justify-end gap-4",children:[(0,ub.jsx)("button",{type:"button",onClick:i,className:"px-6 py-2.5 text-sm font-semibold text-primary rounded-full hover:bg-primary/10",children:"Cancelar"}),(0,ub.jsx)("button",{type:"submit",className:"px-6 py-2.5 text-sm font-semibold text-on-primary bg-primary rounded-full shadow-sm hover:scale-105 transition-transform",children:o?"Guardar Cambios":"Publicar Traje"})]})]})},mP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})),gP=e=>{let{onClick:t}=e;return(0,ub.jsx)("button",{onClick:t,className:"fixed bottom-24 md:bottom-8 right-6 bg-blue-800 text-white rounded-full h-16 w-16 flex items-center justify-center shadow-lg hover:bg-blue-900 transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-800","aria-label":"A\xf1adir nuevo art\xedculo",children:(0,ub.jsx)(mP,{className:"h-8 w-8"})})},vP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})),yP=e=>(0,ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})),_P=()=>{const{user:e}=cb(),{docs:t,loading:n,error:i}=Ib("trajes","ownerId",e?e.uid:null),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null);return(0,ub.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col space-y-6",children:[(0,ub.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:"Mis Art\xedculos"}),n&&(0,ub.jsx)("p",{children:"Cargando tus art\xedculos..."}),i&&(0,ub.jsx)("p",{className:"text-error",children:"Error al cargar los art\xedculos."}),(0,ub.jsx)("div",{className:"space-y-4",children:n||0!==t.length?t.map(e=>(0,ub.jsxs)("div",{className:"flex items-center space-x-4 bg-surface p-3 rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,ub.jsx)("img",{src:e.imageUrl,alt:e.name,className:"h-24 w-24 rounded-lg object-cover"}),(0,ub.jsxs)("div",{className:"flex-grow",children:[(0,ub.jsx)("h2",{className:"font-bold text-lg text-on-surface",children:e.name}),(0,ub.jsxs)("p",{className:"text-on-surface-variant",children:["\u20ac",e.price,"/d\xeda"]})]}),(0,ub.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,ub.jsxs)("button",{onClick:()=>(l(e),void o(!0)),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,ub.jsx)(vP,{className:"h-5 w-5"}),(0,ub.jsx)("span",{className:"text-sm font-medium",children:"Editar"})]}),(0,ub.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este art\xedculo? Esta acci\xf3n no se puede deshacer."))try{const t=Xw(Om,"trajes/".concat(e));await Jw(t)}catch(i){console.error("Error al eliminar el art\xedculo:",i),alert("Hubo un error al eliminar el art\xedculo. Por favor, int\xe9ntalo de nuevo.")}})(e.id),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-error-container text-on-error-container hover:bg-error-container/80 transition-colors",children:[(0,ub.jsx)(yP,{className:"h-5 w-5"}),(0,ub.jsx)("span",{className:"text-sm font-medium",children:"Eliminar"})]})]})]},e.id)):(0,ub.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no has publicado nada"}),(0,ub.jsx)("p",{className:"text-on-surface-variant mt-2",children:"\xa1A\xf1ade tu primer traje y empieza a ganar dinero!"})]})}),(0,ub.jsx)(gP,{onClick:()=>{l(null),o(!0)}}),(0,ub.jsx)(uP,{isOpen:s,onClose:()=>o(!1),children:(0,ub.jsx)(pP,{onUpdate:async(e,t)=>{try{const n=Xw(Om,"trajes/".concat(e));await eb(n,t),o(!1),l(null)}catch(i){console.error("Error al actualizar el art\xedculo:",i),alert("Hubo un error al guardar los cambios. Por favor, int\xe9ntalo de nuevo.")}},onCancel:()=>{o(!1),l(null)},suitToEdit:a})})]})},wP=e=>{let{rental:t,isOwnerView:n=!1,onUpdateStatus:r}=e;const{suitName:i,suitImageUrl:s,startDate:o,endDate:a,totalPrice:l,status:c,renterName:u,renterPhotoURL:h}=t;return(0,ub.jsxs)("div",{className:"flex items-center gap-4 bg-surface p-3 rounded-2xl shadow-sm",children:[(0,ub.jsx)("img",{src:s,alt:i,className:"h-24 w-24 rounded-lg object-cover"}),(0,ub.jsxs)("div",{className:"flex-grow",children:[(0,ub.jsx)("h3",{className:"font-bold text-lg text-on-surface",children:i}),(0,ub.jsxs)("p",{className:"text-sm text-on-surface-variant",children:[o," al ",a]}),(0,ub.jsxs)("p",{className:"font-semibold text-primary",children:["\u20ac",l]}),n&&(0,ub.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,ub.jsx)("img",{src:h,alt:u,className:"w-6 h-6 rounded-full"}),(0,ub.jsxs)("p",{className:"text-xs text-on-surface-variant",children:["Solicitado por ",u]})]})]}),(0,ub.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,ub.jsx)("span",{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full ".concat((e=>{switch(e){case"pending":return"bg-yellow-200 text-yellow-800";case"accepted":return"bg-green-200 text-green-800";case"rejected":return"bg-red-200 text-red-800";default:return"bg-gray-200 text-gray-800"}})(c)),children:c.charAt(0).toUpperCase()+c.slice(1)}),n&&"pending"===c&&(0,ub.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,ub.jsx)("button",{onClick:()=>r(t.id,"accepted"),className:"px-3 py-1 text-xs font-semibold text-white bg-green-600 rounded-full hover:bg-green-700",children:"Aceptar"}),(0,ub.jsx)("button",{onClick:()=>r(t.id,"rejected"),className:"px-3 py-1 text-xs font-semibold text-white bg-red-600 rounded-full hover:bg-red-700",children:"Rechazar"})]})]})]})},bP=()=>{const{user:e}=cb(),{docs:t,loading:n}=Ib("alquileres","renterId",e?e.uid:null),{docs:r,loading:i}=Ib("alquileres","ownerId",e?e.uid:null),s=async(e,t)=>{const n=Xw(Om,"alquileres/".concat(e));try{await eb(n,{status:t})}catch(Zm){console.error("Error actualizando el estado del alquiler:",Zm),alert("No se pudo actualizar la solicitud.")}};return(0,ub.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-8",children:[(0,ub.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:"Mis Alquileres"}),(0,ub.jsxs)("section",{children:[(0,ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Mis Alquileres"}),(0,ub.jsx)("div",{className:"space-y-4",children:n?(0,ub.jsx)("p",{children:"Cargando..."}):t.length>0?t.map(e=>(0,ub.jsx)(wP,{rental:e},e.id)):(0,ub.jsx)("p",{className:"text-on-surface-variant p-4 bg-surface-container rounded-lg",children:"No has alquilado ning\xfan traje todav\xeda."})})]}),(0,ub.jsxs)("section",{children:[(0,ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Solicitudes Recibidas"}),(0,ub.jsx)("div",{className:"space-y-4",children:i?(0,ub.jsx)("p",{children:"Cargando..."}):r.length>0?r.map(e=>(0,ub.jsx)(wP,{rental:e,isOwnerView:!0,onUpdateStatus:s},e.id)):(0,ub.jsx)("p",{className:"text-on-surface-variant p-4 bg-surface-container rounded-lg",children:"Nadie ha solicitado alquilar tus trajes todav\xeda."})})]})]})},xP=e=>{let{favorites:t,onSuitSelect:n,onToggleFavorite:i}=e;const{docs:s,loading:o,error:a}=Ib("trajes"),{containerRef:l}=VN(),c=(0,r.useMemo)(()=>t&&0!==s.length?s.filter(e=>t.has(e.id)):[],[s,t]);return(0,ub.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col space-y-8 px-4 sm:px-6 lg:px-8 py-8",children:[(0,ub.jsxs)("header",{children:[(0,ub.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-on-background",children:"Mis Favoritos"}),(0,ub.jsx)("p",{className:"mt-1 text-lg text-on-surface-variant",children:"Los trajes que m\xe1s te han gustado, todos en un mismo lugar."})]}),(0,ub.jsx)("div",{className:"min-h-[400px]",children:o?(0,ub.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(3)].map((e,t)=>(0,ub.jsx)(zN,{},t))}):a?(0,ub.jsx)("p",{className:"text-center text-error",children:"Error al cargar tus favoritos."}):0===c.length?(0,ub.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no tienes favoritos"}),(0,ub.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Haz clic en el coraz\xf3n de los trajes que te gusten para guardarlos aqu\xed."})]}):(0,ub.jsx)("div",{ref:l,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(e=>(0,ub.jsx)(qN,{suit:e,onSelect:n,isFavorite:!0,onToggleFavorite:i},e.id))})})]})};const EP=function(){const{user:e,loading:t}=cb(),[n,i]=(0,r.useState)(new Set),s=Te();(0,r.useEffect)(()=>{if(!e)return void i(new Set);const t=ib(Xw(Om,"users/".concat(e.uid,"/favorites")),e=>{const t=e.val();i(new Set(t?Object.keys(t):[]))});return()=>t()},[e]);const o=async t=>{if(!e)return;const r=Xw(Om,"users/".concat(e.uid,"/favorites/").concat(t));n.has(t)?await Jw(r):await Zw(r,!0)};if(t)return(0,ub.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,ub.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-primary"})});if(!e)return(0,ub.jsx)(kb,{});const a={onSuitSelect:e=>{s("/suit/".concat(e))},favorites:n,onToggleFavorite:o};return(0,ub.jsxs)("div",{className:"bg-background min-h-screen flex flex-col",children:[(0,ub.jsx)(_b,{}),(0,ub.jsx)("main",{className:"flex-grow container mx-auto p-4 pt-24 md:pt-28 pb-20",children:(0,ub.jsxs)(Ke,{children:[(0,ub.jsx)(We,{path:"/",element:(0,ub.jsx)(QN,h({},a))}),(0,ub.jsx)(We,{path:"/search",element:(0,ub.jsx)(QN,h({},a))}),(0,ub.jsx)(We,{path:"/suit/:suitId",element:(0,ub.jsx)(nP,{favorites:n,onToggleFavorite:o})}),(0,ub.jsx)(We,{path:"/messages",element:(0,ub.jsx)(rP,{})}),(0,ub.jsx)(We,{path:"/my-items",element:(0,ub.jsx)(_P,{})}),(0,ub.jsx)(We,{path:"/my-rentals",element:(0,ub.jsx)(bP,{})}),(0,ub.jsx)(We,{path:"/favorites",element:(0,ub.jsx)(xP,h({},a))}),(0,ub.jsx)(We,{path:"/profile",element:(0,ub.jsx)(cP,{})})]})}),(0,ub.jsx)(wb,{}),(0,ub.jsx)(Sb,{})]})};s.createRoot(document.getElementById("root")).render((0,ub.jsx)(r.StrictMode,{children:(0,ub.jsx)(Tt,{children:(0,ub.jsx)(db,{children:(0,ub.jsx)(EP,{})})})}))})();