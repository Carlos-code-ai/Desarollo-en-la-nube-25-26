/*! For license information please see main.c8fad5d4.js.LICENSE.txt */
(()=>{"use strict";var e={49(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=_.prototype=new y;w.constructor=_,m(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},119(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340(e,t,n){e.exports=n(761)},345(e,t,n){var r=n(569),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(co){var r=co}Reflect.construct(e,[],t)}else{try{t.call()}catch(co){r=co}e.call(t.prototype)}else{try{throw Error()}catch(co){r=co}e()}}catch(co){if(co&&r&&"string"===typeof co.stack){for(var i=co.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ee=null;function Te(e){if(e=_i(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Se(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==ke||null!==Ee)&&(Ne(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,je=null,Fe=!1,Ue=null,ze={onError:function(e){Le=!0,je=e}};function Ve(e,t,n,r,i,s,o,a,l){Le=!1,je=null,Me.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,kt,Et,Tt,Ct=!1,St=[],It=null,Nt=null,Rt=null,Pt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Rt&&Ft(Rt)&&(Rt=null),Pt.forEach(Ut),At.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),null!==Rt&&Vt(Rt,e),Pt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=_t,s=Bt.transition;Bt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Bt.transition=s}}function Kt(e,t,n,r){var i=_t,s=Bt.transition;Bt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Bt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&bt(s),null===(s=Qt(e,t,n,r))&&Wr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=be(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),wn=sn(j({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return En}var Cn=j({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(Cn),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,jn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},kr={},Er={};function Tr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Tr("animationend"),Sr=Tr("animationiteration"),Ir=Tr("animationstart"),Nr=Tr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Sr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=je;Le=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe(function(){var r=s,i=be(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case Sr:case Ir:l=vn;break;case Nr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==h&&Yr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(v=Kr(r,_)).length&&(_=new wn(_,e,null,n,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Ae(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var xi=[],ki=-1;function Ei(e){return{current:e}}function Ti(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ci(e,t){ki++,xi[ki]=e.current,e.current=t}var Si={},Ii=Ei(Si),Ni=Ei(!1),Ri=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(Ii)}function Di(e,t,n){if(Ii.current!==Si)throw Error(s(168));Ci(Ii,t),Ci(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ri=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ii),Ci(Ii,e)):Ti(Ni),Ci(Ni,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{_t=t,zi=!1}}return null}var Bi=[],Wi=0,Hi=null,Ki=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Ji(e,t){Bi[Wi++]=Ki,Bi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=Bi[--Wi],Bi[Wi]=null,Ki=Bi[--Wi],Bi[Wi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case x:return(t=qc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Uc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((s=Uc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Fc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qc(o,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Vc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=_s(!0),bs=_s(!1),xs=Ei(null),ks=null,Es=null,Ts=null;function Cs(){Ts=Es=ks=null}function Ss(e){var t=xs.current;Ti(xs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){ks=e,Ts=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ka=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===ks)throw Error(s(308));Es=e,ks.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function As(e){null===Ps?Ps=[e]:Ps.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);zl|=o,e.lanes=o,e.memoizedState=h}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Hs=Ei(Ws),Ks=Ei(Ws),Gs=Ei(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Gs,t),Ci(Ks,e),Ci(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Hs),Ci(Hs,t)}function Xs(){Ti(Hs),Ti(Ks),Ti(Gs)}function $s(e){Ys(Gs.current);var t=Ys(Hs.current),n=le(t,e.type);t!==n&&(Ci(Ks,e),Ci(Hs,n))}function Js(e){Ks.current===e&&(Ti(Hs),Ti(Ks))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,oo=0,ao=null,lo=null,uo=null,ho=!1,fo=!1,po=0,mo=0;function go(){throw Error(s(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?ra:ia,e=n(r,i),fo){o=0;do{if(fo=!1,po=0,25<=o)throw Error(s(301));o+=1,uo=lo=null,t.updateQueue=null,ro.current=sa,e=n(r,i)}while(fo)}if(ro.current=na,t=null!==lo&&null!==lo.next,oo=0,uo=lo=ao=null,ho=!1,t)throw Error(s(300));return e}function _o(){var e=0!==po;return po=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?ao.memoizedState=uo=e:uo=uo.next=e,uo}function xo(){if(null===lo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===uo?ao.memoizedState:uo.next;if(null!==t)uo=t,lo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===uo?ao.memoizedState=uo=e:uo=uo.next=e}return uo}function ko(e,t){return"function"===typeof t?t(e):t}function To(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=lo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((oo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ao.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ka=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ao.lanes|=o,zl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ka=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=ao,r=xo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ka=!0),r=r.queue,zo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Mo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&oo)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Oo(e)}function Po(e,t,n){return n(function(){Ao(t)&&Oo(e)})}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Oo(e){var t=Ds(e,1);null!==t&&oc(t,e,1,-1)}function Do(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,ao,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return xo().memoizedState}function jo(e,t,n,r){var i=bo();ao.flags|=e,i.memoizedState=Mo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=xo();r=void 0===r?null:r;var s=void 0;if(null!==lo){var o=lo.memoizedState;if(s=o.destroy,null!==r&&vo(r,o.deps))return void(i.memoizedState=Mo(t,n,s,r))}ao.flags|=e,i.memoizedState=Mo(1|t,n,s,r)}function Uo(e,t){return jo(8390656,8,e,t)}function zo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function qo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Ho(){}function Ko(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,ka=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ao.lanes|=n,zl|=n,e.baseState=!0),t)}function Qo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function Xo(){return xo().memoizedState}function $o(e,t,n){var r=sc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e))ea(t,n);else if(null!==(n=Os(e,t,n,r))){oc(n,e,r,ic()),ta(n,t,r)}}function Jo(e,t,n){var r=sc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))ea(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(co){}null!==(n=Os(e,t,i,r))&&(oc(n,e,r,i=ic()),ta(n,t,r))}}function Zo(e){var t=e.alternate;return e===ao||null!==t&&t===ao}function ea(e,t){fo=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ta(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var na={readContext:Rs,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ra={readContext:Rs,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,ao,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Do,useDebugValue:Ho,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Qo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ao,i=bo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&oo)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Mo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=Ol.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ia={readContext:Rs,useCallback:Ko,useContext:Rs,useEffect:zo,useImperativeHandle:Wo,useInsertionEffect:Vo,useLayoutEffect:qo,useMemo:Go,useReducer:To,useRef:Lo,useState:function(){return To(ko)},useDebugValue:Ho,useDeferredValue:function(e){return Yo(xo(),lo.memoizedState,e)},useTransition:function(){return[To(ko)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Xo,unstable_isNewReconciler:!1},sa={readContext:Rs,useCallback:Ko,useContext:Rs,useEffect:zo,useImperativeHandle:Wo,useInsertionEffect:Vo,useLayoutEffect:qo,useMemo:Go,useReducer:Co,useRef:Lo,useState:function(){return Co(ko)},useDebugValue:Ho,useDeferredValue:function(e){var t=xo();return null===lo?t.memoizedState=e:Yo(t,lo.memoizedState,e)},useTransition:function(){return[Co(ko)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Xo,unstable_isNewReconciler:!1};function oa(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function aa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var la={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ic(),i=sc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(oc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ic(),i=sc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(oc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ic(),r=sc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(oc(t,e,r,n),zs(t,e,r))}};function ca(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function ua(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(i=Ai(t)?Ri:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Rs(s):(s=Ai(t)?Ri:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(aa(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&la.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fa(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function pa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ga="function"===typeof WeakMap?WeakMap:Map;function va(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Ql=r),ma(0,t)},n}function ya(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ma(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ma(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function _a(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ga;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function wa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=w.ReactCurrentOwner,ka=!1;function Ea(e,t,n,r){t.child=null===e?bs(t,null,n,r):ws(t,e.child,n,r)}function Ta(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=yo(e,t,n,r,s,i),n=_o(),null===e||ka?(is&&n&&es(t),t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ya(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ya(e,t,i)}return t.flags|=1,(e=jc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ka=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ya(e,t,i);0!==(131072&e.flags)&&(ka=!0)}}return Ra(e,t,n,r,i)}function Ia(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(jl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(jl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(jl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(jl,Ll),Ll|=r;return Ea(e,t,i,n),t.child}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ra(e,t,n,r,i){var s=Ai(n)?Ri:Ii.current;return s=Pi(t,s),Ns(t,i),n=yo(e,t,n,r,s,i),r=_o(),null===e||ka?(is&&r&&es(t),t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ya(e,t,i))}function Pa(e,t,n,r,i){if(Ai(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ka(e,t),ua(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Pi(t,c=Ai(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&ha(t,o,r,c),Ms=!1;var d=t.memoizedState;o.state=d,qs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ms?("function"===typeof u&&(aa(t,n,u,r),l=t.memoizedState),(a=Ms||ca(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,js(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:oa(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Pi(t,l=Ai(n)?Ri:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ha(t,o,r,l),Ms=!1,d=t.memoizedState,o.state=d,qs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ms?("function"===typeof f&&(aa(t,n,f,r),p=t.memoizedState),(c=Ms||ca(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){Na(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ya(e,t,s);r=t.stateNode,xa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):Ea(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Da(e,t,n,r,i){return fs(),ps(i),t.flags|=256,Ea(e,t,n,r),t.child}var Ma,La,ja,Fa={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=zc(l,i,0,null),e=Uc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(n),t.memoizedState=Fa,e):Va(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,qa(e,t,a,r=pa(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(o=Uc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Fa,o);if(0===(1&t.mode))return qa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,qa(e,t,a,r=pa(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ka||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),oc(r,e,i,-1))}return _c(),qa(e,t,a,r=pa(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=jc(r,a):(a=Uc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Fa,i}return e=(a=e.child).sibling,i=jc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qa(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Wa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ea(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,s);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ya(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Xa(t),null;case 3:return r=t.stateNode,Xs(),Ti(Ni),Ti(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(uc(ss),ss=null))),Xa(t),null;case 5:Js(t);var i=Ys(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xa(t),null}if(e=Ys(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ma(e,t),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xa(t),null;case 6:if(e&&null!=t.stateNode)ja(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Xa(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xa(t),o=!1}else null!==ss&&(uc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Fl&&(Fl=3):_c())),null!==t.updateQueue&&(t.flags|=4),Xa(t),null);case 4:return Xs(),null===e&&qr(t.stateNode.containerInfo),Xa(t),null;case 10:return Ss(t.type._context),Xa(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Xa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Qa(o,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Kl&&(t.flags|=128,r=!0,Qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Xa(t),null}else 2*$e()-o.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Xa(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Xa(t),6&t.subtreeFlags&&(t.flags|=8192)):Xa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ja(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ti(Ni),Ti(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Xs(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var Za=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null;function rl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function il(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var sl=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&il(t,n,s)}i=i.next}while(i!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ll(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function cl(e){var t=e.alternate;null!==t&&(e.alternate=null,cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ul(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ul(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}var pl=null,ml=!1;function gl(e,t,n){for(n=n.child;null!==n;)vl(e,t,n),n=n.sibling}function vl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:el||rl(n,t);case 6:var r=pl,i=ml;pl=null,gl(e,t,n),ml=i,null!==(pl=r)&&(ml?(e=pl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pl.removeChild(n.stateNode));break;case 18:null!==pl&&(ml?(e=pl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(pl,n.stateNode));break;case 4:r=pl,i=ml,pl=n.stateNode.containerInfo,ml=!0,gl(e,t,n),pl=r,ml=i;break;case 0:case 11:case 14:case 15:if(!el&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&il(n,t,o),i=i.next}while(i!==r)}gl(e,t,n);break;case 1:if(!el&&(rl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ic(n,t,a)}gl(e,t,n);break;case 21:gl(e,t,n);break;case 22:1&n.mode?(el=(r=el)||null!==n.memoizedState,gl(e,t,n),el=r):gl(e,t,n);break;default:gl(e,t,n)}}function yl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new tl),t.forEach(function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function _l(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:pl=l.stateNode,ml=!1;break e;case 3:case 4:pl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===pl)throw Error(s(160));vl(o,a,i),pl=null,ml=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(co){Ic(i,t,co)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)wl(t,e),t=t.sibling}function wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_l(t,e),bl(e),4&r){try{ol(3,e,e.return),al(3,e)}catch(wo){Ic(e,e.return,wo)}try{ol(5,e,e.return)}catch(wo){Ic(e,e.return,wo)}}break;case 1:_l(t,e),bl(e),512&r&&null!==n&&rl(n,n.return);break;case 5:if(_l(t,e),bl(e),512&r&&null!==n&&rl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(wo){Ic(e,e.return,wo)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(wo){Ic(e,e.return,wo)}}break;case 6:if(_l(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(wo){Ic(e,e.return,wo)}}break;case 3:if(_l(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(wo){Ic(e,e.return,wo)}break;case 4:default:_l(t,e),bl(e);break;case 13:_l(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=$e())),4&r&&yl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(el=(u=el)||h,_l(t,e),el=u):_l(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(nl=e,h=e.child;null!==h;){for(d=nl=h;null!==nl;){switch(p=(f=nl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:rl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(wo){Ic(r,n,wo)}}break;case 5:rl(f,f.return);break;case 22:if(null!==f.memoizedState){Tl(d);continue}}null!==p?(p.return=f,nl=p):Tl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(wo){Ic(e,e.return,wo)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(wo){Ic(e,e.return,wo)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_l(t,e),bl(e),4&r&&yl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ul(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),fl(e,hl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;dl(e,hl(e),o);break;default:throw Error(s(161))}}catch(so){Ic(e,e.return,so)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){nl=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==nl;){var i=nl,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Za;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||el;a=Za;var c=el;if(Za=o,(el=l)&&!c)for(nl=i;null!==nl;)l=(o=nl).child,22===o.tag&&null!==o.memoizedState?Cl(i):null!==l?(l.return=o,nl=l):Cl(i);for(;null!==s;)nl=s,kl(s,t,n),s=s.sibling;nl=i,Za=a,el=c}El(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,nl=s):El(e)}}function El(e){for(;null!==nl;){var t=nl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:el||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!el)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:oa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(s(163))}el||512&t.flags&&ll(t)}catch(f){Ic(t,t.return,f)}}if(t===e){nl=null;break}if(null!==(n=t.sibling)){n.return=t.return,nl=n;break}nl=t.return}}function Tl(e){for(;null!==nl;){var t=nl;if(t===e){nl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,nl=n;break}nl=t.return}}function Cl(e){for(;null!==nl;){var t=nl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(so){Ic(t,n,so)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(so){Ic(t,i,so)}}var s=t.return;try{ll(t)}catch(so){Ic(t,s,so)}break;case 5:var o=t.return;try{ll(t)}catch(so){Ic(t,o,so)}}}catch(so){Ic(t,t.return,so)}if(t===e){nl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,nl=a;break}nl=t.return}}var Sl,Il=Math.ceil,Nl=w.ReactCurrentDispatcher,Rl=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Al=0,Ol=null,Dl=null,Ml=0,Ll=0,jl=Ei(0),Fl=0,Ul=null,zl=0,Vl=0,ql=0,Bl=null,Wl=null,Hl=0,Kl=1/0,Gl=null,Yl=!1,Ql=null,Xl=null,$l=!1,Jl=null,Zl=0,ec=0,tc=null,nc=-1,rc=0;function ic(){return 0!==(6&Al)?$e():-1!==nc?nc:nc=$e()}function sc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ml?Ml&-Ml:null!==ms.transition?(0===rc&&(rc=mt()),rc):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function oc(e,t,n,r){if(50<ec)throw ec=0,tc=null,Error(s(185));vt(e,n,r),0!==(2&Al)&&e===Ol||(e===Ol&&(0===(2&Al)&&(Vl|=n),4===Fl&&hc(e,Ml)),ac(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Kl=$e()+500,Ui&&qi()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ol?Ml:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(dc.bind(null,e)):Vi(dc.bind(null,e)),oi(function(){0===(6&Al)&&qi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,lc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lc(e,t){if(nc=-1,rc=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ol?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=wc(e,r);else{t=r;var i=Al;Al|=2;var o=yc();for(Ol===e&&Ml===t||(Gl=null,Kl=$e()+500,gc(e,t));;)try{xc();break}catch(l){vc(e,l)}Cs(),Nl.current=o,Al=i,null!==Dl?t=0:(Ol=null,Ml=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=cc(e,i))),1===t)throw n=Ul,gc(e,0),hc(e,r),ac(e,$e()),n;if(6===t)hc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=wc(e,r))&&(0!==(o=pt(e))&&(r=o,t=cc(e,o))),1===t))throw n=Ul,gc(e,0),hc(e,r),ac(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Tc(e,Wl,Gl);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=Hl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ic(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Tc.bind(null,e,Wl,Gl),t);break}Tc(e,Wl,Gl);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(Tc.bind(null,e,Wl,Gl),r);break}Tc(e,Wl,Gl);break;default:throw Error(s(329))}}}return ac(e,$e()),e.callbackNode===n?lc.bind(null,e):null}function cc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(gc(e,t).flags|=256),2!==(e=wc(e,t))&&(t=Wl,Wl=n,null!==t&&uc(t)),e}function uc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function hc(e,t){for(t&=~ql,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!==(6&Al))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return ac(e,$e()),null;var n=wc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=cc(e,r))}if(1===n)throw n=Ul,gc(e,0),hc(e,t),ac(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Wl,Gl),ac(e,$e()),null}function fc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Kl=$e()+500,Ui&&qi())}}function pc(e){null!==Jl&&0===Jl.tag&&0===(6&Al)&&Cc();var t=Al;Al|=1;var n=Pl.transition,r=_t;try{if(Pl.transition=null,_t=1,e)return e()}finally{_t=r,Pl.transition=n,0===(6&(Al=t))&&qi()}}function mc(){Ll=jl.current,Ti(jl)}function gc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xs(),Ti(Ni),Ti(Ii),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:Ti(Zs);break;case 10:Ss(r.type._context);break;case 22:case 23:mc()}n=n.return}if(Ol=e,Dl=e=jc(e.current,null),Ml=Ll=t,Fl=0,Ul=null,ql=Vl=zl=0,Wl=Bl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function vc(e,t){for(;;){var n=Dl;try{if(Cs(),ro.current=na,ho){for(var r=ao.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ho=!1}if(oo=0,uo=lo=ao=null,fo=!1,po=0,Rl.current=null,null===n||null===n.return){Fl=1,Ul=t,Dl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=wa(a);if(null!==p){p.flags&=-257,ba(p,a,l,0,t),1&p.mode&&_a(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){_a(o,u,t),_c();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=wa(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ba(v,a,l,0,t),ps(fa(c,l));break e}}o=c=fa(c,l),4!==Fl&&(Fl=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,va(0,c,t));break e;case 1:l=c;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Xl||!Xl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,ya(o,l,t));break e}}o=o.return}while(null!==o)}Ec(n)}catch(Eo){t=Eo,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function yc(){var e=Nl.current;return Nl.current=na,null===e?na:e}function _c(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Ol||0===(268435455&zl)&&0===(268435455&Vl)||hc(Ol,Ml)}function wc(e,t){var n=Al;Al|=2;var r=yc();for(Ol===e&&Ml===t||(Gl=null,gc(e,t));;)try{bc();break}catch(i){vc(e,i)}if(Cs(),Al=n,Nl.current=r,null!==Dl)throw Error(s(261));return Ol=null,Ml=0,Fl}function bc(){for(;null!==Dl;)kc(Dl)}function xc(){for(;null!==Dl&&!Qe();)kc(Dl)}function kc(e){var t=Sl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?Ec(e):Dl=t,Rl.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Ll)))return void(Dl=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Fl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Fl&&(Fl=5)}function Tc(e,t,n){var r=_t,i=Pl.transition;try{Pl.transition=null,_t=1,function(e,t,n,r){do{Cc()}while(null!==Jl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ol&&(Dl=Ol=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Oc(tt,function(){return Cc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var a=_t;_t=1;var l=Al;Al|=4,Rl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Ga){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){t=nl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:oa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Ga){Ic(t,t.return,Ga)}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=sl,sl=!1}(e,n),wl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Xe(),Al=l,_t=a,Pl.transition=o}else e.current=n;if($l&&($l=!1,Jl=e,Zl=i),o=e.pendingLanes,0===o&&(Xl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Ql,Ql=null,e;0!==(1&Zl)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===tc?ec++:(ec=0,tc=e):ec=0,qi()}(e,t,n,r)}finally{Pl.transition=i,_t=r}return null}function Cc(){if(null!==Jl){var e=wt(Zl),t=Pl.transition,n=_t;try{if(Pl.transition=null,_t=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Zl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,nl=e.current;null!==nl;){var o=nl,a=o.child;if(0!==(16&nl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(nl=u;null!==nl;){var h=nl;switch(h.tag){case 0:case 11:case 15:ol(8,h,o)}var d=h.child;if(null!==d)d.return=h,nl=d;else for(;null!==nl;){var f=(h=nl).sibling,p=h.return;if(cl(h),h===u){nl=null;break}if(null!==f){f.return=p,nl=f;break}nl=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}nl=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,nl=a;else e:for(;null!==nl;){if(0!==(2048&(o=nl).flags))switch(o.tag){case 0:case 11:case 15:ol(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,nl=y;break e}nl=o.return}}var _=e.current;for(nl=_;null!==nl;){var w=(a=nl).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,nl=w;else e:for(a=_;null!==nl;){if(0!==(2048&(l=nl).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(Eo){Ic(l,l.return,Eo)}if(l===a){nl=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,nl=b;break e}nl=l.return}}if(Al=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Eo){}r=!0}return r}finally{_t=n,Pl.transition=t}}return!1}function Sc(e,t,n){e=Us(e,t=va(0,t=fa(n,t),1),1),t=ic(),null!==e&&(vt(e,1,t),ac(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Us(t,e=ya(t,e=fa(n,e),1),1),e=ic(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ic(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ml&n)===n&&(4===Fl||3===Fl&&(130023424&Ml)===Ml&&500>$e()-Hl?gc(e,0):ql|=n),ac(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ic();null!==(e=Ds(e,t))&&(vt(e,t,n),ac(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Rc(e,n)}function Oc(e,t){return Ge(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Dc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Lc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Uc(n.children,i,o,t);case E:a=8,i|=8;break;case T:return(e=Mc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Mc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Mc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return zc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case S:a=9;break e;case I:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Uc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Mc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Hc(e){if(!e)return Si;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function Kc(e,t,n,r,i,s,o,a,l){return(e=Wc(n,r,!0,e,0,s,0,a,l)).context=Hc(null),n=e.current,(s=Fs(r=ic(),i=sc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),ac(e,r),e}function Gc(e,t,n,r){var i=t.current,s=ic(),o=sc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(oc(e,i,o,s),zs(e,i,o)),o}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ka=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ka=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),fs();break;case 5:$s(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Ya(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return Ya(e,t,n)}(e,t,n);ka=0!==(131072&e.flags)}else ka=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ns(t,n),i=yo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=la,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),Ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=oa(r,e),i){case 0:t=Ra(null,t,r,e,n);break e;case 1:t=Pa(null,t,r,e,n);break e;case 11:t=Ta(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,oa(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:oa(r,i),n);case 1:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:oa(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,js(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Da(e,t,r,n,i=fa(Error(s(423)),t));break e}if(r!==i){t=Da(e,t,r,n,i=fa(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ya(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Na(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return za(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:oa(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(xs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ya(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Rs(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return i=oa(r=t.type,t.pendingProps),Ca(e,t,r,i=oa(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:oa(r,i),Ka(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Ns(t,n),ua(t,r,i),da(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ia(e,t,n)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function eu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nu(){}function ru(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Yc(o);a.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yc(o);s.call(e)}}var o=Kc(t,r,e,0,null,!1,0,"",nu);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),pc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Yc(l);a.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",nu);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),pc(function(){Gc(t,l,n,r)}),l}(n,t,e,i,r);return Yc(o)}Zc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},Zc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pc(function(){Gc(null,e,null,null)}),t[pi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,$e()),0===(6&Al)&&(Kl=$e()+500,qi()))}break;case 13:pc(function(){var t=Ds(e,1);if(null!==t){var n=ic();oc(t,e,1,n)}}),Xc(e,1)}},xt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)oc(t,e,134217728,ic());Xc(e,134217728)}},kt=function(e){if(13===e.tag){var t=sc(e),n=Ds(e,t);if(null!==n)oc(n,e,t,ic());Xc(e,t)}},Et=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=fc,Ne=pc;var iu={usingClientEntryPoint:!1,Events:[_i,wi,bi,Ce,Se,fc]},su={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ou={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{it=au.inject(ou),st=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!eu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!eu(e))throw Error(s(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return pc(e)},t.hydrate=function(e,t,n){if(!tu(t))throw Error(s(200));return ru(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!eu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Kc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!tu(t))throw Error(s(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tu(e))throw Error(s(40));return!!e._reactRootContainer&&(pc(function(){ru(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=fc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ru(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352(e,t,n){var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414(e,t,n){e.exports=n(654)},569(e,t,n){e.exports=n(49)},654(e,t,n){var r=n(569),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},761(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(x);else{var t=r(u);null!==t&&D(b,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,T=null,C=-1,S=5,I=-1;function N(){return!(t.unstable_now()-I<S)}function R(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?k():(E=!1,T=null)}}else E=!1}if("function"===typeof _)k=function(){_(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,k=function(){A.postMessage(null)}}else k=function(){v(R,0)};function O(e){T=e,E||(E=!0,k())}function D(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,D(b,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(569),i=n.t(r,2),s=n(352);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function _(){return C(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return k("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:E(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?T(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function T(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return S(e)}null==c&&(c=0,o.replaceState(h(h({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,d),l=e,()=>{i.removeEventListener(y,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=k(p.location,e,t);n&&n(r,e),c=u()+1;let h=x(r,c),d=p.createHref(r);try{o.pushState(h,"",d)}catch(Sg){if(Sg instanceof DOMException&&"DataCloneError"===Sg.name)throw Sg;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=k(p.location,e,t);n&&n(r,e),c=u();let i=x(r,c),h=p.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:E(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function I(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=W(("string"===typeof t?T(t):t).pathname||"/",n);if(null==i)return null;let s=R(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=B(i);o=z(s[a],e,r)}return o}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),R(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of P(e.path))s(e,t,!0,r);else s(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=P(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,O=3,D=2,M=1,L=10,j=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=j),t&&(r+=D),n.filter(e=>!F(e)).reduce((e,t)=>e+(A.test(t)?O:""===t?M:L),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:J([s,u.pathname]),pathnameBase:Z(J([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=J([s,u.pathnameBase]))}return o}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Sg){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Sg,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=e=>H.test(e);function G(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Y(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=Q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=T(e):(r=h({},e),w(!r.pathname||!r.pathname.includes("?"),Y("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),Y("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),Y("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:s=""}="string"===typeof e?T(e):e;if(r)if(K(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),b(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?G(r.substring(1),"/"):G(r,n)}else t=n;return{pathname:t,search:ee(i),hash:te(s)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ne=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ie(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function oe(e,t){let n=e;if("string"!==typeof n||!H.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(se)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=W(r.pathname,t);r.origin===e.origin&&null!=s?n=s+r.search+r.hash:i=!0}catch(s){b(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:i,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ae=["POST","PUT","PATCH","DELETE"],le=(new Set(ae),["GET",...ae]);new Set(le),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var ue=r.createContext(null);ue.displayName="DataRouterState";var he=r.createContext(!1);function de(){return r.useContext(he)}var fe=r.createContext({isTransitioning:!1});fe.displayName="ViewTransition";var pe=r.createContext(new Map);pe.displayName="Fetchers";var me=r.createContext(null);me.displayName="Await";var ge=r.createContext(null);ge.displayName="Navigation";var ve=r.createContext(null);ve.displayName="Location";var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var _e=r.createContext(null);_e.displayName="RouteError";var we="REACT_ROUTER_ERROR";function be(){return null!=r.useContext(ve)}function xe(){return w(be(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ve).location}var ke="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ee(e){r.useContext(ge).static||r.useLayoutEffect(e)}function Te(){let{isDataRoute:e}=r.useContext(ye);return e?function(){let{router:e}=Le("useNavigate"),t=Fe("useNavigate"),n=r.useRef(!1);Ee(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,ke),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,h({fromRouteId:t},i)))},[e,t]);return i}():function(){w(be(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:n}=r.useContext(ge),{matches:i}=r.useContext(ye),{pathname:s}=xe(),o=JSON.stringify(X(i)),a=r.useRef(!1);Ee(()=>{a.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ke),!a.current)return;if("number"===typeof r)return void n.go(r);let l=$(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,s,e]);return l}()}r.createContext(null);function Ce(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ye),{pathname:i}=xe(),s=JSON.stringify(X(n));return r.useMemo(()=>$(e,JSON.parse(s),i,"path"===t),[e,s,i,t])}function Se(e,t,n,i,s){w(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(ge),{matches:a}=r.useContext(ye),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ve(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=xe();if(t){var g;let e="string"===typeof t?T(t):t;w("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=I(e,{pathname:y});b(f||null!=_,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=De(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:J([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,n,i,s);return t&&x?r.createElement(ve.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},x):x}function Ie(){let e=Ue(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,a)}var Ne=r.createElement(Ie,null),Re=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(we,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ne(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(_e.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Ae,{error:e},t):t}};Re.contextType=he;var Pe=new WeakMap;function Ae(e){let{children:t,error:n}=e,{basename:i}=r.useContext(ge);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(we,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Pe.get(n);if(t)throw t;let s=oe(e.location,i);if(se&&!Pe.get(n)){if(!s.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw Pe.set(n,t),t}window.location.href=s.absoluteURL||s.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(s.absoluteURL||s.to)})}}return t}function Oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(ce);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}let c=n&&i?(e,t)=>{var r,s;i(e,{location:n.location,params:null!==(r=null===(s=n.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==r?r:{},unstable_pattern:ie(n.matches),errorInfo:t})}:void 0;return s.reduceRight((e,i,u)=>{let h,d=!1,f=null,p=null;n&&(h=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||Ne,a&&(l<0&&0===u?(Ve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===u&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=h?f:d?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?r.createElement(Re,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Me(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Le(e){let t=r.useContext(ce);return w(t,Me(e)),t}function je(e){let t=r.useContext(ue);return w(t,Me(e)),t}function Fe(e){let t=function(e){let t=r.useContext(ye);return w(t,Me(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ue(){var e;let t=r.useContext(_e),n=je("useRouteError"),i=Fe("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var ze={};function Ve(e,t,n){t||ze[e]||(ze[e]=!0,b(!1,n))}var qe={};function Be(e,t){e||qe[t]||(qe[t]=!0,console.warn(t))}i.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:i}=e;return Se(t,void 0,r,i,n)});function We(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function He(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:a=!1,unstable_useTransitions:l}=e;w(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);"string"===typeof i&&(i=T(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=r.useMemo(()=>{let e=W(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:s}},[c,h,d,f,p,m,s]);return b(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(h).concat(d).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ge.Provider,{value:u},r.createElement(ve.Provider,{children:n,value:g}))}function Ke(e){let{children:t,location:n}=e;return Se(Ge(t),n)}r.Component;function Ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ge(e.props.children,s));w(e.type===We,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ge(e.props.children,s)),n.push(o)}),n}var Ye="get",Qe="application/x-www-form-urlencoded";function Xe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var $e=null;var Je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ze(e){return null==e||Je.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Qe,'"')),null)}function et(e,t){let n,r,i,s,o;if(Xe(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?W(o,t):null,n=e.getAttribute("method")||Ye,i=Ze(e.getAttribute("enctype"))||Qe,s=new FormData(e)}else if(function(e){return Xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?W(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ye,i=Ze(e.getAttribute("formenctype"))||Ze(o.getAttribute("enctype"))||Qe,s=new FormData(o,e),!function(){if(null===$e)try{new FormData(document.createElement("form"),0),$e=!1}catch(e){$e=!0}return $e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ye,r=null,i=Qe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function tt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function nt(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===W(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function rt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Sg){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Sg),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function it(e){return null!=e&&"string"===typeof e.page}function st(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ot(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function at(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function lt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!it(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function ct(e,t){return"lazy"===e.mode&&!0===t}function ut(){let e=r.useContext(ce);return tt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ht(){let e=r.useContext(ue);return tt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dt=r.createContext(void 0);function ft(){let e=r.useContext(dt);return tt(e,"You must render this element inside a <HydratedRouter> element"),e}function pt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mt(e,t,n){if(n&&!_t)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}dt.displayName="FrameworkContext";function gt(e){let{page:t}=e,n=o(e,f),{router:i}=ut(),s=r.useMemo(()=>I(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?r.createElement(yt,h({page:t,matches:s},n)):null}function vt(e){let{manifest:t,routeModules:n}=ft(),[i,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return lt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await rt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(st).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),i}function yt(e){let{page:t,matches:n}=e,i=o(e,p),s=xe(),{manifest:a,routeModules:l}=ft(),{basename:c}=ut(),{loaderData:u,matches:d}=ht(),f=r.useMemo(()=>ot(t,n,d,a,s,"data"),[t,n,d,a,s]),m=r.useMemo(()=>ot(t,n,d,a,s,"assets"),[t,n,d,a,s]),g=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=nt(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,s,a,f,n,t,l]),v=r.useMemo(()=>at(m,a),[m,a]),y=vt(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>r.createElement("link",h({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",h({key:t,nonce:i.nonce},n))}))}var _t=!1;function wt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:l}=ft(),{router:c,static:u,staticContext:f}=ut(),{matches:p}=ht(),m=de(),g=ct(a,l);s&&(s.didRenderScripts=!0);let v=mt(p,null,i);r.useEffect(()=>{_t=!0},[]);let y=r.useMemo(()=>{var i;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=u?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];tt(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let n=I(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return h(h({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),_=_t||m?[]:(w=t.entry.imports.concat(at(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let b="object"===typeof t.sri?t.sri:{};return Be(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),_t||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),_.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0})),y)}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function xt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(kt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(kt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function kt(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=ft();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?r.createElement(wt,null):null)))}var Et="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Et&&(window.__reactRouterVersion="7.11.0")}catch(ZR){}function Tt(e){let{basename:t,children:n,unstable_useTransitions:i,window:s}=e,o=r.useRef();null==o.current&&(o.current=_({window:s,v5Compat:!0}));let a=o.current,[l,c]=r.useState({action:a.action,location:a.location}),u=r.useCallback(e=>{!1===i?c(e):r.startTransition(()=>c(e))},[i]);return r.useLayoutEffect(()=>a.listen(u),[a,u]),r.createElement(He,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:i})}var Ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=r.forwardRef(function(e,t){let{onClick:n,discover:i="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=o(e,m),{basename:_,unstable_useTransitions:b}=r.useContext(ge),x="string"===typeof f&&Ct.test(f),k=oe(f,_);f=k.to;let T=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ge),{hash:s,pathname:o,search:a}=Ce(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:J([n,o])),i.createHref({pathname:l,search:a,hash:s})}(f,{relative:a}),[C,S,I]=function(e,t){let n=r.useContext(dt),[i,s]=r.useState(!1),[o,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:pt(l,p),onBlur:pt(c,m),onMouseEnter:pt(u,p),onMouseLeave:pt(h,m),onTouchStart:pt(d,p)}]:[!1,f,{}]}(s,y),N=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Te(),h=xe(),d=Ce(e,{relative:o});return r.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,t)){f.preventDefault();let t=void 0!==n?n:E(h)===E(d),p=()=>u(e,{replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>p()):p()}},[h,u,d,n,i,t,e,s,o,a,l,c])}(f,{replace:c,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:b});let R=r.createElement("a",h(h(h({},y),I),{},{href:k.absoluteURL||T,onClick:k.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||N(e)},ref:bt(t,S),target:d,"data-discover":x||"render"!==i?void 0:"true"}));return C&&!x?r.createElement(r.Fragment,null,R,r.createElement(gt,{page:T})):R});St.displayName="Link";var It=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,f=o(e,g),p=Ce(c,{relative:f.relative}),m=xe(),v=r.useContext(ue),{navigator:y,basename:_}=r.useContext(ge),b=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(fe);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Pt("useViewTransitionState"),s=Ce(e,{relative:t});if(!n.isTransitioning)return!1;let o=W(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=W(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=V(s.pathname,a)||null!=V(s.pathname,o)}(p)&&!0===u,x=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=m.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&_&&(E=W(E,_)||E);const T="/"!==x&&x.endsWith("/")?x.length-1:x.length;let C,S=k===x||!a&&k.startsWith(x)&&"/"===k.charAt(T),I=null!=E&&(E===x||!a&&E.startsWith(x)&&"/"===E.charAt(x.length)),N={isActive:S,isPending:I,isTransitioning:b},R=S?n:void 0;C="function"===typeof s?s(N):[s,S?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(N):l;return r.createElement(St,h(h({},f),{},{"aria-current":R,className:C,ref:t,style:P,to:c,viewTransition:u}),"function"===typeof d?d(N):d)});It.displayName="NavLink";var Nt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:u=Ye,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,_=o(e,v),{unstable_useTransitions:b}=r.useContext(ge),x=Dt(),k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ge),i=r.useContext(ye);w(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=h({},Ce(e||".",{relative:t})),a=xe();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:J([n,o.pathname]));return E(o)}(d,{relative:p}),T="get"===u.toLowerCase()?"get":"post",C="string"===typeof d&&Ct.test(d);return r.createElement("form",h(h({ref:t,method:T,action:k,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,o=()=>x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});b&&!1!==s?r.startTransition(()=>o()):o()}},_),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function Rt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Pt(e){let t=r.useContext(ce);return w(t,Rt(e)),t}Nt.displayName="Form";var At=0,Ot=()=>"__".concat(String(++At),"__");function Dt(){let{router:e}=Pt("useSubmit"),{basename:t}=r.useContext(ge),n=Fe("useRouteId"),i=e.fetch,s=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:l,formData:c,body:u}=et(e,t);if(!1===r.navigate){let e=r.fetcherKey||Ot();await i(e,n,r.action||o,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await s(r.action||o,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,t,n])}const Mt=!1,Lt=!1,jt="${JSCORE_VERSION}",Ft=function(e,t){if(!e)throw Ut(t)},Ut=function(e){return new Error("Firebase Database ("+jt+") INTERNAL ASSERT FAILED: "+e)},zt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qt=function(e){const t=zt(e);return Vt.encodeByteArray(t,!0)},Bt=function(e){try{return Vt.decodeString(e,!0)}catch(ZR){console.error("base64Decode failed: ",ZR)}return null};function Wt(e){return Ht(void 0,e)}function Ht(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Kt(n)&&(e[n]=Ht(e[n],t[n]));return e}function Kt(e){return"__proto__"!==e}class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Yt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function Xt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function $t(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Jt(){const e=Yt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zt(){return!0===Mt||!0===Lt}class en extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}}class tn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(nn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new en(n,s,t)}}const nn=/\{\$([^}]+)}/g;function rn(e){return JSON.parse(e)}function sn(e){return JSON.stringify(e)}const on=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=rn(Bt(s[0])||""),n=rn(Bt(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(ZR){}return{header:t,claims:n,data:r,signature:i}};function an(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function cn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function un(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function hn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(dn(n)&&dn(s)){if(!hn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dn(e){return null!==e&&"object"===typeof e}function fn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function mn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class gn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class vn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=yn),void 0===r.error&&(r.error=yn),void 0===r.complete&&(r.complete=yn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ZR){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ZR){"undefined"!==typeof console&&console.error&&console.error(ZR)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function _n(e,t){return"".concat(e," failed: ").concat(t," argument ")}const wn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function bn(e){return e&&e._delegate?e._delegate:e}class xn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kn="[DEFAULT]";class En{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Gt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ZR){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ZR){if(r)return null;throw ZR}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch(ZR){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ZR){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(am){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===kn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(am){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new En(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Cn=[];var Sn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Sn||(Sn={}));const In={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},Nn=Sn.INFO,Rn={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},Pn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Rn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class An{constructor(e){this.name=e,this._logLevel=Nn,this._logHandler=Pn,this._userLogHandler=null,Cn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?In[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...t),this._logHandler(this,Sn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...t),this._logHandler(this,Sn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...t),this._logHandler(this,Sn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...t),this._logHandler(this,Sn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...t),this._logHandler(this,Sn.ERROR,...t)}}class On{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Dn="@firebase/app",Mn="0.7.11",Ln=new An("@firebase/app"),jn="@firebase/app-compat",Fn="@firebase/analytics-compat",Un="@firebase/analytics",zn="@firebase/app-check-compat",Vn="@firebase/app-check",qn="@firebase/auth",Bn="@firebase/auth-compat",Wn="@firebase/database",Hn="@firebase/database-compat",Kn="@firebase/functions",Gn="@firebase/functions-compat",Yn="@firebase/installations",Qn="@firebase/installations-compat",Xn="@firebase/messaging",$n="@firebase/messaging-compat",Jn="@firebase/performance",Zn="@firebase/performance-compat",er="@firebase/remote-config",tr="@firebase/remote-config-compat",nr="@firebase/storage",rr="@firebase/storage-compat",ir="@firebase/firestore",sr="@firebase/firestore-compat",or="firebase",ar="[DEFAULT]",lr={[Dn]:"fire-core",[jn]:"fire-core-compat",[Un]:"fire-analytics",[Fn]:"fire-analytics-compat",[Vn]:"fire-app-check",[zn]:"fire-app-check-compat",[qn]:"fire-auth",[Bn]:"fire-auth-compat",[Wn]:"fire-rtdb",[Hn]:"fire-rtdb-compat",[Kn]:"fire-fn",[Gn]:"fire-fn-compat",[Yn]:"fire-iid",[Qn]:"fire-iid-compat",[Xn]:"fire-fcm",[$n]:"fire-fcm-compat",[Jn]:"fire-perf",[Zn]:"fire-perf-compat",[er]:"fire-rc",[tr]:"fire-rc-compat",[nr]:"fire-gcs",[rr]:"fire-gcs-compat",[ir]:"fire-fst",[sr]:"fire-fst-compat","fire-js":"fire-js",[or]:"fire-js-all"},cr=new Map,ur=new Map;function hr(e,t){try{e.container.addComponent(t)}catch(ZR){Ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ZR)}}function dr(e){const t=e.name;if(ur.has(t))return Ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;ur.set(t,e);for(const n of cr.values())hr(n,e);return!0}function fr(e,t){return e.container.getProvider(t)}const pr=new tn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const gr="9.6.1";function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar;const t=cr.get(e);if(!t)throw pr.create("no-app",{appName:e});return t}function yr(e,t,n){var r;let i=null!==(r=lr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ln.warn(e.join(" "))}dr(new xn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}var _r;_r="",dr(new xn("platform-logger",e=>new On(e),"PRIVATE")),yr(Dn,Mn,_r),yr(Dn,Mn,"esm2017"),yr("fire-js","");yr("firebase","9.6.1","app");function wr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function br(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xr=br,kr=new tn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Er=new An("@firebase/auth");function Tr(e){if(Er.logLevel<=Sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.error("Auth (".concat(gr,"): ").concat(e),...n)}}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Rr(e,...n)}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rr(e,...n)}function Ir(e,t,n){const r=Object.assign(Object.assign({},xr()),{[t]:n});return new tn("auth","Firebase",r).create(t,{appName:e.name})}function Nr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cr(e,"argument-error"),Ir(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Rr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return kr.create(e,...n)}function Pr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Rr(t,...r)}}function Ar(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tr(t),new Error(t)}function Or(e,t){e||Ar(t)}const Dr=new Map;function Mr(e){Or(e instanceof Function,"Expected a class definition");let t=Dr.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Dr.set(e,t),t)}function Lr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ur{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile=Qt()||$t()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jr()||Xt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zr(e,t){Or(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Br=new Ur(3e4,6e4);function Wr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hr(e,t,n,r){return Kr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=fn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Vr.fetch()(Yr(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function Kr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},qr),t);try{const t=new Qr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Xr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Xr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Xr(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ir(e,a,o);Cr(e,a)}}catch(ZR){if(ZR instanceof en)throw ZR;Cr(e,"network-request-failed")}}async function Gr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Hr(e,t,n,r,i);return"mfaPendingCredential"in s&&Cr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Yr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?zr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Qr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Sr(this.auth,"timeout")),Br.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(e,t,r);return i.customData._tokenResponse=n,i}function $r(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ZR){}}function Jr(e){return 1e3*Number(e)}function Zr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Bt(n);return e?JSON.parse(e):(Tr("Failed to decode base64 JWT payload"),null)}catch(ZR){return Tr("Caught error parsing JWT payload as JSON",ZR),null}}async function ei(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ZR){throw ZR instanceof en&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(ZR)&&e.auth.currentUser===e&&await e.auth.signOut(),ZR}}class ti{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ZR){return void(ZR.code==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ni{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$r(this.lastLoginAt),this.creationTime=$r(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ri(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ei(e,async function(e,t){return Hr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Pr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=wr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ni(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pr(e.idToken,"internal-error"),Pr("undefined"!==typeof e.idToken,"internal-error"),Pr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Zr(e);return Pr(t,"internal-error"),Pr("undefined"!==typeof t.exp,"internal-error"),Pr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Kr(e,{},async()=>{const n=fn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Yr(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Vr.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ii;return n&&(Pr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Pr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Pr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ii,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function si(e,t){Pr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class oi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=wr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new ni(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ei(this,this.stsTokenManager.getToken(this.auth,e));return Pr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bn(e),r=await n.getIdToken(t),i=Zr(r);Pr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$r(Jr(i.auth_time)),issuedAtTime:$r(Jr(i.iat)),expirationTime:$r(Jr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bn(e);await ri(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Pr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ri(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ei(this,async function(e,t){return Hr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:x}=t;Pr(y&&x,e,"internal-error");const k=ii.fromJSON(this.name,x);Pr("string"===typeof y,e,"internal-error"),si(u,e.name),si(h,e.name),Pr("boolean"===typeof _,e,"internal-error"),Pr("boolean"===typeof w,e,"internal-error"),si(d,e.name),si(f,e.name),si(p,e.name),si(m,e.name),si(g,e.name),si(v,e.name);const E=new oi({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(E.providerData=b.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ii;r.updateFromServerResponse(t);const i=new oi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ri(i),i}}class ai{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ai.type="NONE";const li=ai;function ci(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ui{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ci(this.userKey,r.apiKey,i),this.fullPersistenceKey=ci("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ui(Mr(li),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Mr(li);const s=ci(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=oi._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(am){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(am){}})),new ui(i,e,n)):new ui(i,e,n)}}function hi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(di(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vi(t))return"Blackberry";if(yi(t))return"Webos";if(fi(t))return"Safari";if((t.includes("chrome/")||pi(t))&&!t.includes("edge/"))return"Chrome";if(gi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/firefox\//i.test(e)}function fi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/crios\//i.test(e)}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/iemobile/i.test(e)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/android/i.test(e)}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/blackberry/i.test(e)}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/webos/i.test(e)}function _i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return/iphone|ipad|ipod/i.test(e)}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt();return _i(e)||gi(e)||yi(e)||vi(e)||/windows phone/i.test(e)||mi(e)}function bi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hi(Yt());break;case"Worker":t="".concat(hi(Yt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(gr,"/").concat(r)}class xi{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ui.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ZR){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null===s||void 0===s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Pr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ZR){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ri(e)}catch(ZR){if(ZR.code!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?bn(e):null;return t&&Pr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Pr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Pr(t,this,"argument-error"),this.redirectPersistenceManager=await ui.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Pr(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function ki(e){return bn(e)}class Ei{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new vn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Pr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Ti{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function Ci(e,t){return Hr(e,"POST","/v1/accounts:update",t)}class Si extends Ti{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Si(e,t,"password")}static _fromEmailAndCode(e,t){return new Si(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Gr(e,"POST","/v1/accounts:signInWithPassword",Wr(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Gr(e,"POST","/v1/accounts:signInWithEmailLink",Wr(e,t))}(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ci(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Gr(e,"POST","/v1/accounts:signInWithEmailLink",Wr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ii(e,t){return Gr(e,"POST","/v1/accounts:signInWithIdp",Wr(e,t))}class Ni extends Ti{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=wr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ni(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ii(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ii(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ii(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fn(t)}return e}}const Ri={USER_NOT_FOUND:"user-not-found"};class Pi extends Ti{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Gr(e,"POST","/v1/accounts:signInWithPhoneNumber",Wr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Gr(e,"POST","/v1/accounts:signInWithPhoneNumber",Wr(e,t));if(n.temporaryProof)throw Xr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Gr(e,"POST","/v1/accounts:signInWithPhoneNumber",Wr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ri)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Pi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ai{constructor(e){var t,n,r,i,s,o;const a=pn(mn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Pr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=pn(mn(e)).link,n=t?pn(mn(t)).deep_link_id:null,r=pn(mn(e)).deep_link_id;return(r?pn(mn(r)).link:null)||r||n||t||e}(e);try{return new Ai(t)}catch(am){return null}}}class Oi{constructor(){this.providerId=Oi.PROVIDER_ID}static credential(e,t){return Si._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ai.parseLink(t);return Pr(n,"argument-error"),Si._fromEmailAndCode(e,n.code,n.tenantId)}}Oi.PROVIDER_ID="password",Oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Di{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mi extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Li extends Mi{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Li.credential(t.oauthAccessToken)}catch(am){return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com",Li.PROVIDER_ID="facebook.com";class ji extends Mi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ni._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ji.credential(n,r)}catch(am){return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com",ji.PROVIDER_ID="google.com";class Fi extends Mi{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch(am){return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com",Fi.PROVIDER_ID="github.com";class Ui extends Mi{constructor(){super("twitter.com")}static credential(e,t){return Ni._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ui.credential(n,r)}catch(am){return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com",Ui.PROVIDER_ID="twitter.com";class zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await oi._fromIdTokenResponse(e,n,r),s=Vi(n);return new zi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Vi(n);return new zi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Vi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qi extends en{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qi(e,t,n,r)}}function Bi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw qi._fromErrorAndOperation(e,n,t,r);throw n})}async function Wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ei(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zi._forOperation(e,"link",r)}async function Hi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ei(e,Bi(r,i,t,e),n);Pr(s.idToken,r,"internal-error");const o=Zr(s.idToken);Pr(o,r,"internal-error");const{sub:a}=o;return Pr(e.uid===a,r,"user-mismatch"),zi._forOperation(e,i,s)}catch(ZR){throw(null===ZR||void 0===ZR?void 0:ZR.code)==="auth/".concat("user-not-found")&&Cr(r,"user-mismatch"),ZR}}async function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Bi(e,r,t),s=await zi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const Gi="__sak";class Yi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gi,"1"),this.storage.removeItem(Gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(am){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Qi extends Yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Yt();return fi(e)||_i(e)}()&&function(){try{return!(!window||window===window.top)}catch(ZR){return!1}}(),this.fallbackToPolling=wi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Jt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qi.type="LOCAL";const Xi=Qi;class $i extends Yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$i.type="SESSION";const Ji=$i;class Zi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zi.receivers=[];class ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=es("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ns(){return window}function rs(){return"undefined"!==typeof ns().WorkerGlobalScope&&"function"===typeof ns().importScripts}const is="firebaseLocalStorageDb",ss="firebaseLocalStorage",os="fbase_key";class as{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ls(e,t){return e.transaction([ss],t?"readwrite":"readonly").objectStore(ss)}function cs(){const e=indexedDB.open(is,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ss,{keyPath:os})}catch(ZR){n(ZR)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ss)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(is);return new as(e).toPromise()}(),t(await cs()))})})}async function us(e,t,n){const r=ls(e,!0).put({[os]:t,value:n});return new as(r).toPromise()}function hs(e,t){const n=ls(e,!0).delete(t);return new as(n).toPromise()}class ds{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await cs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ZR){if(t++>3)throw ZR;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zi._getInstance(rs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(am){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cs();return await us(e,Gi,"1"),await hs(e,Gi),!0}catch(am){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>us(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ls(e,!1).get(t),r=await new as(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hs(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ls(e,!1).getAll();return new as(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ds.type="LOCAL";const fs=ds;function ps(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Sr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function ms(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}ms("rcb"),new Ur(3e4,6e4);const gs="recaptcha";async function vs(e,t,n){var r;const i=await n.verify();try{let s;if(Pr("string"===typeof i,e,"argument-error"),Pr(n.type===gs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Pr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:start",Wr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Pr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Pr(n,e,"missing-multi-factor-info");const o=await function(e,t){return Hr(e,"POST","/v2/accounts/mfaSignIn:start",Wr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Hr(e,"POST","/v1/accounts:sendVerificationCode",Wr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ys{constructor(e){this.providerId=ys.PROVIDER_ID,this.auth=ki(e)}verifyPhoneNumber(e,t){return vs(this.auth,e,bn(t))}static credential(e,t){return Pi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ys.credentialFromTaggedObject(t)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Pi._fromTokenResponse(n,r):null}}function _s(e,t){return t?Mr(t):(Pr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ys.PROVIDER_ID="phone",ys.PHONE_SIGN_IN_METHOD="phone";class ws extends Ti{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bs(e){return Ki(e.auth,new ws(e),e.bypassAuthState)}function xs(e){const{auth:t,user:n}=e;return Pr(n,t,"internal-error"),Hi(n,new ws(e),e.bypassAuthState)}async function ks(e){const{auth:t,user:n}=e;return Pr(n,t,"internal-error"),Wi(n,new ws(e),e.bypassAuthState)}class Es{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ZR){this.reject(ZR)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(ZR){this.reject(ZR)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bs;case"linkViaPopup":case"linkViaRedirect":return ks;case"reauthViaPopup":case"reauthViaRedirect":return xs;default:Cr(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ts=new Ur(2e3,1e4);class Cs extends Es{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pr(e,this.auth,"internal-error"),e}async onExecution(){Or(1===this.filter.length,"Popup operations only handle one event");const e=es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(e,Ts.get())};e()}}Cs.currentPopupAction=null;const Ss=new Map;class Is extends Es{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ss.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rs(t),r=Ns(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ZR){e=()=>Promise.reject(ZR)}Ss.set(this.auth._key(),e)}return this.bypassAuthState||Ss.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ns(e){return Mr(e._redirectPersistence)}function Rs(e){return ci("pendingRedirect",e.config.apiKey,e.name)}async function Ps(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ki(e),i=_s(r,t),s=new Is(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class As{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ds(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ds(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Os(e))}saveEventToCache(e){this.cachedEventUids.add(Os(e)),this.lastProcessedEventTime=Date.now()}}function Os(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ds(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ls=/^https?/;async function js(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Hr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Fs(n))return}catch(am){}Cr(e,"unauthorized-domain")}function Fs(e){const t=Lr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ls.test(n))return!1;if(Ms.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Us=new Ur(3e4,6e4);function zs(){const e=ns().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Vs=null;function qs(e){return Vs=Vs||function(e){return new Promise((t,n)=>{var r,i,s;function o(){zs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zs(),n(Sr(e,"network-request-failed"))},timeout:Us.get()})}if(null===(i=null===(r=ns().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ns().gapi)||void 0===s?void 0:s.load)){const t=ms("iframefcb");return ns()[t]=()=>{gapi.load?o():n(Sr(e,"network-request-failed"))},ps("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Vs=null,e})}(e),Vs}const Bs=new Ur(5e3,15e3),Ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ks(e){const t=e.config;Pr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:gr},i=Hs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(fn(r).slice(1))}const Gs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ys{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ZR){}}}function Qs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Gs),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Yt().toLowerCase();n&&(a=pi(c)?"_blank":n),di(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return _i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ys(null);const h=window.open(t||"",a,u);Pr(h,e,"popup-blocked");try{h.focus()}catch(ZR){}return new Ys(h)}const Xs="__/auth/handler",$s="emulator/auth/handler";function Js(e,t,n,r,i,s){Pr(e.config.authDomain,e,"auth-domain-config-required"),Pr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(t instanceof Di){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",cn(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Mi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xs);return zr(t,$s)}(e),"?").concat(fn(a).slice(1))}const Zs="webStorageSupport";const eo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=Ps}async _openPopup(e,t,n,r){var i;Or(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Qs(e,Js(e,t,n,Lr(),r),es())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Js(e,t,n,Lr(),r),ns().location.href=i,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Or(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await qs(e),n=ns().gapi;return Pr(n,e,"internal-error"),t.open({where:document.body,url:Ks(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ws,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Sr(e,"network-request-failed"),s=ns().setTimeout(()=>{r(i)},Bs.get());function o(){ns().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new As(e);return t.register("authEvent",t=>{Pr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zs,{type:Zs},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Zs];void 0!==i&&t(!!i),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=js(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wi()||fi()||_i()}};var to,no="@firebase/auth",ro="0.19.4";class io{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}to="Browser",dr(new xn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(e=>{Pr(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Pr(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const t={apiKey:i,authDomain:s,clientPlatform:to,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bi(to)},r=new xi(e,t);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),dr(new xn("auth-internal",e=>(e=>new io(e))(ki(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),yr(no,ro,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(to)),yr(no,ro,"esm2017");var so,oo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ao={},lo=lo||{},co=oo||self;function uo(){}function ho(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var po="closure_uid_"+(1e9*Math.random()>>>0),mo=0;function go(e,t,n){return e.call.apply(e.bind,arguments)}function vo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yo(e,t,n){return(yo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?go:vo).apply(null,arguments)}function _o(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wo(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function bo(){this.s=this.s,this.o=this.o}var xo={};bo.prototype.s=!1,bo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,po)&&e[po]||(e[po]=++mo)}(this);delete xo[e]}},bo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ko=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Eo=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function To(e){return Array.prototype.concat.apply([],arguments)}function Co(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function So(e){return/^[\s\xa0]*$/.test(e)}var Io,No=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ro(e,t){return-1!=e.indexOf(t)}function Po(e,t){return e<t?-1:e>t?1:0}e:{var Ao=co.navigator;if(Ao){var Oo=Ao.userAgent;if(Oo){Io=Oo;break e}}Io=""}function Do(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Mo(e){const t={};for(const n in e)t[n]=e[n];return t}var Lo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jo(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Lo.length;t++)n=Lo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fo(e){return Fo[" "](e),e}Fo[" "]=uo;var Uo,zo=Ro(Io,"Opera"),Vo=Ro(Io,"Trident")||Ro(Io,"MSIE"),qo=Ro(Io,"Edge"),Bo=qo||Vo,Wo=Ro(Io,"Gecko")&&!(Ro(Io.toLowerCase(),"webkit")&&!Ro(Io,"Edge"))&&!(Ro(Io,"Trident")||Ro(Io,"MSIE"))&&!Ro(Io,"Edge"),Ho=Ro(Io.toLowerCase(),"webkit")&&!Ro(Io,"Edge");function Ko(){var e=co.document;return e?e.documentMode:void 0}e:{var Go="",Yo=function(){var e=Io;return Wo?/rv:([^\);]+)(\)|;)/.exec(e):qo?/Edge\/([\d\.]+)/.exec(e):Vo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ho?/WebKit\/(\S+)/.exec(e):zo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Yo&&(Go=Yo?Yo[1]:""),Vo){var Qo=Ko();if(null!=Qo&&Qo>parseFloat(Go)){Uo=String(Qo);break e}}Uo=Go}var Xo,$o={};function Jo(){return function(e){var t=$o;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){let e=0;const t=No(String(Uo)).split("."),n=No("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Po(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Po(0==i[2].length,0==s[2].length)||Po(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e})}if(co.document&&Vo){var Zo=Ko();Xo=Zo||(parseInt(Uo,10)||void 0)}else Xo=void 0;var ea=Xo,ta=function(){if(!co.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{co.addEventListener("test",uo,t),co.removeEventListener("test",uo,t)}catch(n){}return e}();function na(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ra(e,t){if(na.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wo){e:{try{Fo(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ia[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ra.Z.h.call(this)}}na.prototype.h=function(){this.defaultPrevented=!0},wo(ra,na);var ia={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sa="closure_listenable_"+(1e6*Math.random()|0),oa=0;function aa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++oa,this.ca=this.fa=!1}function la(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ca(e){this.src=e,this.g={},this.h=0}function ua(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ko(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(la(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ha(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ca.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=ha(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new aa(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var da="closure_lm_"+(1e6*Math.random()|0),fa={};function pa(e,t,n,r,i){if(r&&r.once)return ga(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)pa(e,t[s],n,r,i);return null}return n=ka(n),e&&e[sa]?e.N(t,n,fo(r)?!!r.capture:!!r,i):ma(e,t,n,!1,r,i)}function ma(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=fo(i)?!!i.capture:!!i,a=ba(e);if(a||(e[da]=a=new ca(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ta||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_a(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ga(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ga(e,t[s],n,r,i);return null}return n=ka(n),e&&e[sa]?e.O(t,n,fo(r)?!!r.capture:!!r,i):ma(e,t,n,!0,r,i)}function va(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)va(e,t[s],n,r,i);else r=fo(r)?!!r.capture:!!r,n=ka(n),e&&e[sa]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ha(s=e.g[t],n,r,i))&&(la(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ba(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ha(t,n,r,i)),(n=-1<e?t[e]:null)&&ya(n))}function ya(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[sa])ua(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_a(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ba(t))?(ua(n,e),0==n.h&&(n.src=null,t[da]=null)):la(e)}}}function _a(e){return e in fa?fa[e]:fa[e]="on"+e}function wa(e,t){if(e.ca)e=!0;else{t=new ra(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ya(e),e=n.call(r,t)}return e}function ba(e){return(e=e[da])instanceof ca?e:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(e){return"function"===typeof e?e:(e[xa]||(e[xa]=function(t){return e.handleEvent(t)}),e[xa])}function Ea(){bo.call(this),this.i=new ca(this),this.P=this,this.I=null}function Ta(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new na(t,e);else if(t instanceof na)t.target=t.target||e;else{var i=t;jo(t=new na(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ca(o,r,!0,t)&&i}if(i=Ca(o=t.g=e,r,!0,t)&&i,i=Ca(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ca(o=t.g=n[s],r,!1,t)&&i}function Ca(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&ua(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}wo(Ea,bo),Ea.prototype[sa]=!0,Ea.prototype.removeEventListener=function(e,t,n,r){va(this,e,t,n,r)},Ea.prototype.M=function(){if(Ea.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)la(n[r]);delete t.g[e],t.h--}}this.I=null},Ea.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ea.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sa=co.JSON.stringify;function Ia(){var e=Ma;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Na,Ra=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pa,e=>e.reset());class Pa{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Aa(e){co.setTimeout(()=>{throw e},0)}function Oa(e,t){Na||function(){var e=co.Promise.resolve(void 0);Na=function(){e.then(La)}}(),Da||(Na(),Da=!0),Ma.add(e,t)}var Da=!1,Ma=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ra.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function La(){for(var e;e=Ia();){try{e.h.call(e.g)}catch(n){Aa(n)}var t=Ra;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Da=!1}function ja(e,t){Ea.call(this),this.h=e||1,this.g=t||co,this.j=yo(this.kb,this),this.l=Date.now()}function Fa(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ua(e,t,n){if("function"===typeof e)n&&(e=yo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yo(e.handleEvent,e)}return 2147483647<Number(t)?-1:co.setTimeout(e,t||0)}function za(e){e.g=Ua(()=>{e.g=null,e.i&&(e.i=!1,za(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}wo(ja,Ea),(so=ja.prototype).da=!1,so.S=null,so.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ta(this,"tick"),this.da&&(Fa(this),this.start()))}},so.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},so.M=function(){ja.Z.M.call(this),Fa(this),delete this.g};class Va extends bo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:za(this)}M(){super.M(),this.g&&(co.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(e){bo.call(this),this.h=e,this.g={}}wo(qa,bo);var Ba=[];function Wa(e,t,n,r){Array.isArray(n)||(n&&(Ba[0]=n.toString()),n=Ba);for(var i=0;i<n.length;i++){var s=pa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ha(e){Do(e.g,function(e,t){this.g.hasOwnProperty(t)&&ya(e)},e),e.g={}}function Ka(){this.g=!0}function Ga(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Sa(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}qa.prototype.M=function(){qa.Z.M.call(this),Ha(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ka.prototype.Aa=function(){this.g=!1},Ka.prototype.info=function(){};var Ya={},Qa=null;function Xa(){return Qa=Qa||new Ea}function $a(e){na.call(this,Ya.Ma,e)}function Ja(e){const t=Xa();Ta(t,new $a(t,e))}function Za(e,t){na.call(this,Ya.STAT_EVENT,e),this.stat=t}function el(e){const t=Xa();Ta(t,new Za(t,e))}function tl(e,t){na.call(this,Ya.Na,e),this.size=t}function nl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return co.setTimeout(function(){e()},t)}Ya.Ma="serverreachability",wo($a,na),Ya.STAT_EVENT="statevent",wo(Za,na),Ya.Na="timingevent",wo(tl,na);var rl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},il={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sl(){}function ol(e){return e.h||(e.h=e.i())}function al(){}sl.prototype.h=null;var ll,cl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ul(){na.call(this,"d")}function hl(){na.call(this,"c")}function dl(){}function fl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qa(this),this.P=ml,e=Bo?125:void 0,this.W=new ja(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pl}function pl(){this.i=null,this.g="",this.h=!1}wo(ul,na),wo(hl,na),wo(dl,sl),dl.prototype.g=function(){return new XMLHttpRequest},dl.prototype.i=function(){return{}},ll=new dl;var ml=45e3,gl={},vl={};function yl(e,t,n){e.K=1,e.v=Vl(Ml(t)),e.s=n,e.U=!0,_l(e,null)}function _l(e,t){e.F=Date.now(),kl(e),e.A=Ml(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ec(n.h,"t",r),e.C=0,n=e.l.H,e.h=new pl,e.g=nu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Va(yo(e.Ia,e,e.g),e.O)),Wa(e.V,e.g,"readystatechange",e.gb),t=e.H?Mo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ja(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function wl(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function bl(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=xl(e,n),r==vl){4==t&&(e.o=4,el(14),i=!1),Ga(e.j,e.m,null,"[Incomplete Response]");break}if(r==gl){e.o=4,el(15),Ga(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ga(e.j,e.m,r,null),Il(e,r)}wl(e)&&r!=vl&&r!=gl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,el(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yc(t),t.L=!0,el(11))):(Ga(e.j,e.m,n,"[Invalid Chunked Response]"),Sl(e),Cl(e))}function xl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vl:(n=Number(t.substring(n,r)),isNaN(n)?gl:(r+=1)+n>t.length?vl:(t=t.substr(r,n),e.C=r+n,t))}function kl(e){e.Y=Date.now()+e.P,El(e,e.P)}function El(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nl(yo(e.eb,e),t)}function Tl(e){e.B&&(co.clearTimeout(e.B),e.B=null)}function Cl(e){0==e.l.G||e.I||$c(e.l,e)}function Sl(e){Tl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Fa(e.W),Ha(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Il(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||lc(n.i,e)))if(n.I=e.N,!e.J&&lc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xc(n),Uc(n)}Gc(n),el(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=nl(yo(n.ab,n),6e3));if(1>=ac(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Zc(n,11)}else if((e.J||n.g==e)&&Xc(n),!So(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Ro(e,"spdy")||Ro(e,"quic")||Ro(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(cc(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,zl(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=tu(r,r.H?r.la:null,r.W),o.J){uc(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Tl(a),kl(a)),r.g=o}else Kc(r);0<n.l.length&&qc(n)}else"stop"!=c[0]&&"close"!=c[0]||Zc(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Zc(n,7):Fc(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Ja(4)}catch(c){}}function Nl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ho(e)||"string"===typeof e)Eo(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ho(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ho(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Rl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Al(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Al(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Al(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(so=fl.prototype).setTimeout=function(e){this.P=e},so.gb=function(e){e=e.target;const t=this.L;t&&3==Oc(e)?t.l():this.Ia(e)},so.Ia=function(e){try{if(e==this.g)e:{const u=Oc(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||Bo||this.g&&(this.h.h||this.g.ga()||Dc(this.g)))){this.I||4!=u||7==t||Ja(8==t||0>=h?3:2),Tl(this);var n=this.g.ba();this.N=n;t:if(wl(this)){var r=Dc(this.g);e="";var i=r.length,s=4==Oc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sl(this),Cl(this);var o="";break t}this.h.i=new co.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!So(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,el(12),Sl(this),Cl(this);break e}Ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Il(this,n)}this.U?(bl(this,u,o),Bo&&this.i&&3==u&&(Wa(this.V,this.W,"tick",this.fb),this.W.start())):(Ga(this.j,this.m,o,null),Il(this,o)),4==u&&Sl(this),this.i&&!this.I&&(4==u?$c(this.l,this):(this.i=!1,kl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,el(12)):(this.o=0,el(13)),Sl(this),Cl(this)}}}catch(u){}},so.fb=function(){if(this.g){var e=Oc(this.g),t=this.g.ga();this.C<t.length&&(Tl(this),bl(this,e,t),this.i&&4!=e&&kl(this))}},so.cancel=function(){this.I=!0,Sl(this)},so.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ja(3),el(17)),Sl(this),this.o=2,Cl(this)):El(this,this.Y-e)},(so=Rl.prototype).R=function(){Pl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},so.T=function(){return Pl(this),this.g.concat()},so.get=function(e,t){return Al(this.h,e)?this.h[e]:t},so.set=function(e,t){Al(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},so.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Ol=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Dl){this.g=void 0!==t?t:e.g,Ll(this,e.j),this.s=e.s,jl(this,e.i),Fl(this,e.m),this.l=e.l,t=e.h;var n=new Xl;n.i=t.i,t.g&&(n.g=new Rl(t.g),n.h=t.h),Ul(this,n),this.o=e.o}else e&&(n=String(e).match(Ol))?(this.g=!!t,Ll(this,n[1]||"",!0),this.s=ql(n[2]||""),jl(this,n[3]||"",!0),Fl(this,n[4]),this.l=ql(n[5]||"",!0),Ul(this,n[6]||"",!0),this.o=ql(n[7]||"")):(this.g=!!t,this.h=new Xl(null,this.g))}function Ml(e){return new Dl(e)}function Ll(e,t,n){e.j=n?ql(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jl(e,t,n){e.i=n?ql(t,!0):t}function Fl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ul(e,t,n){t instanceof Xl?(e.h=t,function(e,t){t&&!e.j&&($l(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Jl(this,t),ec(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Bl(t,Yl)),e.h=new Xl(t,e.g))}function zl(e,t,n){e.h.set(t,n)}function Vl(e){return zl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ql(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bl(t,Hl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bl(t,Hl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bl(n,"/"==n.charAt(0)?Gl:Kl,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bl(n,Ql)),e.join("")};var Hl=/[#\/\?@]/g,Kl=/[#\?:]/g,Gl=/[#\?]/g,Yl=/[#\?@]/g,Ql=/#/g;function Xl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $l(e){e.g||(e.g=new Rl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Jl(e,t){$l(e),t=tc(e,t),Al(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Al((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pl(e)))}function Zl(e,t){return $l(e),t=tc(e,t),Al(e.g.h,t)}function ec(e,t,n){Jl(e,t),0<n.length&&(e.i=null,e.g.set(tc(e,t),Co(n)),e.h+=n.length)}function tc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(so=Xl.prototype).add=function(e,t){$l(this),this.i=null,e=tc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},so.forEach=function(e,t){$l(this),this.g.forEach(function(n,r){Eo(n,function(n){e.call(t,n,r,this)},this)},this)},so.T=function(){$l(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},so.R=function(e){$l(this);var t=[];if("string"===typeof e)Zl(this,e)&&(t=To(t,this.g.get(tc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=To(t,e[n])}return t},so.set=function(e,t){return $l(this),this.i=null,Zl(this,e=tc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},so.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},so.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var nc=class{constructor(e,t){this.h=e,this.g=t}};function rc(e){this.l=e||sc,co.PerformanceNavigationTiming?e=0<(e=co.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(co.g&&co.g.Ea&&co.g.Ea()&&co.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ic,sc=10;function oc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ac(e){return e.h?1:e.g?e.g.size:0}function lc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cc(e,t){e.g?e.g.add(t):e.h=t}function uc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Co(e.i)}function dc(){}function fc(){this.g=new dc}function pc(e,t,n){const r=n||"";try{Nl(e,function(e,n){let i=e;fo(e)&&(i=Sa(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(ZR){throw t.push(r+"type="+encodeURIComponent("_badmap")),ZR}}function mc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function gc(e){this.l=e.$b||null,this.j=e.ib||!1}function vc(e,t){Ea.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rc.prototype.cancel=function(){if(this.i=hc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},dc.prototype.stringify=function(e){return co.JSON.stringify(e,void 0)},dc.prototype.parse=function(e){return co.JSON.parse(e,void 0)},wo(gc,sl),gc.prototype.g=function(){return new vc(this.l,this.j)},gc.prototype.i=(ic={},function(){return ic}),wo(vc,Ea);var yc=0;function _c(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bc(e)}function bc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(so=vc.prototype).open=function(e,t){if(this.readyState!=yc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bc(this)},so.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||co).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},so.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wc(this)),this.readyState=yc},so.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof co.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_c(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},so.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wc(this):bc(this),3==this.readyState&&_c(this)}},so.Ua=function(e){this.g&&(this.response=this.responseText=e,wc(this))},so.Ta=function(e){this.g&&(this.response=e,wc(this))},so.ha=function(){this.g&&wc(this)},so.setRequestHeader=function(e,t){this.v.append(e,t)},so.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},so.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xc=co.JSON.parse;function kc(e){Ea.call(this),this.headers=new Rl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ec,this.K=this.L=!1}wo(kc,Ea);var Ec="",Tc=/^https?$/i,Cc=["POST","PUT"];function Sc(e){return"content-type"==e.toLowerCase()}function Ic(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nc(e),Pc(e)}function Nc(e){e.D||(e.D=!0,Ta(e,"complete"),Ta(e,"error"))}function Rc(e){if(e.h&&"undefined"!=typeof lo&&(!e.C[1]||4!=Oc(e)||2!=e.ba()))if(e.v&&4==Oc(e))Ua(e.Fa,0,e);else if(Ta(e,"readystatechange"),4==Oc(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Ol)[1]||null;if(!i&&co.self&&co.self.location){var s=co.self.location.protocol;i=s.substr(0,s.length-1)}r=!Tc.test(i?i.toLowerCase():"")}n=r}if(n)Ta(e,"complete"),Ta(e,"success");else{e.m=6;try{var o=2<Oc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Nc(e)}}finally{Pc(e)}}}function Pc(e,t){if(e.g){Ac(e);const n=e.g,r=e.C[0]?uo:null;e.g=null,e.C=null,t||Ta(e,"ready");try{n.onreadystatechange=r}catch(ZR){}}}function Ac(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(co.clearTimeout(e.A),e.A=null)}function Oc(e){return e.g?e.g.readyState:0}function Dc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ec:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Do(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zl(e,t,n))}function Lc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jc(e){this.za=0,this.l=[],this.h=new Ka,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lc("baseRetryDelayMs",5e3,e),this.$a=Lc("retryDelaySeedMs",1e4,e),this.Ya=Lc("forwardChannelMaxRetries",2,e),this.ra=Lc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rc(e&&e.concurrentRequestLimit),this.Ca=new fc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Fc(e){if(zc(e),3==e.G){var t=e.V++,n=Ml(e.F);zl(n,"SID",e.J),zl(n,"RID",t),zl(n,"TYPE","terminate"),Wc(e,n),(t=new fl(e,e.h,t,void 0)).K=2,t.v=Vl(Ml(n)),n=!1,co.navigator&&co.navigator.sendBeacon&&(n=co.navigator.sendBeacon(t.v.toString(),"")),!n&&co.Image&&((new Image).src=t.v,n=!0),n||(t.g=nu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),kl(t)}eu(e)}function Uc(e){e.g&&(Yc(e),e.g.cancel(),e.g=null)}function zc(e){Uc(e),e.u&&(co.clearTimeout(e.u),e.u=null),Xc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&co.clearTimeout(e.m),e.m=null)}function Vc(e,t){e.l.push(new nc(e.Za++,t)),3==e.G&&qc(e)}function qc(e){oc(e.i)||e.m||(e.m=!0,Oa(e.Ha,e),e.C=0)}function Bc(e,t){var n;n=t?t.m:e.V++;const r=Ml(e.F);zl(r,"SID",e.J),zl(r,"RID",n),zl(r,"AID",e.U),Wc(e,r),e.o&&e.s&&Mc(r,e.o,e.s),n=new fl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Hc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cc(e.i,n),yl(n,r,t)}function Wc(e,t){e.j&&Nl({},function(e,n){zl(t,n,e)})}function Hc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?yo(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{pc(a,e,"req"+n+"_")}catch(Du){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Kc(e){e.g||e.u||(e.Y=1,Oa(e.Ga,e),e.A=0)}function Gc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=nl(yo(e.Ga,e),Jc(e,e.A)),e.A++,!0)}function Yc(e){null!=e.B&&(co.clearTimeout(e.B),e.B=null)}function Qc(e){e.g=new fl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ml(e.oa);zl(t,"RID","rpc"),zl(t,"SID",e.J),zl(t,"CI",e.N?"0":"1"),zl(t,"AID",e.U),Wc(e,t),zl(t,"TYPE","xmlhttp"),e.o&&e.s&&Mc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vl(Ml(t)),n.s=null,n.U=!0,_l(n,e)}function Xc(e){null!=e.v&&(co.clearTimeout(e.v),e.v=null)}function $c(e,t){var n=null;if(e.g==t){Xc(e),Yc(e),e.g=null;var r=2}else{if(!lc(e.i,t))return;n=t.D,uc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ta(r=Xa(),new tl(r,n,t,i)),qc(e)}else Kc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ac(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=nl(yo(e.Ha,e,t),Jc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zc(e,5);break;case 4:Zc(e,10);break;case 3:Zc(e,6);break;default:Zc(e,2)}}function Jc(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=yo(e.jb,e);n||(n=new Dl("//www.google.com/images/cleardot.gif"),co.location&&"http"==co.location.protocol||Ll(n,"https"),Vl(n)),function(e,t){const n=new Ka;if(co.Image){const r=new Image;r.onload=_o(mc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_o(mc,n,r,"TestLoadImage: error",!1,t),r.onabort=_o(mc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_o(mc,n,r,"TestLoadImage: timeout",!1,t),co.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else el(2);e.G=0,e.j&&e.j.va(t),eu(e),zc(e)}function eu(e){e.G=0,e.I=-1,e.j&&(0==hc(e.i).length&&0==e.l.length||(e.i.i.length=0,Co(e.l),e.l.length=0),e.j.ua())}function tu(e,t,n){let r=function(e){return e instanceof Dl?Ml(e):new Dl(e,void 0)}(n);if(""!=r.i)t&&jl(r,t+"."+r.i),Fl(r,r.m);else{const e=co.location;r=function(e,t,n,r){var i=new Dl(null,void 0);return e&&Ll(i,e),t&&jl(i,t),n&&Fl(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Do(e.aa,function(e,t){zl(r,t,e)}),t=e.D,n=e.sa,t&&n&&zl(r,t,n),zl(r,"VER",e.ma),Wc(e,r),r}function nu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new kc(new gc({ib:!0})):new kc(e.qa)).L=e.H,t}function ru(){}function iu(){if(Vo&&!(10<=Number(ea)))throw Error("Environmental error: no available transport.")}function su(e,t){Ea.call(this),this.g=new jc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!So(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!So(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lu(this)}function ou(e){ul.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function au(){hl.call(this),this.status=1}function lu(e){this.g=e}(so=kc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ll.g(),this.C=this.u?ol(this.u):ol(ll),this.g.onreadystatechange=yo(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ic(this,s)}e=n||"";const i=new Rl(this.headers);r&&Nl(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=Sc;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=co.FormData&&e instanceof co.FormData,!(0<=ko(Cc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ac(this),0<this.B&&((this.K=function(e){return Vo&&Jo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yo(this.pa,this)):this.A=Ua(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ic(this,s)}},so.pa=function(){"undefined"!=typeof lo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ta(this,"timeout"),this.abort(8))},so.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ta(this,"complete"),Ta(this,"abort"),Pc(this))},so.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pc(this,!0)),kc.Z.M.call(this)},so.Fa=function(){this.s||(this.F||this.v||this.l?Rc(this):this.cb())},so.cb=function(){Rc(this)},so.ba=function(){try{return 2<Oc(this)?this.g.status:-1}catch(ic){return-1}},so.ga=function(){try{return this.g?this.g.responseText:""}catch(ic){return""}},so.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xc(t)}},so.Da=function(){return this.m},so.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(so=jc.prototype).ma=8,so.G=1,so.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},so.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new fl(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Mo(s),jo(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Hc(this,i,t),zl(n=Ml(this.F),"RID",e),zl(n,"CVER",22),this.D&&zl(n,"X-HTTP-Session-Id",this.D),Wc(this,n),this.o&&s&&Mc(n,this.o,s),cc(this.i,i),this.Ra&&zl(n,"TYPE","init"),this.ja?(zl(n,"$req",t),zl(n,"SID","null"),i.$=!0,yl(i,n,null)):yl(i,n,t),this.G=2}}else 3==this.G&&(e?Bc(this,e):0==this.l.length||oc(this.i)||Bc(this))},so.Ga=function(){if(this.u=null,Qc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nl(yo(this.bb,this),e)}},so.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,el(10),Uc(this),Qc(this))},so.ab=function(){null!=this.v&&(this.v=null,Uc(this),Gc(this),el(19))},so.jb=function(e){e?(this.h.info("Successfully pinged google.com"),el(2)):(this.h.info("Failed to ping google.com"),el(1))},(so=ru.prototype).xa=function(){},so.wa=function(){},so.va=function(){},so.ua=function(){},so.Oa=function(){},iu.prototype.g=function(e,t){return new su(e,t)},wo(su,Ea),su.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Oa(yo(e.hb,e,t))),el(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tu(e,null,e.W),qc(e)},su.prototype.close=function(){Fc(this.g)},su.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Vc(this.g,t)}else this.v?((t={}).__data__=Sa(e),Vc(this.g,t)):Vc(this.g,e)},su.prototype.M=function(){this.g.j=null,delete this.j,Fc(this.g),delete this.g,su.Z.M.call(this)},wo(ou,ul),wo(au,hl),wo(lu,ru),lu.prototype.xa=function(){Ta(this.g,"a")},lu.prototype.wa=function(e){Ta(this.g,new ou(e))},lu.prototype.va=function(e){Ta(this.g,new au(e))},lu.prototype.ua=function(){Ta(this.g,"b")},iu.prototype.createWebChannel=iu.prototype.g,su.prototype.send=su.prototype.u,su.prototype.open=su.prototype.m,su.prototype.close=su.prototype.close,rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,il.COMPLETE="complete",al.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Ea.prototype.listen=Ea.prototype.N,kc.prototype.listenOnce=kc.prototype.O,kc.prototype.getLastError=kc.prototype.La,kc.prototype.getLastErrorCode=kc.prototype.Da,kc.prototype.getStatus=kc.prototype.ba,kc.prototype.getResponseJson=kc.prototype.Qa,kc.prototype.getResponseText=kc.prototype.ga,kc.prototype.send=kc.prototype.ea;var cu=ao.createWebChannelTransport=function(){return new iu},uu=ao.getStatEventTarget=function(){return Xa()},hu=ao.ErrorCode=rl,du=ao.EventType=il,fu=ao.Event=Ya,pu=ao.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mu=ao.FetchXmlHttpFactory=gc,gu=ao.WebChannel=al,vu=ao.XhrIo=kc;const yu="@firebase/firestore";class _u{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_u.UNAUTHENTICATED=new _u(null),_u.GOOGLE_CREDENTIALS=new _u("google-credentials-uid"),_u.FIRST_PARTY=new _u("first-party-uid"),_u.MOCK_USER=new _u("mock-user");let wu="9.6.1";const bu=new An("@firebase/firestore");function xu(){return bu.logLevel}function ku(e){if(bu.logLevel<=Sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);bu.debug("Firestore (".concat(wu,"): ").concat(e),...i)}}function Eu(e){if(bu.logLevel<=Sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);bu.error("Firestore (".concat(wu,"): ").concat(e),...i)}}function Tu(e){if(bu.logLevel<=Sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);bu.warn("Firestore (".concat(wu,"): ").concat(e),...i)}}function Cu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Su(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wu,") INTERNAL ASSERTION FAILED: ")+e;throw Eu(t),new Error(t)}function Iu(e,t){e||Su()}function Nu(e,t){return e}const Ru={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pu extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Au{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ou{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Du{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_u.UNAUTHENTICATED))}shutdown(){}}class Mu{constructor(e){this.t=e,this.currentUser=_u.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Au;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Au,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ku("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ku("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Au)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ku("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Iu("string"==typeof t.accessToken),new Ou(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Iu(null===e||"string"==typeof e),new _u(e)}}class Lu{constructor(e,t,n){this.type="FirstParty",this.user=_u.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ju{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Lu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_u.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable(()=>(e=>(null!=e.error&&ku("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)))(n))};const n=e=>{ku("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):ku("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Iu("string"==typeof e.token),new Fu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Vu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}zu.I=-1;class qu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Vu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Bu(e,t){return e<t?-1:e>t?1:0}function Wu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Hu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pu(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pu(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pu(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pu(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hu.fromMillis(Date.now())}static fromDate(e){return Hu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Hu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bu(this.nanoseconds,e.nanoseconds):Bu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ku{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ku(e)}static min(){return new Ku(new Hu(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Xu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Su(),void 0===n?n=e.length-t:n>e.length-t&&Su(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Xu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $u extends Xu{construct(e,t,n){return new $u(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Pu(Ru.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new $u(e)}static emptyPath(){return new $u([])}}const Ju=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zu extends Xu{construct(e,t,n){return new Zu(e,t,n)}static isValidIdentifier(e){return Ju.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Pu(Ru.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Pu(Ru.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Pu(Ru.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Pu(Ru.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zu(t)}static emptyPath(){return new Zu([])}}class eh{constructor(e){this.fields=e,e.sort(Zu.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class th{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new th(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new th(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}th.EMPTY_BYTE_STRING=new th("");const nh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rh(e){if(Iu(!!e),"string"==typeof e){let t=0;const n=nh.exec(e);if(Iu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ih(e.seconds),nanos:ih(e.nanos)}}function ih(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sh(e){return"string"==typeof e?th.fromBase64String(e):th.fromUint8Array(e)}function oh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ah(e){const t=rh(e.mapValue.fields.__local_write_time__.timestampValue);return new Hu(t.seconds,t.nanos)}function lh(e){return null==e}function ch(e){return 0===e&&1/e==-1/0}function uh(e){return"number"==typeof e&&Number.isInteger(e)&&!ch(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class hh{constructor(e){this.path=e}static fromPath(e){return new hh($u.fromString(e))}static fromName(e){return new hh($u.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===$u.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $u.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hh(new $u(e.slice()))}}function dh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oh(e)?4:10:Su()}function fh(e,t){const n=dh(e);if(n!==dh(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ah(e).isEqual(ah(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=rh(e.timestampValue),r=rh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sh(e.bytesValue).isEqual(sh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ih(e.geoPointValue.latitude)===ih(t.geoPointValue.latitude)&&ih(e.geoPointValue.longitude)===ih(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ih(e.integerValue)===ih(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ih(e.doubleValue),r=ih(t.doubleValue);return n===r?ch(n)===ch(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wu(e.arrayValue.values||[],t.arrayValue.values||[],fh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gu(n)!==Gu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fh(n[i],r[i])))return!1;return!0}(e,t);default:return Su()}}function ph(e,t){return void 0!==(e.values||[]).find(e=>fh(e,t))}function mh(e,t){const n=dh(e),r=dh(t);if(n!==r)return Bu(n,r);switch(n){case 0:return 0;case 1:return Bu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ih(e.integerValue||e.doubleValue),r=ih(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gh(e.timestampValue,t.timestampValue);case 4:return gh(ah(e),ah(t));case 5:return Bu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=sh(e),r=sh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Bu(n[i],r[i]);if(0!==e)return e}return Bu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bu(ih(e.latitude),ih(t.latitude));return 0!==n?n:Bu(ih(e.longitude),ih(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=mh(n[i],r[i]);if(e)return e}return Bu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Bu(r[o],s[o]);if(0!==e)return e;const t=mh(n[r[o]],i[s[o]]);if(0!==t)return t}return Bu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Su()}}function gh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bu(e,t);const n=rh(e),r=rh(t),i=Bu(n.seconds,r.seconds);return 0!==i?i:Bu(n.nanos,r.nanos)}function vh(e){return yh(e)}function yh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=rh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?sh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,hh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(yh(e.fields[i]));return n+"}"}(e.mapValue):Su();var t,n}function _h(e){return!!e&&"integerValue"in e}function wh(e){return!!e&&"arrayValue"in e}function bh(e){return!!e&&"mapValue"in e}function xh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yu(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=xh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xh(e.arrayValue.values[n]);return t}return Object.assign({},e)}class kh{constructor(e){this.value=e}static empty(){return new kh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(t)}setAll(e){let t=Zu.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=xh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];bh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Yu(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new kh(xh(this.value))}}function Eh(e){const t=[];return Yu(e.fields,(e,n)=>{const r=new Zu([e]);if(bh(n)){const e=Eh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new eh(t)}class Th{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Th(e,0,Ku.min(),kh.empty(),0)}static newFoundDocument(e,t,n){return new Th(e,1,t,n,0)}static newNoDocument(e,t){return new Th(e,2,t,kh.empty(),0)}static newUnknownDocument(e,t){return new Th(e,3,t,kh.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Th&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Th(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ch{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function Sh(e){return new Ch(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ih(e){const t=Nu(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+vh(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),lh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=zh(t.startAt)),t.endAt&&(e+="|ub:",e+=zh(t.endAt)),t.R=e}return t.R}function Nh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!qh(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!fh(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wh(e.startAt,t.startAt)&&Wh(e.endAt,t.endAt)}class Rh extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Ph(e,t,n):"array-contains"===t?new Mh(e,n):"in"===t?new Lh(e,n):"not-in"===t?new jh(e,n):"array-contains-any"===t?new Fh(e,n):new Rh(e,t,n)}static P(e,t,n){return"in"===t?new Ah(e,n):new Oh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(mh(t,this.value)):null!==t&&dh(this.value)===dh(t)&&this.v(mh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Su()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ph extends Rh{constructor(e,t,n){super(e,t,n),this.key=hh.fromName(n.referenceValue)}matches(e){const t=hh.comparator(e.key,this.key);return this.v(t)}}class Ah extends Rh{constructor(e,t){super(e,"in",t),this.keys=Dh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Oh extends Rh{constructor(e,t){super(e,"not-in",t),this.keys=Dh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>hh.fromName(e.referenceValue))}class Mh extends Rh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wh(t)&&ph(t.arrayValue,this.value)}}class Lh extends Rh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ph(this.value.arrayValue,t)}}class jh extends Rh{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ph(this.value.arrayValue,t)}}class Fh extends Rh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ph(this.value.arrayValue,e))}}class Uh{constructor(e,t){this.position=e,this.before=t}}function zh(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(e=>vh(e)).join(","))}class Vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Bh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?hh.comparator(hh.fromName(o.referenceValue),n.key):mh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Wh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fh(e.position[n],t.position[n]))return!1;return!0}class Hh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function Kh(e,t,n,r,i,s,o,a){return new Hh(e,t,n,r,i,s,o,a)}function Gh(e){return new Hh(e)}function Yh(e){return!lh(e.limit)&&"F"===e.limitType}function Qh(e){return!lh(e.limit)&&"L"===e.limitType}function Xh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $h(e){for(const t of e.filters)if(t.V())return t.field;return null}function Jh(e){return null!==e.collectionGroup}function Zh(e){const t=Nu(e);if(null===t.S){t.S=[];const e=$h(t),n=Xh(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new Vh(e)),t.S.push(new Vh(Zu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Vh(Zu.keyField(),e))}}}return t.S}function ed(e){const t=Nu(e);if(!t.D)if("F"===t.limitType)t.D=Sh(t.path,t.collectionGroup,Zh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Zh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Vh(i.field,t))}const n=t.endAt?new Uh(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Uh(t.startAt.position,!t.startAt.before):null;t.D=Sh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function td(e,t,n){return new Hh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nd(e,t){return Nh(ed(e),ed(t))&&e.limitType===t.limitType}function rd(e){return"".concat(Ih(ed(e)),"|lt:").concat(e.limitType)}function id(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>{return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vh(t.value));var t}).join(", "),"]")),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: "+zh(e.startAt)),e.endAt&&(t+=", endAt: "+zh(e.endAt)),"Target(".concat(t,")")}(ed(e)),"; limitType=").concat(e.limitType,")")}function sd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Bh(e.startAt,Zh(e),t))&&(!e.endAt||!Bh(e.endAt,Zh(e),t))}(e,t)}function od(e){return(t,n)=>{let r=!1;for(const i of Zh(e)){const e=ad(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ad(e,t,n){const r=e.field.isKeyField()?hh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mh(r,i):Su()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Su()}}function ld(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function cd(e){return{integerValue:""+e}}function ud(e,t){return uh(t)?cd(t):ld(e,t)}class hd{constructor(){this._=void 0}}function dd(e,t,n){return e instanceof md?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gd?vd(e,t):e instanceof yd?_d(e,t):function(e,t){const n=pd(e,t),r=bd(n)+bd(e.N);return _h(n)&&_h(e.N)?cd(r):ld(e.k,r)}(e,t)}function fd(e,t,n){return e instanceof gd?vd(e,t):e instanceof yd?_d(e,t):n}function pd(e,t){return e instanceof wd?_h(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class md extends hd{}class gd extends hd{constructor(e){super(),this.elements=e}}function vd(e,t){const n=xd(t);for(const r of e.elements)n.some(e=>fh(e,r))||n.push(r);return{arrayValue:{values:n}}}class yd extends hd{constructor(e){super(),this.elements=e}}function _d(e,t){let n=xd(t);for(const r of e.elements)n=n.filter(e=>!fh(e,r));return{arrayValue:{values:n}}}class wd extends hd{constructor(e,t){super(),this.k=e,this.N=t}}function bd(e){return ih(e.integerValue||e.doubleValue)}function xd(e){return wh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class kd{constructor(e,t){this.field=e,this.transform=t}}class Ed{constructor(e,t){this.version=e,this.transformResults=t}}class Td{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Td}static exists(e){return new Td(void 0,e)}static updateTime(e){return new Td(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sd{}function Id(e,t,n){e instanceof Od?function(e,t,n){const r=e.value.clone(),i=Ld(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dd?function(e,t,n){if(!Cd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ld(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Md(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nd(e,t,n){e instanceof Od?function(e,t,n){if(!Cd(e.precondition,t))return;const r=e.value.clone(),i=jd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ad(t),r).setHasLocalMutations()}(e,t,n):e instanceof Dd?function(e,t,n){if(!Cd(e.precondition,t))return;const r=jd(e.fieldTransforms,n,t),i=t.data;i.setAll(Md(e)),i.setAll(r),t.convertToFoundDocument(Ad(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Cd(e.precondition,t)&&t.convertToNoDocument(Ku.min())}(e,t)}function Rd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=pd(r.transform,e||null);null!=i&&(null==n&&(n=kh.empty()),n.set(r.field,i))}return n||null}function Pd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gd&&t instanceof gd||e instanceof yd&&t instanceof yd?Wu(e.elements,t.elements,fh):e instanceof wd&&t instanceof wd?fh(e.N,t.N):e instanceof md&&t instanceof md}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ad(e){return e.isFoundDocument()?e.version:Ku.min()}class Od extends Sd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Dd extends Sd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Md(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ld(e,t,n){const r=new Map;Iu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,fd(o,a,n[i]))}return r}function jd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,dd(e,s,t))}return r}class Fd extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ud extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}var zd,Vd;function qd(e){switch(e){default:return Su();case Ru.CANCELLED:case Ru.UNKNOWN:case Ru.DEADLINE_EXCEEDED:case Ru.RESOURCE_EXHAUSTED:case Ru.INTERNAL:case Ru.UNAVAILABLE:case Ru.UNAUTHENTICATED:return!1;case Ru.INVALID_ARGUMENT:case Ru.NOT_FOUND:case Ru.ALREADY_EXISTS:case Ru.PERMISSION_DENIED:case Ru.FAILED_PRECONDITION:case Ru.ABORTED:case Ru.OUT_OF_RANGE:case Ru.UNIMPLEMENTED:case Ru.DATA_LOSS:return!0}}function Bd(e){if(void 0===e)return Eu("GRPC error has no .code"),Ru.UNKNOWN;switch(e){case zd.OK:return Ru.OK;case zd.CANCELLED:return Ru.CANCELLED;case zd.UNKNOWN:return Ru.UNKNOWN;case zd.DEADLINE_EXCEEDED:return Ru.DEADLINE_EXCEEDED;case zd.RESOURCE_EXHAUSTED:return Ru.RESOURCE_EXHAUSTED;case zd.INTERNAL:return Ru.INTERNAL;case zd.UNAVAILABLE:return Ru.UNAVAILABLE;case zd.UNAUTHENTICATED:return Ru.UNAUTHENTICATED;case zd.INVALID_ARGUMENT:return Ru.INVALID_ARGUMENT;case zd.NOT_FOUND:return Ru.NOT_FOUND;case zd.ALREADY_EXISTS:return Ru.ALREADY_EXISTS;case zd.PERMISSION_DENIED:return Ru.PERMISSION_DENIED;case zd.FAILED_PRECONDITION:return Ru.FAILED_PRECONDITION;case zd.ABORTED:return Ru.ABORTED;case zd.OUT_OF_RANGE:return Ru.OUT_OF_RANGE;case zd.UNIMPLEMENTED:return Ru.UNIMPLEMENTED;case zd.DATA_LOSS:return Ru.DATA_LOSS;default:return Su()}}(Vd=zd||(zd={}))[Vd.OK=0]="OK",Vd[Vd.CANCELLED=1]="CANCELLED",Vd[Vd.UNKNOWN=2]="UNKNOWN",Vd[Vd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vd[Vd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vd[Vd.NOT_FOUND=5]="NOT_FOUND",Vd[Vd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vd[Vd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vd[Vd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vd[Vd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vd[Vd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vd[Vd.ABORTED=10]="ABORTED",Vd[Vd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vd[Vd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vd[Vd.INTERNAL=13]="INTERNAL",Vd[Vd.UNAVAILABLE=14]="UNAVAILABLE",Vd[Vd.DATA_LOSS=15]="DATA_LOSS";class Wd{constructor(e,t){this.comparator=e,this.root=t||Kd.EMPTY}insert(e,t){return new Wd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kd.BLACK,null,null))}remove(e){return new Wd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kd.RED,this.left=null!=r?r:Kd.EMPTY,this.right=null!=i?i:Kd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Su();if(this.right.isRed())throw Su();const e=this.left.check();if(e!==this.right.check())throw Su();return e+(this.isRed()?0:1)}}Kd.EMPTY=null,Kd.RED=!0,Kd.BLACK=!1,Kd.EMPTY=new class{constructor(){this.size=0}get key(){throw Su()}get value(){throw Su()}get color(){throw Su()}get left(){throw Su()}get right(){throw Su()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gd{constructor(e){this.comparator=e,this.data=new Wd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gd(this.comparator);return t.data=e,t}}class Yd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Qd=new Wd(hh.comparator);function Xd(){return Qd}const $d=new Wd(hh.comparator);function Jd(){return $d}const Zd=new Wd(hh.comparator);function ef(){return Zd}const tf=new Gd(hh.comparator);function nf(){let e=tf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const rf=new Gd(Bu);function sf(){return rf}class of{constructor(e,t){this.databaseId=e,this.C=t}}function af(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function lf(e,t){return e.C?t.toBase64():t.toUint8Array()}function cf(e,t){return af(e,t.toTimestamp())}function uf(e){return Iu(!!e),Ku.fromTimestamp(function(e){const t=rh(e);return new Hu(t.seconds,t.nanos)}(e))}function hf(e,t){return function(e){return new $u(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function df(e){const t=$u.fromString(e);return Iu(Cf(t)),t}function ff(e,t){return hf(e.databaseId,t.path)}function pf(e){const t=df(e);return 4===t.length?$u.emptyPath():gf(t)}function mf(e){return new $u(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gf(e){return Iu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vf(e,t,n){return{name:ff(e,t),fields:n.value.mapValue.fields}}function yf(e,t){let n;if(t instanceof Od)n={update:vf(e,t.key,t.value)};else if(t instanceof Fd)n={delete:ff(e,t.key)};else if(t instanceof Dd)n={update:vf(e,t.key,t.data),updateMask:Tf(t.fieldMask)};else{if(!(t instanceof Ud))return Su();n={verify:ff(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof md)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wd)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Su()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Su()}(e,t.precondition)),n}function _f(e){let t=pf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Iu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=wf(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Vh(xf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,lh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=bf(n.startAt));let c=null;return n.endAt&&(c=bf(n.endAt)),Kh(t,i,o,s,a,"F",l,c)}function wf(e){return e?void 0!==e.unaryFilter?[Ef(e)]:void 0!==e.fieldFilter?[kf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>wf(e)).reduce((e,t)=>e.concat(t)):Su():[]}function bf(e){const t=!!e.before,n=e.values||[];return new Uh(n,t)}function xf(e){return Zu.fromServerFormat(e.fieldPath)}function kf(e){return Rh.create(xf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Su()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ef(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xf(e.unaryFilter.field);return Rh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xf(e.unaryFilter.field);return Rh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xf(e.unaryFilter.field);return Rh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xf(e.unaryFilter.field);return Rh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Su()}}function Tf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Cf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Nf(t)),t=If(e.get(n),t);return Nf(t)}function If(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Nf(e){return e+"\x01\x01"}class Rf{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Rf.store="owner",Rf.key="owner";class Pf{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Pf.store="mutationQueues",Pf.keyPath="userId";class Af{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Af.store="mutations",Af.keyPath="batchId",Af.userMutationsIndex="userMutationsIndex",Af.userMutationsKeyPath=["userId","batchId"];class Of{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Sf(t)]}static key(e,t,n){return[e,Sf(t),n]}}Of.store="documentMutations",Of.PLACEHOLDER=new Of;class Df{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Df.store="remoteDocuments",Df.readTimeIndex="readTimeIndex",Df.readTimeIndexPath="readTime",Df.collectionReadTimeIndex="collectionReadTimeIndex",Df.collectionReadTimeIndexPath=["parentPath","readTime"];class Mf{constructor(e){this.byteSize=e}}Mf.store="remoteDocumentGlobal",Mf.key="remoteDocumentGlobalKey";class Lf{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Lf.store="targets",Lf.keyPath="targetId",Lf.queryTargetsIndexName="queryTargetsIndex",Lf.queryTargetsKeyPath=["canonicalId","targetId"];class jf{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}jf.store="targetDocuments",jf.keyPath=["targetId","path"],jf.documentTargetsIndex="documentTargetsIndex",jf.documentTargetsKeyPath=["path","targetId"];class Ff{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ff.key="targetGlobalKey",Ff.store="targetGlobal";class Uf{constructor(e,t){this.collectionId=e,this.parent=t}}Uf.store="collectionParents",Uf.keyPath=["collectionId","parent"];class zf{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}zf.store="clientMetadata",zf.keyPath="clientId";class Vf{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Vf.store="bundles",Vf.keyPath="bundleId";class qf{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}qf.store="namedQueries",qf.keyPath="name";Pf.store,Af.store,Of.store,Df.store,Lf.store,Rf.store,Ff.store,jf.store,zf.store,Mf.store,Uf.store,Vf.store,qf.store;const Bf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Hf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Su(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hf((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Hf?t:Hf.resolve(t)}catch(e){return Hf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Hf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Hf.reject(t)}static resolve(e){return new Hf((t,n)=>{t(e)})}static reject(e){return new Hf((t,n)=>{n(e)})}static waitFor(e){return new Hf((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Hf.resolve(!1);for(const n of e)t=t.next(e=>e?Hf.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}function Kf(e){return"IndexedDbTransactionError"===e.name}class Gf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Id(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Nd(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Nd(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Ku.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nf())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,(e,t)=>Pd(e,t))&&Wu(this.baseMutations,e.baseMutations,(e,t)=>Pd(e,t))}}class Yf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Iu(e.mutations.length===n.length);let r=ef();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Yf(e,t,n,r)}}class Qf{constructor(e){this.Gt=e}}function Xf(e){const t=_f({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?td(t,t.limit,"L"):t}class $f{constructor(){this.zt=new Jf}addToCollectionParentIndex(e,t){return this.zt.add(t),Hf.resolve()}getCollectionParents(e,t){return Hf.resolve(this.zt.getEntries(t))}}class Jf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gd($u.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gd($u.comparator)).toArray()}}class Zf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Zf(e,Zf.DEFAULT_COLLECTION_PERCENTILE,Zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zf.DEFAULT_COLLECTION_PERCENTILE=10,Zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zf.DEFAULT=new Zf(41943040,Zf.DEFAULT_COLLECTION_PERCENTILE,Zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zf.DISABLED=new Zf(-1,0,0);class ep{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ep(0)}static re(){return new ep(-1)}}async function tp(e){if(e.code!==Ru.FAILED_PRECONDITION||e.message!==Bf)throw e;ku("LocalStore","Unexpectedly lost primary lease")}class np{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Yu(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Qu(this.inner)}}class rp{constructor(){this.changes=new np(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ku.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Th.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hf.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ip{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Pn(e,t,n))}Pn(e,t,n){return this.Je.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}vn(e,t){return this.Je.getEntries(e,t).next(t=>this.Vn(e,t).next(()=>t))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return hh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Jh(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new hh(t)).next(e=>{let t=Jd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Dn(e,t,n){const r=t.collectionGroup;let i=Jd();return this.Jt.getCollectionParents(e,r).next(s=>Hf.forEach(s,s=>{const o=function(e,t){return new Hh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Cn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Nn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Th.newInvalidDocument(n),r=r.insert(n,i)),Nd(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{sd(t,n)||(r=r.remove(e))}),r))}Nn(e,t,n){let r=nf();for(const s of t)for(const e of s.mutations)e instanceof Dd&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.Je.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class sp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=nf(),r=nf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new sp(e,t.fromCache,n,r)}}class op{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ku.min())?this.Mn(e,t):this.On.vn(e,r).next(i=>{const s=this.Ln(t,i);return(Yh(t)||Qh(t))&&this.Bn(t.limitType,s,r,n)?this.Mn(e,t):(xu()<=Sn.DEBUG&&ku("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),id(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Ln(e,t){let n=new Gd(od(e));return t.forEach((t,r)=>{sd(e,r)&&(n=n.add(r))}),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return xu()<=Sn.DEBUG&&ku("QueryEngine","Using full collection scan to execute query:",id(t)),this.On.getDocumentsMatchingQuery(e,t,Ku.min())}}class ap{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new Wd(Bu),this.Kn=new np(e=>Ih(e),Nh),this.jn=Ku.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new ip(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function lp(e,t,n,r){return new ap(e,t,n,r)}async function cp(e,t){const n=Nu(e);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.An.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new ip(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=nf();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next(e=>({Gn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}function up(e){const t=Nu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function hp(e,t){const n=Nu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)))}class dp{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Hf.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:uf(n.createTime)}),Hf.resolve()}getNamedQuery(e,t){return Hf.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Xf(e.bundledQuery),readTime:uf(e.readTime)}}(t)),Hf.resolve()}}class fp{constructor(){this.ts=new Gd(pp.es),this.ns=new Gd(pp.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new pp(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.os(new pp(e,t))}cs(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new hh(new $u([])),n=new pp(t,e),r=new pp(t,e+1),i=[];return this.ns.forEachInRange([n,r],e=>{this.os(e),i.push(e.key)}),i}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new hh(new $u([])),n=new pp(t,e),r=new pp(t,e+1);let i=nf();return this.ns.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new pp(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class pp{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return hh.comparator(e.key,t.key)||Bu(e.fs,t.fs)}static ss(e,t){return Bu(e.fs,t.fs)||hh.comparator(e.key,t.key)}}class mp{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Gd(pp.es)}checkEmpty(e){return Hf.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Gf(i,t,n,r);this.An.push(s);for(const o of r)this.ws=this.ws.add(new pp(o.key,i)),this.Jt.addToCollectionParentIndex(e,o.key.path.popLast());return Hf.resolve(s)}lookupMutationBatch(e,t){return Hf.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return Hf.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return Hf.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Hf.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pp(t,0),r=new pp(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],e=>{const t=this._s(e.fs);i.push(t)}),Hf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gd(Bu);return t.forEach(e=>{const t=new pp(e,0),r=new pp(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],e=>{n=n.add(e.fs)})}),Hf.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;hh.isDocumentKey(i)||(i=i.child(""));const s=new pp(new hh(i),0);let o=new Gd(Bu);return this.ws.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)},s),Hf.resolve(this.ys(o))}ys(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Iu(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Hf.forEach(t.mutations,r=>{const i=new pp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,t){const n=new pp(t,0),r=this.ws.firstAfterOrEqual(n);return Hf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,Hf.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class gp{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Wd(hh.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hf.resolve(n?n.document.clone():Th.newInvalidDocument(t))}getEntries(e,t){let n=Xd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Th.newInvalidDocument(e))}),Hf.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Xd();const i=new hh(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||sd(t,i)&&(r=r.insert(i.key,i.clone()))}return Hf.resolve(r)}Es(e,t){return Hf.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vp(this)}getSize(e){return Hf.resolve(this.size)}}class vp extends rp{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),Hf.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class yp{constructor(e){this.persistence=e,this.Is=new np(e=>Ih(e),Nh),this.lastRemoteSnapshotVersion=Ku.min(),this.highestTargetId=0,this.As=0,this.Rs=new fp,this.targetCount=0,this.Ps=ep.ie()}forEachTarget(e,t){return this.Is.forEach((e,n)=>t(n)),Hf.resolve()}getLastRemoteSnapshotVersion(e){return Hf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hf.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Hf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Hf.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new ep(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Hf.resolve()}updateTargetData(e,t){return this.ce(t),Hf.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Hf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Hf.waitFor(i).next(()=>r)}getTargetCount(e){return Hf.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Hf.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Hf.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Hf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Hf.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Hf.resolve(n)}containsKey(e,t){return Hf.resolve(this.Rs.containsKey(t))}}class _p{constructor(e,t){this.bs={},this.Be=new zu(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new yp(this),this.Jt=new $f,this.Je=function(e,t){return new gp(e,t)}(this.Jt,e=>this.referenceDelegate.vs(e)),this.k=new Qf(t),this.Ye=new dp(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new mp(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){ku("MemoryPersistence","Starting transaction:",e);const r=new wp(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(e=>this.referenceDelegate.Ss(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ds(e,t){return Hf.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class wp extends Wf{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Cs=new fp,this.Ns=null}static ks(e){return new bp(e)}get xs(){if(this.Ns)return this.Ns;throw Su()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Hf.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Hf.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Hf.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hf.forEach(this.xs,n=>{const r=hh.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Hf.or([()=>Hf.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class xp{constructor(){this.activeTargetIds=sf()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kp{constructor(){this.pi=new xp,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new xp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ep{Ei(e){}shutdown(){}}class Tp{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){ku("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){ku("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Sp{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class Ip extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);ku("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then(e=>(ku("RestConnection","Received: ",e),e),t=>{throw Tu("RestConnection","".concat(e," failed with error: "),t,"url: ",s,"request:",n),t})}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Ui(e,t){const n=Cp[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise((i,s)=>{const o=new vu;o.listenOnce(du.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case hu.NO_ERROR:const t=o.getResponseJson();ku("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hu.TIMEOUT:ku("Connection",'RPC "'+e+'" timed out'),s(new Pu(Ru.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const n=o.getStatus();if(ku("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ru).indexOf(t)>=0?t:Ru.UNKNOWN}(e.status);s(new Pu(t,e.message))}else s(new Pu(Ru.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Pu(Ru.UNAVAILABLE,"Connection failed."));break;default:Su()}}finally{ku("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=cu(),s=uu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new mu({})),this.qi(o.initMessageHeaders,t,n),Qt()||$t()||Yt().indexOf("Electron/")>=0||Jt()||Yt().indexOf("MSAppHost/")>=0||Xt()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");ku("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let c=!1,u=!1;const h=new Sp({Vi:e=>{u?ku("Connection","Not sending because WebChannel is closed:",e):(c||(ku("Connection","Opening WebChannel transport."),l.open(),c=!0),ku("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,gu.EventType.OPEN,()=>{u||ku("Connection","WebChannel transport opened.")}),d(l,gu.EventType.CLOSE,()=>{u||(u=!0,ku("Connection","WebChannel transport closed"),h.Fi())}),d(l,gu.EventType.ERROR,e=>{u||(u=!0,Tu("Connection","WebChannel transport errored:",e),h.Fi(new Pu(Ru.UNAVAILABLE,"The operation could not be completed")))}),d(l,gu.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];Iu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ku("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=zd[e];if(void 0!==t)return Bd(t)}(e),n=i.message;void 0===t&&(t=Ru.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.Fi(new Pu(t,n)),l.close()}else ku("Connection","WebChannel received:",n),h.Oi(n)}}),d(s,fu.STAT_EVENT,e=>{e.stat===pu.PROXY?ku("Connection","Detected buffering proxy"):e.stat===pu.NOPROXY&&ku("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Np(){return"undefined"!=typeof document?document:null}function Rp(e){return new of(e,!0)}class Pp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&ku("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Ap{constructor(e,t,n,r,i,s,o,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Pp(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===Ru.RESOURCE_EXHAUSTED?(Eu(t.toString()),Eu("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===Ru.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.rr===t&&this.Ir(n,r)},t=>{e(()=>{const e=new Pu(Ru.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)})})}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(e=>{n(()=>this.Ar(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return ku("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(ku("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Op extends Ap{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Iu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Iu(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?uf(e.updateTime):uf(t);return n.isEqual(Ku.min())&&(n=uf(t)),new Ed(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=uf(e.commitTime);return this.listener.Cr(n,t)}return Iu(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=mf(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>yf(this.k,e))};this.gr(t)}}class Dp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new Pu(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.ir.Bi(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pu(Ru.UNKNOWN,e.toString())})}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.ir.ji(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pu(Ru.UNKNOWN,e.toString())})}terminate(){this.$r=!0}}class Mp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Eu(t),this.Lr=!1):ku("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Lp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(e=>{n.enqueueAndForget(async()=>{Up(this)&&(ku("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Nu(e);t.Gr.add(4),await Fp(t),t.Jr.set("Unknown"),t.Gr.delete(4),await jp(t)}(this))})}),this.Jr=new Mp(n,r)}}async function jp(e){if(Up(e))for(const t of e.zr)await t(!0)}async function Fp(e){for(const t of e.zr)await t(!1)}function Up(e){return 0===Nu(e).Gr.size}async function zp(e,t,n){if(!Kf(t))throw t;e.Gr.add(1),await Fp(e),e.Jr.set("Offline"),n||(n=()=>up(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ku("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await jp(e)})}function Vp(e,t){return t().catch(n=>zp(e,n,t))}async function qp(e){const t=Nu(e),n=Jp(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Bp(t);)try{const e=await hp(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,Wp(t,e)}catch(e){await zp(t,e)}Hp(t)&&Kp(t)}function Bp(e){return Up(e)&&e.Qr.length<10}function Wp(e,t){e.Qr.push(t);const n=Jp(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Hp(e){return Up(e)&&!Jp(e).hr()&&e.Qr.length>0}function Kp(e){Jp(e).start()}async function Gp(e){Jp(e).kr()}async function Yp(e){const t=Jp(e);for(const n of e.Qr)t.Dr(n.mutations)}async function Qp(e,t,n){const r=e.Qr.shift(),i=Yf.from(r,t,n);await Vp(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await qp(e)}async function Xp(e,t){t&&Jp(e).Sr&&await async function(e,t){if(qd(n=t.code)&&n!==Ru.ABORTED){const n=e.Qr.shift();Jp(e).wr(),await Vp(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await qp(e)}var n}(e,t),Hp(e)&&Kp(e)}async function $p(e,t){const n=Nu(e);t?(n.Gr.delete(2),await jp(n)):t||(n.Gr.add(2),await Fp(n),n.Jr.set("Unknown"))}function Jp(e){return e.Zr||(e.Zr=function(e,t,n){const r=Nu(e);return r.Fr(),new Op(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Gp.bind(null,e),Ni:Xp.bind(null,e),Nr:Yp.bind(null,e),Cr:Qp.bind(null,e)}),e.zr.push(async t=>{t?(e.Zr.wr(),await qp(e)):(await e.Zr.stop(),e.Qr.length>0&&(ku("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]))})),e.Zr}class Zp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Au,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Zp(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pu(Ru.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(e,t){if(Eu("AsyncQueue","".concat(t,": ").concat(e)),Kf(e))return new Pu(Ru.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class tm{constructor(){this.queries=new np(e=>rd(e),nd),this.onlineState="Unknown",this.io=new Set}}function nm(e){e.io.forEach(e=>{e.next()})}class rm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new np(e=>rd(e),nd),this.Mo=new Map,this.Lo=new Set,this.Bo=new Wd(hh.comparator),this.Uo=new Map,this.qo=new fp,this.Ko={},this.jo=new Map,this.Qo=ep.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function im(e,t,n){const r=Nu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Nu(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.ro(t)&&(r=!0)}),r&&nm(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sm(e,t){const n=Nu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Nu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Hf.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Iu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.An.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(n.localStore,t);lm(n,r,null),am(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cm(n,e)}catch(e){await tp(e)}}async function om(e,t,n){const r=Nu(e);try{const e=await function(e,t){const n=Nu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.An.lookupMutationBatch(e,t).next(t=>(Iu(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t))).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(r.localStore,t);lm(r,t,n),am(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cm(r,e)}catch(n){await tp(n)}}function am(e,t){(e.jo.get(t)||[]).forEach(e=>{e.resolve()}),e.jo.delete(t)}function lm(e,t,n){const r=Nu(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}async function cm(e,t,n){const r=Nu(e),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Go(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=sp.$n(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Fo.Pr(i),await async function(e,t){const n=Nu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Hf.forEach(t,t=>Hf.forEach(t.kn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Hf.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Kf(e))throw e;ku("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.qn.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(e,i)}}}(r.localStore,s))}async function um(e,t){const n=Nu(e);if(!n.currentUser.isEqual(t)){ku("SyncEngine","User change. New user:",t.toKey());const e=await cp(n.localStore,t);n.currentUser=t,function(e){e.jo.forEach(e=>{e.forEach(e=>{e.reject(new Pu(Ru.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cm(n,e.Gn)}}function hm(e){const t=Nu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=om.bind(null,t),t}class dm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=Rp(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return lp(this.persistence,new op,e.initialUser,this.k)}Yo(e){return new _p(bp.ks,this.k)}Jo(e){return new kp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>im(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=um.bind(null,this.syncEngine),await $p(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tm}createDatastore(e){const t=Rp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Ip(r));var r;return function(e,t,n,r){return new Dp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>im(this.syncEngine,e,0),s=Tp.bt()?new Tp:new Ep,new Lp(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new rm(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Nu(e);ku("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Fp(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}class pm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_u.UNAUTHENTICATED,this.clientId=qu.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{ku("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pu(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Au;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(ZR){const n=em(ZR,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function mm(e,t){e.asyncQueue.verifyOperationInProgress(),ku("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await cp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function gm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vm(e);ku("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=Nu(e);n.asyncQueue.verifyOperationInProgress(),ku("RemoteStore","RemoteStore received new credentials");const r=Up(n);n.Gr.add(3),await Fp(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await jp(n)}(t.remoteStore,e)),e.onlineComponents=t}async function vm(e){return e.offlineComponents||(ku("FirestoreClient","Using default OfflineComponentProvider"),await mm(e,new dm)),e.offlineComponents}async function ym(e){return e.onlineComponents||(ku("FirestoreClient","Using default OnlineComponentProvider"),await gm(e,new fm)),e.onlineComponents}function _m(e){return ym(e).then(e=>e.syncEngine)}class wm{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class bm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bm&&e.projectId===this.projectId&&e.database===this.database}}const xm=new Map;function km(e,t,n){if(!n)throw new Pu(Ru.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Em(e){if(!hh.isDocumentKey(e))throw new Pu(Ru.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Tm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Su()}function Cm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pu(Ru.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(e);throw new Pu(Ru.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Sm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pu(Ru.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pu(Ru.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Pu(Ru.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sm({}),this._settingsFrozen=!1,e instanceof bm?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pu(Ru.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bm(e.options.projectId)}(e))}get app(){if(!this._app)throw new Pu(Ru.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pu(Ru.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Du;switch(e.type){case"gapi":const t=e.client;return Iu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ju(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Pu(Ru.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xm.get(e);t&&(ku("ComponentProvider","Removing Datastore"),xm.delete(e),t.terminate())}(this),Promise.resolve()}}class Nm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nm(this.firestore,e,this._key)}}class Rm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class Pm extends Rm{constructor(e,t,n){super(e,t,Gh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nm(this.firestore,null,new hh(e))}withConverter(e){return new Pm(this.firestore,e,this._path)}}function Am(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bn(e),1===arguments.length&&(t=qu.A()),km("doc","path",t),e instanceof Im){const n=$u.fromString(t,...r);return Em(n),new Nm(e,null,new hh(n))}{if(!(e instanceof Nm||e instanceof Pm))throw new Pu(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($u.fromString(t,...r));return Em(n),new Nm(e.firestore,e instanceof Pm?e.converter:null,new hh(n))}}class Om{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Pp(this,"async_queue_retry"),this.Ra=()=>{const e=Np();e&&ku("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Np();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=Np();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new Au;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(wo){if(!Kf(wo))throw wo;ku("AsyncQueue","Operation failed with retryable error: "+wo)}this.ga.length>0&&this.ur.Zi(()=>this.va())}}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Eu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Ea=!1,e))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=Zp.createAndSchedule(this,e,t,n,e=>this.Va(e));return this.pa.push(r),r}Pa(){this.Ta&&Su()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}class Dm extends Im{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Om,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Lm(this),this._firestoreClient.terminate()}}function Mm(e){return e._firestoreClient||Lm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lm(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new wm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new pm(e._authCredentials,e._appCheckCredentials,e._queue,r)}class jm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Pu(Ru.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fm(th.fromBase64String(e))}catch(e){throw new Pu(Ru.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Fm(th.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Um{constructor(e){this._methodName=e}}class zm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pu(Ru.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pu(Ru.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bu(this._lat,e._lat)||Bu(this._long,e._long)}}const Vm=/^__.*__$/;class qm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Od(e,this.data,t,this.fieldTransforms)}}function Bm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Su()}}class Wm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return ng(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Bm(this.xa)&&Vm.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class Hm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||Rp(e)}ja(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Wm({xa:e,methodName:t,Ka:n,path:Zu.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Km(e){const t=e._freezeSettings(),n=Rp(e._databaseId);return new Hm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ja(s.merge||s.mergeFields?2:0,t,n,i);Jm("Data must be an object, but it was:",o,r);const a=Xm(r,o);let l,c;if(s.merge)l=new eh(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Zm(t,r,n);if(!o.contains(i))throw new Pu(Ru.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));rg(e,i)||e.push(i)}l=new eh(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new qm(new kh(a),l,c)}class Ym extends Um{_toFieldTransform(e){return new kd(e.path,new md)}isEqual(e){return e instanceof Ym}}function Qm(e,t){if($m(e=bn(e)))return Jm("Unsupported field value:",t,e),Xm(e,t);if(e instanceof Um)return function(e,t){if(!Bm(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Qm(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ud(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Hu.fromDate(e);return{timestampValue:af(t.k,n)}}if(e instanceof Hu){const n=new Hu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:af(t.k,n)}}if(e instanceof zm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fm)return{bytesValue:lf(t.k,e._byteString)};if(e instanceof Nm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:hf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(Tm(e)))}(e,t)}function Xm(e,t){const n={};return Qu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yu(e,(e,r)=>{const i=Qm(r,t.Fa(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function $m(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hu||e instanceof zm||e instanceof Fm||e instanceof Nm||e instanceof Um)}function Jm(e,t,n){if(!$m(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Tm(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Zm(e,t,n){if((t=bn(t))instanceof jm)return t._internalPath;if("string"==typeof t)return tg(e,t);throw ng("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const eg=new RegExp("[~\\*/\\[\\]]");function tg(e,t,n){if(t.search(eg)>=0)throw ng("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new jm(...t.split("."))._internalPath}catch(r){throw ng("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ng(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Pu(Ru.INVALID_ARGUMENT,a+e+l)}function rg(e,t){return e.some(e=>e.isEqual(t))}function ig(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function sg(e,t){return function(e,t){const n=new Au;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=hm(e);try{const e=await function(e,t){const n=Nu(e),r=Hu.now(),i=t.reduce((e,t)=>e.add(t.key),nf());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Wn.vn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Rd(e,s.get(e.key));null!=t&&o.push(new Dd(e.key,t,Eh(t.value.mapValue),Td.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new Wd(Bu)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await cm(r,e.changes),await qp(r.remoteStore)}catch(e){const t=em(e,"Failed to persist write");n.reject(t)}}(await _m(e),t,n)),n.promise}(Mm(e),t)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wu=e}(gr),dr(new xn("firestore",(e,n)=>{let{options:r}=n;const i=e.getProvider("app").getImmediate(),s=new Dm(i,new Mu(e.getProvider("auth-internal")),new Uu(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC")),yr(yu,"3.4.1",e),yr(yu,"3.4.1","esm2017")}();const og=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}const n=Object.assign({name:ar,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw pr.create("bad-app-name",{appName:String(r)});const i=cr.get(r);if(i){if(hn(e,i.options)&&hn(n,i.config))return i;throw pr.create("duplicate-app",{appName:r})}const s=new Tn(r);for(const a of ur.values())s.addComponent(a);const o=new mr(e,n,s);return cr.set(r,o),o}({apiKey:"AIzaSyD8GWx4ry3hgM6jV0qtTMHBrT7JoWHQCAk",authDomain:"desarollogit-68916509-89c54.firebaseapp.com",databaseURL:"https://desarollogit-68916509-89c54-default-rtdb.europe-west1.firebasedatabase.app",projectId:"desarollogit-68916509-89c54",storageBucket:"desarollogit-68916509-89c54.firebasestorage.app",messagingSenderId:"464708937070",appId:"1:464708937070:web:41e91b162694b2bb7c8d7f"}),ag=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();const t=fr(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=fr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(hn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Cr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eo,persistence:[fs,Xi,Ji]})}(og),lg=function(){return fr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr(),"firestore").getImmediate()}(og),cg=new ji,ug="@firebase/database",hg="0.12.4";let dg="";class fg{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),sn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:rn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class pg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const mg=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fg(t)}}catch(ZR){}return new pg},gg=mg("localStorage"),vg=mg("sessionStorage"),yg=new An("@firebase/database"),_g=function(){let e=1;return function(){return e++}}(),wg=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ft(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new gn;n.update(t);const r=n.digest();return Vt.encodeByteArray(r)},bg=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=bg.apply(null,n):e+="object"===typeof n?sn(n):n,e+=" "}return e};let xg=null,kg=!0;const Eg=function(e,t){Ft(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(yg.logLevel=Sn.VERBOSE,xg=yg.log.bind(yg),t&&vg.set("logging_enabled",!0)):"function"===typeof e?xg=e:(xg=null,vg.remove("logging_enabled"))},Tg=function(){if(!0===kg&&(kg=!1,null===xg&&!0===vg.get("logging_enabled")&&Eg(!0)),xg){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=bg.apply(null,t);xg(r)}},Cg=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Tg(e,...n)}},Sg=function(){const e="FIREBASE INTERNAL ERROR: "+bg(...arguments);yg.error(e)},Ig=function(){const e="FIREBASE FATAL ERROR: ".concat(bg(...arguments));throw yg.error(e),new Error(e)},Ng=function(){const e="FIREBASE WARNING: "+bg(...arguments);yg.warn(e)},Rg=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Pg="[MIN_NAME]",Ag="[MAX_NAME]",Og=function(e,t){if(e===t)return 0;if(e===Pg||t===Ag)return-1;if(t===Pg||e===Ag)return 1;{const n=Bg(e),r=Bg(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Dg=function(e,t){return e===t?0:e<t?-1:1},Mg=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+sn(t))},Lg=function(e){if("object"!==typeof e||null===e)return sn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=sn(t[r]),n+=":",n+=Lg(e[t[r]]);return n+="}",n},jg=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Fg(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ug=function(e){Ft(!Rg(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const zg=new RegExp("^-?(0*)\\d{1,10}$"),Vg=-2147483648,qg=2147483647,Bg=function(e){if(zg.test(e)){const t=Number(e);if(t>=Vg&&t<=qg)return t}return null},Wg=function(e){try{e()}catch(ZR){setTimeout(()=>{const t=ZR.stack||"";throw Ng("Exception was thrown by user callback.",t),ZR},Math.floor(0))}},Hg=function(e,t){const n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n};class Kg{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Ng('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Gg{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Tg("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ng(e)}}class Yg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yg.OWNER="owner";const Qg="5",Xg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$g="ac",Jg="websocket",Zg="long_polling";class ev{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function tv(e,t,n){let r;if(Ft("string"===typeof t,"typeof type must == string"),Ft("object"===typeof n,"typeof params must == object"),t===Jg)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Zg)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Fg(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class nv{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Wt(this.counters_)}}const rv={},iv={};function sv(e){const t=e.toString();return rv[t]||(rv[t]=new nv),rv[t]}class ov{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Wg(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const av="start";class lv{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cg(e),this.stats_=sv(t),this.urlFn=e=>(this.appCheckToken&&(e[$g]=this.appCheckToken),tv(t,Zg,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ov(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Zt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cv(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===av)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[av]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Qg,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[$g]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Xg.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lv.forceAllow_=!0}static forceDisallow(){lv.forceDisallow_=!0}static isAvailable(){return!Zt()&&(!!lv.forceAllow_||!lv.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=sn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=qt(t),r=jg(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Zt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=sn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class cv{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Zt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=_g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=cv.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(ZR){Tg("frame writing exception"),ZR.stack&&Tg(ZR.stack),Tg(ZR)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Tg("No IE domain setting required")}catch(ZR){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Zt()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Tg("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(ZR){}},Math.floor(1))}}let uv=null;"undefined"!==typeof MozWebSocket?uv=MozWebSocket:"undefined"!==typeof WebSocket&&(uv=WebSocket);class hv{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cg(this.connId),this.stats_=sv(t),this.connURL=hv.connectionURL_(t,s,o,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r){const i={};return i.v=Qg,!Zt()&&"undefined"!==typeof location&&location.hostname&&Xg.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[$g]=r),tv(e,Jg,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gg.set("previous_websocket_failure",!0);try{if(Zt()){const e=this.nodeAdmin?"AdminNode":"Node",t={headers:{"User-Agent":"Firebase/".concat(Qg,"/").concat(dg,"/").concat(process.platform,"/").concat(e),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(t.proxy={origin:r}),this.mySock=new uv(this.connURL,[],t)}else{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new uv(this.connURL,[],e)}}catch(ZR){this.log_("Error instantiating WebSocket.");const t=ZR.message||ZR.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){hv.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==uv&&!hv.forceDisallow_}static previouslyFailed(){return gg.isInMemoryStorage||!0===gg.get("previous_websocket_failure")}markConnectionHealthy(){gg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=rn(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ft(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=sn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=jg(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(ZR){this.log_("Exception thrown from WebSocket.send():",ZR.message||ZR.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hv.responsesRequiredToBeHealthy=2,hv.healthyTimeout=3e4;class dv{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[lv,hv]}initTransports_(e){const t=hv&&hv.isAvailable();let n=t&&!hv.previouslyFailed();if(e.webSocketOnly&&(t||Ng("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[hv];else{const e=this.transports_=[];for(const t of dv.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class fv{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cg("c:"+this.id+":"),this.transportManager_=new dv(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Hg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Mg("t",e),n=Mg("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Mg("t",e),n=Mg("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Mg("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Sg("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Qg!==n&&Ng("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Hg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pv{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class mv{constructor(e){this.allowedEvents_=e,this.listeners_={},Ft(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ft(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class gv extends mv{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Qt()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gv}getInitialEvent(e){return Ft("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class vv{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function yv(){return new vv("")}function _v(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function wv(e){return e.pieces_.length-e.pieceNum_}function bv(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new vv(e.pieces_,t)}function xv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function kv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ev(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new vv(t,0)}function Tv(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof vv)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new vv(n,0)}function Cv(e){return e.pieceNum_>=e.pieces_.length}function Sv(e,t){const n=_v(e),r=_v(t);if(null===n)return t;if(n===r)return Sv(bv(e),bv(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Iv(e,t){const n=kv(e,0),r=kv(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Og(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Nv(e,t){if(wv(e)!==wv(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Rv(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(wv(e)>wv(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Pv{constructor(e,t){this.errorPrefix_=t,this.parts_=kv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=wn(this.parts_[n]);Av(this)}}function Av(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ov(e))}function Ov(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Dv extends mv{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Dv}getInitialEvent(e){return Ft("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Mv=1e3;class Lv extends pv{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Lv.nextPersistentConnectionId_++,this.log_=Cg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(sn(i)),Ft(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Gt,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Ft(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ft(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,o=i.s;Lv.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&an(e,"w")){const n=ln(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ng("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=on(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=on(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ft(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+sn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Sg("Unrecognized action received from server: "+sn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ft(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Lv.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Ft(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Tg("getToken() completed but was canceled"):(Tg("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new fv(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Ng(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(Sg){this.log_("Failed to get token: "+Sg),s||(this.repoInfo_.nodeAdmin&&Ng(Sg),a())}}}interrupt(e){Tg("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tg("Resuming connection for reason: "+e),delete this.interruptReasons_[e],cn(this.interruptReasons_)&&(this.reconnectDelay_=Mv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Lg(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new vv(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Tg("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Tg("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Zt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+dg.replace(/\./g,"-")]=1,Qt()?e["framework.cordova"]=1:$t()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gv.getInstance().currentlyOnline();return cn(this.interruptReasons_)&&e}}Lv.nextPersistentConnectionId_=0,Lv.nextConnectionId_=0;class jv{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new jv(e,t)}}class Fv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new jv(Pg,e),r=new jv(Pg,t);return 0!==this.compare(n,r)}minPost(){return jv.MIN}}let Uv;class zv extends Fv{static get __EMPTY_NODE(){return Uv}static set __EMPTY_NODE(e){Uv=e}compare(e,t){return Og(e.name,t.name)}isDefinedOn(e){throw Ut("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return jv.MIN}maxPost(){return new jv(Ag,Uv)}makePost(e,t){return Ft("string"===typeof e,"KeyIndex indexValue must always be a string."),new jv(e,Uv)}toString(){return".key"}}const Vv=new zv;class qv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Bv.RED,this.left=null!=r?r:Wv.EMPTY_NODE,this.right=null!=i?i:Wv.EMPTY_NODE}copy(e,t,n,r,i){return new Bv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wv.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Wv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bv.RED=!0,Bv.BLACK=!1;class Wv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wv.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Wv(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Bv.BLACK,null,null))}remove(e){return new Wv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bv.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qv(this.root_,null,this.comparator_,!0,e)}}function Hv(e,t){return Og(e.name,t.name)}function Kv(e,t){return Og(e,t)}let Gv;Wv.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Bv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Yv=function(e){return"number"===typeof e?"number:"+Ug(e):"string:"+e},Qv=function(e){if(e.isLeafNode()){const t=e.val();Ft("string"===typeof t||"number"===typeof t||"object"===typeof t&&an(t,".sv"),"Priority must be a string or number.")}else Ft(e===Gv||e.isEmpty(),"priority of unexpected type.");Ft(e===Gv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Xv,$v,Jv;class Zv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zv.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ft(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qv(this.priorityNode_)}static set __childrenNodeConstructor(e){Xv=e}static get __childrenNodeConstructor(){return Xv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Zv(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Zv.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Cv(e)?this:".priority"===_v(e)?this.priorityNode_:Zv.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Zv.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=_v(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ft(".priority"!==n||1===wv(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Zv.__childrenNodeConstructor.EMPTY_NODE.updateChild(bv(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Yv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ug(this.value_):this.value_,this.lazyHash_=wg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Zv.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Zv.__childrenNodeConstructor?-1:(Ft(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Zv.VALUE_TYPE_ORDER.indexOf(t),i=Zv.VALUE_TYPE_ORDER.indexOf(n);return Ft(r>=0,"Unknown leaf type: "+t),Ft(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Zv.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ey=new class extends Fv{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Og(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return jv.MIN}maxPost(){return new jv(Ag,new Zv("[PRIORITY-POST]",Jv))}makePost(e,t){const n=$v(e);return new jv(t,new Zv("[PRIORITY-POST]",n))}toString(){return".priority"}},ty=Math.log(2);class ny{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ty,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ry=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Bv(a,o.node,Bv.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new Bv(a,o.node,Bv.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new Bv(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Bv.BLACK):(a(r,Bv.BLACK),a(r,Bv.RED))}return s}(new ny(e.length));return new Wv(r||t,s)};let iy;const sy={};class oy{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ft(sy&&ey,"ChildrenNode.ts has not been loaded"),iy=iy||new oy({".priority":sy},{".priority":ey}),iy}get(e){const t=ln(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Wv?t:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,t){Ft(e!==Vv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(jv.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?ry(n,e.getCompare()):sy;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new oy(c,l)}addToIndexes(e,t){const n=un(this.indexes_,(n,r)=>{const i=ln(this.indexSet_,r);if(Ft(i,"Missing index implementation for "+r),n===sy){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(jv.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),ry(n,i.getCompare())}return sy}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new jv(e.name,r))),i.insert(e,e.node)}});return new oy(n,this.indexSet_)}removeFromIndexes(e,t){const n=un(this.indexes_,n=>{if(n===sy)return n;{const r=t.get(e.name);return r?n.remove(new jv(e.name,r)):n}});return new oy(n,this.indexSet_)}}let ay;class ly{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qv(this.priorityNode_),this.children_.isEmpty()&&Ft(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ay||(ay=new ly(new Wv(Kv),null,oy.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ay}updatePriority(e){return this.children_.isEmpty()?this:new ly(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?ay:t}}getChild(e){const t=_v(e);return null===t?this:this.getImmediateChild(t).getChild(bv(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ft(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new jv(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?ay:this.priorityNode_;return new ly(r,s,i)}}updateChild(e,t){const n=_v(e);if(null===n)return t;{Ft(".priority"!==_v(e)||1===wv(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(bv(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(ey,(s,o)=>{t[s]=o.val(e),n++,i&&ly.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Yv(this.getPriority().val())+":"),this.forEachChild(ey,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":wg(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new jv(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new jv(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new jv(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,jv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,jv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cy?-1:0}withIndex(e){if(e===Vv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ly(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Vv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ey),n=t.getIterator(ey);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Vv?null:this.indexMap_.get(e.toString())}}ly.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const cy=new class extends ly{constructor(){super(new Wv(Kv),ly.EMPTY_NODE,oy.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ly.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(jv,{MIN:{value:new jv(Pg,ly.EMPTY_NODE)},MAX:{value:new jv(Ag,cy)}}),zv.__EMPTY_NODE=ly.EMPTY_NODE,Zv.__childrenNodeConstructor=ly,Gv=cy,function(e){Jv=e}(cy);function uy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ly.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ft(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Zv(e,uy(t))}if(e instanceof Array){let n=ly.EMPTY_NODE;return Fg(e,(t,r)=>{if(an(e,t)&&"."!==t.substring(0,1)){const e=uy(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(uy(t))}{const n=[];let r=!1;if(Fg(e,(e,t)=>{if("."!==e.substring(0,1)){const i=uy(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new jv(e,i)))}}),0===n.length)return ly.EMPTY_NODE;const i=ry(n,Hv,e=>e.name,Kv);if(r){const e=ry(n,ey.getCompare());return new ly(i,uy(t),new oy({".priority":e},{".priority":ey}))}return new ly(i,uy(t),oy.Default)}}!function(e){$v=e}(uy);class hy extends Fv{constructor(e){super(),this.indexPath_=e,Ft(!Cv(e)&&".priority"!==_v(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Og(e.name,t.name):i}makePost(e,t){const n=uy(e),r=ly.EMPTY_NODE.updateChild(this.indexPath_,n);return new jv(t,r)}maxPost(){const e=ly.EMPTY_NODE.updateChild(this.indexPath_,cy);return new jv(Ag,e)}toString(){return kv(this.indexPath_,0).join("/")}}const dy=new class extends Fv{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Og(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return jv.MIN}maxPost(){return jv.MAX}makePost(e,t){const n=uy(e);return new jv(t,n)}toString(){return".value"}},fy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",py=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=fy.charAt(n%64),n=Math.floor(n/64);Ft(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=fy.charAt(t[i]);return Ft(20===o.length,"nextPushId: Length should be 20."),o}}();function my(e){return{type:"value",snapshotNode:e}}function gy(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vy(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yy(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class _y{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Ft(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(vy(t,o)):Ft(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(gy(t,n)):s.trackChildChange(yy(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ey,(e,r)=>{t.hasChild(e)||n.trackChildChange(vy(e,r))}),t.isLeafNode()||t.forEachChild(ey,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(yy(t,r,i))}else n.trackChildChange(gy(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ly.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wy{constructor(e){this.indexedFilter_=new _y(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wy.getStartPost_(e),this.endPost_=wy.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,s){return this.matches(new jv(t,n))||(n=ly.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ly.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ly.EMPTY_NODE);const i=this;return t.forEachChild(ey,(e,t)=>{i.matches(new jv(e,t))||(r=r.updateImmediateChild(e,ly.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class by{constructor(e){this.rangedFilter_=new wy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new jv(t,n))||(n=ly.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=ly.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=ly.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,s;if(r=t.withIndex(this.index_),r=r.updatePriority(ly.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else s=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const t=s.getNext();!a&&i(e,t)<=0&&(a=!0);a&&o<this.limit_&&i(t,n)<=0?o++:r=r.updateImmediateChild(t.name,ly.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;Ft(o.numChildren()===this.limit_,"");const a=new jv(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(yy(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(vy(t,e));const n=o.updateImmediateChild(t,ly.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(gy(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(vy(l.name,l.node)),i.trackChildChange(gy(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,ly.EMPTY_NODE)):e}}class xy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ey}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ft(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ft(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pg}hasEnd(){return this.endSet_}getIndexEndValue(){return Ft(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ft(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ag}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ft(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ey}copy(){const e=new xy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ky(e){const t={};if(e.isDefault())return t;let n;return e.index_===ey?n="$priority":e.index_===dy?n="$value":e.index_===Vv?n="$key":(Ft(e.index_ instanceof hy,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=sn(n),e.startSet_&&(t.startAt=sn(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+sn(e.indexStartName_))),e.endSet_&&(t.endAt=sn(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+sn(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ey(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ey&&(t.i=e.index_.toString()),t}class Ty extends pv{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Cg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ft(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Ty.getListenId_(e,n),o={};this.listens_[s]=o;const a=ky(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),ln(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Ty.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ky(e._queryParams),n=e._path.toString(),r=new Gt;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fn(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=rn(a.responseText)}catch(ZR){Ng("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ng("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class Cy{constructor(){this.rootNode_=ly.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Sy(){return{value:null,children:new Map}}function Iy(e,t,n){if(Cv(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=_v(t);e.children.has(r)||e.children.set(r,Sy());Iy(e.children.get(r),t=bv(t),n)}}function Ny(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Ny(r,new vv(t.toString()+"/"+e),n)})}class Ry{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Fg(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Py{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ry(e);const n=1e4+2e4*Math.random();Hg(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Fg(e,(e,r)=>{r>0&&an(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Hg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ay;function Oy(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ay||(Ay={}));class Dy{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ay.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Cv(this.path)){if(null!=this.affectedTree.value)return Ft(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new vv(e));return new Dy(yv(),t,this.revert)}}return Ft(_v(this.path)===e,"operationForChild called for unrelated child."),new Dy(bv(this.path),this.affectedTree,this.revert)}}class My{constructor(e,t){this.source=e,this.path=t,this.type=Ay.LISTEN_COMPLETE}operationForChild(e){return Cv(this.path)?new My(this.source,yv()):new My(this.source,bv(this.path))}}class Ly{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ay.OVERWRITE}operationForChild(e){return Cv(this.path)?new Ly(this.source,yv(),this.snap.getImmediateChild(e)):new Ly(this.source,bv(this.path),this.snap)}}class jy{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ay.MERGE}operationForChild(e){if(Cv(this.path)){const t=this.children.subtree(new vv(e));return t.isEmpty()?null:t.value?new Ly(this.source,yv(),t.value):new jy(this.source,yv(),t)}return Ft(_v(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jy(this.source,bv(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fy{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Cv(e))return this.isFullyInitialized()&&!this.filtered_;const t=_v(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Uy{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zy(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ut("Should only compare child_ events.");const r=new jv(t.childName,t.snapshotNode),i=new jv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Vy(e,t){return{eventCache:e,serverCache:t}}function qy(e,t,n,r){return Vy(new Fy(t,n,r),e.serverCache)}function By(e,t,n,r){return Vy(e.eventCache,new Fy(t,n,r))}function Wy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Hy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ky;class Gy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ky||(Ky=new Wv(Dg)),Ky);this.value=e,this.children=t}static fromObject(e){let t=new Gy(null);return Fg(e,(e,n)=>{t=t.set(new vv(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:yv(),value:this.value};if(Cv(e))return null;{const n=_v(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(bv(e),t);if(null!=i){return{path:Tv(new vv(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Cv(e))return this;{const t=_v(e),n=this.children.get(t);return null!==n?n.subtree(bv(e)):new Gy(null)}}set(e,t){if(Cv(e))return new Gy(t,this.children);{const n=_v(e),r=(this.children.get(n)||new Gy(null)).set(bv(e),t),i=this.children.insert(n,r);return new Gy(this.value,i)}}remove(e){if(Cv(e))return this.children.isEmpty()?new Gy(null):new Gy(null,this.children);{const t=_v(e),n=this.children.get(t);if(n){const r=n.remove(bv(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Gy(null):new Gy(this.value,i)}return this}}get(e){if(Cv(e))return this.value;{const t=_v(e),n=this.children.get(t);return n?n.get(bv(e)):null}}setTree(e,t){if(Cv(e))return t;{const n=_v(e),r=(this.children.get(n)||new Gy(null)).setTree(bv(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Gy(this.value,i)}}fold(e){return this.fold_(yv(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Tv(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,yv(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Cv(e))return null;{const r=_v(e),i=this.children.get(r);return i?i.findOnPath_(bv(e),Tv(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,yv(),t)}foreachOnPath_(e,t,n){if(Cv(e))return this;{this.value&&n(t,this.value);const r=_v(e),i=this.children.get(r);return i?i.foreachOnPath_(bv(e),Tv(t,r),n):new Gy(null)}}foreach(e){this.foreach_(yv(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Tv(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Yy{constructor(e){this.writeTree_=e}static empty(){return new Yy(new Gy(null))}}function Qy(e,t,n){if(Cv(t))return new Yy(new Gy(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Sv(i,t);return s=s.updateChild(o,n),new Yy(e.writeTree_.set(i,s))}{const r=new Gy(n),i=e.writeTree_.setTree(t,r);return new Yy(i)}}}function Xy(e,t,n){let r=e;return Fg(n,(e,n)=>{r=Qy(r,Tv(t,e),n)}),r}function $y(e,t){if(Cv(t))return Yy.empty();{const n=e.writeTree_.setTree(t,new Gy(null));return new Yy(n)}}function Jy(e,t){return null!=Zy(e,t)}function Zy(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Sv(n.path,t)):null}function e_(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ey,(e,n)=>{t.push(new jv(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new jv(e,n.value))}),t}function t_(e,t){if(Cv(t))return e;{const n=Zy(e,t);return new Yy(null!=n?new Gy(n):e.writeTree_.subtree(t))}}function n_(e){return e.writeTree_.isEmpty()}function r_(e,t){return i_(yv(),e.writeTree_,t)}function i_(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(Ft(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=i_(Tv(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Tv(e,".priority"),r)),n}}function s_(e,t){return y_(t,e)}function o_(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Ft(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&a_(t,r.path)?i=!1:Rv(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=c_(e.allWrites,l_,yv()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=$y(e.visibleWrites,r.path);else{Fg(r.children,t=>{e.visibleWrites=$y(e.visibleWrites,Tv(r.path,t))})}return!0}return!1}function a_(e,t){if(e.snap)return Rv(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Rv(Tv(e.path,n),t))return!0;return!1}function l_(e){return e.visible}function c_(e,t,n){let r=Yy.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Rv(n,e)?(t=Sv(n,e),r=Qy(r,t,s.snap)):Rv(e,n)&&(t=Sv(e,n),r=Qy(r,yv(),s.snap.getChild(t)));else{if(!s.children)throw Ut("WriteRecord should have .snap or .children");if(Rv(n,e))t=Sv(n,e),r=Xy(r,t,s.children);else if(Rv(e,n))if(t=Sv(e,n),Cv(t))r=Xy(r,yv(),s.children);else{const e=ln(s.children,_v(t));if(e){const n=e.getChild(bv(t));r=Qy(r,yv(),n)}}}}}return r}function u_(e,t,n,r,i){if(r||i){const s=t_(e.visibleWrites,t);if(!i&&n_(s))return n;if(i||null!=n||Jy(s,yv())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Rv(e.path,t)||Rv(t,e.path))};return r_(c_(e.allWrites,s,t),n||ly.EMPTY_NODE)}return null}{const r=Zy(e.visibleWrites,t);if(null!=r)return r;{const r=t_(e.visibleWrites,t);if(n_(r))return n;if(null!=n||Jy(r,yv())){return r_(r,n||ly.EMPTY_NODE)}return null}}}function h_(e,t,n,r){return u_(e.writeTree,e.treePath,t,n,r)}function d_(e,t){return function(e,t,n){let r=ly.EMPTY_NODE;const i=Zy(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ey,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=t_(e.visibleWrites,t);return n.forEachChild(ey,(e,t)=>{const n=r_(t_(i,new vv(e)),t);r=r.updateImmediateChild(e,n)}),e_(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return e_(t_(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function f_(e,t,n,r){return function(e,t,n,r,i){Ft(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Tv(t,n);if(Jy(e.visibleWrites,s))return null;{const t=t_(e.visibleWrites,s);return n_(t)?i.getChild(n):r_(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function p_(e,t){return function(e,t){return Zy(e.visibleWrites,t)}(e.writeTree,Tv(e.treePath,t))}function m_(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=t_(e.visibleWrites,t),c=Zy(l,yv());if(null!=c)a=c;else{if(null==n)return[];a=r_(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function g_(e,t,n){return function(e,t,n,r){const i=Tv(t,n),s=Zy(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return r_(t_(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function v_(e,t){return y_(Tv(e.treePath,t),e.writeTree)}function y_(e,t){return{treePath:e,writeTree:t}}class __{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ft("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ft(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,yy(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vy(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,gy(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ut("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,yy(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const w_=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class b_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Fy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return g_(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hy(this.viewCache_),i=m_(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function x_(e,t,n,r,i){const s=new __;let o,a;if(n.type===Ay.OVERWRITE){const l=n;l.source.fromUser?o=T_(e,t,l.path,l.snap,r,i,s):(Ft(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Cv(l.path),o=E_(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Ay.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=Tv(n,r);C_(t,_v(c))&&(a=T_(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=Tv(n,r);C_(t,_v(c))||(a=T_(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):(Ft(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=I_(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Ay.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=p_(r,n))return t;{const a=new b_(r,t,i),l=t.eventCache.getNode();let c;if(Cv(n)||".priority"===_v(n)){let n;if(t.serverCache.isFullyInitialized())n=h_(r,Hy(t));else{const e=t.serverCache.getNode();Ft(e instanceof ly,"serverChildren would be complete if leaf node"),n=d_(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=_v(n);let u=g_(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,bv(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,ly.EMPTY_NODE,bv(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=h_(r,Hy(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=p_(r,yv()),qy(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=p_(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Cv(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return E_(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Cv(n)){let r=new Gy(null);return l.getNode().forEachChild(Vv,(e,t)=>{r=r.set(new vv(e),t)}),I_(e,t,n,r,i,s,a,o)}return t}{let c=new Gy(null);return r.foreach((e,t)=>{const r=Tv(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),I_(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Ay.LISTEN_COMPLETE)throw Ut("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=By(t,s.getNode(),s.isFullyInitialized()||Cv(n),s.isFiltered());return k_(e,o,n,r,w_,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(my(Wy(t)))}}(t,o,l),{viewCache:o,changes:l}}function k_(e,t,n,r,i,s){const o=t.eventCache;if(null!=p_(r,n))return t;{let a,l;if(Cv(n))if(Ft(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Hy(t),i=d_(r,n instanceof ly?n:ly.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=h_(r,Hy(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=_v(n);if(".priority"===c){Ft(1===wv(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=f_(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=bv(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=f_(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=g_(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return qy(t,a,o.isFullyInitialized()||Cv(n),e.filter.filtersNodes())}}function E_(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Cv(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=_v(n);if(!l.isCompleteForPath(n)&&wv(n)>1)return t;const i=bv(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,w_,null)}const h=By(t,c,l.isFullyInitialized()||Cv(n),u.filtersNodes());return k_(e,h,n,i,new b_(i,h,s),a)}function T_(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new b_(i,t,s);if(Cv(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=qy(t,c,!0,e.filter.filtersNodes());else{const i=_v(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=qy(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=bv(n),c=a.getNode().getImmediateChild(i);let h;if(Cv(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===xv(s)&&e.getChild(Ev(s)).isEmpty()?e:e.updateChild(s,r):ly.EMPTY_NODE}if(c.equals(h))l=t;else{l=qy(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function C_(e,t){return e.eventCache.isCompleteForChild(t)}function S_(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function I_(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Cv(n)?r:new Gy(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=S_(0,t.serverCache.getNode().getImmediateChild(n),r);c=E_(e,c,new vv(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!l){const l=S_(0,t.serverCache.getNode().getImmediateChild(n),r);c=E_(e,c,new vv(n),l,i,s,o,a)}}),c}class N_{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new _y(n.getIndex()),i=(s=n).loadsAllData()?new _y(s.getIndex()):s.hasLimit()?new by(s):new wy(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(ly.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(ly.EMPTY_NODE,a.getNode(),null),u=new Fy(l,o.isFullyInitialized(),r.filtersNodes()),h=new Fy(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Vy(h,u),this.eventGenerator_=new Uy(this.query_)}get query(){return this.query_}}function R_(e,t){const n=Hy(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Cv(t)&&!n.getImmediateChild(_v(t)).isEmpty())?n.getChild(t):null}function P_(e){return 0===e.eventRegistrations_.length}function A_(e,t,n){const r=[];if(n){Ft(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function O_(e,t,n,r){t.type===Ay.MERGE&&null!==t.source.queryId&&(Ft(Hy(e.viewCache_),"We should always have a full cache before handling merges"),Ft(Wy(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=x_(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,Ft(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Ft(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Ft(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,D_(e,s.changes,s.viewCache.eventCache.getNode(),null)}function D_(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),zy(e,i,"child_removed",t,r,n),zy(e,i,"child_added",t,r,n),zy(e,i,"child_moved",s,r,n),zy(e,i,"child_changed",t,r,n),zy(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let M_,L_;class j_{constructor(){this.views=new Map}}function F_(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Ft(null!=s,"SyncTree gave us an op for an invalid query."),O_(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(O_(s,t,n,r));return i}}function U_(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=h_(n,i?r:null),s=!1;e?s=!0:r instanceof ly?(e=d_(n,r),s=!1):(e=ly.EMPTY_NODE,s=!1);const o=Vy(new Fy(e,s,!1),new Fy(r,i,!1));return new N_(t,o)}return o}function z_(e,t,n,r,i,s){const o=U_(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(ey,(e,t)=>{r.push(gy(e,t))});return n.isFullyInitialized()&&r.push(my(n.getNode())),D_(e,r,n.getNode(),t)}(o,n)}function V_(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=K_(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(A_(c,n,r)),P_(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(A_(t,n,r)),P_(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!K_(e)&&s.push(new(Ft(M_,"Reference.ts has not been loaded"),M_)(t._repo,t._path)),{removed:s,events:o}}function q_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function B_(e,t){let n=null;for(const r of e.views.values())n=n||R_(r,t);return n}function W_(e,t){if(t._queryParams.loadsAllData())return G_(e);{const n=t._queryIdentifier;return e.views.get(n)}}function H_(e,t){return null!=W_(e,t)}function K_(e){return null!=G_(e)}function G_(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Y_=1;class Q_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Gy(null),this.pendingWriteTree_={visibleWrites:Yy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function X_(e,t,n,r,i){return function(e,t,n,r,i){Ft(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Qy(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?rw(e,new Ly({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $_(e,t,n,r){!function(e,t,n,r){Ft(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Xy(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Gy.fromObject(n);return rw(e,new jy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function J_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(o_(e.pendingWriteTree_,t)){let t=new Gy(null);return null!=r.snap?t=t.set(yv(),!0):Fg(r.children,e=>{t=t.set(new vv(e),!0)}),rw(e,new Dy(r.path,t,n))}return[]}function Z_(e,t,n){return rw(e,new Ly({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ew(e,t,n,r){const i=t._path,s=e.syncPointTree_.get(i);let o=[];if(s&&("default"===t._queryIdentifier||H_(s,t))){const a=V_(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(i,(e,t)=>K_(t));if(c&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&K_(t)){return[G_(t)]}{let e=[];return t&&(e=q_(t)),Fg(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=ow(e,r);e.listenProvider_.startListening(dw(i),aw(e,i),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const n=null;e.listenProvider_.stopListening(dw(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(lw(t));e.listenProvider_.stopListening(dw(t),n)});!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=lw(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function tw(e,t,n){const r=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=Sv(e,r);i=i||B_(t,n),s=s||K_(t)});let o,a=e.syncPointTree_.get(r);if(a?(s=s||K_(a),i=i||B_(a,yv())):(a=new j_,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i)o=!0;else{o=!1,i=ly.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=B_(t,yv());n&&(i=i.updateImmediateChild(e,n))})}const l=H_(a,t);if(!l&&!t._queryParams.loadsAllData()){const n=lw(t);Ft(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Y_++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=z_(a,t,n,s_(e.pendingWriteTree_,r),i,o);if(!l&&!s){const n=W_(a,t);c=c.concat(function(e,t,n){const r=t._path,i=aw(e,t),s=ow(e,n),o=e.listenProvider_.startListening(dw(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ft(!K_(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Cv(e)&&t&&K_(t))return[G_(t).query];{let e=[];return t&&(e=e.concat(q_(t).map(e=>e.query))),Fg(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(dw(r),aw(e,r))}}return o}(e,t,n))}return c}function nw(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=B_(n,Sv(e,t));if(r)return r});return u_(r,t,i,n,!0)}function rw(e,t){return iw(t,e.syncPointTree_,null,s_(e.pendingWriteTree_,yv()))}function iw(e,t,n,r){if(Cv(e.path))return sw(e,t,n,r);{const i=t.get(yv());null==n&&null!=i&&(n=B_(i,yv()));let s=[];const o=_v(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=v_(r,o);s=s.concat(iw(a,l,e,t))}return i&&(s=s.concat(F_(i,e,r,n))),s}}function sw(e,t,n,r){const i=t.get(yv());null==n&&null!=i&&(n=B_(i,yv()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=v_(r,t),l=e.operationForChild(t);l&&(s=s.concat(sw(l,i,o,a)))}),i&&(s=s.concat(F_(i,e,r,n))),s}function ow(e,t){const n=t.query,r=aw(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ly.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=cw(e,n);if(r){const n=uw(r),i=n.path,s=n.queryId,o=Sv(i,t);return hw(e,i,new My(Oy(s),o))}return[]}(e,n._path,r):function(e,t){return rw(e,new My({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ew(e,n,null,r)}}}}function aw(e,t){const n=lw(t);return e.queryToTagMap.get(n)}function lw(e){return e._path.toString()+"$"+e._queryIdentifier}function cw(e,t){return e.tagToQueryMap.get(t)}function uw(e){const t=e.indexOf("$");return Ft(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new vv(e.substr(0,t))}}function hw(e,t,n){const r=e.syncPointTree_.get(t);Ft(r,"Missing sync point for query tag that we're tracking");return F_(r,n,s_(e.pendingWriteTree_,t),null)}function dw(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ft(L_,"Reference.ts has not been loaded"),L_)(e._repo,e._path):e}class fw{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new fw(t)}node(){return this.node_}}class pw{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Tv(this.path_,e);return new pw(this.syncTree_,t)}node(){return nw(this.syncTree_,this.path_)}}const mw=function(e,t,n){return e&&"object"===typeof e?(Ft(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?gw(e[".sv"],t,n):"object"===typeof e[".sv"]?vw(e[".sv"],t):void Ft(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gw=function(e,t,n){if("timestamp"===e)return n.timestamp;Ft(!1,"Unexpected server value: "+e)},vw=function(e,t,n){e.hasOwnProperty("increment")||Ft(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ft(!1,"Unexpected increment value: "+r);const i=t.node();if(Ft(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},yw=function(e,t,n,r){return ww(t,new pw(n,e),r)},_w=function(e,t,n){return ww(e,new fw(t),n)};function ww(e,t,n){const r=e.getPriority().val(),i=mw(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=mw(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Zv(s,uy(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Zv(i))),r.forEachChild(ey,(e,r)=>{const i=ww(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class bw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function xw(e,t){let n=t instanceof vv?t:new vv(t),r=e,i=_v(n);for(;null!==i;){const e=ln(r.node.children,i)||{children:{},childCount:0};r=new bw(i,r,e),n=bv(n),i=_v(n)}return r}function kw(e){return e.node.value}function Ew(e,t){e.node.value=t,Nw(e)}function Tw(e){return e.node.childCount>0}function Cw(e,t){Fg(e.node.children,(n,r)=>{t(new bw(n,e,r))})}function Sw(e,t,n,r){n&&!r&&t(e),Cw(e,e=>{Sw(e,t,!0,r)}),n&&r&&t(e)}function Iw(e){return new vv(null===e.parent?e.name:Iw(e.parent)+"/"+e.name)}function Nw(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===kw(e)&&!Tw(e)}(n),i=an(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nw(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nw(e))}(e.parent,e.name,e)}const Rw=/[\[\].#$\/\u0000-\u001F\u007F]/,Pw=/[\[\].#$\u0000-\u001F\u007F]/,Aw=10485760,Ow=function(e){return"string"===typeof e&&0!==e.length&&!Rw.test(e)},Dw=function(e){return"string"===typeof e&&0!==e.length&&!Pw.test(e)},Mw=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Rg(e)||e&&"object"===typeof e&&an(e,".sv")},Lw=function(e,t,n,r){r&&void 0===t||jw(_n(e,"value"),t,n)},jw=function(e,t,n){const r=n instanceof vv?new Pv(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ov(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ov(r)+" with contents = "+t.toString());if(Rg(t))throw new Error(e+"contains "+t.toString()+" "+Ov(r));if("string"===typeof t&&t.length>Aw/3&&wn(t)>Aw)throw new Error(e+"contains a string greater than "+Aw+" utf8 bytes "+Ov(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Fg(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Ow(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ov(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=wn(t),Av(e)}(r,t),jw(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=wn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Ov(r)+" in addition to actual children.")}},Fw=function(e,t,n,r){if(r&&void 0===t)return;const i=_n(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Fg(t,(e,t)=>{const r=new vv(e);if(jw(i,t,Tv(n,r)),".priority"===xv(r)&&!Mw(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=kv(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Ow(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Iv);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Rv(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},Uw=function(e,t,n,r){if((!r||void 0!==n)&&!Dw(n))throw new Error(_n(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zw=function(e,t){if(".info"===_v(t))throw new Error(e+" failed = Can't modify data under /.info/")},Vw=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ow(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Dw(e)}(n))throw new Error(_n(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bw(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Nv(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ww(e,t,n){Bw(e,n),Kw(e,e=>Nv(e,t))}function Hw(e,t,n){Bw(e,n),Kw(e,e=>Rv(e,t)||Rv(t,e))}function Kw(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Gw(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Gw(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();xg&&Tg("event: "+n.toString()),Wg(r)}}}const Yw="repo_interrupt";class Qw{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sy(),this.transactionQueueTree_=new bw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xw(e,t,n){if(e.stats_=sv(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ty(e.repoInfo_,(t,n,r,i)=>{Zw(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>eb(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sn(n)}catch(ZR){throw new Error("Invalid authOverride provided: "+ZR)}}e.persistentConnection_=new Lv(e.repoInfo_,t,(t,n,r,i)=>{Zw(e,t,n,r,i)},t=>{eb(e,t)},t=>{!function(e,t){Fg(t,(t,n)=>{tb(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return iv[n]||(iv[n]=t()),iv[n]}(e.repoInfo_,()=>new Py(e.stats_,e.server_)),e.infoData_=new Cy,e.infoSyncTree_=new Q_({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Z_(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),tb(e,"connected",!1),e.serverSyncTree_=new Q_({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);Hw(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function $w(e){const t=e.infoData_.getNode(new vv(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Jw(e){return(t=(t={timestamp:$w(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Zw(e,t,n,r,i){e.dataUpdateCount++;const s=new vv(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=un(n,e=>uy(e));o=function(e,t,n,r){const i=cw(e,r);if(i){const r=uw(i),s=r.path,o=r.queryId,a=Sv(s,t),l=Gy.fromObject(n);return hw(e,s,new jy(Oy(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=uy(n);o=function(e,t,n,r){const i=cw(e,r);if(null!=i){const r=uw(i),s=r.path,o=r.queryId,a=Sv(s,t);return hw(e,s,new Ly(Oy(o),a,n))}return[]}(e.serverSyncTree_,s,t,i)}else if(r){const t=un(n,e=>uy(e));o=function(e,t,n){const r=Gy.fromObject(n);return rw(e,new jy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=uy(n);o=Z_(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=ub(e,s)),Hw(e.eventQueue_,a,o)}function eb(e,t){tb(e,"connected",t),!1===t&&function(e){ob(e,"onDisconnectEvents");const t=Jw(e),n=Sy();Ny(e.onDisconnect_,yv(),(r,i)=>{const s=yw(r,i,e.serverSyncTree_,t);Iy(n,r,s)});let r=[];Ny(n,yv(),(t,n)=>{r=r.concat(Z_(e.serverSyncTree_,t,n));const i=mb(e,t);ub(e,i)}),e.onDisconnect_=Sy(),Hw(e.eventQueue_,yv(),r)}(e)}function tb(e,t,n){const r=new vv("/.info/"+t),i=uy(n);e.infoData_.updateSnapshot(r,i);const s=Z_(e.infoSyncTree_,r,i);Hw(e.eventQueue_,r,s)}function nb(e){return e.nextWriteId_++}function rb(e,t,n,r,i){ob(e,"set",{path:t.toString(),value:n,priority:r});const s=Jw(e),o=uy(n,r),a=nw(e.serverSyncTree_,t),l=_w(o,a,s),c=nb(e),u=X_(e.serverSyncTree_,t,l,c,!0);Bw(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||Ng("set at "+t+" failed: "+n);const o=J_(e.serverSyncTree_,c,!s);Hw(e.eventQueue_,t,o),ab(e,i,n,r)});const h=mb(e,t);ub(e,h),Hw(e.eventQueue_,h,[])}function ib(e,t,n){let r;r=".info"===_v(t._path)?ew(e.infoSyncTree_,t,n):ew(e.serverSyncTree_,t,n),Ww(e.eventQueue_,t._path,r)}function sb(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Yw)}function ob(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Tg(t,...r)}function ab(e,t,n,r){t&&Wg(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function lb(e,t,n){return nw(e.serverSyncTree_,t,n)||ly.EMPTY_NODE}function cb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||pb(e,t),kw(t)){const n=db(e,t);Ft(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=lb(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ft(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Sv(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{ob(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(J_(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();pb(e,xw(e.transactionQueueTree_,t)),cb(e,e.transactionQueueTree_),Hw(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Wg(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ng("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}ub(e,t)}},o)}(e,Iw(t),n)}else Tw(t)&&Cw(t,t=>{cb(e,t)})}function ub(e,t){const n=hb(e,t),r=Iw(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const s=t[a],l=Sv(n,s.path);let c,u=!1;if(Ft(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(J_(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(J_(e.serverSyncTree_,s.currentWriteId,!0));else{const n=lb(e,s.path,o);s.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){jw("transaction failed: Data returned ",r,s.path);let t=uy(r);"object"===typeof r&&null!=r&&an(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=Jw(e),c=_w(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=nb(e),o.splice(o.indexOf(a),1),i=i.concat(X_(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(J_(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(J_(e.serverSyncTree_,s.currentWriteId,!0))}Hw(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}pb(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Wg(r[a]);cb(e,e.transactionQueueTree_)}(e,db(e,n),r),r}function hb(e,t){let n,r=e.transactionQueueTree_;for(n=_v(t);null!==n&&void 0===kw(r);)r=xw(r,n),n=_v(t=bv(t));return r}function db(e,t){const n=[];return fb(e,t,n),n.sort((e,t)=>e.order-t.order),n}function fb(e,t,n){const r=kw(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cw(t,t=>{fb(e,t,n)})}function pb(e,t){const n=kw(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ew(t,n.length>0?n:void 0)}Cw(t,t=>{pb(e,t)})}function mb(e,t){const n=Iw(hb(e,t)),r=xw(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{gb(e,t)}),gb(e,r),Sw(r,t=>{gb(e,t)}),n}function gb(e,t){const n=kw(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ft(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Ft(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(J_(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ew(t,void 0):n.length=s+1,Hw(e.eventQueue_,Iw(t),i);for(let e=0;e<r.length;e++)Wg(r[e])}}const vb=function(e,t){const n=yb(e),r=n.namespace;"firebase.com"===n.domain&&Ig(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ig("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ng("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ev(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new vv(n.pathString)}},yb=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(ZR){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ng("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class _b{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+sn(this.snapshot.exportVal())}}class wb{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bb{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ft(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class xb{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Cv(this._path)?null:xv(this._path)}get ref(){return new kb(this._repo,this._path)}get _queryIdentifier(){const e=Ey(this._queryParams),t=Lg(e);return"{}"===t?"default":t}get _queryObject(){return Ey(this._queryParams)}isEqual(e){if(!((e=bn(e))instanceof xb))return!1;const t=this._repo===e._repo,n=Nv(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class kb extends xb{constructor(e,t){super(e,t,new xy,!1)}get parent(){const e=Ev(this._path);return null===e?null:new kb(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Eb{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new vv(e),n=Cb(this.ref,e);return new Eb(this._node.getChild(t),n,ey)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Eb(n,Cb(this.ref,t),ey)))}hasChild(e){const t=new vv(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tb(e,t){return(e=bn(e))._checkNotDeleted("ref"),void 0!==t?Cb(e._root,t):e._root}function Cb(e,t){var n,r,i,s;return null===_v((e=bn(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Uw(n,r,i,s)):Uw("child","path",t,!1),new kb(e._repo,Tv(e._path,t))}function Sb(e){return zw("remove",e._path),Ib(e,null)}function Ib(e,t){e=bn(e),zw("set",e._path),Lw("set",t,e._path,!1);const n=new Gt;return rb(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Nb(e,t){Fw("update",t,e._path,!1);const n=new Gt;return function(e,t,n,r){ob(e,"update",{path:t.toString(),value:n});let i=!0;const s=Jw(e),o={};if(Fg(n,(n,r)=>{i=!1,o[n]=yw(Tv(t,n),uy(r),e.serverSyncTree_,s)}),i)Tg("update() called with empty data.  Don't do anything."),ab(0,r,"ok",void 0);else{const i=nb(e),s=$_(e.serverSyncTree_,t,o,i);Bw(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||Ng("update at "+t+" failed: "+n);const a=J_(e.serverSyncTree_,i,!o),l=a.length>0?ub(e,t):t;Hw(e.eventQueue_,l,a),ab(0,r,n,s)}),Fg(n,n=>{const r=mb(e,Tv(t,n));ub(e,r)}),Hw(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Rb{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new _b("value",this,new Eb(e.snapshotNode,new kb(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wb(this,e,t):null}matches(e){return e instanceof Rb&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Pb{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wb(this,e,t):null}createEvent(e,t){Ft(null!=e.childName,"Child events should have a childName.");const n=Cb(new kb(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _b(e.type,this,new Eb(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Pb&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Ab(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ib(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new bb(n,s||void 0),a="value"===t?new Rb(o):new Pb(t,o);return function(e,t,n){let r;r=".info"===_v(t._path)?tw(e.infoSyncTree_,t,n):tw(e.serverSyncTree_,t,n),Ww(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>ib(e._repo,e,a)}function Ob(e,t,n,r){return Ab(e,"value",t,n,r)}!function(e){Ft(!M_,"__referenceConstructor has already been defined"),M_=e}(kb),function(e){Ft(!L_,"__referenceConstructor has already been defined"),L_=e}(kb);const Db={};let Mb=!1;function Lb(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Ig("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tg("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=vb(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=vb(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new Yg(Yg.OWNER):new Gg(e.name,e.options,t);Vw("Invalid Firebase Database URL",l),Cv(l.path)||Ig("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Db[t.name];i||(i={},Db[t.name]=i);let s=i[e.toURLString()];s&&Ig("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new Qw(e,Mb,n,r),i[e.toURLString()]=s,s}(c,e,u,new Kg(e.name,n));return new jb(h,e)}class jb{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kb(this._repo,yv())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Db[t];n&&n[e.key]===e||Ig("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),sb(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ig("Cannot call "+e+" on a deleted database.")}}Lv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Lv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){dg=e}(gr),dr(new xn("database",(e,t)=>{let{instanceIdentifier:n}=t;return Lb(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),yr(ug,hg,e),yr(ug,hg,"esm2017")}();const Fb=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=function(e,t,n,r){return bn(e).onAuthStateChanged(t,n,r)}(ag,e=>{t(e),i(!1)});return()=>e()},[]);const s=async e=>{if(!e)return;const t=Am(lg,"users",e.uid);await function(e,t,n){e=Cm(e,Nm);const r=Cm(e.firestore,Dm),i=ig(e.converter,t,n);return sg(r,[Gm(Km(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Td.none())])}(t,{displayName:e.displayName,email:e.email,photoURL:e.photoURL,lastLogin:new Ym("serverTimestamp")},{merge:!0})};return{user:e,loading:n,signInWithGoogle:async()=>{i(!0);try{const e=await async function(e,t,n){const r=ki(e);Nr(e,t,Di);const i=_s(r,n);return new Cs(r,"signInViaPopup",t,i).executeNotNull()}(ag,cg);await s(e.user)}catch(Sg){console.error("Error durante el inicio de sesi\xf3n con Google:",Sg)}finally{i(!1)}},logout:async()=>{try{await function(e){return bn(e).signOut()}(ag)}catch(Sg){console.error("Error al cerrar sesi\xf3n:",Sg)}}}};var Ub=n(414);const zb=(0,r.createContext)(),Vb=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(()=>{const e=localStorage.getItem("theme");return e||"light"});(0,r.useEffect)(()=>{const e=window.document.documentElement;e.classList.remove("dark"===n?"light":"dark"),e.classList.add(n),localStorage.setItem("theme",n)},[n]);return(0,Ub.jsx)(zb.Provider,{value:{theme:n,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")}},children:t})},qb=()=>{const e=(0,r.useContext)(zb);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},Bb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.59-1.591M3.75 12H6m.386-6.364L7.926 7.23M12 12a6 6 0 100-12 6 6 0 000 12z"})})),Wb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})})),Hb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})})),Kb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Ub.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})),Gb=()=>{const{user:e,logout:t}=Fb(),{theme:n,toggleTheme:i}=qb(),s=Te(),[o,a]=(0,r.useState)(!1),l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e?(0,Ub.jsxs)("div",{className:"relative",ref:l,children:[(0,Ub.jsxs)("button",{onClick:()=>a(!o),className:"flex items-center space-x-2 rounded-full hover:bg-surface-container-high transition-colors p-1",children:[(0,Ub.jsx)("img",{src:e.photoURL||"https://ui-avatars.com/api/?name=".concat(e.displayName||e.email,"&background=random"),alt:"Avatar",className:"h-10 w-10 rounded-full object-cover border-2 border-outline"}),(0,Ub.jsx)(Kb,{className:"h-5 w-5 text-on-surface-variant transition-transform duration-200 ".concat(o?"rotate-180":"")})]}),o&&(0,Ub.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-surface-container rounded-lg shadow-xl z-20 animate-fade-in-fast origin-top-right",children:(0,Ub.jsxs)("div",{className:"p-2",children:[(0,Ub.jsxs)("div",{className:"px-2 py-2 border-b border-outline/50",children:[(0,Ub.jsx)("p",{className:"font-bold text-on-surface text-sm truncate",children:e.displayName||"Usuario"}),(0,Ub.jsx)("p",{className:"text-on-surface-variant text-xs truncate",children:e.email})]}),(0,Ub.jsxs)("nav",{className:"mt-2",children:[(0,Ub.jsx)(St,{to:"/my-items",onClick:()=>a(!1),className:"block px-3 py-2 text-on-surface-variant hover:bg-surface-container-high rounded-md text-sm font-medium",children:"Mis Art\xedculos"}),(0,Ub.jsx)(St,{to:"/favorites",onClick:()=>a(!1),className:"block px-3 py-2 text-on-surface-variant hover:bg-surface-container-high rounded-md text-sm font-medium",children:"Mis Favoritos"}),(0,Ub.jsx)(St,{to:"/profile",onClick:()=>a(!1),className:"block px-3 py-2 text-on-surface-variant hover:bg-surface-container-high rounded-md text-sm font-medium",children:"Mi Perfil"})]}),(0,Ub.jsxs)("div",{className:"mt-2 pt-2 border-t border-outline/50",children:[(0,Ub.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 text-on-surface-variant text-sm",children:[(0,Ub.jsx)("span",{className:"font-medium",children:"Tema"}),(0,Ub.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ub.jsx)(Bb,{className:"h-6 w-6 cursor-pointer ".concat("light"===n?"text-primary":""),onClick:()=>"dark"===n&&i()}),(0,Ub.jsx)("div",{onClick:i,className:"w-10 h-5 flex items-center rounded-full cursor-pointer transition-colors ".concat("light"===n?"bg-primary/50":"bg-surface-container-highest"),children:(0,Ub.jsx)("div",{className:"w-4 h-4 rounded-full bg-white shadow-md transform transition-transform ".concat("light"===n?"translate-x-5":"translate-x-1")})}),(0,Ub.jsx)(Wb,{className:"h-6 w-6 cursor-pointer ".concat("dark"===n?"text-primary":""),onClick:()=>"light"===n&&i()})]})]}),(0,Ub.jsxs)("button",{onClick:async()=>{try{await t(),s("/")}catch(Sg){console.error("Error al cerrar sesi\xf3n:",Sg)}},className:"w-full flex items-center space-x-2 px-3 py-2 text-error hover:bg-error-container hover:text-on-error-container rounded-md text-sm font-medium mt-1",children:[(0,Ub.jsx)(Hb,{className:"h-5 w-5"}),(0,Ub.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]})]})})]}):null},Yb=()=>{const{user:e}=Fb();return(0,Ub.jsx)("header",{className:"fixed top-0 left-0 w-full z-50 transition-all duration-300",children:(0,Ub.jsxs)("nav",{className:"mx-auto flex max-w-7xl items-center justify-between p-4 md:px-6 lg:px-8 backdrop-blur-lg bg-surface/80 border-b border-outline/50",children:[(0,Ub.jsx)("div",{className:"flex lg:flex-1",children:(0,Ub.jsx)(St,{to:"/",className:"-m-1.5 p-1.5 text-left",children:(0,Ub.jsxs)("span",{className:"text-2xl font-bold tracking-tight text-on-surface",children:["Ready",(0,Ub.jsx)("span",{className:"text-primary",children:"2"}),"Wear"]})})}),e&&(0,Ub.jsx)("div",{className:"flex items-center gap-x-2 sm:gap-x-4",children:(0,Ub.jsx)(Gb,{})})]})})},Qb=()=>(0,Ub.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,Ub.jsx)("div",{className:"container mx-auto text-center",children:(0,Ub.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Ready2Wear. All rights reserved."]})})}),Xb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ub.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"})})),$b=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ub.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})})),Jb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ub.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zM12 11L4 6h16l-8 5z"})})),Zb=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ub.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})),ex=e=>{let{icon:t,label:n,onClick:r,isActive:i}=e;return(0,Ub.jsxs)("button",{onClick:r,className:"flex flex-col items-center justify-center w-full h-full transition-colors duration-200 ".concat(i?"text-primary":"text-on-surface-variant"),children:[(0,Ub.jsx)(t,{className:"h-6 w-6"}),(0,Ub.jsx)("span",{className:"text-xs font-medium mt-1",children:n})]})},tx=e=>{let{activeView:t,onNavClick:n,onAddClick:r}=e;return(0,Ub.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 h-16 bg-surface-container shadow-[0_-2px_5px_rgba(0,0,0,0.1)] grid grid-cols-5 items-center z-50",children:[(0,Ub.jsx)(ex,{icon:Xb,label:"Inicio",isActive:"home"===t,onClick:()=>n("home")}),(0,Ub.jsx)(ex,{icon:Jb,label:"Mensajes",isActive:"messages"===t,onClick:()=>n("messages")}),(0,Ub.jsx)("div",{className:"relative w-full flex justify-center items-center",children:(0,Ub.jsx)("button",{onClick:r,className:"absolute bottom-4 bg-primary text-on-primary rounded-full h-16 w-16 flex items-center justify-center shadow-lg hover:bg-primary-dark transition-transform duration-200 hover:scale-105 ring-4 ring-surface-container",children:(0,Ub.jsx)($b,{className:"h-8 w-8"})})}),(0,Ub.jsx)(ex,{icon:Zb,label:"Perfil",isActive:"profile"===t,onClick:()=>n("profile")}),(0,Ub.jsx)("div",{})]})},nx=()=>{const{user:e,loading:t,signInWithGoogle:n}=Fb();if(t)return(0,Ub.jsx)("div",{children:"Cargando..."});if(e)return null;return(0,Ub.jsx)("div",{className:"login-screen",children:(0,Ub.jsx)("button",{onClick:async()=>{try{await n()}catch(Sg){console.error("Error al iniciar sesi\xf3n con Google:",Sg)}},className:"login-provider-button",children:(0,Ub.jsx)("span",{children:"Continuar con Google"})})})},rx=e=>{const[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[o,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const t=Ob(Tb(lg,e),e=>{try{s(!0);const t=e.val();if(t){const e=Object.keys(t).map(e=>h({id:e},t[e]));n(e)}else n([]);a(null)}catch(t){console.error(t),a("Error al procesar los datos. Por favor, int\xe9ntelo de nuevo m\xe1s tarde.")}finally{s(!1)}},e=>{console.error(e),a("Error al acceder a los datos. Verifique su conexi\xf3n y los permisos de la base de datos."),s(!1)});return()=>t()},[e]),{docs:t,loading:i,error:o}};function ix(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ox,ax,lx,cx,ux,hx,dx,fx,px,mx,gx,vx={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},yx={duration:.5,overwrite:!1,delay:0},_x=1e8,wx=1e-8,bx=2*Math.PI,xx=bx/4,kx=0,Ex=Math.sqrt,Tx=Math.cos,Cx=Math.sin,Sx=function(e){return"string"===typeof e},Ix=function(e){return"function"===typeof e},Nx=function(e){return"number"===typeof e},Rx=function(e){return"undefined"===typeof e},Px=function(e){return"object"===typeof e},Ax=function(e){return!1!==e},Ox=function(){return"undefined"!==typeof window},Dx=function(e){return Ix(e)||Sx(e)},Mx="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Lx=Array.isArray,jx=/random\([^)]+\)/g,Fx=/,\s*/g,Ux=/(?:-?\.?\d|\.)+/gi,zx=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Vx=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,qx=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bx=/[+-]=-?[.\d]+/,Wx=/[^,'"\[\]\s]+/gi,Hx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Kx={},Gx={},Yx=function(e){return(Gx=Ek(e,Kx))&&TT},Qx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Xx=function(e,t){return!t&&console.warn(e)},$x=function(e,t){return e&&(Kx[e]=t)&&Gx&&(Gx[e]=t)||Kx},Jx=function(){return 0},Zx={suppressEvents:!0,isStart:!0,kill:!1},ek={suppressEvents:!0,kill:!1},tk={suppressEvents:!0},nk={},rk=[],ik={},sk={},ok={},ak=30,lk=[],ck="",uk=function(e){var t,n,r=e[0];if(Px(r)||Ix(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=lk.length;n--&&!lk[n].targetTest(r););t=lk[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new UE(e[n],t)))||e.splice(n,1);return e},hk=function(e){return e._gsap||uk(nE(e))[0]._gsap},dk=function(e,t,n){return(n=e[t])&&Ix(n)?e[t]():Rx(n)&&e.getAttribute&&e.getAttribute(t)||n},fk=function(e,t){return(e=e.split(",")).forEach(t)||e},pk=function(e){return Math.round(1e5*e)/1e5||0},mk=function(e){return Math.round(1e7*e)/1e7||0},gk=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},vk=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},yk=function(){var e,t,n=rk.length,r=rk.slice(0);for(ik={},rk.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},_k=function(e){return!!(e._initted||e._startAt||e.add)},wk=function(e,t,n,r){rk.length&&!ax&&yk(),e.render(t,n,r||!!(ax&&t<0&&_k(e))),rk.length&&!ax&&yk()},bk=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Wx).length<2?t:Sx(e)?e.trim():e},xk=function(e){return e},kk=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Ek=function(e,t){for(var n in t)e[n]=t[n];return e},Tk=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=Px(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Ck=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Sk=function(e){var t,n=e.parent||cx,r=e.keyframes?(t=Lx(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):kk;if(Ax(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Ik=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Nk=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Rk=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Pk=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Ak=function(e,t,n,r){return e._startAt&&(ax?e._startAt.revert(ek):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Ok=function e(t){return!t||t._ts&&e(t.parent)},Dk=function(e){return e._repeat?Mk(e._tTime,e=e.duration()+e._rDelay)*e:0},Mk=function(e,t){var n=Math.floor(e=mk(e/t));return e&&n===e?n-1:n},Lk=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},jk=function(e){return e._end=mk(e._start+(e._tDur/Math.abs(e._ts||e._rts||wx)||0))},Fk=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=mk(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),jk(e),n._dirty||Pk(n,e)),e},Uk=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Lk(e.rawTime(),t),(!t._dur||$k(0,t.totalDuration(),n)-t._tTime>wx)&&t.render(n,!0)),Pk(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},zk=function(e,t,n,r){return t.parent&&Rk(t),t._start=mk((Nx(n)?n:n||e!==cx?Yk(e,n,t):e._time)+t._delay),t._end=mk(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Ik(e,t,"_first","_last",e._sort?"_start":0),Wk(t)||(e._recent=t),r||Uk(e,t),e._ts<0&&Fk(e,e._tTime),e},Vk=function(e,t){return(Kx.ScrollTrigger||Qx("scrollTrigger",t))&&Kx.ScrollTrigger.create(t,e)},qk=function(e,t,n,r,i){return GE(e,t,i),e._initted?!n&&e._pt&&!ax&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&px!==CE.frame?(rk.push(e),e._lazy=[i,r],1):void 0:1},Bk=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Wk=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Hk=function(e,t,n,r){var i=e._repeat,s=mk(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:mk(s*(i+1)+e._rDelay*i):s,o>0&&!r&&Fk(e,e._tTime=e._tDur*o),e.parent&&jk(e),n||Pk(e.parent,e),e},Kk=function(e){return e instanceof VE?Pk(e):Hk(e,e._dur)},Gk={_start:0,endTime:Jx,totalDuration:Jx},Yk=function e(t,n,r){var i,s,o,a=t.labels,l=t._recent||Gk,c=t.duration()>=_x?l.endTime(!1):t._dur;return Sx(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(Lx(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},Qk=function(e,t,n){var r,i,s=Nx(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=Ax(i.vars.inherit)&&i.parent;a.immediateRender=Ax(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new JE(t[0],a,t[o+1])},Xk=function(e,t){return e||0===e?t(e):t},$k=function(e,t,n){return n<e?e:n>t?t:n},Jk=function(e,t){return Sx(e)&&(t=Hx.exec(e))?t[1]:""},Zk=[].slice,eE=function(e,t){return e&&Px(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Px(e[0]))&&!e.nodeType&&e!==ux},tE=function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return Sx(e)&&!t||eE(e,1)?(r=n).push.apply(r,nE(e)):n.push(e)})||n},nE=function(e,t,n){return lx&&!t&&lx.selector?lx.selector(e):!Sx(e)||n||!hx&&SE()?Lx(e)?tE(e,n):eE(e)?Zk.call(e,0):e?[e]:[]:Zk.call((t||dx).querySelectorAll(e),0)},rE=function(e){return e=nE(e)[0]||Xx("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return nE(t,n.querySelectorAll?n:n===e?Xx("Invalid scope")||dx.createElement("div"):e)}},iE=function(e){return e.sort(function(){return.5-Math.random()})},sE=function(e){if(Ix(e))return e;var t=Px(e)?e:{each:e},n=DE(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,c=r,u=r;return Sx(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(e,o,h){var d,f,p,m,g,v,y,_,w,b=(h||t).length,x=s[b];if(!x){if(!(w="auto"===t.grid?0:(t.grid||[1,_x])[1])){for(y=-_x;y<(y=h[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(x=s[b]=[],d=a?Math.min(w,b)*c-.5:r%w,f=w===_x?0:a?b*u/w-.5:r/w|0,y=0,_=_x,v=0;v<b;v++)p=v%w-d,m=f-(v/w|0),x[v]=g=l?Math.abs("y"===l?m:p):Ex(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===r&&iE(x),x.max=y-_,x.min=_,x.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(w>b?b-1:l?"y"===l?b/w:w:Math.max(w,b/w))||0)*("edges"===r?-1:1),x.b=b<0?i-b:i,x.u=Jk(t.amount||t.each)||0,n=n&&b<0?AE(n):n}return b=(x[e]-x.min)/x.max||0,mk(x.b+(n?n(b):b)*x.v)+x.u}},oE=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=mk(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Nx(n)?0:Jk(n))}},aE=function(e,t){var n,r,i=Lx(e);return!i&&Px(e)&&(n=i=e.radius||_x,e.values?(e=nE(e.values),(r=!Nx(e[0]))&&(n*=n)):e=oE(e.increment)),Xk(t,i?Ix(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=_x,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(s=e[u].y-a)*s:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||Nx(t)?c:c+Jk(t)}:oE(e))},lE=function(e,t,n,r){return Xk(Lx(e)?!t:!0===n?!!(n=0):!r,function(){return Lx(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},cE=function(e,t,n){return Xk(n,function(n){return e[~~t(n)]})},uE=function(e){return e.replace(jx,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(Fx);return lE(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},hE=function(e,t,n,r,i){var s=t-e,o=r-n;return Xk(i,function(t){return n+((t-e)/s*o||0)})},dE=function(e,t,n){var r,i,s,o=e.labels,a=_x;for(r in o)(i=o[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},fE=function(e,t,n){var r,i,s,o=e.vars,a=o[t],l=lx,c=e._ctx;if(a)return r=o[t+"Params"],i=o.callbackScope||e,n&&rk.length&&yk(),c&&(lx=c),s=r?a.apply(i,r):a.call(i),lx=l,s},pE=function(e){return Rk(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ax),e.progress()<1&&fE(e,"onInterrupt"),e},mE=[],gE=function(e){if(e)if(e=!e.name&&e.default||e,Ox()||e.headless){var t=e.name,n=Ix(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Jx,render:aT,add:HE,kill:cT,modifier:lT,rawVars:0},s={targetTest:0,get:0,getSetter:rT,aliases:{},register:0};if(SE(),e!==r){if(sk[t])return;kk(r,kk(Ck(e,i),s)),Ek(r.prototype,Ek(i,Ck(e,s))),sk[r.prop=t]=r,e.targetTest&&(lk.push(r),nk[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}$x(t,r),e.register&&e.register(TT,r,dT)}else mE.push(e)},vE=255,yE={aqua:[0,vE,vE],lime:[0,vE,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vE],navy:[0,0,128],white:[vE,vE,vE],olive:[128,128,0],yellow:[vE,vE,0],orange:[vE,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vE,0,0],pink:[vE,192,203],cyan:[0,vE,vE],transparent:[vE,vE,vE,0]},_E=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*vE+.5|0},wE=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f=e?Nx(e)?[e>>16,e>>8&vE,e&vE]:0:yE.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),yE[e])f=yE[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&vE,f&vE,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&vE,e&vE]}else if("hsl"===e.substr(0,3))if(f=d=e.match(Ux),t){if(~e.indexOf("="))return f=e.match(zx),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=_E(o+1/3,r,i),f[1]=_E(o,r,i),f[2]=_E(o-1/3,r,i);else f=e.match(Ux)||yE.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/vE,i=f[1]/vE,s=f[2]/vE,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?o=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},bE=function(e){var t=[],n=[],r=-1;return e.split(kE).forEach(function(e){var i=e.match(Vx)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},xE=function(e,t,n){var r,i,s,o,a="",l=(e+a).match(kE),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=wE(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(s=bE(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(kE,"1").split(Vx)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=e.split(kE)).length-1;u<o;u++)a+=i[u]+l[u];return a+i[o]},kE=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in yE)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),EE=/hsl[a]?\(/,TE=function(e){var t,n=e.join(" ");if(kE.lastIndex=0,kE.test(n))return t=EE.test(n),e[1]=xE(e[1],t),e[0]=xE(e[0],t,bE(e[1])),!0},CE=function(){var e,t,n,r,i,s,o=Date.now,a=500,l=33,c=o(),u=c,h=1e3/240,d=h,f=[],p=function n(p){var m,g,v,y,_=o()-u,w=!0===p;if((_>a||_<0)&&(c+=_-l),((m=(v=(u+=_)-c)-d)>0||w)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,d+=m+(m>=h?4:h-m),g=1),w||(e=t(n)),g)for(s=0;s<f.length;s++)f[s](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){fx&&(!hx&&Ox()&&(ux=hx=window,dx=ux.document||{},Kx.gsap=TT,(ux.gsapVersions||(ux.gsapVersions=[])).push(TT.version),Yx(Gx||ux.GreenSockGlobals||!ux.gsap&&ux||{}),mE.forEach(gE)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},gx=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),gx=0,t=Jx},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,s,o){e(t,n,s,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),SE(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&s>=t&&s--},_listeners:f},r}(),SE=function(){return!gx&&CE.wake()},IE={},NE=/^[\d.\-M][\d.\-,\s]/,RE=/["']/g,PE=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(RE,"").trim():+r,o=n.substr(t+1).trim();return i},AE=function(e){return function(t){return 1-e(1-t)}},OE=function e(t,n){for(var r,i=t._first;i;)i instanceof VE?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},DE=function(e,t){return e&&(Ix(e)?e:IE[e]||function(e){var t=(e+"").split("("),n=IE[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[PE(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(bk)):IE._CE&&NE.test(e)?IE._CE("",e):n}(e))||t},ME=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return fk(e,function(e){for(var t in IE[e]=Kx[e]=s,IE[i=e.toLowerCase()]=n,s)IE[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=IE[e+"."+t]=s[t]}),s},LE=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},jE=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/bx*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*Cx((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:LE(a);return s=bx/s,l.config=function(n,r){return e(t,n,r)},l},FE=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:LE(r);return i.config=function(n){return e(t,n)},i};fk("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;ME(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),IE.Linear.easeNone=IE.none=IE.Linear.easeIn,ME("Elastic",jE("in"),jE("out"),jE()),function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};ME("Bounce",function(e){return 1-s(1-e)},s)}(7.5625,2.75),ME("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),ME("Circ",function(e){return-(Ex(1-e*e)-1)}),ME("Sine",function(e){return 1===e?1:1-Tx(e*xx)}),ME("Back",FE("in"),FE("out"),FE()),IE.SteppedEase=IE.steps=Kx.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*$k(0,.99999999,e)|0)+i)*n}}},yx.ease=IE["quad.out"],fk("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return ck+=e+","+e+"Params,"});var UE=function(e,t){this.id=kx++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:dk,this.set=t?t.getSetter:rT},zE=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Hk(this,+e.duration,1,1),this.data=e.data,lx&&(this._ctx=lx,lx.data.push(this)),gx||CE.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Hk(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(SE(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Fk(this,e),!n._dp||n.parent||Uk(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&zk(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===wx||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),wk(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Dk(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Dk(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Mk(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Lk(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime($k(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),jk(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(SE(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==wx&&(this._tTime-=wx)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=mk(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&zk(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+(Ax(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Lk(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=tk);var t=ax;return ax=e,_k(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),ax=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Kk(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Kk(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Yk(this,e),Ax(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,Ax(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-wx))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=Ix(e)?e:xk,s=function(){var e=t.then;t.then=null,n&&n(),Ix(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?s():t._prom=s})},t.kill=function(){pE(this)},e}();kk(zE.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var VE=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=Ax(t.sortChildren),cx&&zk(t.parent||cx,ix(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Vk(ix(r),t.scrollTrigger),r}sx(t,e);var n=t.prototype;return n.to=function(e,t,n){return Qk(0,arguments,this),this},n.from=function(e,t,n){return Qk(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Qk(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Sk(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new JE(e,t,Yk(this,n),1),this},n.call=function(e,t,n){return zk(this,JE.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new JE(e,n,Yk(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,Sk(n).immediateRender=Ax(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},n.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,Sk(r).immediateRender=Ax(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:mk(e),_=this._zTime<0!==e<0&&(this._initted||!v);if(this!==cx&&y>g&&e>=0&&(y=g),y!==this._tTime||n||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(u=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=mk(y%a),y===g?(o=this._repeat,r=v):((o=~~(d=mk(y/a)))&&o===d&&(r=v,o--),r>v&&(r=v)),d=Mk(this._tTime,a),!m&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(r=v-r,p=1),o!==d&&!this._lock){var w=f&&1&d,b=w===(f&&1&o);if(o<d&&(w=!w),m=w?0:y%v?v:y,this._lock=1,this.render(m||(p?0:mk(o*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&fE(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,d=o),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,b&&(this._lock=2,m=w?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;OE(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,mk(m),mk(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!d&&(fE(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,s&&(y+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var x=e<0?e:r;i;){if(s=i._prev,(i._act||x<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,n||ax&&_k(i)),r!==this._time||!this._ts&&!l){c=0,s&&(y+=this._zTime=x?-1e-8:wx);break}}i=s}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,jk(this),this.render(e,t,n);this._onUpdate&&!t&&fE(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&Rk(this,1),t||e<0&&!m||!y&&!m&&g||(fE(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(Nx(t)||(t=Yk(this,t,e)),!(e instanceof zE)){if(Lx(e))return e.forEach(function(e){return n.add(e,t)}),this;if(Sx(e))return this.addLabel(e,t);if(!Ix(e))return this;e=JE.delayedCall(0,e)}return this!==e?zk(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-_x);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof JE?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return Sx(e)?this.removeLabel(e):Ix(e)?this.killTweensOf(e):(e.parent===this&&Nk(this,e),e===this._recent&&(this._recent=this._last),Pk(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mk(CE.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Yk(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=JE.delayedCall(0,t||Jx,n);return r.data="isPause",this._hasPause=1,zk(this,r,Yk(this,e))},n.removePause=function(e){var t=this._first;for(e=Yk(this,e);t;)t._start===e&&"isPause"===t.data&&Rk(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)qE!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=nE(e),s=this._first,o=Nx(t);s;)s instanceof JE?vk(s._targets,i)&&(o?(!qE||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Yk(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,c=s.immediateRender,u=JE.to(r,kk({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||wx,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&Hk(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,kk({startAt:{time:Yk(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),dE(this,Yk(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),dE(this,Yk(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+wx)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,s=this.labels;for(e=mk(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return Pk(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Pk(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,a=_x;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,zk(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=mk(n/s._ts),s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=t;Hk(s,s===cx&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(cx._ts&&(wk(cx,Lk(e,cx)),px=CE.frame),CE.frame>=ak){ak+=vx.autoSleep||120;var t=cx._first;if((!t||!t._ts)&&vx.autoSleep&&CE._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||CE.sleep()}}},t}(zE);kk(VE.prototype,{_lock:0,_hasPause:0,_forcing:0});var qE,BE,WE=function(e,t,n,r,i,s,o){var a,l,c,u,h,d,f,p,m=new dT(this._pt,e,t,0,1,oT,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=uE(r)),s&&(s(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(qx)||[];a=qx.exec(r);)u=a[0],h=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?gk(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},g=qx.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(Bx.test(r)||f)&&(m.e=0),this._pt=m,m},HE=function(e,t,n,r,i,s,o,a,l,c){Ix(r)&&(r=r(i||0,e,s));var u,h=e[t],d="get"!==n?n:Ix(h)?l?e[t.indexOf("set")||!Ix(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=Ix(h)?l?tT:eT:ZE;if(Sx(r)&&(~r.indexOf("random(")&&(r=uE(r)),"="===r.charAt(1)&&((u=gk(d,r)+(Jk(d)||0))||0===u)&&(r=u)),!c||d!==r||BE)return isNaN(d*r)||""===r?(!h&&!(t in e)&&Qx(t,r),WE.call(this,e,t,d,r,f,a||vx.stringFilter,l)):(u=new dT(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?sT:iT,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},KE=function(e,t,n,r,i,s){var o,a,l,c;if(sk[e]&&!1!==(o=new sk[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(Ix(e)&&(e=QE(e,i,t,n,r)),!Px(e)||e.style&&e.nodeType||Lx(e)||Mx(e))return Sx(e)?QE(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=QE(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new dT(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==mx))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},GE=function e(t,n,r){var i,s,o,a,l,c,u,h,d,f,p,m,g,v=t.vars,y=v.ease,_=v.startAt,w=v.immediateRender,b=v.lazy,x=v.onUpdate,k=v.runBackwards,E=v.yoyoEase,T=v.keyframes,C=v.autoRevert,S=t._dur,I=t._startAt,N=t._targets,R=t.parent,P=R&&"nested"===R.data?R.vars.targets:N,A="auto"===t._overwrite&&!ox,O=t.timeline;if(O&&(!T||!y)&&(y="none"),t._ease=DE(y,yx.ease),t._yEase=E?AE(DE(!0===E?y:E,yx.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!O&&!!v.runBackwards,!O||T&&!v.stagger){if(m=(h=N[0]?hk(N[0]).harness:0)&&v[h.prop],i=Ck(v,nk),I&&(I._zTime<0&&I.progress(1),n<0&&k&&w&&!C?I.render(-1,!0):I.revert(k&&S?ek:Zx),I._lazy=0),_){if(Rk(t._startAt=JE.set(N,kk({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!I&&Ax(b),startAt:null,delay:0,onUpdate:x&&function(){return fE(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ax||!w&&!C)&&t._startAt.revert(ek),w&&S&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(k&&S&&!I)if(n&&(w=!1),o=kk({overwrite:!1,data:"isFromStart",lazy:w&&!I&&Ax(b),immediateRender:w,stagger:0,parent:R},i),m&&(o[h.prop]=m),Rk(t._startAt=JE.set(N,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ax?t._startAt.revert(ek):t._startAt.render(-1,!0)),t._zTime=n,w){if(!n)return}else e(t._startAt,wx,wx);for(t._pt=t._ptCache=0,b=S&&Ax(b)||b&&!S,s=0;s<N.length;s++){if(u=(l=N[s])._gsap||uk(N)[s]._gsap,t._ptLookup[s]=f={},ik[u.id]&&rk.length&&yk(),p=P===N?s:P.indexOf(l),h&&!1!==(d=new h).init(l,m||i,t,p,P)&&(t._pt=a=new dT(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(e){f[e]=a}),d.priority&&(c=1)),!h||m)for(o in i)sk[o]&&(d=KE(o,i,t,p,l,P))?d.priority&&(c=1):f[o]=a=HE.call(t,l,o,"get",i[o],p,P,0,v.stringFilter);t._op&&t._op[s]&&t.kill(l,t._op[s]),A&&t._pt&&(qE=t,cx.killTweensOf(l,f,t.globalTime(n)),g=!t.parent,qE=0),t._pt&&b&&(ik[u.id]=1)}c&&hT(t),t._onInit&&t._onInit(t)}t._onUpdate=x,t._initted=(!t._op||t._pt)&&!g,T&&n<=0&&O.render(_x,!0,!0)},YE=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(Lx(t))s=n[e]||(n[e]=[]),t.forEach(function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})});else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},QE=function(e,t,n,r,i){return Ix(e)?e.call(t,n,r,i):Sx(e)&&~e.indexOf("random(")?uE(e):e},XE=ck+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$E={};fk(XE+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return $E[e]=1});var JE=function(e){function t(t,n,r,i){var s;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,a,l,c,u,h,d,f,p=(s=e.call(this,i?n:Sk(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,w=p.keyframes,b=p.defaults,x=p.scrollTrigger,k=p.yoyoEase,E=n.parent||cx,T=(Lx(t)||Mx(t)?Nx(t[0]):"length"in n)?[t]:nE(t);if(s._targets=T.length?uk(T):Xx("GSAP target "+t+" not found. https://gsap.com",!vx.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=_,w||y||Dx(m)||Dx(g)){if(n=s.vars,(o=s.timeline=new VE({data:"nested",defaults:b||{},targets:E&&"nested"===E.data?E.vars.targets:T})).kill(),o.parent=o._dp=ix(s),o._start=0,y||Dx(m)||Dx(g)){if(c=T.length,d=y&&sE(y),Px(y))for(u in y)~XE.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(a=0;a<c;a++)(l=Ck(n,$E)).stagger=0,k&&(l.yoyoEase=k),f&&Ek(l,f),h=T[a],l.duration=+QE(m,ix(s),a,h,T),l.delay=(+QE(g,ix(s),a,h,T)||0)-s._delay,!y&&1===c&&l.delay&&(s._delay=g=l.delay,s._start+=g,l.delay=0),o.to(h,l,d?d(a,h,T):0),o._ease=IE.none;o.duration()?m=g=0:s.timeline=0}else if(w){Sk(kk(o.vars.defaults,{ease:"none"})),o._ease=DE(w.ease||n.ease||"none");var C,S,I,N=0;if(Lx(w))w.forEach(function(e){return o.to(T,e,">")}),o.duration();else{for(u in l={},w)"ease"===u||"easeEach"===u||YE(u,w[u],l,w.easeEach);for(u in l)for(C=l[u].sort(function(e,t){return e.t-t.t}),N=0,a=0;a<C.length;a++)(I={ease:(S=C[a]).e,duration:(S.t-(a?C[a-1].t:0))/100*m})[u]=S.v,o.to(T,I,N),N+=I.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||s.duration(m=o.duration())}else s.timeline=0;return!0!==_||ox||(qE=ix(s),cx.killTweensOf(T),qE=0),zk(E,ix(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(v||!m&&!w&&s._start===mk(E._time)&&Ax(v)&&Ok(ix(s))&&"nested"!==E.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),x&&Vk(ix(s),x),s}sx(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-wx&&!m?f:e<wx?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=mk(g%o),g===f?(s=this._repeat,r=p):(s=~~(a=mk(g/o)))&&s===a?(r=p,s--):r>p&&(r=p),(l=this._yoyo&&1&s)&&(h=this._yEase,r=p-r),a=Mk(this._tTime,o),r===d&&!n&&this._initted&&s===a)return this._tTime=g,this;s!==a&&(u&&this._yEase&&OE(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==o&&this._initted&&(this._lock=n=1,this.render(mk(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(qk(this,m?e:r,n,t,g))return this._tTime=0,this;if(d!==this._time&&(!n||!this.vars.repeatRefresh||s===a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!d&&g&&!t&&!a&&(fE(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Ak(this,e,0,n),fE(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!t&&this.parent&&fE(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Ak(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Rk(this,1),t||m&&!d||!(g||d||l)||(fE(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,o,a=e.ratio,l=t<0||!t&&(!e._start&&Bk(e)&&(e._initted||!Wk(e))||(e._ts<0||e._dp._ts<0)&&!Wk(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=$k(0,e._tDur,t),s=Mk(u,c),e._yoyo&&1&s&&(l=1-l),s!==Mk(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||ax||r||e._zTime===wx||!t&&e._zTime){if(!e._initted&&qk(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?wx:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&Ak(e,t,0,!0),e._onUpdate&&!n&&fE(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&fE(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Rk(e,1),n||ax||(fE(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){gx||CE.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||GE(this,s),function(e,t,n,r,i,s,o,a){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return BE=1,e.vars[t]="+=0",GE(e,o),BE=0,a?Xx(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=pk(n)+Jk(c.e)),c.b&&(c.b=l.s+Jk(c.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(Fk(this,0),this.parent||Ik(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?pE(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ax),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,qE&&!0!==qE.vars.overwrite)._first||pE(this),this.parent&&n!==this.timeline.totalDuration()&&Hk(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,a,l,c,u=this._targets,h=e?nE(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),pE(this);for(r=this._op=this._op||[],"all"!==t&&(Sx(t)&&(a={},fk(t,function(e){return a[e]=1}),t=a),t=function(e,t){var n,r,i,s,o=e[0]?hk(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=Ek({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=d[c],"all"===t?(r[c]=t,o=i,s={}):(s=r[c]=r[c]||{},o=t),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Nk(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&pE(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Qk(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Qk(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return cx.killTweensOf(e,t,n)},t}(zE);kk(JE.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),fk("staggerTo,staggerFrom,staggerFromTo",function(e){JE[e]=function(){var t=new VE,n=Zk.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var ZE=function(e,t,n){return e[t]=n},eT=function(e,t,n){return e[t](n)},tT=function(e,t,n,r){return e[t](r.fp,n)},nT=function(e,t,n){return e.setAttribute(t,n)},rT=function(e,t){return Ix(e[t])?eT:Rx(e[t])&&e.setAttribute?nT:ZE},iT=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},sT=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},oT=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},aT=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},lT=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},cT=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Nk(this,r,"_pt"):r.dep||(t=1),r=n;return!t},uT=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},hT=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},dT=function(){function e(e,t,n,r,i,s,o,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||iT,this.d=o||this,this.set=a||ZE,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=uT,this.m=e,this.mt=n,this.tween=t},e}();fk(ck+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return nk[e]=1}),Kx.TweenMax=Kx.TweenLite=JE,Kx.TimelineLite=Kx.TimelineMax=VE,cx=new VE({sortChildren:!1,defaults:yx,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),vx.stringFilter=TE;var fT=[],pT={},mT=[],gT=0,vT=0,yT=function(e){return(pT[e]||mT).map(function(e){return e()})},_T=function(){var e=Date.now(),t=[];e-gT>2&&(yT("matchMediaInit"),fT.forEach(function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=ux.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))}),yT("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),gT=e,yT("matchMedia"))},wT=function(){function e(e,t){this.selector=t&&rE(t),this.data=[],this._r=[],this.isReverted=!1,this.id=vT++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){Ix(e)&&(n=t,t=e,e=Ix);var r=this,i=function(){var e,i=lx,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=rE(n)),lx=r,e=t.apply(r,arguments),Ix(e)&&r._r.push(e),lx=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===Ix?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=lx;lx=null,e(this),lx=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof JE&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof VE?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof JE)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=fT.length;r--;)fT[r].id===this.id&&fT.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),bT=function(){function e(e){this.contexts=[],this.scope=e,lx&&lx.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){Px(e)||(e={matches:e});var r,i,s,o=new wT(0,n||this.scope),a=o.conditions={};for(i in lx&&!o.selector&&(o.selector=lx.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?s=1:(r=ux.matchMedia(e[i]))&&(fT.indexOf(o)<0&&fT.push(o),(a[i]=r.matches)&&(s=1),r.addListener?r.addListener(_T):r.addEventListener("change",_T));return s&&t(o,function(e){return o.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),xT={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return gE(e)})},timeline:function(e){return new VE(e)},getTweensOf:function(e,t){return cx.getTweensOf(e,t)},getProperty:function(e,t,n,r){Sx(e)&&(e=nE(e)[0]);var i=hk(e||{}).get,s=n?xk:bk;return"native"===n&&(n=""),e?t?s((sk[t]&&sk[t].get||i)(e,t,n,r)):function(t,n,r){return s((sk[t]&&sk[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=nE(e)).length>1){var r=e.map(function(e){return TT.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=sk[t],o=hk(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;mx._pt=0,r.init(e,n?t+n:t,mx,0,[e]),r.render(1,r),mx._pt&&aT(1,mx)}:o.set(e,a);return s?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=TT.to(e,kk(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return cx.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=DE(e.ease,yx.ease)),Tk(yx,e||{})},config:function(e){return Tk(vx,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!sk[e]&&!Kx[e]&&Xx(t+" effect requires "+e+" plugin.")}),ok[t]=function(e,t,r){return n(nE(e),kk(t||{},i),r)},s&&(VE.prototype[t]=function(e,n,r){return this.add(ok[t](e,Px(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){IE[e]=DE(t)},parseEase:function(e,t){return arguments.length?DE(e,t):IE},getById:function(e){return cx.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new VE(e);for(i.smoothChildTiming=Ax(e.smoothChildTiming),cx.remove(i),i._dp=0,i._time=i._tTime=cx._time,n=cx._first;n;)r=n._next,!t&&!n._dur&&n instanceof JE&&n.vars.onComplete===n._targets[0]||zk(i,n,n._start-n._delay),n=r;return zk(cx,i,0),i},context:function(e,t){return e?new wT(e,t):lx},matchMedia:function(e){return new bT(e)},matchMediaRefresh:function(){return fT.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||_T()},addEventListener:function(e,t){var n=pT[e]||(pT[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=pT[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return Lx(t)?cE(t,e(0,t.length),n):Xk(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return Lx(t)?cE(t,e(0,t.length-1),n):Xk(r,function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)})},distribute:sE,random:lE,snap:aE,normalize:function(e,t,n){return hE(e,t,0,1,n)},getUnit:Jk,clamp:function(e,t,n){return Xk(n,function(n){return $k(e,t,n)})},splitColor:wE,toArray:nE,selector:rE,mapRange:hE,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Jk(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,l,c,u,h=Sx(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(Lx(t)&&!Lx(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,s=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Ek(Lx(t)?[]:{},t));if(!l){for(o in n)HE.call(d,t,o,"get",n[o]);s=function(e){return aT(e,d)||(h?t.p:t)}}}return Xk(r,s)},shuffle:iE},install:Yx,effects:ok,ticker:CE,updateRoot:VE.updateRoot,plugins:sk,globalTimeline:cx,core:{PropTween:dT,globals:$x,Tween:JE,Timeline:VE,Animation:zE,getCache:hk,_removeLinkedListItem:Nk,reverting:function(){return ax},context:function(e){return e&&lx&&(lx.data.push(e),e._ctx=lx),lx},suppressOverwrites:function(e){return ox=e}}};fk("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return xT[e]=JE[e]}),CE.add(VE.updateRoot),mx=xT.to({},{duration:0});var kT=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},ET=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(Sx(n)&&(r={},fk(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=kT(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},TT=xT.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)ax?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},ET("roundProps",oE),ET("modifiers"),ET("snap",aE))||xT;JE.version=VE.version=TT.version="3.14.2",fx=1,Ox()&&SE();IE.Power0,IE.Power1,IE.Power2,IE.Power3,IE.Power4,IE.Linear,IE.Quad,IE.Cubic,IE.Quart,IE.Quint,IE.Strong,IE.Elastic,IE.Back,IE.SteppedEase,IE.Bounce,IE.Sine,IE.Expo,IE.Circ;var CT,ST,IT,NT,RT,PT,AT,OT,DT={},MT=180/Math.PI,LT=Math.PI/180,jT=Math.atan2,FT=/([A-Z])/g,UT=/(left|right|width|margin|padding|x)/i,zT=/[\s,\(]\S/,VT={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qT=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},BT=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},WT=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},HT=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},KT=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},GT=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},YT=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},QT=function(e,t,n){return e.style[t]=n},XT=function(e,t,n){return e.style.setProperty(t,n)},$T=function(e,t,n){return e._gsap[t]=n},JT=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},ZT=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},eC=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},tC="transform",nC=tC+"Origin",rC=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in DT&&s){if(this.tfm=this.tfm||{},"transform"===t)return VT.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=VT[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=bC(i,e)}):this.tfm[t]=o.x?o[t]:bC(i,t),t===nC&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(tC)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(nC,n,"")),t=tC}(s||n)&&this.props.push(t,n,s[t])},iC=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},sC=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(FT,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=AT())&&e.isStart||i[tC]||(iC(i),s.zOrigin&&i[nC]&&(i[nC]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},oC=function(e,t){var n={target:e,props:[],revert:sC,save:rC};return e._gsap||TT.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},aC=function(e,t){var n=ST.createElementNS?ST.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ST.createElement(e);return n&&n.style?n:ST.createElement(e)},lC=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(FT,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,uC(n)||n,1)||""},cC="O,Moz,ms,Ms,Webkit".split(","),uC=function(e,t,n){var r=(t||RT).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(cC[i]+e in r););return i<0?null:(3===i?"ms":i>=0?cC[i]:"")+e},hC=function(){"undefined"!==typeof window&&window.document&&(CT=window,ST=CT.document,IT=ST.documentElement,RT=aC("div")||{style:{}},aC("div"),tC=uC(tC),nC=tC+"Origin",RT.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",OT=!!uC("perspective"),AT=TT.core.reverting,NT=1)},dC=function(e){var t,n=e.ownerSVGElement,r=aC("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),IT.appendChild(r);try{t=i.getBBox()}catch(ZR){}return r.removeChild(i),IT.removeChild(r),t},fC=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},pC=function(e){var t,n;try{t=e.getBBox()}catch(Sg){t=dC(e),n=1}return t&&(t.width||t.height)||n||(t=dC(e)),!t||t.width||t.x||t.y?t:{x:+fC(e,["x","cx","x1"])||0,y:+fC(e,["y","cy","y1"])||0,width:0,height:0}},mC=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!pC(e))},gC=function(e,t){if(t){var n,r=e.style;t in DT&&t!==nC&&(t=tC),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(FT,"-$1").toLowerCase())):r.removeAttribute(t)}},vC=function(e,t,n,r,i,s){var o=new dT(e._pt,t,n,0,1,s?YT:GT);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},yC={deg:1,rad:1,turn:1},_C={grid:1,flex:1},wC=function e(t,n,r,i){var s,o,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=RT.style,d=UT.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||yC[i]||yC[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&mC(t),(v||"%"===u)&&(DT[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[p],pk(v?c/s*m:c/100*s);if(h[d?"width":"height"]=m+(g?u:i),o="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==ST&&o.appendChild||(o=ST.body),(a=o._gsap)&&v&&a.width&&d&&a.time===CE.time&&!a.uncache)return pk(c/a.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!_C[lC(o,"display")]&&(h.position=lC(t,"position")),o===t&&(h.position="static"),o.appendChild(RT),s=RT[p],o.removeChild(RT),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,s=t[p],y?t.style[n]=y:gC(t,n)}return d&&v&&((a=hk(o)).time=CE.time,a.width=o[p]),pk(g?s*c/m:s&&c?m/s*c:0)},bC=function(e,t,n,r){var i;return NT||hC(),t in VT&&"transform"!==t&&~(t=VT[t]).indexOf(",")&&(t=t.split(",")[0]),DT[t]&&"transform"!==t?(i=OC(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:DC(lC(e,nC))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=CC[t]&&CC[t](e,t,n)||lC(e,t)||dk(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?wC(e,t,i,n)+n:i},xC=function(e,t,n,r){if(!n||"none"===n){var i=uC(t,e,1),s=i&&lC(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=lC(e,"borderTopColor"))}var o,a,l,c,u,h,d,f,p,m,g,v=new dT(this._pt,e.style,t,0,1,oT),y=0,_=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=lC(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(h=e.style[t],e.style[t]=r,r=lC(e,t)||r,h?e.style[t]=h:gC(e,t)),TE(o=[n,r]),r=o[1],l=(n=o[0]).match(Vx)||[],(r.match(Vx)||[]).length){for(;a=Vx.exec(r);)d=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[_++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===d.charAt(1)&&(d=gk(c,d)+g),f=parseFloat(d),m=d.substr((f+"").length),y=Vx.lastIndex-m.length,m||(m=m||vx.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=wC(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?YT:GT;return Bx.test(r)&&(v.e=0),this._pt=v,v},kC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},EC=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=kC[n]||n,t[1]=kC[r]||r,t.join(" ")},TC=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],DT[n]&&(r=1,n="transformOrigin"===n?nC:tC),gC(s,n);r&&(gC(s,tC),l&&(l.svg&&s.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",OC(s,1),l.uncache=1,iC(o)))}},CC={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new dT(e._pt,t,n,0,0,TC);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},SC=[1,0,0,1,0,0],IC={},NC=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},RC=function(e){var t=lC(e,tC);return NC(t)?SC:t.substr(7).match(zx).map(pk)},PC=function(e,t){var n,r,i,s,o=e._gsap||hk(e),a=e.style,l=RC(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?SC:l:(l!==SC||e.offsetParent||e===IT||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,r=e.nextElementSibling,IT.appendChild(e)),l=RC(e),i?a.display=i:gC(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):IT.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},AC=function(e,t,n,r,i,s){var o,a,l,c=e._gsap,u=i||PC(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],_=u[4],w=u[5],b=t.split(" "),x=parseFloat(b[0])||0,k=parseFloat(b[1])||0;n?u!==SC&&(a=m*y-g*v)&&(l=x*(-g/a)+k*(m/a)-(m*w-g*_)/a,x=x*(y/a)+k*(-v/a)+(v*w-y*_)/a,k=l):(x=(o=pC(e)).x+(~b[0].indexOf("%")?x/100*o.width:x),k=o.y+(~(b[1]||b[0]).indexOf("%")?k/100*o.height:k)),r||!1!==r&&c.smooth?(_=x-h,w=k-d,c.xOffset=f+(_*m+w*v)-_,c.yOffset=p+(_*g+w*y)-w):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=k,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[nC]="0px 0px",s&&(vC(s,c,"xOrigin",h,x),vC(s,c,"yOrigin",d,k),vC(s,c,"xOffset",f,c.xOffset),vC(s,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",x+" "+k)},OC=function(e,t){var n=e._gsap||new UE(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,x,k,E,T,C,S,I,N,R,P,A,O,D,M=e.style,L=n.scaleX<0,j="px",F="deg",U=getComputedStyle(e),z=lC(e,nC)||"0";return r=i=s=l=c=u=h=d=f=0,o=a=1,n.svg=!(!e.getCTM||!mC(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(M[tC]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[tC]?U[tC]:"")),M.scale=M.rotate=M.translate="none"),g=PC(e,n.svg),n.svg&&(n.uncache?(S=e.getBBox(),z=n.xOrigin-S.x+"px "+(n.yOrigin-S.y)+"px",C=""):C=!t&&e.getAttribute("data-svg-origin"),AC(e,C||z,!!C||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==SC&&(w=g[0],b=g[1],x=g[2],k=g[3],r=E=g[4],i=T=g[5],6===g.length?(o=Math.sqrt(w*w+b*b),a=Math.sqrt(k*k+x*x),l=w||b?jT(b,w)*MT:0,(h=x||k?jT(x,k)*MT+l:0)&&(a*=Math.abs(Math.cos(h*LT))),n.svg&&(r-=p-(p*w+m*x),i-=m-(p*b+m*k))):(D=g[6],A=g[7],N=g[8],R=g[9],P=g[10],O=g[11],r=g[12],i=g[13],s=g[14],c=(v=jT(D,P))*MT,v&&(C=E*(y=Math.cos(-v))+N*(_=Math.sin(-v)),S=T*y+R*_,I=D*y+P*_,N=E*-_+N*y,R=T*-_+R*y,P=D*-_+P*y,O=A*-_+O*y,E=C,T=S,D=I),u=(v=jT(-x,P))*MT,v&&(y=Math.cos(-v),O=k*(_=Math.sin(-v))+O*y,w=C=w*y-N*_,b=S=b*y-R*_,x=I=x*y-P*_),l=(v=jT(b,w))*MT,v&&(C=w*(y=Math.cos(v))+b*(_=Math.sin(v)),S=E*y+T*_,b=b*y-w*_,T=T*y-E*_,w=C,E=S),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=pk(Math.sqrt(w*w+b*b+x*x)),a=pk(Math.sqrt(T*T+D*D)),v=jT(E,T),h=Math.abs(v)>2e-4?v*MT:0,f=O?1/(O<0?-O:O):0),n.svg&&(C=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!NC(lC(e,tC)),C&&e.setAttribute("transform",C))),Math.abs(h)>90&&Math.abs(h)<270&&(L?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+j,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+j,n.z=s+j,n.scaleX=pk(o),n.scaleY=pk(a),n.rotation=pk(l)+F,n.rotationX=pk(c)+F,n.rotationY=pk(u)+F,n.skewX=h+F,n.skewY=d+F,n.transformPerspective=f+j,(n.zOrigin=parseFloat(z.split(" ")[2])||!t&&n.zOrigin||0)&&(M[nC]=DC(z)),n.xOffset=n.yOffset=0,n.force3D=vx.force3D,n.renderTransform=n.svg?VC:OT?zC:LC,n.uncache=0,n},DC=function(e){return(e=e.split(" "))[0]+" "+e[1]},MC=function(e,t,n){var r=Jk(t);return pk(parseFloat(t)+parseFloat(wC(e,"x",n+"px",r)))+r},LC=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,zC(e,t)},jC="0deg",FC="0px",UC=") ",zC=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",w="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==jC||c!==jC)){var b,x=parseFloat(c)*LT,k=Math.sin(x),E=Math.cos(x);x=parseFloat(u)*LT,b=Math.cos(x),s=MC(v,s,k*b*-y),o=MC(v,o,-Math.sin(x)*-y),a=MC(v,a,E*b*-y+y)}m!==FC&&(_+="perspective("+m+UC),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(w||s!==FC||o!==FC||a!==FC)&&(_+=a!==FC||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+UC),l!==jC&&(_+="rotate("+l+UC),c!==jC&&(_+="rotateY("+c+UC),u!==jC&&(_+="rotateX("+u+UC),h===jC&&d===jC||(_+="skew("+h+", "+d+UC),1===f&&1===p||(_+="scale("+f+", "+p+UC),v.style[tC]=_||"translate(0, 0)"},VC=function(e,t){var n,r,i,s,o,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,w=a.xOffset,b=a.yOffset,x=a.forceCSS,k=parseFloat(u),E=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=LT,f*=LT,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-f)*-g,s=Math.cos(d-f)*g,f&&(p*=LT,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=pk(n),r=pk(r),i=pk(i),s=pk(s)):(n=m,s=g,r=i=0),(k&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(k=wC(v,"x",u,"px"),E=wC(v,"y",h,"px")),(y||_||w||b)&&(k=pk(k+y-(y*n+_*i)+w),E=pk(E+_-(y*r+_*s)+b)),(l||c)&&(o=v.getBBox(),k=pk(k+l/100*o.width),E=pk(E+c/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+k+","+E+")",v.setAttribute("transform",o),x&&(v.style[tC]=o)},qC=function(e,t,n,r,i){var s,o,a=360,l=Sx(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?MT:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===s&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===s&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=o=new dT(e._pt,t,n,r,c,BT),o.e=u,o.u="deg",e._props.push(n),o},BC=function(e,t){for(var n in t)e[n]=t[n];return e},WC=function(e,t,n){var r,i,s,o,a,l,c,u=BC({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[tC]=t,r=OC(n,1),gC(n,tC),n.setAttribute("transform",s)):(s=getComputedStyle(n)[tC],h[tC]=t,r=OC(n,1),h[tC]=s),DT)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Jk(s)!==(c=Jk(o))?wC(n,i,s,c):parseFloat(s),l=parseFloat(o),e._pt=new dT(e._pt,r,i,a,l-a,qT),e._pt.u=c||0,e._props.push(i));BC(r,u)};fk("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(n){return t<2?e+n:"border"+n+e});CC[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map(function(t){return bC(e,t,n)}),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach(function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]}),e.init(t,a,i)}});var HC={name:"css",register:hC,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,x=this._props,k=e.style,E=n.vars.startAt;for(h in NT||hC(),this.styles=this.styles||oC(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!sk[h]||!KE(h,t,n,r,e,i)))if(c=typeof o,u=CC[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=uE(o)),u)u(this,e,h,o,n)&&(_=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",kE.lastIndex=0,kE.test(s)||(d=Jk(s),(f=Jk(o))?d!==f&&(s=wC(e,h,s,f)+f):d&&(o+=d)),this.add(k,"setProperty",s,o,r,i,0,0,h),x.push(h),w.push(h,0,k[h]);else if("undefined"!==c){if(E&&h in E?(s="function"===typeof E[h]?E[h].call(n,r,e,i):E[h],Sx(s)&&~s.indexOf("random(")&&(s=uE(s)),Jk(s+"")||"auto"===s||(s+=vx.units[h]||Jk(bC(e,h))||""),"="===(s+"").charAt(1)&&(s=bC(e,h))):s=bC(e,h),l=parseFloat(s),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in VT&&("autoAlpha"===h&&(1===l&&"hidden"===bC(e,"visibility")&&a&&(l=0),w.push("visibility",0,k.visibility),vC(this,k,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=VT[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in DT){if(this.styles.save(h),b=o,"string"===c&&"var(--"===o.substring(0,6)){if("calc("===(o=lC(e,o.substring(4,o.indexOf(")")))).substring(0,5)){var T=e.style.perspective;e.style.perspective=o,o=lC(e,"perspective"),T?e.style.perspective=T:gC(e,"perspective")}a=parseFloat(o)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||OC(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new dT(this._pt,k,tC,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new dT(this._pt,v,"scaleY",v.scaleY,(p?gk(v.scaleY,p+a):a)-v.scaleY||0,qT),this._pt.u=0,x.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w.push(nC,0,k[nC]),o=EC(o),v.svg?AC(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&vC(this,v,"zOrigin",v.zOrigin,f),vC(this,k,h,DC(s),DC(o)));continue}if("svgOrigin"===h){AC(e,o,1,y,0,this);continue}if(h in IC){qC(this,v,h,l,p?gk(l,p+o):o);continue}if("smoothOrigin"===h){vC(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){WC(this,o,e);continue}}}else h in k||(h=uC(h)||h);if(m||(a||0===a)&&(l||0===l)&&!zT.test(o)&&h in k)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=Jk(o)||(h in vx.units?vx.units[h]:d))&&(l=wC(e,h,s,f)),this._pt=new dT(this._pt,m?v:k,h,l,(p?gk(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==h||!1===t.autoRound?qT:KT),this._pt.u=f||0,m&&b!==o?(this._pt.b=s,this._pt.e=b,this._pt.r=HT):d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=WT);else if(h in k)xC.call(this,e,h,s,p?p+o:o);else if(h in e)this.add(e,h,s||e[h],p?p+o:o,r,i);else if("parseTransform"!==h){Qx(h,o);continue}m||(h in k?w.push(h,0,k[h]):"function"===typeof e[h]?w.push(h,2,e[h]()):w.push(h,1,s||e[h])),x.push(h)}_&&hT(this)},render:function(e,t){if(t.tween._time||!AT())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:bC,aliases:VT,getSetter:function(e,t,n){var r=VT[t];return r&&r.indexOf(",")<0&&(t=r),t in DT&&t!==nC&&(e._gsap.x||bC(e,"x"))?n&&PT===n?"scale"===t?JT:$T:(PT=n||{})&&("scale"===t?ZT:eC):e.style&&!Rx(e.style[t])?QT:~t.indexOf("-")?XT:rT(e,t)},core:{_removeProperty:gC,_getMatrix:PC}};TT.utils.checkPrefix=uC,TT.core.getStyleSaver=oC,function(e,t){var n=fk(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){DT[e]=1});fk(t,function(e){vx.units[e]="deg",IC[e]=1}),VT[n[13]]=e+","+t,fk("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");VT[t[1]]=n[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),fk("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){vx.units[e]="px"}),TT.registerPlugin(HC);var KC=TT.registerPlugin(HC)||TT;KC.core.Tween;let GC="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,YC=e=>e&&!Array.isArray(e)&&"object"===typeof e,QC=[],XC={},$C=KC;const JC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QC,n=XC;YC(e)?(n=e,e=null,t="dependencies"in n?n.dependencies:QC):YC(t)&&(n=t,t="dependencies"in n?n.dependencies:QC),e&&"function"!==typeof e&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=n,o=(0,r.useRef)(!1),a=(0,r.useRef)($C.context(()=>{},i)),l=(0,r.useRef)(e=>a.current.add(null,e)),c=t&&t.length&&!s;return c&&GC(()=>(o.current=!0,()=>a.current.revert()),QC),GC(()=>{if(e&&a.current.add(e,i),!c||!o.current)return()=>a.current.revert()},t),{context:a.current,contextSafe:l.current}};function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}JC.register=e=>{$C=e},JC.headless=!0;var eS,tS,nS,rS,iS,sS,oS,aS,lS,cS,uS,hS,dS,fS=function(){return eS||"undefined"!==typeof window&&(eS=window.gsap)&&eS.registerPlugin&&eS},pS=1,mS=[],gS=[],vS=[],yS=Date.now,_S=function(e,t){return t},wS=function(e,t){return~vS.indexOf(e)&&vS[vS.indexOf(e)+1][t]},bS=function(e){return!!~cS.indexOf(e)},xS=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},kS=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},ES="scrollLeft",TS="scrollTop",CS=function(){return uS&&uS.isPressed||gS.cache++},SS=function(e,t){var n=function n(r){if(r||0===r){pS&&(nS.history.scrollRestoration="manual");var i=uS&&uS.isPressed;r=n.v=Math.round(r)||(uS&&uS.iOS?1:0),e(r),n.cacheID=gS.cache,i&&_S("ss",r)}else(t||gS.cache!==n.cacheID||_S("ref"))&&(n.cacheID=gS.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},IS={s:ES,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:SS(function(e){return arguments.length?nS.scrollTo(e,NS.sc()):nS.pageXOffset||rS[ES]||iS[ES]||sS[ES]||0})},NS={s:TS,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:IS,sc:SS(function(e){return arguments.length?nS.scrollTo(IS.sc(),e):nS.pageYOffset||rS[TS]||iS[TS]||sS[TS]||0})},RS=function(e,t){return(t&&t._ctx&&t._ctx.selector||eS.utils.toArray)(e)[0]||("string"===typeof e&&!1!==eS.config().nullTargetWarn?console.warn("Element not found:",e):null)},PS=function(e,t){var n=t.s,r=t.sc;bS(e)&&(e=rS.scrollingElement||iS);var i=gS.indexOf(e),s=r===NS.sc?1:2;!~i&&(i=gS.push(e)-1),gS[i+s]||xS(e,"scroll",CS);var o=gS[i+s],a=o||(gS[i+s]=SS(wS(e,n),!0)||(bS(e)?r:SS(function(t){return arguments.length?e[n]=t:e[n]})));return a.target=e,o||(a.smooth="smooth"===eS.getProperty(e,"scrollBehavior")),a},AS=function(e,t,n){var r=e,i=e,s=yS(),o=s,a=t||50,l=Math.max(500,3*a),c=function(e,t){var l=yS();t||l-s>a?(i=r,r=e,o=s,s=l):n?r+=e:r=i+(e-i)/(l-o)*(s-o)};return{update:c,reset:function(){i=r=n?0:r,o=s=0},getVelocity:function(e){var t=o,a=i,u=yS();return(e||0===e)&&e!==r&&c(e),s===o||u-o>l?0:(r+(n?a:-a))/((n?u:s)-t)*1e3}}},OS=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},DS=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},MS=function(){(lS=eS.core.globals().ScrollTrigger)&&lS.core&&function(){var e=lS.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,gS),r.push.apply(r,vS),gS=n,vS=r,_S=function(e,n){return t[e](n)}}()},LS=function(e){return eS=e||fS(),!tS&&eS&&"undefined"!==typeof document&&document.body&&(nS=window,rS=document,iS=rS.documentElement,sS=rS.body,cS=[nS,rS,iS,sS],eS.utils.clamp,dS=eS.core.context||function(){},aS="onpointerenter"in sS?"pointer":"mouse",oS=jS.isTouch=nS.matchMedia&&nS.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in nS||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,hS=jS.eventTypes=("ontouchstart"in iS?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in iS?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return pS=0},500),MS(),tS=1),tS};IS.op=NS,gS.cache=0;var jS=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){tS||LS(eS)||console.warn("Please gsap.registerPlugin(Observer)"),lS||MS();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,s=e.lineHeight,o=e.debounce,a=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,d=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,_=e.onLeft,w=e.onUp,b=e.onDown,x=e.onChangeX,k=e.onChangeY,E=e.onChange,T=e.onToggleX,C=e.onToggleY,S=e.onHover,I=e.onHoverEnd,N=e.onMove,R=e.ignoreCheck,P=e.isNormalizer,A=e.onGestureStart,O=e.onGestureEnd,D=e.onWheel,M=e.onEnable,L=e.onDisable,j=e.onClick,F=e.scrollSpeed,U=e.capture,z=e.allowClicks,V=e.lockAxis,q=e.onLockAxis;this.target=i=RS(i)||iS,this.vars=e,u&&(u=eS.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,F=F||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(nS.getComputedStyle(sS).lineHeight)||22);var B,W,H,K,G,Y,Q,X=this,$=0,J=0,Z=e.passive||!a&&!1!==e.passive,ee=PS(i,IS),te=PS(i,NS),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===hS[0],se=bS(i),oe=i.ownerDocument||rS,ae=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=yS()},he=function(e,t){return(X.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||R&&R(e,t)},de=function(){var e=X.deltaX=DS(ae),n=X.deltaY=DS(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E(X,e,n,ae,le),r&&(y&&X.deltaX>0&&y(X),_&&X.deltaX<0&&_(X),x&&x(X),T&&X.deltaX<0!==$<0&&T(X),$=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(b&&X.deltaY>0&&b(X),w&&X.deltaY<0&&w(X),k&&k(X),C&&X.deltaY<0!==J<0&&C(X),J=X.deltaY,le[0]=le[1]=le[2]=0),(K||H)&&(N&&N(X),H&&(f&&1===H&&f(X),m&&m(X),H=0),K=!1),Y&&!(Y=!1)&&q&&q(X),G&&(D(X),G=!1),B=0},fe=function(e,t,n){ae[n]+=e,le[n]+=t,X._vx.update(e),X._vy.update(t),o?B||(B=requestAnimationFrame(de)):de()},pe=function(e,t){V&&!Q&&(X.axis=Q=Math.abs(e)>Math.abs(t)?"x":"y",Y=!0),"y"!==Q&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Q&&(le[2]+=t,X._vy.update(t,!0)),o?B||(B=requestAnimationFrame(de)):de()},me=function(e){if(!he(e,1)){var t=(e=OS(e,a)).clientX,r=e.clientY,i=t-X.x,s=r-X.y,o=X.isDragging;X.x=t,X.y=r,(o||(i||s)&&(Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n))&&(H||(H=o?2:1),o||(X.isDragging=!0),pe(i,s))}},ge=X.onPress=function(e){he(e,1)||e&&e.button||(X.axis=Q=null,W.pause(),X.isPressed=!0,e=OS(e),$=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),xS(P?i:oe,hS[1],me,Z,!0),X.deltaX=X.deltaY=0,g&&g(X))},ve=X.onRelease=function(e){if(!he(e,1)){kS(P?i:oe,hS[1],me,!0);var t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),s=OS(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&z&&eS.delayedCall(.08,function(){if(yS()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){var t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,nS,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),X.isDragging=X.isGesturing=X.isPressed=!1,l&&n&&!P&&W.restart(!0),H&&de(),p&&n&&p(X),v&&v(X,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&A(e,X.isDragging)},_e=function(){return(X.isGesturing=!1)||O(X)},we=function(e){if(!he(e)){var t=ee(),n=te();fe((t-ne)*F,(n-re)*F,1),ne=t,re=n,l&&W.restart(!0)}},be=function(e){if(!he(e)){e=OS(e,a),D&&(G=!0);var t=(1===e.deltaMode?s:2===e.deltaMode?nS.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),l&&!P&&W.restart(!0)}},xe=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,K=!0,l&&W.restart(!0),(r||i)&&pe(r,i)}},ke=function(e){X.event=e,S(X)},Ee=function(e){X.event=e,I(X)},Te=function(e){return he(e)||OS(e,a)&&j(X)};W=X._dc=eS.delayedCall(c||.25,function(){X._vx.reset(),X._vy.reset(),W.pause(),l&&l(X)}).pause(),X.deltaX=X.deltaY=0,X._vx=AS(0,50,!0),X._vy=AS(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,dS(this),X.enable=function(e){return X.isEnabled||(xS(se?oe:i,"scroll",CS),r.indexOf("scroll")>=0&&xS(se?oe:i,"scroll",we,Z,U),r.indexOf("wheel")>=0&&xS(i,"wheel",be,Z,U),(r.indexOf("touch")>=0&&oS||r.indexOf("pointer")>=0)&&(xS(i,hS[0],ge,Z,U),xS(oe,hS[2],ve),xS(oe,hS[3],ve),z&&xS(i,"click",ue,!0,!0),j&&xS(i,"click",Te),A&&xS(oe,"gesturestart",ye),O&&xS(oe,"gestureend",_e),S&&xS(i,aS+"enter",ke),I&&xS(i,aS+"leave",Ee),N&&xS(i,aS+"move",xe)),X.isEnabled=!0,X.isDragging=X.isGesturing=X.isPressed=K=H=!1,X._vx.reset(),X._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),M&&M(X)),X},X.disable=function(){X.isEnabled&&(mS.filter(function(e){return e!==X&&bS(e.target)}).length||kS(se?oe:i,"scroll",CS),X.isPressed&&(X._vx.reset(),X._vy.reset(),kS(P?i:oe,hS[1],me,!0)),kS(se?oe:i,"scroll",we,U),kS(i,"wheel",be,U),kS(i,hS[0],ge,U),kS(oe,hS[2],ve),kS(oe,hS[3],ve),kS(i,"click",ue,!0),kS(i,"click",Te),kS(oe,"gesturestart",ye),kS(oe,"gestureend",_e),kS(i,aS+"enter",ke),kS(i,aS+"leave",Ee),kS(i,aS+"move",xe),X.isEnabled=X.isPressed=X.isDragging=!1,L&&L(X))},X.kill=X.revert=function(){X.disable();var e=mS.indexOf(X);e>=0&&mS.splice(e,1),uS===X&&(uS=0)},mS.push(X),P&&bS(i)&&(uS=X),X.enable(d)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&ZC(t.prototype,n),r&&ZC(t,r),e}();jS.version="3.14.2",jS.create=function(e){return new jS(e)},jS.register=LS,jS.getAll=function(){return mS.slice()},jS.getById=function(e){return mS.filter(function(t){return t.vars.id===e})[0]},fS()&&eS.registerPlugin(jS);var FS,US,zS,VS,qS,BS,WS,HS,KS,GS,YS,QS,XS,$S,JS,ZS,eI,tI,nI,rI,iI,sI,oI,aI,lI,cI,uI,hI,dI,fI,pI,mI,gI,vI,yI,_I,wI,bI,xI=1,kI=Date.now,EI=kI(),TI=0,CI=0,SI=function(e,t,n){var r=VI(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},II=function(e,t){return!t||VI(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},NI=function e(){return CI&&requestAnimationFrame(e)},RI=function(){return $S=1},PI=function(){return $S=0},AI=function(e){return e},OI=function(e){return Math.round(1e5*e)/1e5||0},DI=function(){return"undefined"!==typeof window},MI=function(){return FS||DI()&&(FS=window.gsap)&&FS.registerPlugin&&FS},LI=function(e){return!!~WS.indexOf(e)},jI=function(e){return("Height"===e?pI:zS["inner"+e])||qS["client"+e]||BS["client"+e]},FI=function(e){return wS(e,"getBoundingClientRect")||(LI(e)?function(){return JN.width=zS.innerWidth,JN.height=pI,JN}:function(){return uN(e)})},UI=function(e,t){var n=t.s,r=t.d2,i=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=wS(e,n))?s()-FI(e)()[i]:LI(e)?(qS[n]||BS[n])-jI(r):e[n]-e["offset"+r])},zI=function(e,t){for(var n=0;n<nI.length;n+=3)(!t||~t.indexOf(nI[n+1]))&&e(nI[n],nI[n+1],nI[n+2])},VI=function(e){return"string"===typeof e},qI=function(e){return"function"===typeof e},BI=function(e){return"number"===typeof e},WI=function(e){return"object"===typeof e},HI=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},KI=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},GI=Math.abs,YI="left",QI="right",XI="bottom",$I="width",JI="height",ZI="Right",eN="Left",tN="Top",nN="Bottom",rN="padding",iN="margin",sN="Width",oN="Height",aN="px",lN=function(e){return zS.getComputedStyle(e)},cN=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},uN=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==lN(e)[JS]&&FS.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},hN=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},dN=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},fN=function(e){var t=FS.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var s;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=i;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=t(n);return!r||Math.abs(s-n)<i||s-n<0===r<0?s:t(r<0?n-e:n+e)}},pN=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},mN=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},gN=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},vN=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},yN={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_N={toggleActions:"play",anticipatePin:0},wN={top:0,left:0,center:.5,bottom:1,right:1},bN=function(e,t){if(VI(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in wN?wN[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},xN=function(e,t,n,r,i,s,o,a){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,f=VS.createElement("div"),p=LI(n)||"fixed"===wS(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?BS:n,v=-1!==e.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(_+=(r===NS?QI:XI)+":"+(s+parseFloat(h))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=_,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],kN(f,0,r,v),f},kN=function(e,t,n,r){var i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+sN]=1,i["border"+o+sN]=0,i[n.p]=t+"px",FS.set(e,i)},EN=[],TN={},CN=function(){return kI()-TI>34&&(yI||(yI=requestAnimationFrame(HN)))},SN=function(){(!oI||!oI.isPressed||oI.startX>BS.clientWidth)&&(gS.cache++,oI?yI||(yI=requestAnimationFrame(HN)):HN(),TI||ON("scrollStart"),TI=kI())},IN=function(){cI=zS.innerWidth,lI=zS.innerHeight},NN=function(e){gS.cache++,(!0===e||!XS&&!sI&&!VS.fullscreenElement&&!VS.webkitFullscreenElement&&(!aI||cI!==zS.innerWidth||Math.abs(zS.innerHeight-lI)>.25*zS.innerHeight))&&HS.restart(!0)},RN={},PN=[],AN=function e(){return gN(sR,"scrollEnd",e)||qN(!0)},ON=function(e){return RN[e]&&RN[e].map(function(e){return e()})||PN},DN=[],MN=function(e){for(var t=0;t<DN.length;t+=5)(!e||DN[t+4]&&DN[t+4].query===e)&&(DN[t].style.cssText=DN[t+1],DN[t].getBBox&&DN[t].setAttribute("transform",DN[t+2]||""),DN[t+3].uncache=1)},LN=function(){return gS.forEach(function(e){return qI(e)&&++e.cacheID&&(e.rec=e())})},jN=function(e,t){var n;for(ZS=0;ZS<EN.length;ZS++)!(n=EN[ZS])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));mI=!0,t&&MN(t),t||ON("revert")},FN=function(e,t){gS.cache++,(t||!_I)&&gS.forEach(function(e){return qI(e)&&e.cacheID++&&(e.rec=0)}),VI(e)&&(zS.history.scrollRestoration=dI=e)},UN=0,zN=function(){BS.appendChild(fI),pI=!oI&&fI.offsetHeight||zS.innerHeight,BS.removeChild(fI)},VN=function(e){return KS(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},qN=function(e,t){if(qS=VS.documentElement,BS=VS.body,WS=[zS,VS,qS,BS],!TI||e||mI){zN(),_I=sR.isRefreshing=!0,mI||LN();var n=ON("refreshInit");rI&&sR.sort(),t||jN(),gS.forEach(function(e){qI(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),EN.slice(0).forEach(function(e){return e.refresh()}),mI=!1,EN.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),gI=1,VN(!0),EN.forEach(function(e){var t=UI(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),VN(!1),gI=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),gS.forEach(function(e){qI(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),FN(dI,1),HS.pause(),UN++,_I=2,HN(2),EN.forEach(function(e){return qI(e.vars.onRefresh)&&e.vars.onRefresh(e)}),_I=sR.isRefreshing=!1,ON("refresh")}else mN(sR,"scrollEnd",AN)},BN=0,WN=1,HN=function(e){if(2===e||!_I&&!mI){sR.isUpdating=!0,bI&&bI.update(0);var t=EN.length,n=kI(),r=n-EI>=50,i=t&&EN[0].scroll();if(WN=BN>i?-1:1,_I||(BN=i),r&&(TI&&!$S&&n-TI>200&&(TI=0,ON("scrollEnd")),YS=EI,EI=n),WN<0){for(ZS=t;ZS-- >0;)EN[ZS]&&EN[ZS].update(0,r);WN=1}else for(ZS=0;ZS<t;ZS++)EN[ZS]&&EN[ZS].update(0,r);sR.isUpdating=!1}yI=0},KN=[YI,"top",XI,QI,iN+nN,iN+ZI,iN+tN,iN+eN,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],GN=KN.concat([$I,JI,"boxSizing","max"+sN,"max"+oN,"position",iN,rN,rN+tN,rN+ZI,rN+nN,rN+eN]),YN=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,s=KN.length,o=t.style,a=e.style;s--;)o[i=KN[s]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a[XI]=a[QI]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[$I]=hN(e,IS)+aN,o[JI]=hN(e,NS)+aN,o[rN]=a[iN]=a.top=a[YI]="0",XN(r),a[$I]=a["max"+sN]=n[$I],a[JI]=a["max"+oN]=n[JI],a[rN]=n[rN],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},QN=/([A-Z])/g,XN=function(e){if(e){var t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||FS.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(QN,"-$1").toLowerCase())}},$N=function(e){for(var t=GN.length,n=e.style,r=[],i=0;i<t;i++)r.push(GN[i],n[GN[i]]);return r.t=e,r},JN={left:0,top:0},ZN=function(e,t,n,r,i,s,o,a,l,c,u,h,d,f){qI(e)&&(e=e(a)),VI(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?bN("0"+e.substr(3),n):0));var p,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),BI(e))d&&(e=FS.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&kN(o,n,r,!0);else{qI(t)&&(t=t(a));var y,_,w,b,x=(e||"0").split(" ");g=RS(t,a)||BS,(y=uN(g)||{})&&(y.left||y.top)||"none"!==lN(g).display||(b=g.style.display,g.style.display="block",y=uN(g),b?g.style.display=b:g.style.removeProperty("display")),_=bN(x[0],y[r.d]),w=bN(x[1]||"0",n),e=y[r.p]-l[r.p]-c+_+i-w,o&&kN(o,w,r,n-w<20||o._isStart&&w>20),n-=n-w}if(f&&(a[f]=e||-.001,e<0&&(e=0)),s){var k=e+n,E=s._isStart;p="scroll"+r.d2,kN(s,k,r,E&&k>20||!E&&(u?Math.max(BS[p],qS[p]):s.parentNode[p])<=k+1),u&&(l=uN(o),u&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+aN))}return d&&g&&(p=uN(g),d.seek(h),m=uN(g),d._caScrollDist=p[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},eR=/(webkit|moz|length|cssText|inset)/i,tR=function(e,t,n,r){if(e.parentNode!==t){var i,s,o=e.style;if(t===BS){for(i in e._stOrig=o.cssText,s=lN(e))+i||eR.test(i)||!s[i]||"string"!==typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;FS.core.getCache(e).uncache=1,t.appendChild(e)}},nR=function(e,t,n){var r=t,i=r;return function(t){var s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=Math.round(t)}},rR=function(e,t,n){var r={};r[t.p]="+="+n,FS.set(e,r)},iR=function(e,t){var n=PS(e,t),r="_scroll"+t.p2,i=function t(i,s,o,a,l){var c=t.tween,u=s.onComplete,h={};o=o||n();var d=nR(n,o,function(){c.kill(),t.tween=0});return l=a&&l||0,a=a||i-o,c&&c.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(o+a*c.ratio+l*c.ratio*c.ratio)},s.onUpdate=function(){gS.cache++,t.tween&&HN()},s.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=FS.to(e,s)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},mN(e,"wheel",n.wheelHandler),sR.isTouch&&mN(e,"touchmove",n.wheelHandler),i},sR=function(){function e(t,n){US||e.register(FS)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),hI(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),CI){var r,i,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,w,b,x,k,E,T,C,S,I,N,R,P,A,O,D,M,L,j,F,U,z,V,q,B=t=cN(VI(t)||BI(t)||t.nodeType?{trigger:t}:t,_N),W=B.onUpdate,H=B.toggleClass,K=B.id,G=B.onToggle,Y=B.onRefresh,Q=B.scrub,X=B.trigger,$=B.pin,J=B.pinSpacing,Z=B.invalidateOnRefresh,ee=B.anticipatePin,te=B.onScrubComplete,ne=B.onSnapComplete,re=B.once,ie=B.snap,se=B.pinReparent,oe=B.pinSpacer,ae=B.containerAnimation,le=B.fastScrollEnd,ce=B.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?IS:NS,he=!Q&&0!==Q,de=RS(t.scroller||zS),fe=FS.core.getCache(de),pe=LI(de),me="fixed"===("pinType"in t?t.pinType:wS(de,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=he&&t.toggleActions.split(" "),ye="markers"in t?t.markers:_N.markers,_e=pe?0:parseFloat(lN(de)["border"+ue.p2+sN])||0,we=this,be=t.onRefreshInit&&function(){return t.onRefreshInit(we)},xe=function(e,t,n){var r=n.d,i=n.d2,s=n.a;return(s=wS(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?jI(i):e["client"+i])||0}}(de,pe,ue),ke=function(e,t){return!t||~vS.indexOf(e)?FI(e):function(){return JN}}(de,pe),Ee=0,Te=0,Ce=0,Se=PS(de,ue);if(we._startClamp=we._endClamp=!1,we._dir=ue,ee*=45,we.scroller=de,we.scroll=ae?ae.time.bind(ae):Se,o=Se(),we.vars=t,n=n||t.animation,"refreshPriority"in t&&(rI=1,-9999===t.refreshPriority&&(bI=we)),fe.tweenScroll=fe.tweenScroll||{top:iR(de,NS),left:iR(de,IS)},we.tweenTo=r=fe.tweenScroll[ue.p],we.scrubDuration=function(e){(M=BI(e)&&e)?D?D.duration(e):D=FS.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:M,paused:!0,onComplete:function(){return te&&te(we)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!we.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),we.animation=n.pause(),n.scrollTrigger=we,we.scrubDuration(Q),A=0,K||(K=n.vars.id)),ie&&(WI(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in BS.style&&FS.set(pe?[BS,qS]:de,{scrollBehavior:"auto"}),gS.forEach(function(e){return qI(e)&&e.target===(pe?VS.scrollingElement||qS:de)&&(e.smooth=!1)}),s=qI(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return FS.utils.snap(dN(e),t)}}(n):"labelsDirectional"===ie.snapTo?(q=n,function(e,t){return fN(dN(q))(e,t.direction)}):!1!==ie.directional?function(e,t){return fN(ie.snapTo)(e,kI()-Te<500?0:t.direction)}:FS.utils.snap(ie.snapTo),L=ie.duration||{min:.1,max:2},L=WI(L)?GS(L.min,L.max):GS(L,L),j=FS.delayedCall(ie.delay||M/2||.1,function(){var e=Se(),t=kI()-Te<500,i=r.tween;if(!(t||Math.abs(we.getVelocity())<10)||i||$S||Ee===e)we.isActive&&Ee!==e&&j.restart(!0);else{var o,a,u=(e-l)/g,h=n&&!he?n.totalProgress():u,d=t?0:(h-O)/(kI()-YS)*1e3||0,f=FS.utils.clamp(-u,1-u,GI(d/2)*d/.185),p=u+(!1===ie.inertia?0:f),m=ie,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(o=s(p,we),BI(o)||(o=p),a=Math.max(0,Math.round(l+o*g)),e<=c&&e>=l&&a!==e){if(i&&!i._initted&&i.data<=GI(a-e))return;!1===ie.inertia&&(f=o-u),r(a,{duration:L(GI(.185*Math.max(GI(p-h),GI(o-h))/d/.05||0)),ease:ie.ease||"power3",data:GI(a-e),onInterrupt:function(){return j.restart(!0)&&y&&y(we)},onComplete:function(){we.update(),Ee=Se(),n&&!he&&(D?D.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),A=O=n&&!he?n.totalProgress():we.progress,ne&&ne(we),_&&_(we)}},e,f*g,a-e-f*g),v&&v(we,r.tween)}}}).pause()),K&&(TN[K]=we),(V=(X=we.trigger=RS(X||!0!==$&&$))&&X._gsap&&X._gsap.stRevert)&&(V=V(we)),$=!0===$?X:RS($),VI(H)&&(H={targets:X,className:H}),$&&(!1===J||J===iN||(J=!(!J&&$.parentNode&&$.parentNode.style&&"flex"===lN($.parentNode).display)&&rN),we.pin=$,(i=FS.core.getCache($)).spacer?v=i.pinState:(oe&&((oe=RS(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),i.spacerIsNative=!!oe,oe&&(i.spacerState=$N(oe))),i.spacer=w=oe||VS.createElement("div"),w.classList.add("pin-spacer"),K&&w.classList.add("pin-spacer-"+K),i.pinState=v=$N($)),!1!==t.force3D&&FS.set($,{force3D:!0}),we.spacer=w=i.spacer,P=lN($),C=P[J+ue.os2],x=FS.getProperty($),k=FS.quickSetter($,ue.a,aN),YN($,w,P),_=$N($)),ye){p=WI(ye)?cN(ye,yN):yN,d=xN("scroller-start",K,de,ue,p,0),f=xN("scroller-end",K,de,ue,p,0,d),b=d["offset"+ue.op.d2];var Ie=RS(wS(de,"content")||de);u=this.markerStart=xN("start",K,Ie,ue,p,b,0,ae),h=this.markerEnd=xN("end",K,Ie,ue,p,b,0,ae),ae&&(z=FS.quickSetter([u,h],ue.a,aN)),me||vS.length&&!0===wS(de,"fixedMarkers")||(!function(e){var t=lN(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?BS:de),FS.set([d,f],{force3D:!0}),I=FS.quickSetter(d,ue.a,aN),R=FS.quickSetter(f,ue.a,aN))}if(ae){var Ne=ae.vars.onUpdate,Re=ae.vars.onUpdateParams;ae.eventCallback("onUpdate",function(){we.update(0,0,1),Ne&&Ne.apply(ae,Re||[])})}if(we.previous=function(){return EN[EN.indexOf(we)-1]},we.next=function(){return EN[EN.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var r=!1!==e||!we.enabled,i=XS;r!==we.isReverted&&(r&&(F=Math.max(Se(),we.scroll.rec||0),Ce=we.progress,U=n&&n.progress()),u&&[u,h,d,f].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(XS=we,we.update(r)),!$||se&&we.isActive||(r?function(e,t,n){XN(n);var r=e._gsap;if(r.spacerIsNative)XN(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}($,w,v):YN($,w,lN($),S)),r||we.update(r),XS=i,we.isReverted=r)},we.refresh=function(i,s,p,b){if(!XS&&we.enabled||s)if($&&i&&TI)mN(e,"scrollEnd",AN);else{!_I&&be&&be(we),XS=we,r.tween&&!p&&(r.tween.kill(),r.tween=0),D&&D.pause(),Z&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var k,C,I,R,P,A,O,M,L,z,V,q,B,W=xe(),H=ke(),K=ae?ae.duration():UI(de,ue),G=g<=.01||!g,Q=0,ee=b||0,te=WI(p)?p.end:t.end,ne=t.endTrigger||X,re=WI(p)?p.start:t.start||(0!==t.start&&X?$?"0 0":"0 100%":0),ie=we.pinnedContainer=t.pinnedContainer&&RS(t.pinnedContainer,we),oe=X&&Math.max(0,EN.indexOf(we))||0,le=oe;for(ye&&WI(p)&&(q=FS.getProperty(d,ue.p),B=FS.getProperty(f,ue.p));le-- >0;)(A=EN[le]).end||A.refresh(0,1)||(XS=we),!(O=A.pin)||O!==X&&O!==$&&O!==ie||A.isReverted||(z||(z=[]),z.unshift(A),A.revert(!0,!0)),A!==EN[le]&&(oe--,le--);for(qI(re)&&(re=re(we)),re=SI(re,"start",we),l=ZN(re,X,W,ue,Se(),u,d,we,H,_e,me,K,ae,we._startClamp&&"_startClamp")||($?-.001:0),qI(te)&&(te=te(we)),VI(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(VI(re)?re.split(" ")[0]:"")+te:(Q=bN(te.substr(2),W),te=VI(re)?re:(ae?FS.utils.mapRange(0,ae.duration(),ae.scrollTrigger.start,ae.scrollTrigger.end,l):l)+Q,ne=X)),te=SI(te,"end",we),c=Math.max(l,ZN(te||(ne?"100% 0":K),ne,W,ue,Se()+Q,h,f,we,H,_e,me,K,ae,we._endClamp&&"_endClamp"))||-.001,Q=0,le=oe;le--;)(O=(A=EN[le]||{}).pin)&&A.start-A._pinPush<=l&&!ae&&A.end>0&&(k=A.end-(we._startClamp?Math.max(0,A.start):A.start),(O===X&&A.start-A._pinPush<l||O===ie)&&isNaN(re)&&(Q+=k*(1-A.progress)),O===$&&(ee+=k));if(l+=Q,c+=Q,we._startClamp&&(we._startClamp+=Q),we._endClamp&&!_I&&(we._endClamp=c||-.001,c=Math.min(c,UI(de,ue))),g=c-l||(l-=.01)&&.001,G&&(Ce=FS.utils.clamp(0,1,FS.utils.normalize(l,c,F))),we._pinPush=ee,u&&Q&&((k={})[ue.a]="+="+Q,ie&&(k[ue.p]="-="+Se()),FS.set([u,h],k)),!$||gI&&we.end>=UI(de,ue)){if(X&&Se()&&!ae)for(C=X.parentNode;C&&C!==BS;)C._pinOffset&&(l-=C._pinOffset,c-=C._pinOffset),C=C.parentNode}else k=lN($),R=ue===NS,I=Se(),E=parseFloat(x(ue.a))+ee,!K&&c>1&&(V={style:V=(pe?VS.scrollingElement||qS:de).style,value:V["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==lN(BS)["overflow"+ue.a.toUpperCase()]&&(V.style["overflow"+ue.a.toUpperCase()]="scroll")),YN($,w,k),_=$N($),C=uN($,!0),M=me&&PS(de,R?IS:NS)(),J?((S=[J+ue.os2,g+ee+aN]).t=w,(le=J===rN?hN($,ue)+g+ee:0)&&(S.push(ue.d,le+aN),"auto"!==w.style.flexBasis&&(w.style.flexBasis=le+aN)),XN(S),ie&&EN.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),me&&Se(F)):(le=hN($,ue))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=le+aN),me&&((P={top:C.top+(R?I-l:M)+aN,left:C.left+(R?M:I-l)+aN,boxSizing:"border-box",position:"fixed"})[$I]=P["max"+sN]=Math.ceil(C.width)+aN,P[JI]=P["max"+oN]=Math.ceil(C.height)+aN,P[iN]=P[iN+tN]=P[iN+ZI]=P[iN+nN]=P[iN+eN]="0",P[rN]=k[rN],P[rN+tN]=k[rN+tN],P[rN+ZI]=k[rN+ZI],P[rN+nN]=k[rN+nN],P[rN+eN]=k[rN+eN],y=function(e,t,n){for(var r,i=[],s=e.length,o=n?8:0;o<s;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(v,P,se),_I&&Se(0)),n?(L=n._initted,iI(1),n.render(n.duration(),!0,!0),T=x(ue.a)-E+g+ee,N=Math.abs(g-T)>1,me&&N&&y.splice(y.length-2,2),n.render(0,!0,!0),L||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),iI(0)):T=g,V&&(V.value?V.style["overflow"+ue.a.toUpperCase()]=V.value:V.style.removeProperty("overflow-"+ue.a));z&&z.forEach(function(e){return e.revert(!1,!0)}),we.start=l,we.end=c,o=a=_I?F:Se(),ae||_I||(o<F&&Se(F),we.scroll.rec=0),we.revert(!1,!0),Te=kI(),j&&(Ee=-1,j.restart(!0)),XS=0,n&&he&&(n._initted||U)&&n.progress()!==U&&n.progress(U||0,!0).render(n.time(),!0,!0),(G||Ce!==we.progress||ae||Z||n&&!n._initted)&&(n&&!he&&(n._initted||Ce||!1!==n.vars.immediateRender)&&n.totalProgress(ae&&l<-.001&&!Ce?FS.utils.normalize(l,c,0):Ce,!0),we.progress=G||(o-l)/g===Ce?0:Ce),$&&J&&(w._pinOffset=Math.round(we.progress*T)),D&&D.invalidate(),isNaN(q)||(q-=FS.getProperty(d,ue.p),B-=FS.getProperty(f,ue.p),rR(d,ue,q),rR(u,ue,q-(b||0)),rR(f,ue,B),rR(h,ue,B-(b||0))),G&&!_I&&we.update(),!Y||_I||m||(m=!0,Y(we),m=!1)}},we.getVelocity=function(){return(Se()-a)/(kI()-YS)*1e3||0},we.endAnimation=function(){HI(we.callbackAnimation),n&&(D?D.progress(1):n.paused()?he||HI(n,we.direction<0,1):HI(n,n.reversed()))},we.labelToScroll=function(e){return n&&n.labels&&(l||we.refresh()||l)+n.labels[e]/n.duration()*g||0},we.getTrailing=function(e){var t=EN.indexOf(we),n=we.direction>0?EN.slice(0,t).reverse():EN.slice(t+1);return(VI(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return we.direction>0?e.end<=l:e.start>=c})},we.update=function(e,t,i){if(!ae||i||e){var s,u,h,f,p,m,v,b=!0===_I?F:we.scroll(),x=e?0:(b-l)/g,S=x<0?0:x>1?1:x||0,P=we.progress;if(t&&(a=o,o=ae?Se():b,ie&&(O=A,A=n&&!he?n.totalProgress():S)),ee&&$&&!XS&&!xI&&TI&&(!S&&l<b+(b-a)/(kI()-YS)*ee?S=1e-4:1===S&&c>b+(b-a)/(kI()-YS)*ee&&(S=.9999)),S!==P&&we.enabled){if(f=(p=(s=we.isActive=!!S&&S<1)!==(!!P&&P<1))||!!S!==!!P,we.direction=S>P?1:-1,we.progress=S,f&&!XS&&(u=S&&!P?0:1===S?1:1===P?2:3,he&&(h=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===h||"reset"===h||h in n))),ce&&(p||v)&&(v||Q||!n)&&(qI(ce)?ce(we):we.getTrailing(ce).forEach(function(e){return e.endAnimation()})),he||(!D||XS||xI?n&&n.totalProgress(S,!(!XS||!Te&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",S,n._tTime/n._tDur):(D.vars.totalProgress=S,D.invalidate().restart()))),$)if(e&&J&&(w.style[J+ue.os2]=C),me){if(f){if(m=!e&&S>P&&c+1>b&&b+1>=UI(de,ue),se)if(e||!s&&!m)tR($,w);else{var M=uN($,!0),L=b-l;tR($,BS,M.top+(ue===NS?L:0)+aN,M.left+(ue===NS?0:L)+aN)}XN(s||m?y:_),N&&S<1&&s||k(E+(1!==S||m?0:T))}}else k(OI(E+T*S));ie&&!r.tween&&!XS&&!xI&&j.restart(!0),H&&(p||re&&S&&(S<1||!vI))&&KS(H.targets).forEach(function(e){return e.classList[s||re?"add":"remove"](H.className)}),W&&!he&&!e&&W(we),f&&!XS?(he&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),W&&W(we)),!p&&vI||(G&&p&&KI(we,G),ge[u]&&KI(we,ge[u]),re&&(1===S?we.kill(!1,1):ge[u]=0),p||ge[u=1===S?1:3]&&KI(we,ge[u])),le&&!s&&Math.abs(we.getVelocity())>(BI(le)?le:2500)&&(HI(we.callbackAnimation),D?D.progress(1):HI(n,"reverse"===h?1:!S,1))):he&&W&&!XS&&W(we)}if(R){var U=ae?b/ae.duration()*(ae._caScrollDist||0):b;I(U+(d._isFlipped?1:0)),R(U)}z&&z(-b/ae.duration()*(ae._caScrollDist||0))}},we.enable=function(t,n){we.enabled||(we.enabled=!0,mN(de,"resize",NN),pe||mN(de,"scroll",SN),be&&mN(e,"refreshInit",be),!1!==t&&(we.progress=Ce=0,o=a=Ee=Se()),!1!==n&&we.refresh())},we.getTween=function(e){return e&&r?r.tween:D},we.setPositions=function(e,t,n,r){if(ae){var i=ae.scrollTrigger,s=ae.duration(),o=i.end-i.start;e=i.start+o*e/s,t=i.start+o*t/s}we.refresh(!1,!1,{start:II(e,n&&!!we._startClamp),end:II(t,n&&!!we._endClamp)},r),we.update()},we.adjustPinSpacing=function(e){if(S&&e){var t=S.indexOf(ue.d)+1;S[t]=parseFloat(S[t])+e+aN,S[1]=parseFloat(S[1])+e+aN,XN(S)}},we.disable=function(t,n){if(!1!==t&&we.revert(!0,!0),we.enabled&&(we.enabled=we.isActive=!1,n||D&&D.pause(),F=0,i&&(i.uncache=1),be&&gN(e,"refreshInit",be),j&&(j.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var s=EN.length;s--;)if(EN[s].scroller===de&&EN[s]!==we)return;gN(de,"resize",NN),pe||gN(de,"scroll",SN)}},we.kill=function(e,r){we.disable(e,r),D&&!r&&D.kill(),K&&delete TN[K];var s=EN.indexOf(we);s>=0&&EN.splice(s,1),s===ZS&&WN>0&&ZS--,s=0,EN.forEach(function(e){return e.scroller===we.scroller&&(s=1)}),s||_I||(we.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,f].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),bI===we&&(bI=0),$&&(i&&(i.uncache=1),s=0,EN.forEach(function(e){return e.pin===$&&s++}),s||(i.spacer=0)),t.onKill&&t.onKill(we)},EN.push(we),we.enable(!1,!1),V&&V(we),n&&n.add&&!g){var Pe=we.update;we.update=function(){we.update=Pe,gS.cache++,l||c||we.refresh()},FS.delayedCall(.01,we.update),g=.01,l=c=0}else we.refresh();$&&function(){if(wI!==UN){var e=wI=UN;requestAnimationFrame(function(){return e===UN&&qN(!0)})}}()}else this.update=this.refresh=this.kill=AI},e.register=function(t){return US||(FS=t||MI(),DI()&&window.document&&e.enable(),US=CI),US},e.defaults=function(e){if(e)for(var t in e)_N[t]=e[t];return _N},e.disable=function(e,t){CI=0,EN.forEach(function(n){return n[t?"kill":"disable"](e)}),gN(zS,"wheel",SN),gN(VS,"scroll",SN),clearInterval(QS),gN(VS,"touchcancel",AI),gN(BS,"touchstart",AI),pN(gN,VS,"pointerdown,touchstart,mousedown",RI),pN(gN,VS,"pointerup,touchend,mouseup",PI),HS.kill(),zI(gN);for(var n=0;n<gS.length;n+=3)vN(gN,gS[n],gS[n+1]),vN(gN,gS[n],gS[n+2])},e.enable=function(){if(zS=window,VS=document,qS=VS.documentElement,BS=VS.body,FS&&(KS=FS.utils.toArray,GS=FS.utils.clamp,hI=FS.core.context||AI,iI=FS.core.suppressOverwrites||AI,dI=zS.history.scrollRestoration||"auto",BN=zS.pageYOffset||0,FS.core.globals("ScrollTrigger",e),BS)){CI=1,(fI=document.createElement("div")).style.height="100vh",fI.style.position="absolute",zN(),NI(),jS.register(FS),e.isTouch=jS.isTouch,uI=jS.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),aI=1===jS.isTouch,mN(zS,"wheel",SN),WS=[zS,VS,qS,BS],FS.matchMedia?(e.matchMedia=function(e){var t,n=FS.matchMedia();for(t in e)n.add(t,e[t]);return n},FS.addEventListener("matchMediaInit",function(){LN(),jN()}),FS.addEventListener("matchMediaRevert",function(){return MN()}),FS.addEventListener("matchMedia",function(){qN(0,1),ON("matchMedia")}),FS.matchMedia().add("(orientation: portrait)",function(){return IN(),IN})):console.warn("Requires GSAP 3.11.0 or later"),IN(),mN(VS,"scroll",SN);var t,n,r=BS.hasAttribute("style"),i=BS.style,s=i.borderTopStyle,o=FS.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=uN(BS),NS.m=Math.round(t.top+NS.sc())||0,IS.m=Math.round(t.left+IS.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(BS.setAttribute("style",""),BS.removeAttribute("style")),QS=setInterval(CN,250),FS.delayedCall(.5,function(){return xI=0}),mN(VS,"touchcancel",AI),mN(BS,"touchstart",AI),pN(mN,VS,"pointerdown,touchstart,mousedown",RI),pN(mN,VS,"pointerup,touchend,mouseup",PI),JS=FS.utils.checkPrefix("transform"),GN.push(JS),US=kI(),HS=FS.delayedCall(.2,qN).pause(),nI=[VS,"visibilitychange",function(){var e=zS.innerWidth,t=zS.innerHeight;VS.hidden?(eI=e,tI=t):eI===e&&tI===t||NN()},VS,"DOMContentLoaded",qN,zS,"load",qN,zS,"resize",NN],zI(mN),EN.forEach(function(e){return e.enable(0,1)}),n=0;n<gS.length;n+=3)vN(gN,gS[n],gS[n+1]),vN(gN,gS[n],gS[n+2])}},e.config=function(t){"limitCallbacks"in t&&(vI=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(QS)||(QS=n)&&setInterval(CN,n),"ignoreMobileResize"in t&&(aI=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(zI(gN)||zI(mN,t.autoRefreshEvents||"none"),sI=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=RS(e),r=gS.indexOf(n),i=LI(n);~r&&gS.splice(r,i?6:2),t&&(i?vS.unshift(zS,t,BS,t,qS,t):vS.unshift(n,t))},e.clearMatchMedia=function(e){EN.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(VI(e)?RS(e):e).getBoundingClientRect(),i=r[n?$I:JI]*t||0;return n?r.right-i>0&&r.left+i<zS.innerWidth:r.bottom-i>0&&r.top+i<zS.innerHeight},e.positionInViewport=function(e,t,n){VI(e)&&(e=RS(e));var r=e.getBoundingClientRect(),i=r[n?$I:JI],s=null==t?i/2:t in wN?wN[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/zS.innerWidth:(r.top+s)/zS.innerHeight},e.killAll=function(e){if(EN.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=RN.killAll||[];RN={},t.forEach(function(e){return e()})}},e}();sR.version="3.14.2",sR.saveStyles=function(e){return e?KS(e).forEach(function(e){if(e&&e.style){var t=DN.indexOf(e);t>=0&&DN.splice(t,5),DN.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),FS.core.getCache(e),hI())}}):DN},sR.revert=function(e,t){return jN(!e,t)},sR.create=function(e,t){return new sR(e,t)},sR.refresh=function(e){return e?NN(!0):(US||sR.register())&&qN(!0)},sR.update=function(e){return++gS.cache&&HN(!0===e?2:0)},sR.clearScrollMemory=FN,sR.maxScroll=function(e,t){return UI(e,t?IS:NS)},sR.getScrollFunc=function(e,t){return PS(RS(e),t?IS:NS)},sR.getById=function(e){return TN[e]},sR.getAll=function(){return EN.filter(function(e){return"ScrollSmoother"!==e.vars.id})},sR.isScrolling=function(){return!!TI},sR.snapDirectional=fN,sR.addEventListener=function(e,t){var n=RN[e]||(RN[e]=[]);~n.indexOf(t)||n.push(t)},sR.removeEventListener=function(e,t){var n=RN[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},sR.batch=function(e,t){var n,r=[],i={},s=t.interval||.016,o=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=FS.delayedCall(s,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&qI(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return qI(o)&&(o=o(),mN(sR,"refresh",function(){return o=t.batchMax()})),KS(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(sR.create(t))}),r};var oR,aR=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},lR=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(jS.isTouch?" pinch-zoom":""):"none",t===qS&&e(BS,n)},cR={auto:1,scroll:1},uR=function(e){var t,n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||FS.core.getCache(s),a=kI();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==BS&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!cR[(t=lN(s)).overflowY]&&!cR[t.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!LI(s)&&(cR[(t=lN(s)).overflowY]||cR[t.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},hR=function(e,t,n,r){return jS.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&uR,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&mN(VS,jS.eventTypes[0],fR,!1,!0)},onDisable:function(){return gN(VS,jS.eventTypes[0],fR,!0)}})},dR=/(input|label|select|textarea)/i,fR=function(e){var t=dR.test(e.target.tagName);(t||oR)&&(e._gsapAllow=!0,oR=t)},pR=function(e){WI(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,s,o,a,l,c=e,u=c.normalizeScrollX,h=c.momentum,d=c.allowNestedScroll,f=c.onRelease,p=RS(e.target)||qS,m=FS.core.globals().ScrollSmoother,g=m&&m.get(),v=uI&&(e.content&&RS(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=PS(p,NS),_=PS(p,IS),w=1,b=(jS.isTouch&&zS.visualViewport?zS.visualViewport.scale*zS.visualViewport.width:zS.outerWidth)/zS.innerWidth,x=0,k=qI(h)?function(){return h(t)}:function(){return h||2.8},E=hR(p,e.type,!0,d),T=function(){return i=!1},C=AI,S=AI,I=function(){n=UI(p,NS),S=GS(uI?1:0,n),u&&(C=GS(0,UI(p,IS))),r=UN},N=function(){v._gsap.y=OI(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},R=function(){I(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&FS.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return uI&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=OI(t.deltaY/2),n=S(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=OI((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=gS.cache,HN()}return!0}y.offset&&N(),i=!0}()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=w;w=OI((zS.visualViewport&&zS.visualViewport.scale||1)/b),s.pause(),e!==w&&lR(p,w>1.01||!u&&"x"),o=_(),a=y(),I(),r=UN},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&N(),t){gS.cache++;var r,i,o=k();u&&(i=(r=_())+.05*o*-e.velocityX/.227,o*=aR(_,r,i,UI(p,IS)),s.vars.scrollX=C(i)),i=(r=y())+.05*o*-e.velocityY/.227,o*=aR(y,r,i,UI(p,NS)),s.vars.scrollY=S(i),s.invalidate().duration(o).play(.01),(uI&&s.vars.scrollY>=n||r>=n-1)&&FS.to({},{onUpdate:R,duration:o})}else l.restart(!0);f&&f(e)},e.onWheel=function(){s._ts&&s.pause(),kI()-x>1e3&&(r=0,x=kI())},e.onChange=function(e,t,n,i,s){if(UN!==r&&I(),t&&u&&_(C(i[2]===t?o+(e.startX-e.x):_()+t-i[1])),n){y.offset&&N();var l=s[2]===n,c=l?a+e.startY-e.y:y()+n-s[1],h=S(c);l&&c!==h&&(a+=h-c),y(h)}(n||t)&&HN()},e.onEnable=function(){lR(p,!u&&"x"),sR.addEventListener("refresh",R),mN(zS,"resize",R),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},e.onDisable=function(){lR(p,!0),gN(zS,"resize",R),sR.removeEventListener("refresh",R),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new jS(e)).iOS=uI,uI&&!y()&&y(1),uI&&FS.ticker.add(AI),l=t._dc,s=FS.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:nR(y,y(),function(){return s.pause()})},onUpdate:HN,onComplete:l.vars.onComplete}),t};sR.sort=function(e){if(qI(e))return EN.sort(e);var t=zS.pageYOffset||0;return sR.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+zS.innerHeight}),EN.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},sR.observe=function(e){return new jS(e)},sR.normalizeScroll=function(e){if("undefined"===typeof e)return oI;if(!0===e&&oI)return oI.enable();if(!1===e)return oI&&oI.kill(),void(oI=e);var t=e instanceof jS?e:pR(e);return oI&&oI.target===t.target&&oI.kill(),LI(t.target)&&(oI=t),t},sR.core={_getVelocityProp:AS,_inputObserver:hR,_scrollers:gS,_proxies:vS,bridge:{ss:function(){TI||ON("scrollStart"),TI=kI()},ref:function(){return XS}}},MI()&&FS.registerPlugin(sR),KC.registerPlugin(sR);const mR=()=>{const e=(0,r.useRef)(null);return JC(()=>{e.current&&KC.from(".suit-card",{opacity:0,y:50,duration:.6,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:e.current,start:"top 85%",toggleActions:"play none none none"}})},{scope:e,dependencies:[]}),{containerRef:e}},gR=()=>(0,Ub.jsxs)("div",{className:"bg-surface rounded-3xl shadow-lg animate-pulse",children:[(0,Ub.jsx)("div",{className:"aspect-[3/4] bg-surface-variant rounded-t-3xl"}),(0,Ub.jsxs)("div",{className:"p-4",children:[(0,Ub.jsx)("div",{className:"h-6 bg-surface-variant rounded w-3/4 mb-2"}),(0,Ub.jsx)("div",{className:"h-4 bg-surface-variant rounded w-1/2"})]})]}),vR=e=>{let{isFavorite:t,onToggle:n}=e;return(0,Ub.jsx)("div",{className:"absolute top-3 right-3 h-8 w-8 grid place-items-center bg-background/70 backdrop-blur-sm rounded-full cursor-pointer hover:scale-110 transition-transform",onClick:n,children:(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,className:"w-5 h-5 transition-colors duration-200 ".concat(t?"fill-red-500 stroke-red-600":"fill-none stroke-currentColor text-on-surface"),children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})},yR=e=>{let{suit:t,onSelect:n,isFavorite:r,onToggleFavorite:i}=e;const{name:s="Traje Elegante",price:o=99,size:a="N/A",imageUrl:l,eventType:c="Gala"}=t;return(0,Ub.jsxs)("div",{className:"suit-card group cursor-pointer bg-surface rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",onClick:()=>n(t.id),children:[(0,Ub.jsxs)("div",{className:"relative aspect-[3/4] w-full overflow-hidden rounded-t-3xl",children:[(0,Ub.jsx)("img",{src:l||"https://via.placeholder.com/400x533.png/f0f0f0/333333?text=Ready2Wear",alt:s,className:"h-full w-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),c&&(0,Ub.jsx)("div",{className:"absolute top-3 left-3 bg-primary/80 backdrop-blur-sm text-on-primary text-xs font-semibold px-3 py-1 rounded-full",children:(u=c,u?u.charAt(0).toUpperCase()+u.slice(1):"")}),(0,Ub.jsx)(vR,{isFavorite:r,onToggle:e=>{e.stopPropagation(),i(t.id)}})]}),(0,Ub.jsxs)("div",{className:"p-4",children:[(0,Ub.jsx)("div",{className:"flex justify-between items-start",children:(0,Ub.jsxs)("div",{children:[(0,Ub.jsx)("h3",{className:"text-lg font-semibold text-on-surface leading-tight",children:s}),(0,Ub.jsxs)("p",{className:"text-sm text-on-surface-variant",children:["Talla: ",a]})]})}),(0,Ub.jsxs)("p",{className:"mt-2 text-lg font-bold text-primary",children:["\u20ac",o,(0,Ub.jsx)("span",{className:"text-sm font-normal text-on-surface-variant",children:"/d\xeda"})]})]})]});var u},_R=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ub.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})),wR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})})),bR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})})),xR=()=>(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),kR=e=>{let{isOpen:t,onClose:n,availableFilters:r,activeFilters:i,onFilterChange:s,onResetFilters:o}=e;if(!t)return null;const a=e=>{let{title:t,options:n,filterKey:r}=e;return(0,Ub.jsxs)("div",{className:"py-4 border-b border-outline/50",children:[(0,Ub.jsx)("h4",{className:"font-semibold text-on-surface mb-3 px-4",children:t}),(0,Ub.jsx)("div",{className:"space-y-1",children:n.map(e=>{var t;const n=null===(t=i[r])||void 0===t?void 0:t.includes(e);return(0,Ub.jsxs)("label",{className:"flex items-center px-4 py-2 hover:bg-surface-container-highest rounded-lg mx-2 transition-colors duration-150 cursor-pointer",children:[(0,Ub.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-outline text-primary focus:ring-primary",checked:n,onChange:()=>s(r,e)}),(0,Ub.jsx)("span",{className:"ml-3 text-sm text-on-surface-variant font-medium",children:e})]},e)})})]})};return(0,Ub.jsx)("div",{className:"fixed inset-0 bg-black/40 z-40 animate-fade-in-fast",onClick:n,children:(0,Ub.jsxs)("div",{className:"fixed top-0 right-0 h-full w-full max-w-xs bg-surface-container shadow-2xl z-50 flex flex-col animate-slide-in-right",onClick:e=>e.stopPropagation(),children:[(0,Ub.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-outline",children:[(0,Ub.jsx)("h3",{className:"text-lg font-bold text-on-surface",children:"Filtros"}),(0,Ub.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-surface-container-high",children:(0,Ub.jsx)(xR,{})})]}),(0,Ub.jsxs)("div",{className:"flex-grow overflow-y-auto",children:[r.sizes.length>0&&(0,Ub.jsx)(a,{title:"Talla",options:r.sizes,filterKey:"size"}),r.eventTypes.length>0&&(0,Ub.jsx)(a,{title:"Tipo de Evento",options:r.eventTypes,filterKey:"eventType"}),r.conditions.length>0&&(0,Ub.jsx)(a,{title:"Condici\xf3n",options:r.conditions,filterKey:"condition"})]}),(0,Ub.jsxs)("div",{className:"p-4 border-t border-outline flex items-center gap-2",children:[(0,Ub.jsx)("button",{onClick:o,className:"w-1/3 h-11 rounded-full border border-outline text-on-surface-variant font-bold hover:bg-surface-container-high transition-colors text-sm",children:"Limpiar"}),(0,Ub.jsx)("button",{onClick:n,className:"w-2/3 h-11 rounded-full bg-primary text-on-primary font-bold hover:scale-105 transition-transform",children:"Mostrar Resultados"})]})]})})},ER=e=>{let{onSuitSelect:t,favorites:n,onToggleFavorite:i}=e;const{docs:s,loading:o,error:a}=rx("trajes"),{containerRef:l}=mR(),c=(0,r.useMemo)(()=>s.map(e=>h(h({},e),{},{size:e.size||e.talla,price:e.price||e.precioPorDia,name:e.name||e.nombre,description:e.description||e.descripcion})),[s]),[u,d]=(0,r.useState)(""),[f,p]=(0,r.useState)("default"),[m,g]=(0,r.useState)({size:[],eventType:[],condition:[]}),[v,y]=(0,r.useState)([]),[_,w]=(0,r.useState)(!1),b=(0,r.useMemo)(()=>{const e=new Set,t=new Set,n=new Set;return c.forEach(r=>{r.size&&e.add(r.size),r.eventType&&t.add(r.eventType.charAt(0).toUpperCase()+r.eventType.slice(1)),r.condition&&n.add(r.condition.charAt(0).toUpperCase()+r.condition.slice(1))}),{sizes:[...e].sort((e,t)=>String(e).localeCompare(String(t),void 0,{numeric:!0})),eventTypes:[...t].sort(),conditions:[...n].sort()}},[c]);(0,r.useEffect)(()=>{let e=[...c];if(u){const t=u.toLowerCase();e=e.filter(e=>{var n,r,i,s,o;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(i=e.size)||void 0===i?void 0:i.toLowerCase().includes(t))||(null===(s=e.eventType)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(o=e.colors)||void 0===o?void 0:o.toLowerCase().includes(t))})}e=e.filter(e=>{var t,n,r,i;const s=0===m.size.length||m.size.includes(e.size),o=0===m.eventType.length||m.eventType.includes((null===(t=e.eventType)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.eventType)||void 0===n?void 0:n.slice(1))),a=0===m.condition.length||m.condition.includes((null===(r=e.condition)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===(i=e.condition)||void 0===i?void 0:i.slice(1)));return s&&o&&a}),"price-asc"===f?e.sort((e,t)=>e.price-t.price):"price-desc"===f&&e.sort((e,t)=>t.price-e.price),y(e)},[c,u,f,m]);const x=Object.values(m).reduce((e,t)=>e+t.length,0);return(0,Ub.jsxs)(Ub.Fragment,{children:[(0,Ub.jsx)(kR,{isOpen:_,onClose:()=>w(!1),availableFilters:b,activeFilters:m,onFilterChange:(e,t)=>{g(n=>{const r=n[e],i=r.includes(t)?r.filter(e=>e!==t):[...r,t];return h(h({},n),{},{[e]:i})})},onResetFilters:()=>{g({size:[],eventType:[],condition:[]}),w(!1)}}),(0,Ub.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col space-y-8 px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ub.jsxs)("div",{className:"space-y-4",children:[(0,Ub.jsxs)("div",{className:"relative",children:[(0,Ub.jsx)("input",{type:"text",placeholder:"Buscar por nombre, color, evento...",className:"w-full h-12 pl-12 pr-4 rounded-full bg-surface-container-high text-on-surface focus:outline-none focus:ring-2 focus:ring-primary shadow-sm",value:u,onChange:e=>d(e.target.value)}),(0,Ub.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,Ub.jsx)(_R,{className:"h-6 w-6 text-on-surface-variant"})})]}),(0,Ub.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ub.jsxs)("button",{onClick:()=>w(!0),className:"relative flex items-center space-x-2 h-10 px-4 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors text-sm",children:[(0,Ub.jsx)(wR,{className:"h-5 w-5 text-on-surface-variant"}),(0,Ub.jsx)("span",{className:"font-medium text-on-surface",children:"Filtros"}),x>0&&(0,Ub.jsx)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-xs font-bold text-on-primary",children:x})]}),(0,Ub.jsxs)("div",{className:"relative",children:[(0,Ub.jsxs)("select",{className:"appearance-none cursor-pointer h-10 pl-4 pr-10 rounded-full bg-surface-container-high hover:bg-surface-container-highest transition-colors text-sm font-medium text-on-surface focus:outline-none",value:f,onChange:e=>p(e.target.value),children:[(0,Ub.jsx)("option",{value:"default",children:"Ordenar por"}),(0,Ub.jsx)("option",{value:"price-asc",children:"Precio: de menor a mayor"}),(0,Ub.jsx)("option",{value:"price-desc",children:"Precio: de mayor a menor"})]}),(0,Ub.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,Ub.jsx)(bR,{className:"h-5 w-5 text-on-surface-variant"})})]})]})]}),(0,Ub.jsx)("div",{className:"min-h-[400px]",children:o?(0,Ub.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,Ub.jsx)(gR,{},t))}):a?(0,Ub.jsx)("p",{className:"text-center text-error",children:"Error al cargar los trajes."}):0!==v.length||o?(0,Ub.jsx)("div",{ref:l,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(e=>(0,Ub.jsx)(yR,{suit:e,onSelect:t,isFavorite:n.has(e.id),onToggleFavorite:i},e.id))}):(0,Ub.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,Ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"No se encontraron resultados"}),(0,Ub.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Intenta ajustar tu b\xfasqueda o filtros para encontrar lo que buscas."})]})})]})]})},TR=()=>(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h16.5M3.75 12h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"})}),CR=()=>(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.518a.562.562 0 01.321.988l-4.204 3.055a.563.563 0 00-.182.557l1.528 4.7-3.976-2.888a.563.563 0 00-.64 0L7.02 21.03l1.528-4.7a.563.563 0 00-.182-.557l-4.204-3.055a.563.563 0 01.321-.988h5.518a.563.563 0 00.475-.345L11.48 3.5z"})}),SR=()=>(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a15.998 15.998 0 001.622-3.385m3.388 1.62a15.998 15.998 0 00-1.622 3.385m-5.043-.025a15.998 15.998 0 01-3.388-1.62m-1.622 3.385a15.998 15.998 0 01-3.388 1.62m16.5 0a48.11 48.11 0 00-16.5 0"})}),IR=()=>(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402a3.75 3.75 0 00-.625-6.25l-6.402-6.401a3.75 3.75 0 00-5.304 0 3.75 3.75 0 000 5.304l6.402 6.401a3.75 3.75 0 006.25.625"})}),NR=()=>(0,Ub.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})}),RR=e=>{let{icon:t,title:n,value:r}=e;return(0,Ub.jsxs)("div",{className:"flex flex-col items-center text-center p-3 bg-surface-container rounded-2xl",children:[(0,Ub.jsx)("div",{className:"text-primary mb-1",children:t}),(0,Ub.jsx)("p",{className:"text-xs text-on-surface-variant font-medium",children:n}),(0,Ub.jsx)("p",{className:"text-sm font-semibold text-on-surface mt-0.5",children:r})]})},PR=e=>{let{suitId:t,onBack:n}=e;const{user:i}=Fb(),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[d,f]=(0,r.useState)("description"),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(null),[y,_]=(0,r.useState)(0);(0,r.useEffect)(()=>{const e=Tb(lg,"trajes/".concat(t));l(!0);const n=Ob(e,e=>{const n=e.val();n?o(h(h({},n),{},{id:t})):u("No se pudo encontrar el traje."),l(!1)},e=>{console.error(e),u("Error al cargar el traje."),l(!1)});return()=>n()},[t]),(0,r.useEffect)(()=>{if(p&&g&&s&&s.price){const e=new Date(p),t=new Date(g),n=Math.abs(t-e),r=Math.ceil(n/864e5)+1;_(r*s.price)}else _(0)},[p,g,s]);const w=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";return(0,Ub.jsxs)("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[(0,Ub.jsx)("button",{onClick:n,children:"Volver"}),a&&(0,Ub.jsx)("p",{children:"Cargando..."}),c&&(0,Ub.jsx)("p",{children:c}),s&&(0,Ub.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,Ub.jsxs)("div",{className:"space-y-6",children:[(0,Ub.jsx)("div",{className:"aspect-[3/4] bg-surface-container rounded-3xl shadow-lg overflow-hidden animate-scale-in",children:(0,Ub.jsx)("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover"})}),(0,Ub.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,Ub.jsx)(RR,{icon:(0,Ub.jsx)(TR,{}),title:"Talla",value:s.size||"N/A"}),(0,Ub.jsx)(RR,{icon:(0,Ub.jsx)(CR,{}),title:"Evento",value:w(s.eventType)||"N/A"}),(0,Ub.jsx)(RR,{icon:(0,Ub.jsx)(SR,{}),title:"Estado",value:w(s.condition)||"N/A"}),(0,Ub.jsx)(RR,{icon:(0,Ub.jsx)(IR,{}),title:"Color",value:s.colors||"N/A"})]})]}),(0,Ub.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,Ub.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-on-surface",children:s.name}),(0,Ub.jsxs)("p",{className:"text-3xl font-light text-primary mt-2",children:["\u20ac",s.price,(0,Ub.jsx)("span",{className:"text-lg font-normal text-on-surface-variant",children:"/d\xeda"})]}),(0,Ub.jsxs)("div",{className:"flex items-center gap-3 my-6 p-3 bg-surface-container rounded-2xl",children:[(0,Ub.jsx)("img",{src:s.ownerPhotoURL||"https://i.pravatar.cc/150?u=a042581f4e29026704d",alt:s.ownerName||"Propietario no disponible",className:"w-12 h-12 rounded-full"}),(0,Ub.jsxs)("div",{children:[(0,Ub.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Propietario"}),(0,Ub.jsx)("p",{className:"font-bold text-on-surface",children:s.ownerName||"Dato no disponible"})]})]}),(0,Ub.jsxs)("div",{className:"bg-surface-container p-4 rounded-2xl mb-6",children:[(0,Ub.jsxs)("h3",{className:"font-bold text-on-surface flex items-center mb-3",children:[(0,Ub.jsx)(NR,{})," Selecciona las fechas"]}),(0,Ub.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ub.jsxs)("div",{children:[(0,Ub.jsx)("label",{htmlFor:"start-date",className:"text-sm font-medium text-on-surface-variant",children:"Desde"}),(0,Ub.jsx)("input",{type:"date",id:"start-date",value:p||"",onChange:e=>m(e.target.value),className:"w-full p-2 mt-1 rounded-lg bg-surface border border-outline focus:border-primary focus:ring-0"})]}),(0,Ub.jsxs)("div",{children:[(0,Ub.jsx)("label",{htmlFor:"end-date",className:"text-sm font-medium text-on-surface-variant",children:"Hasta"}),(0,Ub.jsx)("input",{type:"date",id:"end-date",value:g||"",onChange:e=>v(e.target.value),min:p,className:"w-full p-2 mt-1 rounded-lg bg-surface border border-outline focus:border-primary focus:ring-0"})]})]}),y>0&&(0,Ub.jsx)("div",{className:"mt-4 text-center bg-surface-container-high p-3 rounded-lg",children:(0,Ub.jsxs)("p",{className:"font-bold text-on-surface",children:["Precio Total Estimado: ",(0,Ub.jsxs)("span",{className:"text-primary",children:["\u20ac",y]})]})})]}),(0,Ub.jsx)("div",{className:"border-b border-outline/50 mb-4",children:(0,Ub.jsxs)("nav",{className:"-mb-px flex gap-6",children:[(0,Ub.jsx)("button",{onClick:()=>f("description"),className:"shrink-0 px-1 pb-4 text-sm font-medium ".concat("description"===d?"border-b-2 border-primary text-primary":"border-transparent text-on-surface-variant hover:text-on-surface"),children:"Descripci\xf3n"}),(0,Ub.jsx)("button",{onClick:()=>f("materials"),className:"shrink-0 px-1 pb-4 text-sm font-medium ".concat("materials"===d?"border-b-2 border-primary text-primary":"border-transparent text-on-surface-variant hover:text-on-surface"),children:"Materiales"})]})}),(0,Ub.jsxs)("div",{className:"text-on-surface-variant text-sm leading-relaxed min-h-[4rem]",children:["description"===d&&(0,Ub.jsx)("p",{children:s.description||"No hay descripci\xf3n."}),"materials"===d&&(0,Ub.jsx)("p",{children:s.materials||"No se especificaron materiales."})]}),(0,Ub.jsxs)("div",{className:"mt-auto pt-6 flex flex-col sm:flex-row gap-4",children:[(0,Ub.jsx)("button",{onClick:async()=>{if(!i)return void alert("Debes iniciar sesi\xf3n para alquilar un traje.");if(!p||!g)return void alert("Por favor, selecciona un rango de fechas v\xe1lido.");if(!s.ownerId)return alert("Error cr\xedtico: Este traje no tiene un propietario asignado y no puede ser alquilado. Por favor, contacta con soporte."),void console.error("Fallo en handleRental: El objeto 'suit' no contiene 'ownerId'.",s);const e={suitId:s.id,suitName:s.name,suitImageUrl:s.imageUrl,ownerId:s.ownerId,renterId:i.uid,renterName:i.displayName,renterPhotoURL:i.photoURL,startDate:p,endDate:g,totalPrice:y,status:"pending"};try{const t=Tb(lg,"alquileres");await function(e,t){e=bn(e),zw("push",e._path),Lw("push",t,e._path,!0);const n=$w(e._repo),r=py(n),i=Cb(e,r),s=Cb(e,r);let o;return o=null!=t?Ib(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(t,e),alert("\xa1Solicitud de alquiler enviada!\nRecibir\xe1s una notificaci\xf3n cuando ".concat(s.ownerName||"el propietario"," confirme la reserva.")),m(null),v(null)}catch(c){console.error("Error al crear la reserva:",c),alert("Hubo un error al procesar tu solicitud. Por favor, int\xe9ntalo de nuevo.")}},disabled:!p||!g,className:"w-full h-12 rounded-full bg-primary text-on-primary font-bold hover:scale-105 transition-transform disabled:bg-surface-container-high disabled:text-on-surface-variant disabled:scale-100",children:"Solicitar Alquiler"}),(0,Ub.jsx)("button",{className:"w-full h-12 rounded-full border-2 border-primary text-primary font-bold hover:bg-primary/10 transition-colors",children:"Enviar Mensaje"})]})]})]})]})},AR=()=>(0,Ub.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8 bg-surface rounded-2xl shadow-lg animate-fade-in",children:[(0,Ub.jsx)("h2",{className:"text-2xl font-bold text-on-surface mb-2",children:"Mensajes"}),(0,Ub.jsx)("p",{className:"text-on-surface-variant",children:"Esta secci\xf3n est\xe1 en construcci\xf3n."}),(0,Ub.jsx)("p",{className:"text-on-surface-variant mt-4 max-w-md",children:"En esta secci\xf3n podr\xe1s comunicarte directamente con otros usuarios para coordinar el alquiler, hacer preguntas sobre los trajes y gestionar tus reservas."})]}),OR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})),DR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})),MR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0h1.5m15 0h-1.5m-15 0l-.375-.375M21 12l-.375-.375m-17.25 0l-.375.375M3.375 12l.375.375m16.5 0l.375-.375M4.5 19.5l-1.5-1.5M19.5 4.5l-1.5-1.5"})})),LR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})),jR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})})),FR=e=>{let{onNavClick:t}=e;const{user:n}=Fb(),r={owner:4.8,renter:5};return n?(0,Ub.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col space-y-6 pb-8",children:[(0,Ub.jsxs)("div",{className:"flex flex-col items-center space-y-4 p-6 bg-surface-container rounded-3xl shadow-sm",children:[(0,Ub.jsx)("img",{src:n.photoURL,alt:"Foto de perfil",className:"h-24 w-24 rounded-full object-cover border-4 border-primary"}),(0,Ub.jsxs)("div",{className:"text-center",children:[(0,Ub.jsx)("h1",{className:"text-2xl font-bold text-on-surface",children:n.displayName}),(0,Ub.jsx)("p",{className:"text-on-surface-variant",children:n.email})]}),(0,Ub.jsx)("button",{className:"mt-2 text-sm font-semibold text-primary hover:underline",children:"Editar Perfil"})]}),(0,Ub.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,Ub.jsxs)("div",{className:"bg-surface-container p-4 rounded-xl",children:[(0,Ub.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Puntuaci\xf3n como Due\xf1o"}),(0,Ub.jsxs)("p",{className:"text-2xl font-bold text-on-surface",children:["\u2b50 ",r.owner.toFixed(1)]})]}),(0,Ub.jsxs)("div",{className:"bg-surface-container p-4 rounded-xl",children:[(0,Ub.jsx)("p",{className:"text-sm text-on-surface-variant",children:"Puntuaci\xf3n como Inquilino"}),(0,Ub.jsxs)("p",{className:"text-2xl font-bold text-on-surface",children:["\u2b50 ",r.renter.toFixed(1)]})]})]}),(0,Ub.jsx)("div",{className:"bg-surface-container rounded-xl overflow-hidden",children:(0,Ub.jsxs)("ul",{className:"divide-y divide-outline/50",children:[(0,Ub.jsxs)("li",{onClick:()=>t("my-items"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ub.jsx)(OR,{className:"h-6 w-6 text-on-surface-variant"}),(0,Ub.jsx)("span",{className:"font-medium text-on-surface",children:"Mis Art\xedculos"})]}),(0,Ub.jsx)(LR,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,Ub.jsxs)("li",{onClick:()=>t("my-rentals"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ub.jsx)(jR,{className:"h-6 w-6 text-on-surface-variant"}),(0,Ub.jsx)("span",{className:"font-medium text-on-surface",children:"Mis Alquileres"})]}),(0,Ub.jsx)(LR,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,Ub.jsxs)("li",{onClick:()=>t("my-favorites"),className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ub.jsx)(DR,{className:"h-6 w-6 text-on-surface-variant"}),(0,Ub.jsx)("span",{className:"font-medium text-on-surface",children:"Favoritos"})]}),(0,Ub.jsx)(LR,{className:"h-5 w-5 text-on-surface-variant"})]}),(0,Ub.jsxs)("li",{className:"flex items-center justify-between p-4 hover:bg-surface-container-high cursor-pointer transition-colors",children:[(0,Ub.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ub.jsx)(MR,{className:"h-6 w-6 text-on-surface-variant"}),(0,Ub.jsx)("span",{className:"font-medium text-on-surface",children:"Ajustes"})]}),(0,Ub.jsx)(LR,{className:"h-5 w-5 text-on-surface-variant"})]})]})})]}):(0,Ub.jsx)("div",{children:"Cargando perfil..."})},UR=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,Ub.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-background/80 backdrop-blur-sm animate-fade-in",onClick:n,children:(0,Ub.jsx)("div",{onClick:e=>e.stopPropagation(),className:"relative animate-scale-in",children:r})}):null},zR=e=>{let{id:t,label:n,type:r="text",value:i,onChange:s,placeholder:o,required:a=!0}=e;return(0,Ub.jsxs)("div",{className:"relative",children:[(0,Ub.jsx)("input",{type:r,id:t,value:i,onChange:s,placeholder:o||" ",required:a,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer"}),(0,Ub.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},VR=e=>{let{id:t,label:n,value:r,onChange:i,placeholder:s,required:o=!0}=e;return(0,Ub.jsxs)("div",{className:"relative",children:[(0,Ub.jsx)("textarea",{id:t,value:r,onChange:i,placeholder:s||" ",required:o,rows:4,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer"}),(0,Ub.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-4 peer-placeholder-shown:top-6 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},qR=e=>{let{id:t,label:n,value:r,onChange:i,children:s,required:o=!0}=e;return(0,Ub.jsxs)("div",{className:"relative",children:[(0,Ub.jsx)("select",{id:t,value:r,onChange:i,required:o,className:"block px-4 py-3 w-full text-md text-on-surface bg-surface-container rounded-xl border border-outline appearance-none focus:outline-none focus:ring-0 focus:border-primary peer",children:s}),(0,Ub.jsx)("label",{htmlFor:t,className:"absolute text-md text-on-surface-variant duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-surface-container px-2 peer-focus:px-2 peer-focus:text-primary peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-3",children:n})]})},BR=e=>{let{onAdd:t,onUpdate:n,onCancel:i,suitToEdit:s}=e;const o=!!s,[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[k,E]=(0,r.useState)("");(0,r.useEffect)(()=>{o&&(l(s.name||""),u(s.description||""),d(s.size||""),p(s.price||""),g(s.materials||""),y(s.colors||""),w(s.eventType||""),x(s.condition||""),E(s.imageUrl||""))},[s,o]);return(0,Ub.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r={name:a,description:c,size:h,price:Number(f),materials:m,colors:v,eventType:_,condition:b,imageUrl:k};o?n(s.id,r):t(r)},className:"p-6 bg-surface-container-low rounded-4xl w-full max-w-lg mx-auto",children:[(0,Ub.jsx)("h2",{className:"text-2xl font-bold text-on-surface mb-8 text-center",children:o?"Editar Traje":"A\xf1adir Nuevo Traje"}),(0,Ub.jsxs)("div",{className:"space-y-7",children:[(0,Ub.jsx)(zR,{id:"name",label:"T\xedtulo",value:a,onChange:e=>l(e.target.value)}),(0,Ub.jsx)(VR,{id:"description",label:"Descripci\xf3n",value:c,onChange:e=>u(e.target.value)}),(0,Ub.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ub.jsx)(zR,{id:"size",label:"Talla",value:h,onChange:e=>d(e.target.value)}),(0,Ub.jsx)(zR,{id:"price",label:"Precio por d\xeda (\u20ac)",type:"number",value:f,onChange:e=>p(e.target.value)})]}),(0,Ub.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ub.jsx)(zR,{id:"materials",label:"Materiales",value:m,onChange:e=>g(e.target.value)}),(0,Ub.jsx)(zR,{id:"colors",label:"Colores",value:v,onChange:e=>y(e.target.value)})]}),(0,Ub.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ub.jsxs)(qR,{id:"eventType",label:"Tipo de Evento",value:_,onChange:e=>w(e.target.value),children:[(0,Ub.jsx)("option",{value:"",children:"Elige una opci\xf3n"}),(0,Ub.jsx)("option",{value:"boda",children:"Boda"}),(0,Ub.jsx)("option",{value:"gala",children:"Gala"}),(0,Ub.jsx)("option",{value:"negocios",children:"Negocios"}),(0,Ub.jsx)("option",{value:"casual",children:"Casual"}),(0,Ub.jsx)("option",{value:"otro",children:"Otro"})]}),(0,Ub.jsxs)(qR,{id:"condition",label:"Estado del Art\xedculo",value:b,onChange:e=>x(e.target.value),children:[(0,Ub.jsx)("option",{value:"",children:"Elige una opci\xf3n"}),(0,Ub.jsx)("option",{value:"nuevo",children:"Nuevo"}),(0,Ub.jsx)("option",{value:"como-nuevo",children:"Como Nuevo"}),(0,Ub.jsx)("option",{value:"bueno",children:"Bueno"}),(0,Ub.jsx)("option",{value:"usado",children:"Usado"})]})]}),(0,Ub.jsx)(zR,{id:"imageUrl",label:"URL de la Imagen",value:k,onChange:e=>E(e.target.value)})]}),(0,Ub.jsxs)("div",{className:"mt-10 flex justify-end gap-4",children:[(0,Ub.jsx)("button",{type:"button",onClick:i,className:"px-6 py-2.5 text-sm font-semibold text-primary rounded-full hover:bg-primary/10",children:"Cancelar"}),(0,Ub.jsx)("button",{type:"submit",className:"px-6 py-2.5 text-sm font-semibold text-on-primary bg-primary rounded-full shadow-sm hover:scale-105 transition-transform",children:o?"Guardar Cambios":"Publicar Traje"})]})]})},WR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})),HR=e=>{let{onClick:t}=e;return(0,Ub.jsx)("button",{onClick:t,className:"fixed bottom-24 md:bottom-8 right-6 bg-blue-800 text-white rounded-full h-16 w-16 flex items-center justify-center shadow-lg hover:bg-blue-900 transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-800","aria-label":"A\xf1adir nuevo art\xedculo",children:(0,Ub.jsx)(WR,{className:"h-8 w-8"})})},KR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})),GR=e=>(0,Ub.jsx)("svg",h(h({},e),{},{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ub.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})),YR=()=>{const{user:e}=Fb(),{docs:t,loading:n,error:i}=rx("trajes","ownerId",e?e.uid:null),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null);return(0,Ub.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col space-y-6",children:[(0,Ub.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:"Mis Art\xedculos"}),n&&(0,Ub.jsx)("p",{children:"Cargando tus art\xedculos..."}),i&&(0,Ub.jsx)("p",{className:"text-error",children:"Error al cargar los art\xedculos."}),(0,Ub.jsx)("div",{className:"space-y-4",children:n||0!==t.length?t.map(e=>(0,Ub.jsxs)("div",{className:"flex items-center space-x-4 bg-surface p-3 rounded-2xl shadow-sm transition-shadow hover:shadow-md",children:[(0,Ub.jsx)("img",{src:e.imageUrl,alt:e.name,className:"h-24 w-24 rounded-lg object-cover"}),(0,Ub.jsxs)("div",{className:"flex-grow",children:[(0,Ub.jsx)("h2",{className:"font-bold text-lg text-on-surface",children:e.name}),(0,Ub.jsxs)("p",{className:"text-on-surface-variant",children:["\u20ac",e.price,"/d\xeda"]})]}),(0,Ub.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Ub.jsxs)("button",{onClick:()=>(l(e),void o(!0)),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-surface-container-high hover:bg-surface-container-highest transition-colors",children:[(0,Ub.jsx)(KR,{className:"h-5 w-5"}),(0,Ub.jsx)("span",{className:"text-sm font-medium",children:"Editar"})]}),(0,Ub.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este art\xedculo? Esta acci\xf3n no se puede deshacer."))try{const t=Tb(lg,"trajes/".concat(e));await Sb(t)}catch(i){console.error("Error al eliminar el art\xedculo:",i),alert("Hubo un error al eliminar el art\xedculo. Por favor, int\xe9ntalo de nuevo.")}})(e.id),className:"flex items-center justify-center space-x-2 w-24 px-3 py-2 rounded-lg bg-error-container text-on-error-container hover:bg-error-container/80 transition-colors",children:[(0,Ub.jsx)(GR,{className:"h-5 w-5"}),(0,Ub.jsx)("span",{className:"text-sm font-medium",children:"Eliminar"})]})]})]},e.id)):(0,Ub.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,Ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no has publicado nada"}),(0,Ub.jsx)("p",{className:"text-on-surface-variant mt-2",children:"\xa1A\xf1ade tu primer traje y empieza a ganar dinero!"})]})}),(0,Ub.jsx)(HR,{onClick:()=>{l(null),o(!0)}}),(0,Ub.jsx)(UR,{isOpen:s,onClose:()=>o(!1),children:(0,Ub.jsx)(BR,{onUpdate:async(e,t)=>{try{const n=Tb(lg,"trajes/".concat(e));await Nb(n,t),o(!1),l(null)}catch(i){console.error("Error al actualizar el art\xedculo:",i),alert("Hubo un error al guardar los cambios. Por favor, int\xe9ntalo de nuevo.")}},onCancel:()=>{o(!1),l(null)},suitToEdit:a})})]})},QR=e=>{let{rental:t,isOwnerView:n=!1,onUpdateStatus:r}=e;const{suitName:i,suitImageUrl:s,startDate:o,endDate:a,totalPrice:l,status:c,renterName:u,renterPhotoURL:h}=t;return(0,Ub.jsxs)("div",{className:"flex items-center gap-4 bg-surface p-3 rounded-2xl shadow-sm",children:[(0,Ub.jsx)("img",{src:s,alt:i,className:"h-24 w-24 rounded-lg object-cover"}),(0,Ub.jsxs)("div",{className:"flex-grow",children:[(0,Ub.jsx)("h3",{className:"font-bold text-lg text-on-surface",children:i}),(0,Ub.jsxs)("p",{className:"text-sm text-on-surface-variant",children:[o," al ",a]}),(0,Ub.jsxs)("p",{className:"font-semibold text-primary",children:["\u20ac",l]}),n&&(0,Ub.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Ub.jsx)("img",{src:h,alt:u,className:"w-6 h-6 rounded-full"}),(0,Ub.jsxs)("p",{className:"text-xs text-on-surface-variant",children:["Solicitado por ",u]})]})]}),(0,Ub.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,Ub.jsx)("span",{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full ".concat((e=>{switch(e){case"pending":return"bg-yellow-200 text-yellow-800";case"accepted":return"bg-green-200 text-green-800";case"rejected":return"bg-red-200 text-red-800";default:return"bg-gray-200 text-gray-800"}})(c)),children:c.charAt(0).toUpperCase()+c.slice(1)}),n&&"pending"===c&&(0,Ub.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,Ub.jsx)("button",{onClick:()=>r(t.id,"accepted"),className:"px-3 py-1 text-xs font-semibold text-white bg-green-600 rounded-full hover:bg-green-700",children:"Aceptar"}),(0,Ub.jsx)("button",{onClick:()=>r(t.id,"rejected"),className:"px-3 py-1 text-xs font-semibold text-white bg-red-600 rounded-full hover:bg-red-700",children:"Rechazar"})]})]})]})},XR=()=>{const{user:e}=Fb(),{docs:t,loading:n}=rx("alquileres","renterId",e?e.uid:null),{docs:r,loading:i}=rx("alquileres","ownerId",e?e.uid:null),s=async(e,t)=>{const n=Tb(lg,"alquileres/".concat(e));try{await Nb(n,{status:t})}catch(Sg){console.error("Error actualizando el estado del alquiler:",Sg),alert("No se pudo actualizar la solicitud.")}};return(0,Ub.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-8",children:[(0,Ub.jsx)("h1",{className:"text-3xl font-bold text-on-surface",children:"Mis Alquileres"}),(0,Ub.jsxs)("section",{children:[(0,Ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Mis Alquileres"}),(0,Ub.jsx)("div",{className:"space-y-4",children:n?(0,Ub.jsx)("p",{children:"Cargando..."}):t.length>0?t.map(e=>(0,Ub.jsx)(QR,{rental:e},e.id)):(0,Ub.jsx)("p",{className:"text-on-surface-variant p-4 bg-surface-container rounded-lg",children:"No has alquilado ning\xfan traje todav\xeda."})})]}),(0,Ub.jsxs)("section",{children:[(0,Ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Solicitudes Recibidas"}),(0,Ub.jsx)("div",{className:"space-y-4",children:i?(0,Ub.jsx)("p",{children:"Cargando..."}):r.length>0?r.map(e=>(0,Ub.jsx)(QR,{rental:e,isOwnerView:!0,onUpdateStatus:s},e.id)):(0,Ub.jsx)("p",{className:"text-on-surface-variant p-4 bg-surface-container rounded-lg",children:"Nadie ha solicitado alquilar tus trajes todav\xeda."})})]})]})},$R=e=>{let{favorites:t,onSuitSelect:n,onToggleFavorite:i}=e;const{docs:s,loading:o,error:a}=rx("trajes"),{containerRef:l}=mR(),c=(0,r.useMemo)(()=>t&&0!==s.length?s.filter(e=>t.has(e.id)):[],[s,t]);return(0,Ub.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col space-y-8 px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ub.jsxs)("header",{children:[(0,Ub.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-on-background",children:"Mis Favoritos"}),(0,Ub.jsx)("p",{className:"mt-1 text-lg text-on-surface-variant",children:"Los trajes que m\xe1s te han gustado, todos en un mismo lugar."})]}),(0,Ub.jsx)("div",{className:"min-h-[400px]",children:o?(0,Ub.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(3)].map((e,t)=>(0,Ub.jsx)(gR,{},t))}):a?(0,Ub.jsx)("p",{className:"text-center text-error",children:"Error al cargar tus favoritos."}):0===c.length?(0,Ub.jsxs)("div",{className:"text-center py-16 px-6 bg-surface-container rounded-3xl",children:[(0,Ub.jsx)("h2",{className:"text-xl font-semibold text-on-surface",children:"A\xfan no tienes favoritos"}),(0,Ub.jsx)("p",{className:"text-on-surface-variant mt-2",children:"Haz clic en el coraz\xf3n de los trajes que te gusten para guardarlos aqu\xed."})]}):(0,Ub.jsx)("div",{ref:l,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(e=>(0,Ub.jsx)(yR,{suit:e,onSelect:n,isFavorite:!0,onToggleFavorite:i},e.id))})})]})};const JR=function(){const{user:e,loading:t}=Fb(),[n,i]=(0,r.useState)(new Set),s=Te();(0,r.useEffect)(()=>{if(!e)return void i(new Set);const t=Ob(Tb(lg,"users/".concat(e.uid,"/favorites")),e=>{const t=e.val();i(new Set(t?Object.keys(t):[]))});return()=>t()},[e]);const o=async t=>{if(!e)return;const r=Tb(lg,"users/".concat(e.uid,"/favorites/").concat(t));n.has(t)?await Sb(r):await Ib(r,!0)};if(t)return(0,Ub.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,Ub.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-primary"})});if(!e)return(0,Ub.jsx)(nx,{});const a={onSuitSelect:e=>{s("/suit/".concat(e))},favorites:n,onToggleFavorite:o};return(0,Ub.jsxs)("div",{className:"bg-background min-h-screen flex flex-col",children:[(0,Ub.jsx)(Yb,{}),(0,Ub.jsx)("main",{className:"flex-grow container mx-auto p-4 pt-24 md:pt-28 pb-20",children:(0,Ub.jsxs)(Ke,{children:[(0,Ub.jsx)(We,{path:"/",element:(0,Ub.jsx)(ER,h({},a))}),(0,Ub.jsx)(We,{path:"/search",element:(0,Ub.jsx)(ER,h({},a))}),(0,Ub.jsx)(We,{path:"/suit/:suitId",element:(0,Ub.jsx)(PR,{favorites:n,onToggleFavorite:o})}),(0,Ub.jsx)(We,{path:"/messages",element:(0,Ub.jsx)(AR,{})}),(0,Ub.jsx)(We,{path:"/my-items",element:(0,Ub.jsx)(YR,{})}),(0,Ub.jsx)(We,{path:"/my-rentals",element:(0,Ub.jsx)(XR,{})}),(0,Ub.jsx)(We,{path:"/favorites",element:(0,Ub.jsx)($R,h({},a))}),(0,Ub.jsx)(We,{path:"/profile",element:(0,Ub.jsx)(FR,{})})]})}),(0,Ub.jsx)(Qb,{}),(0,Ub.jsx)(tx,{})]})};s.createRoot(document.getElementById("root")).render((0,Ub.jsx)(r.StrictMode,{children:(0,Ub.jsx)(Tt,{children:(0,Ub.jsx)(Vb,{children:(0,Ub.jsx)(JR,{})})})}))})();